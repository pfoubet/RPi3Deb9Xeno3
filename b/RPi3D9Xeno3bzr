*version8.txt*  For Vim version 8.0.  Last change: 2016 Dec 10


		  VIM REFERENCE MANUAL    by Bram Moolenaar


				*vim8* *vim-8* *version-8.0* *version8.0*
Welcome to Vim 8!  A large number of bugs have been fixed and several nice
features have been added.  This file mentions all the new items and changes to
existing features since Vim 7.4. The patches up to Vim 7.4 can be found here:
|vim-7.4|.

Use this command to see the full version and features information of the Vim
program you are using: >
	:version

NEW FEATURES				|new-8|
	Vim script enhancements		|new-vim-script-8|
	Various new items		|new-items-8|

INCOMPATIBLE CHANGES			|incompatible-8|

IMPROVEMENTS				|improvements-8|

COMPILE TIME CHANGES			|compile-changes-8|

PATCHES					|patches-8|


See |vi_diff.txt| for an overview of differences between Vi and Vim 8.0.
See |version4.txt|, |version5.txt|, |version6.txt| and |version7.txt| for
differences between other versions.

==============================================================================
NEW FEATURES						*new-8*

First an overview of the more interesting new features.  A comprehensive list
is below.


Asynchronous I/O support, channels ~

Vim can now exchange messages with other processes in the background.  This
makes it possible to have servers do work and send back the results to Vim.
See |channel-demo| for an example, this shows communicating with a Python
server.

Closely related to channels is JSON support.  JSON is widely supported and can
easily be used for inter-process communication, allowing for writing a server
in any language.  The functions to use are |json_encode()| and |json_decode()|.

This makes it possible to build very complex plugins, written in any language
and running in a separate process.


Jobs ~

Vim can now start a job, communicate with it and stop it.  This is very useful
to run a process for completion, syntax checking, etc.  Channels are used to
communicate with the job.  Jobs can also read from or write to a buffer or a
file.  See |job_start()|.


Timers ~

Also asynchronous are timers.  They can fire once or repeatedly and invoke a
function to do any work.  For example: >
	let tempTimer = timer_start(4000, 'CheckTemp')
This will call the CheckTemp() function four seconds (4000 milli seconds)
later.  See |timer_start()|.


Partials ~

Vim already had a Funcref, a reference to a function.  A partial also refers
to a function, and additionally binds arguments and/or a dictionary.  This is
especially useful for callbacks on channels and timers.  E.g., for the timer
example above, to pass an argument to the function: >
	let tempTimer = timer_start(4000, function('CheckTemp', ['out']))
This will call CheckTemp('out') four seconds later.


Lambda and Closure ~

A short way to create a function has been added: {args -> expr}.  See |lambda|.
This is useful for functions such as `filter()` and `map()`, which now also
accept a function argument.  Example: >
	:call filter(mylist, {idx, val -> val > 20})

A lambda can use variables defined in the scope where the lambda is defined.
This is usually called a |closure|.

User defined functions can also be a closure by adding the "closure" argument
|:func-closure|.


Packages ~

Plugins keep growing and more of them are available than ever before.  To keep
the collection of plugins manageable package support has been added.  This is
a convenient way to get one or more plugins, drop them in a directory and
possibly keep them updated.  Vim will load them automatically, or only when
desired.  See |packages|.


New style tests ~

This is for Vim developers.  So far writing tests for Vim has not been easy.
Vim 8 adds assert functions and a framework to run tests.  This makes it a lot
simpler to write tests and keep them updated.  Also new are several functions
that are added specifically for testing. See |test-functions|.


Window IDs ~

Previously windows could only be accessed by their number. And every time a
window would open, close or move that number changes.  Each window now has a
unique ID, so that they are easy to find.  See |win_getid()| and |win_id2win()|.


Viminfo uses timestamps ~

Previously the information stored in viminfo was whatever the last Vim wrote
there.  Now timestamps are used to always keep the most recent items.
See |viminfo-timestamp|.


Wrapping lines with indent ~

The 'breakindent' option has been added to be able to wrap lines without
changing the amount of indent.


Windows: DirectX support ~

This adds the 'renderoptions' option to allow for switching on DirectX
(DirectWrite) support on MS-Windows.


GTK+ 3 support ~

The GTK+ 3 GUI works just like GTK+ 2 except for hardly noticeable technical
differences between them.  Configure still chooses GTK+ 2 if both 2 and 3 are
available.  See src/Makefile for how to use GTK+ 3 instead.  See
|gui-x11-compiling| for other details.


Vim script enhancements					*new-vim-script-8*
-----------------------

In Vim script the following types have been added:

	|Special|	|v:false|, |v:true|, |v:none| and |v:null|
	|Channel|	connection to another process for asynchronous I/O
	|Job|		process control

Many functions and commands have been added to support the new types.

On some systems the numbers used in Vim script are now 64 bit.  This can be
checked with the |+num64| feature.

Many items were added to support |new-style-testing|.

printf() now accepts any type of argument for %s.  It is converted to a string
like with string().


Various new items					*new-items-8*
-----------------

Visual mode commands: ~

|v_CTRL-A|	CTRL-A		add N to number in highlighted text
|v_CTRL-X|	CTRL-X		subtract N from number in highlighted text
|v_g_CTRL-A|	g CTRL-A	add N to number in highlighted text
|v_g_CTRL-X|	g CTRL-X	subtract N from number in highlighted text


Insert mode commands: ~

|i_CTRL-G_U|	CTRL-G U	don't break undo with next cursor movement


Cmdline mode commands: ~

|/_CTRL-G|	CTRL-G		move to the next match in 'incsearch' mode
|/_CTRL-T|	CTRL-T		move to the previous match in 'incsearch' mode


Options: ~

'belloff'		do not ring the bell for these reasons
'breakindent'		wrapped line repeats indent
'breakindentopt'	settings for 'breakindent'.
'emoji'			emoji characters are considered full width
'fixendofline'		make sure last line in file has <EOL>
'langremap'		do apply 'langmap' to mapped characters
'luadll'		name of the Lua dynamic library
'packpath'		list of directories used for packages
'perldll'		name of the Perl dynamic library
'pythondll'		name of the Python 2 dynamic library
'pythonthreedll'	name of the Python 3 dynamic library
'signcolumn'		when to display the sign column
'renderoptions'		options for text rendering on Windows
'rubydll'		name of the Ruby dynamic library
'tagcase'		how to handle case when searching in tags files
'tcldll'		name of the Tcl dynamic library
'termguicolors'		use GUI colors for the terminal


Ex commands: ~

|:cbottom|		scroll to the bottom of the quickfix window
|:cdo|			execute command in each valid error list entry
|:cfdo|			execute command in each file in error list
|:chistory|		display quickfix list stack
|:clearjumps|		clear the jump list
|:filter|		only output lines that (do not) match a pattern
|:helpclose|		close one help window
|:lbottom|		scroll to the bottom of the location window
|:ldo|			execute command in valid location list entries
|:lfdo|			execute command in each file in location list
|:lhistory|		display location list stack
|:noswapfile|		following commands don't create a swap file
|:packadd|		add a plugin from 'packpath'
|:packloadall|		load all packages under 'packpath'
|:smile|		make the user happy


Ex command modifiers: ~

|:keeppatterns|		following command keeps search pattern history


New and extended functions: ~

|arglistid()|		get id of the argument list
|assert_equal()|	assert that two expressions values are equal
|assert_exception()|	assert that a command throws an exception
|assert_fails()|	assert that a function call fails
|assert_false()|	assert that an expression is false
|assert_inrange()|	assert that an expression is inside a range
|assert_match()|	assert that a pattern matches the value
|assert_notequal()|	assert that two expressions values are not equal
|assert_notmatch()|	assert that a pattern does not match the value
|assert_true()|		assert that an expression is true
|bufwinid()|		get the window ID of a specific buffer
|byteidxcomp()|		like byteidx() but count composing characters
|ch_close()|		close a channel
|ch_close_in()|		close the in part of a channel
|ch_evalexpr()|		evaluates an expression over channel
|ch_evalraw()|		evaluates a raw string over channel
|ch_getbufnr()|		get the buffer number of a channel
|ch_getjob()|		get the job associated with a channel
|ch_info()|		get channel information
|ch_log()|		write a message in the channel log file
|ch_logfile()|		set the channel log file
|ch_open()|		open a channel
|ch_read()|		read a message from a channel
|ch_readraw()|		read a raw message from a channel
|ch_sendexpr()|		send a JSON message over a channel
|ch_sendraw()|		send a raw message over a channel
|ch_setoptions()|	set the options for a channel
|ch_status()|		get status of a channel
|execute()|		execute an Ex command and get the output
|exepath()|		full path of an executable program
|funcref()|		return a reference to function {name}
|getbufinfo()|		get a list with buffer information
|getcharsearch()|	return character search information
|getcmdwintype()|	return the current command-line window type
|getcompletion()|	return a list of command-line completion matches
|getcurpos()|		get position of the cursor
|gettabinfo()|		get a list with tab page information
|getwininfo()|		get a list with window information
|glob2regpat()|		convert a glob pattern into a search pattern
|isnan()|		check for not a number
|job_getchannel()|	get the channel used by a job
|job_info()|		get information about a job
|job_setoptions()|	set options for a job
|job_start()|		start a job
|job_status()|		get the status of a job
|job_stop()|		stop a job
|js_decode()|		decode a JSON string to Vim types
|js_encode()|		encode an expression to a JSON string
|json_decode()|		decode a JSON string to Vim types
|json_encode()|		encode an expression to a JSON string
|matchaddpos()|		define a list of positions to highlight
|matchstrpos()|		match and positions of a pattern in a string
|perleval()|		evaluate Perl expression
|reltimefloat()|	convert reltime() result to a Float
|setcharsearch()|	set character search information
|setfperm()|		set the permissions of a file
|strcharpart()|		get part of a string using char index
|strgetchar()|		get character from a string using char index
|systemlist()|		get the result of a shell command as a list
|test_alloc_fail()|	make memory allocation fail
|test_autochdir()|	test 'autochdir' functionality
|test_disable_char_avail()| test without typeahead
|test_garbagecollect_now()| free memory right now
|test_null_channel()|	return a null Channel
|test_null_dict()|	return a null Dict
|test_null_job()|	return a null Job
|test_null_list()|	return a null List
|test_null_partial()|	return a null Partial function
|test_null_string()|	return a null String
|test_settime()|	set the time Vim uses internally
|timer_info()|		get information about timers
|timer_pause()|		pause or unpause a timer
|timer_start()|		create a timer
|timer_stop()|		stop a timer
|timer_stopall()|	stop all timers
|uniq()|		remove copies of repeated adjacent items
|win_findbuf()|		find windows containing a buffer
|win_getid()|		get window ID of a window
|win_gotoid()|		go to window with ID
|win_id2tabwin()|	get tab and window nr from window ID
|win_id2win()|		get window nr from window ID
|wordcount()|		get byte/word/char count of buffer


New Vim variables: ~

|v:beval_winid|		Window ID of the window where the mouse pointer is
|v:completed_item|	complete items for the most recently completed word
|v:errors|		errors found by assert functions
|v:false|		a Number with value zero
|v:hlsearch|		indicates whether search highlighting is on
|v:mouse_winid|		Window ID for a mouse click obtained with |getchar()|
|v:none|		an empty String, used for JSON
|v:null|		an empty String, used for JSON
|v:option_new|    	new value of the option, used by |OptionSet|
|v:option_old|    	old value of the option, used by |OptionSet|
|v:option_type|   	scope of the set command, used by |OptionSet|
|v:progpath|		the command with which Vim was invoked
|v:t_bool|		value of Boolean type
|v:t_channel|		value of Channel type
|v:t_dict|		value of Dictionary type
|v:t_float|		value of Float type
|v:t_func|		value of Funcref type
|v:t_job|		value of Job type
|v:t_list|		value of List type
|v:t_none|		value of None type
|v:t_number|		value of Number type
|v:t_string|		value of String type
|v:testing|		must be set before using `test_garbagecollect_now()`
|v:true|		a Number with value one
|v:vim_did_enter|	set just before VimEnter autocommands are triggered


New autocommand events: ~

|CmdUndefined|		a user command is used but it isn't defined
|OptionSet|		after setting any option
|TabClosed|		after closing a tab page
|TabNew|		after creating a new tab page
|TextChangedI|		after a change was made to the text in Insert mode
|TextChanged|		after a change was made to the text in Normal mode
|WinNew|		after creating a new window


New highlight groups: ~

EndOfBuffer		filler lines (~) after the last line in the buffer.
			|hl-EndOfBuffer|


New items in search patterns: ~

|/\%C|	\%C		match any composing characters


New Syntax/Indent/FTplugin files: ~

AVR Assembler (Avra) syntax
Arduino syntax
Bazel syntax and indent and ftplugin
Dockerfile syntax and ftplugin
Eiffel ftplugin
Euphoria 3 and 4 syntax
Go syntax and indent and ftplugin
Godoc syntax
Groovy ftplugin
HGcommit ftplugin
Hog indent and ftplugin
Innovation Data Processing upstream.pt syntax
J syntax and indent and ftplugin
Jproperties ftplugin
Json syntax and indent and ftplugin
Kivy syntax
Less syntax and indent
Mix syntax
Motorola S-Record syntax
R ftplugin
ReStructuredText syntax and indent and ftplugin
Registry ftplugin
Rhelp indent and ftplugin
Rmd (markdown with R code chunks) syntax and indent
Rmd ftplugin
Rnoweb ftplugin
Rnoweb indent
Scala syntax and indent and ftplugin
SystemVerilog syntax and indent and ftplugin
Systemd syntax and indent and ftplugin
Teraterm (TTL) syntax and indent
Text ftplugin
Vroom syntax and indent and ftplugin


New Keymaps: ~

Armenian eastern and western
Russian jcukenwintype
Vietnamese telex and vni

==============================================================================
INCOMPATIBLE CHANGES				*incompatible-8*

These changes are incompatible with previous releases.  Check this list if you
run into a problem when upgrading from Vim 7.4 to 8.0.


Better defaults without a vimrc ~

When no vimrc file is found, the |defaults.vim| script is loaded to set more
useful default values for new users.  That includes setting 'nocompatible'.
Thus Vim no longer starts up in Vi compatible mode.  If you do want that,
either create a .vimrc file that does "set compatible" or start Vim with
"Vim -C".


Support removed ~

The support for MS-DOS has been removed.  It hasn't been working for a while
(Vim doesn't fit in memory) and removing it cleans up the code quite a bit.

The support for Windows 16 bit (Windows 95 and older) has been removed.

The support for OS/2 has been removed.  It probably hasn't been working for a
while since nobody uses it.

The SNiFF+ support has been removed.


Minor incompatibilities: ~

Probably...

==============================================================================
IMPROVEMENTS						*improvements-8*

The existing blowfish encryption turned out to be much weaker than it was
supposed to be.  The blowfish2 method has been added to fix that.  Note that
this still isn't a state-of-the-art encryption, but good enough for most
usage.  See 'cryptmethod'.


==============================================================================
COMPILE TIME CHANGES					*compile-changes-8*

The Vim repository was moved from Google code to github, since Google code
was shut down.  It can now be found at https://github.com/vim/vim.

Functions now use ANSI-C declarations.  At least a C-89 compatible compiler is
required.

The +visual feature is now always included.

==============================================================================
PATCHES						*patches-8* *bug-fixes-8*

The list of patches that got included since 7.4.0.  This includes all the new
features, but does not include runtime file changes (syntax, indent, help,
etc.)

Patch 7.4.001
Problem:    Character classes such as [a-z] do not react to 'ignorecase'.
	    Breaks man page highlighting. (Mario Grgic)
Solution:   Add separate items for classes that react to 'ignorecase'.  Clean
	    up logic handling character classes.  Add more tests.
Files:	    src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok

Patch 7.4.002
Problem:    Pattern with two alternative look-behind matches does not match.
	    (Amadeus Demarzi)
Solution:   When comparing PIMs also compare their state ID to see if they are
	    different.
Files:	    src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok

Patch 7.4.003
Problem:    Memory access error in Ruby syntax highlighting. (Christopher Chow)
Solution:   Refresh stale pointer. (James McCoy)
Files:	    src/regexp_nfa.c

Patch 7.4.004
Problem:    When closing a window fails ":bwipe" may hang.
Solution:   Let win_close() return FAIL and break out of the loop.
Files:	    src/window.c, src/proto/window.pro, src/buffer.c

Patch 7.4.005
Problem:    Using "vaB" while 'virtualedit' is set selects the wrong area.
	    (Dimitar Dimitrov)
Solution:   Reset coladd when finding a match.
Files:	    src/search.c

Patch 7.4.006
Problem:    mkdir("foo/bar/", "p") gives an error message. (David Barnett)
Solution:   Remove the trailing slash. (lcd)
Files:	    src/eval.c

Patch 7.4.007
Problem:    Creating a preview window on startup leaves the screen layout in a
	    messed up state. (Marius Gedminas)
Solution:   Don't change firstwin. (Christian Brabandt)
Files:	    src/main.c

Patch 7.4.008
Problem:    New regexp engine can't be interrupted.
Solution:   Check for CTRL-C pressed. (Yasuhiro Matsumoto)
Files:	    src/regexp_nfa.c, src/regexp.c

Patch 7.4.009
Problem:    When a file was not decrypted (yet), writing it may destroy the
	    contents.
Solution:   Mark the file as readonly until decryption was done. (Christian
	    Brabandt)
Files:	    src/fileio.c

Patch 7.4.010 (after 7.4.006)
Problem:    Crash with invalid argument to mkdir().
Solution:   Check for empty string. (lcd47)
Files:	    src/eval.c

Patch 7.4.011
Problem:    Cannot find out if "acl" and "xpm" features are supported.
Solution:   Add "acl" and "xpm" to the list of features. (Ken Takata)
Files:	    src/eval.c, src/version.c

Patch 7.4.012
Problem:    MS-Windows: resolving shortcut does not work properly with
	    multi-byte characters.
Solution:   Use wide system functions. (Ken Takata)
Files:	    src/os_mswin.c

Patch 7.4.013
Problem:    MS-Windows: File name buffer too small for utf-8.
Solution:   Use character count instead of byte count. (Ken Takata)
Files:	    src/os_mswin.c

Patch 7.4.014
Problem:    MS-Windows: check for writing to device does not work.
Solution:   Fix #ifdefs. (Ken Takata)
Files:	    src/fileio.c

Patch 7.4.015
Problem:    MS-Windows: Detecting node type does not work for multi-byte
	    characters.
Solution:   Use wide character function when needed. (Ken Takata)
Files:	    src/os_win32.c

Patch 7.4.016
Problem:    MS-Windows: File name case can be wrong.
Solution:   Add fname_casew(). (Ken Takata)
Files:	    src/os_win32.c

Patch 7.4.017
Problem:    ":help !!" does not find the "!!" tag in the help file. (Ben
	    Fritz)
Solution:   When reading the start of the tags file do parse lines that are
	    not header lines.
Files:	    src/tag.c

Patch 7.4.018
Problem:    When completing item becomes unselected. (Shougo Matsu)
Solution:   Revert patch 7.3.1269.
Files:	    src/edit.c

Patch 7.4.019
Problem:    MS-Windows: File name completion doesn't work properly with
	    Chinese characters. (Yue Wu)
Solution:   Take care of multi-byte characters when looking for the start of
	    the file name. (Ken Takata)
Files:	    src/edit.c

Patch 7.4.020
Problem:    NFA engine matches too much with \@>. (John McGowan)
Solution:   When a whole pattern match is found stop searching.
Files:	    src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok

Patch 7.4.021
Problem:    NFA regexp: Using \ze in one branch which doesn't match may cause
	    end of another branch to be wrong. (William Fugh)
Solution:   Set end position if it wasn't set yet.
Files:	    src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok

Patch 7.4.022
Problem:    Deadlock while exiting, because of allocating memory.
Solution:   Do not use gettext() in deathtrap(). (James McCoy)
Files:	    src/os_unix.c, src/misc1.c

Patch 7.4.023
Problem:    Compiler warning on 64 bit windows.
Solution:   Add type cast. (Mike Williams)
Files:	    src/edit.c

Patch 7.4.024
Problem:    When root edits a file the undo file is owned by root while the
	    edited file may be owned by another user, which is not allowed.
	    (cac2s)
Solution:   Accept an undo file owned by the current user.
Files:	    src/undo.c

Patch 7.4.025 (after 7.4.019)
Problem:    Reading before start of a string.
Solution:   Do not call mb_ptr_back() at start of a string. (Dominique Pelle)
Files:	    src/edit.c

Patch 7.4.026
Problem:    Clang warning for int shift overflow.
Solution:   Use unsigned and cast back to int. (Dominique Pelle)
Files:	    src/misc2.c

Patch 7.4.027 (after 7.4.025)
Problem:    Another valgrind error when using CTRL-X CTRL-F at the start of
	    the line. (Dominique Pelle)
Solution:   Don't call mb_ptr_back() at the start of the line.  Add a test.
Files:	    src/edit.c, src/testdir/test32.in

Patch 7.4.028
Problem:    Equivalence classes are not working for multi-byte characters.
Solution:   Copy the rules from the old to the new regexp engine. Add a test
	    to check both engines.
Files:	    src/regexp_nfa.c, src/testdir/test44.in, src/testdir/test99.in,
	    src/testdir/test99.ok, src/testdir/Make_amiga.mak,
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
	    src/testdir/Makefile

Patch 7.4.029
Problem:    An error in a pattern is reported twice.
Solution:   Remove the retry with the backtracking engine, it won't work.
Files:	    src/regexp.c

Patch 7.4.030
Problem:    The -mno-cygwin argument is no longer supported by Cygwin.
Solution:   Remove the arguments. (Steve Hall)
Files:	    src/GvimExt/Make_cyg.mak, src/Make_cyg.mak, src/xxd/Make_cyg.mak

Patch 7.4.031
Problem:    ":diffoff!" resets options even when 'diff' is not set. (Charles
	    Cooper)
Solution:   Only resets related options in a window where 'diff' is set.
Files:	    src/diff.c

Patch 7.4.032
Problem:    NFA engine does not match the NUL character. (Jonathon Merz)
Solution:   Use 0x0a instead of NUL. (Christian Brabandt)
Files:	    src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok

Patch 7.4.033
Problem:    When the terminal has only 20 lines test 92 and 93 overwrite the
	    input file.
Solution:   Explicitly write test.out. Check that the terminal is large enough
	    to run the tests.  (Hirohito Higashi)
Files:	    src/testdir/test92.in, src/testdir/test93.in,
	    src/testdir/test1.in, src/testdir/Makefile

Patch 7.4.034
Problem:    Using "p" in Visual block mode only changes the first line.
Solution:   Repeat the put in all text in the block. (Christian Brabandt)
Files:	    runtime/doc/change.txt, src/ops.c, src/normal.c,
	    src/testdir/test20.in, src/testdir/test20.ok

Patch 7.4.035
Problem:    MS-Windows: The mouse pointer flickers when going from command
	    line mode to Normal mode.
Solution:   Check for WM_NCMOUSEMOVE. (Ken Takata)
Files:	    src/gui_w48.c

Patch 7.4.036
Problem:    NFA engine does not capture group correctly when using \@>. (ZyX)
Solution:   Copy submatches before doing the recursive match.
Files:	    src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok

Patch 7.4.037
Problem:    Using "\ze" in a sub-pattern does not result in the end of the
	    match to be set. (Axel Bender)
Solution:   Copy the end of match position when a recursive match was
	    successful.
Files:	    src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok

Patch 7.4.038
Problem:    Using "zw" and "zg" when 'spell' is off give a confusing error
	    message. (Gary Johnson)
Solution:   Ignore the error when locating the word.  Explicitly mention what
	    word was added. (Christian Brabandt)
Files:	    src/normal.c, src/spell.c

Patch 7.4.039
Problem:    MS-Windows: MSVC10 and earlier can't handle symlinks to a
	    directory properly.
Solution:   Add stat_symlink_aware() and wstat_symlink_aware(). (Ken Takata)
Files:	    src/os_mswin.c, src/os_win32.c, src/os_win32.h

Patch 7.4.040
Problem:    Valgrind error on exit when a script-local variable holds a
	    reference to the scope of another script.
Solution:   First clear all variables, then free the scopes. (ZyX)
Files:	    src/eval.c

Patch 7.4.041 (after 7.4.034)
Problem:    Visual selection does not remain after being copied over. (Axel
	    Bender)
Solution:   Move when VIsual_active is reset. (Christian Brabandt)
Files:	    src/ops.c

Patch 7.4.042
Problem:    When using ":setlocal" for 'spell' and 'spelllang' then :spelldump
	    doesn't work. (Dimitar Dimitrov)
Solution:   Copy the option variables to the new window used to show the dump.
	    (Christian Brabandt)
Files:	    src/spell.c

Patch 7.4.043
Problem:    VMS can't handle long function names.
Solution:   Shorten may_req_ambiguous_character_width. (Samuel Ferencik)
Files:	    src/main.c, src/term.c, src/proto/term.pro


Patch 7.4.044 (after 7.4.039)
Problem:    Can't build with old MSVC. (Wang Shoulin)
Solution:   Define OPEN_OH_ARGTYPE instead of using intptr_t directly.
Files:	    src/os_mswin.c

Patch 7.4.045
Problem:    substitute() does not work properly when the pattern starts with
	    "\ze".
Solution:   Detect an empty match. (Christian Brabandt)
Files:	    src/eval.c, src/testdir/test80.in, src/testdir/test80.ok

Patch 7.4.046
Problem:    Can't use Tcl 8.6.
Solution:   Change how Tcl_FindExecutable is called. (Jan Nijtmans)
Files:	    src/if_tcl.c

Patch 7.4.047
Problem:    When using input() in a function invoked by a mapping it doesn't
	    work.
Solution:   Temporarily reset ex_normal_busy. (Yasuhiro Matsumoto)
Files:	    src/eval.c

Patch 7.4.048
Problem:    Recent clang version complains about -fno-strength-reduce.
Solution:   Add a configure check for the clang version. (Kazunobu Kuriyama)
Files:	    src/configure.in, src/auto/configure

Patch 7.4.049
Problem:    In Ex mode, when line numbers are enabled the substitute prompt is
	    wrong.
Solution:   Adjust for the line number size. (Benoit Pierre)
Files:	    src/ex_cmds.c

Patch 7.4.050
Problem:    "gn" selects too much for the pattern "\d" when there are two
	    lines with a single digit. (Ryan Carney)
Solution:   Adjust the logic of is_one_char(). (Christian Brabandt)
Files:	    src/search.c, src/testdir/test53.in, src/testdir/test53.ok

Patch 7.4.051
Problem:    Syntax highlighting a Yaml file causes a crash. (Blake Preston)
Solution:   Copy the pim structure before calling addstate() to avoid it
	    becoming invalid when the state list is reallocated.
Files:	    src/regexp_nfa.c

Patch 7.4.052
Problem:    With 'fo' set to "a2" inserting a space in the first column may
	    cause the cursor to jump to the previous line.
Solution:   Handle the case when there is no comment leader properly. (Tor
	    Perkins)  Also fix that cursor is in the wrong place when spaces
	    get replaced with a Tab.
Files:	    src/misc1.c, src/ops.c, src/testdir/test68.in,
	    src/testdir/test68.ok

Patch 7.4.053
Problem:    Test75 has a wrong header. (ZyX)
Solution:   Fix the text and remove leading ".
Files:	    src/testdir/test75.in

Patch 7.4.054
Problem:    Reading past end of the 'stl' string.
Solution:   Don't increment pointer when already at the NUL. (Christian
	    Brabandt)
Files:	    src/buffer.c

Patch 7.4.055
Problem:    Mac: Where availability macros are defined depends on the system.
Solution:   Add a configure check. (Felix Bünemann)
Files:	    src/config.h.in, src/configure.in, src/auto/configure,
	    src/os_mac.h

Patch 7.4.056
Problem:    Mac: Compilation problem with OS X 10.9 Mavericks.
Solution:   Include AvailabilityMacros.h when available. (Kazunobu Kuriyama)
Files:	    src/os_unix.c

Patch 7.4.057
Problem:    byteidx() does not work for composing characters.
Solution:   Add byteidxcomp().
Files:	    src/eval.c, src/testdir/test69.in, src/testdir/test69.ok,
	    runtime/doc/eval.txt

Patch 7.4.058
Problem:    Warnings on 64 bit Windows.
Solution:   Add type casts. (Mike Williams)
Files:	    src/ops.c

Patch 7.4.059
Problem:    set_last_cursor() may encounter w_buffer being NULL.  (Matt
	    Mkaniaris)
Solution:   Check for NULL.
Files:	    src/mark.c

Patch 7.4.060
Problem:    Declaration has wrong return type for PyObject_SetAttrString().
Solution:   Use int instead of PyObject. (Andreas Schwab)
Files:	    src/if_python.c, src/if_python3.c

Patch 7.4.061 (after 7.4.055 and 7.4.056)
Problem:    Availability macros configure check in wrong place.
Solution:   Also check when not using Darwin. Remove version check.
Files:	    src/configure.in, src/auto/configure, src/os_unix.c

Patch 7.4.062 (after 7.4.061)
Problem:    Configure check for AvailabilityMacros.h is wrong.
Solution:   Use AC_CHECK_HEADERS().
Files:	    src/configure.in, src/auto/configure

Patch 7.4.063
Problem:    Crash when using invalid key in Python dictionary.
Solution:   Check for object to be NULL.  Add tests. (ZyX)
Files:	    src/if_py_both.h, src/testdir/test86.in, src/testdir/test86.ok,
	    src/testdir/test87.in, src/testdir/test87.ok

Patch 7.4.064
Problem:    When replacing a character in Visual block mode, entering a CR
	    does not cause a repeated line break.
Solution:   Recognize the situation and repeat the line break. (Christian
	    Brabandt)
Files:	    src/normal.c, src/ops.c, src/testdir/test39.in,
	    src/testdir/test39.ok

Patch 7.4.065
Problem:    When recording, the character typed at the hit-enter prompt is
	    recorded twice. (Urtica Dioica)
Solution:   Avoid recording the character twice. (Christian Brabandt)
Files:	    src/message.c

Patch 7.4.066
Problem:    MS-Windows: When there is a colon in the file name (sub-stream
	    feature) the swap file name is wrong.
Solution:   Change the colon to "%". (Yasuhiro Matsumoto)
Files:	    src/fileio.c, src/memline.c, src/misc1.c, src/proto/misc1.pro

Patch 7.4.067
Problem:    After inserting comment leader, CTRL-\ CTRL-O does move the
	    cursor. (Wiktor Ruben)
Solution:   Avoid moving the cursor. (Christian Brabandt)
Files:	    src/edit.c

Patch 7.4.068
Problem:    Cannot build Vim on Mac with non-Apple compilers.
Solution:   Remove the -no-cpp-precomp flag. (Misty De Meo)
Files:	    src/configure.in, src/auto/configure, src/osdef.sh

Patch 7.4.069
Problem:    Cannot right shift lines starting with #.
Solution:   Allow the right shift when 'cino' contains #N with N > 0.
	    (Christian Brabandt)
	    Refactor parsing 'cino', store the values in the buffer.
Files:	    runtime/doc/indent.txt, src/buffer.c, src/edit.c, src/eval.c,
	    src/ex_getln.c, src/fold.c, src/misc1.c, src/ops.c,
	    src/proto/misc1.pro, src/proto/option.pro, src/structs.h,
	    src/option.c

Patch 7.4.070 (after 7.4.069)
Problem:    Can't compile with tiny features. (Tony Mechelynck)
Solution:   Add #ifdef.
Files:	    src/buffer.c

Patch 7.4.071 (after 7.4.069)
Problem:    Passing limits around too often.
Solution:   Use limits from buffer.
Files:	    src/edit.c, src/misc1.c, src/proto/misc1.pro

Patch 7.4.072
Problem:    Crash when using Insert mode completion.
Solution:   Avoid going past the end of pum_array. (idea by Francisco Lopes)
Files:	    src/popupmnu.c

Patch 7.4.073
Problem:    Setting undolevels for one buffer changes undo in another.
Solution:   Make 'undolevels' a global-local option. (Christian Brabandt)
Files:	    runtime/doc/options.txt, src/buffer.c, src/option.c, src/option.h
	    src/structs.h, src/undo.c

Patch 7.4.074
Problem:    When undo'ing all changes and creating a new change the undo
	    structure is incorrect. (Christian Brabandt)
Solution:   When deleting the branch starting at the old header, delete the
	    whole branch, not just the first entry.
Files:	    src/undo.c

Patch 7.4.075
Problem:    Locally setting 'undolevels' is not tested.
Solution:   Add a test. (Christian Brabandt)
Files:	    src/testdir/test100.in, src/testdir/test100.ok,
	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile, src/Makefile

Patch 7.4.076
Problem:    "cgn" does not wrap around the end of the file. (Dimitar Dimitrov)
Solution:   Restore 'wrapscan' earlier. (Christian Brabandt)
Files:	    src/search.c

Patch 7.4.077
Problem:    DOS installer creates shortcut without a path, resulting in the
	    current directory to be C:\Windows\system32.
Solution:   Use environment variables.
Files:	    src/dosinst.c

Patch 7.4.078
Problem:    MSVC 2013 is not supported.
Solution:   Recognize and support MSVC 2013. (Ed Brown)
Files:	    src/Make_mvc.mak

Patch 7.4.079
Problem:    A script cannot detect whether 'hlsearch' highlighting is actually
	    displayed.
Solution:   Add the "v:hlsearch" variable. (ZyX)
Files:	    src/eval.c, src/ex_docmd.c,
	    src/option.c, src/screen.c, src/search.c, src/tag.c, src/vim.h,
	    src/testdir/test101.in, src/testdir/test101.ok, 
	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile

Patch 7.4.080 (after 7.4.079)
Problem:    Missing documentation for v:hlsearch.
Solution:   Include the right file in the patch.
Files:	    runtime/doc/eval.txt

Patch 7.4.081 (after 7.4.078)
Problem:    Wrong logic when ANALYZE is "yes".
Solution:   Use or instead of and. (KF Leong)
Files:	    src/Make_mvc.mak

Patch 7.4.082
Problem:    Using "gf" in a changed buffer suggests adding "!", which is not
	    possible. (Tim Chase)
Solution:   Pass a flag to check_changed() whether adding ! make sense.
Files:	    src/vim.h, src/ex_cmds2.c, src/proto/ex_cmds2.pro, src/globals.h,
	    src/ex_cmds.c, src/ex_docmd.c

Patch 7.4.083
Problem:    It's hard to avoid adding a used pattern to the search history.
Solution:   Add the ":keeppatterns" modifier. (Christian Brabandt)
Files:	    runtime/doc/cmdline.txt, src/ex_cmds.h, src/ex_docmd.c,
	    src/ex_getln.c, src/structs.h

Patch 7.4.084
Problem:    Python: interrupt not being properly discarded. (Yggdroot Chen)
Solution:   Discard interrupt in VimTryEnd. (ZyX)
Files:	    src/if_py_both.h, src/testdir/test86.in, src/testdir/test86.ok,
	    src/testdir/test87.in, src/testdir/test87.ok

Patch 7.4.085
Problem:    When inserting text in Visual block mode and moving the cursor the
	    wrong text gets repeated in other lines.
Solution:   Use the '[ mark to find the start of the actually inserted text.
	    (Christian Brabandt)
Files:	    src/ops.c, src/testdir/test39.in, src/testdir/test39.ok

Patch 7.4.086
Problem:    Skipping over an expression when not evaluating it does not work
	    properly for dict members.
Solution:   Skip over unrecognized expression. (ZyX)
Files:	    src/eval.c, src/testdir/test34.in, src/testdir/test34.ok

Patch 7.4.087
Problem:    Compiler warning on 64 bit Windows systems.
Solution:   Fix type cast. (Mike Williams)
Files:	    src/ops.c

Patch 7.4.088
Problem:    When spell checking is enabled Asian characters are always marked
	    as error.
Solution:   When 'spelllang' contains "cjk" do not mark Asian characters as
	    error. (Ken Takata)
Files:	    runtime/doc/options.txt, runtime/doc/spell.txt, src/mbyte.c,
	    src/option.c, src/spell.c, src/structs.h

Patch 7.4.089
Problem:    When editing a file in a directory mounted through sshfs Vim
	    doesn't set the security context on a renamed file.
Solution:   Add mch_copy_sec() to vim_rename(). (Peter Backes)
Files:	    src/fileio.c

Patch 7.4.090
Problem:    Win32: When a directory name contains an exclamation mark,
	    completion doesn't complete the contents of the directory.
Solution:   Escape the exclamation mark. (Jan Stocker)
Files:	    src/ex_getln.c, src/testdir/test102.in, src/testdir/test102.ok,
	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile

Patch 7.4.091 (after 7.4.089)
Problem:    Missing semicolon.
Solution:   Add the semicolon.
Files:	    src/fileio.c

Patch 7.4.092 (after 7.4.088)
Problem:    Can't build small version.
Solution:   Add #ifdef where the b_cjk flag is used. (Ken Takata)
Files:	    src/spell.c

Patch 7.4.093
Problem:    Configure can't use LuaJIT on ubuntu 12.04.
Solution:   Adjust the configure regexp that locates the version number.
	    (Charles Strahan)
Files:	    src/configure.in, src/auto/configure

Patch 7.4.094
Problem:    Configure may not find that -lint is needed for gettext().
Solution:   Check for gettext() with empty $LIBS.  (Thomas De Schampheleire)
Files:	    src/configure.in, src/auto/configure

Patch 7.4.095 (after 7.4.093)
Problem:    Regexp for LuaJIT version doesn't work on BSD.
Solution:   Use "*" instead of "\+" and "\?". (Ozaki Kiichi)
Files:	    src/configure.in, src/auto/configure

Patch 7.4.096
Problem:    Can't change directory to an UNC path.
Solution:   Use win32_getattrs() in mch_getperm(). (Christian Brabandt)
Files:	    src/os_win32.c

Patch 7.4.097 (after 7.4.034)
Problem:    Unexpected behavior change related to 'virtualedit'. (Ingo Karkat)
Solution:   Update the valid cursor position. (Christian Brabandt)
Files:	    src/ops.c

Patch 7.4.098
Problem:    When using ":'<,'>del" errors may be given for the visual line
	    numbers being out of range.
Solution:   Reset Visual mode in ":del". (Lech Lorens)
Files:	    src/ex_docmd.c, src/testdir/test103.in, src/testdir/test103.ok,
	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile

Patch 7.4.099
Problem:    Append in blockwise Visual mode with "$" is wrong.
Solution:   After "$" don't use the code that checks if the cursor was moved.
	    (Hirohito Higashi, Ken Takata)
Files:	    src/ops.c, src/testdir/test39.in, src/testdir/test39.ok

Patch 7.4.100
Problem:    NFA regexp doesn't handle backreference correctly. (Ryuichi
	    Hayashida, Urtica Dioica)
Solution:   Always add NFA_SKIP, also when it already exists at the start
	    position.
Files:	    src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok

Patch 7.4.101
Problem:    Using \1 in pattern goes one line too far. (Bohr Shaw, John Little)
Solution:   Only advance the match end for the matched characters in the last
	    line.
Files:	    src/regexp.c, src/testdir/test64.in, src/testdir/test64.ok

Patch 7.4.102
Problem:    Crash when interrupting "z=".
Solution:   Add safety check for word length. (Christian Brabandt, Dominique
	    Pelle)
Files:	    src/spell.c

Patch 7.4.103
Problem:    Dos installer uses an old way to escape spaces in the diff
	    command.
Solution:   Adjust the quoting to the new default shellxquote. (Ben Fritz)
Files:	    src/dosinst.c

Patch 7.4.104
Problem:    ":help s/\_" reports an internal error. (John Beckett)
Solution:   Check for NUL and invalid character classes.
Files:	    src/regexp_nfa.c

Patch 7.4.105
Problem:    Completing a tag pattern may give an error for invalid pattern.
Solution:   Suppress the error, just return no matches.
Files:	    src/tag.c

Patch 7.4.106
Problem:    Can't build with Ruby using Cygwin.
Solution:   Fix library name in makefile. (Steve Hall)
Files:	    src/Make_cyg.mak

Patch 7.4.107
Problem:    Python: When vim.eval() encounters a Vim error, a try/catch in the
	    Python code doesn't catch it. (Yggdroot Chen)
Solution:   Throw exceptions on errors in vim.eval(). (ZyX)
Files:	    src/ex_eval.c, src/if_py_both.h, src/proto/ex_eval.pro,
	    src/testdir/test86.in, src/testdir/test86.ok,
	    src/testdir/test87.in, src/testdir/test87.ok

Patch 7.4.108
Problem:    "zG" and "zW" leave temp files around on MS-Windows.
Solution:   Delete the temp files when exiting. (Ken Takata)
Files:	    src/memline.c, src/proto/spell.pro, src/spell.c

Patch 7.4.109
Problem:    ColorScheme autocommand matches with the current buffer name.
Solution:   Match with the colorscheme name. (Christian Brabandt)
Files:	    runtime/doc/autocmd.txt, src/fileio.c, src/syntax.c

Patch 7.4.110
Problem:    "gUgn" cannot be repeated. (Dimitar Dimitrov)
Solution:   Don't put "gn" in a different order in the redo buffer.  Restore
	    'wrapscan' when the pattern isn't found. (Christian Wellenbrock)
Files:	    src/normal.c, src/search.c, src/test53.in, src/test53.ok

Patch 7.4.111
Problem:    Memory leak in Python OptionsAssItem. (Ken Takata)
Solution:   Call Py_XDECREF() where needed. (ZyX)
Files:	    src/if_py_both.h

Patch 7.4.112
Problem:    The defaults for 'directory' and 'backupdir' on MS-Windows do not
	    include a directory that exists.
Solution:   Use $TEMP.
Files:	    src/os_dos.h

Patch 7.4.113
Problem:    MSVC static analysis gives warnings.
Solution:   Avoid the warnings and avoid possible bugs. (Ken Takata)
Files:	    src/os_win32.c

Patch 7.4.114
Problem:    New GNU make outputs messages about changing directory in another
	    format.
Solution:   Recognize the new format.
Files:	    src/option.h

Patch 7.4.115
Problem:    When using Zsh expanding ~abc doesn't work when the result
	    contains a space.
Solution:   Off-by-one error in detecting the NUL. (Pavol Juhas)
Files:	    src/os_unix.c

Patch 7.4.116
Problem:    When a mapping starts with a space, the typed space does not show
	    up for 'showcmd'.
Solution:   Show "<20>". (Brook Hong)
Files:	    src/normal.c

Patch 7.4.117
Problem:    Can't build with Cygwin/MingW and Perl 5.18.
Solution:   Add a linker argument for the Perl library. (Cesar Romani)
	    Adjust CFLAGS and LIB. (Cesar Romani)
	    Move including inline.h further down. (Ken Takata)
Files:	    src/Make_cyg.mak, src/Make_ming.mak, src/if_perl.xs

Patch 7.4.118
Problem:    It's possible that redrawing the status lines causes
	    win_redr_custom() to be called recursively.
Solution:   Protect against recursiveness. (Yasuhiro Matsumoto)
Files:	    src/screen.c

Patch 7.4.119
Problem:    Vim doesn't work well on OpenVMS.
Solution:   Fix various problems. (Samuel Ferencik)
Files:	    src/os_unix.c, src/os_unix.h, src/os_vms.c

Patch 7.4.120 (after 7.4.117)
Problem:    Can't build with Perl 5.18 on Linux. (Lcd 47)
Solution:   Add #ifdef. (Ken Takata)
Files:	    src/if_perl.xs

Patch 7.4.121
Problem:    Completion doesn't work for ":py3d" and ":py3f". (Bohr Shaw)
Solution:   Skip over letters after ":py3".
Files:	    src/ex_docmd.c

Patch 7.4.122
Problem:    Win32: When 'encoding' is set to "utf-8" and the active codepage
	    is cp932 then ":grep" and other commands don't work for multi-byte
	    characters.
Solution:   (Yasuhiro Matsumoto)
Files:	    src/os_win32.c

Patch 7.4.123
Problem:    Win32: Getting user name does not use wide function.
Solution:   Use GetUserNameW() if possible. (Ken Takata)
Files:	    src/os_win32.c

Patch 7.4.124
Problem:    Win32: Getting host name does not use wide function.
Solution:   Use GetComputerNameW() if possible. (Ken Takata)
Files:	    src/os_win32.c

Patch 7.4.125
Problem:    Win32: Dealing with messages may not work for multi-byte chars.
Solution:   Use pDispatchMessage(). (Ken Takata)
Files:	    src/os_win32.c

Patch 7.4.126
Problem:    Compiler warnings for "const" and incompatible types.
Solution:   Remove "const", add type cast. (Ken Takata)
Files:	    src/os_win32.c

Patch 7.4.127
Problem:    Perl 5.18 on Unix doesn't work.
Solution:   Move workaround to after including vim.h. (Ken Takata)
Files:	    src/if_perl.xs

Patch 7.4.128
Problem:    Perl 5.18 for MSVC doesn't work.
Solution:   Add check in makefile and define __inline. (Ken Takata)
Files:	    src/Make_mvc.mak, src/if_perl.xs

Patch 7.4.129
Problem:    getline(-1) returns zero. (mvxxc)
Solution:   Return an empty string.
Files:	    src/eval.c

Patch 7.4.130
Problem:    Relative line numbers mix up windows when using folds.
Solution:   Use hasFoldingWin() instead of hasFolding(). (Lech Lorens)
Files:	    src/misc2.c

Patch 7.4.131
Problem:    Syncbind causes E315 errors in some situations. (Liang Li)
Solution:   Set and restore curbuf in ex_syncbind(). (Christian Brabandt)
Files:	    src/ex_docmd.c, src/testdir/test37.ok

Patch 7.4.132 (after 7.4.122)
Problem:    Win32: flags and inherit_handles arguments mixed up.
Solution:   Swap the argument. (cs86661)
Files:	    src/os_win32.c

Patch 7.4.133
Problem:    Clang warns for using NUL.
Solution:   Change NUL to NULL. (Dominique Pelle)
Files:	    src/eval.c, src/misc2.c

Patch 7.4.134
Problem:    Spurious space in MingW Makefile.
Solution:   Remove the space. (Michael Soyka)
Files:	    src/Make_ming.mak

Patch 7.4.135
Problem:    Missing dot in MingW test Makefile.
Solution:   Add the dot. (Michael Soyka)
Files:	    src/testdir/Make_ming.mak

Patch 7.4.136 (after 7.4.096)
Problem:    MS-Windows: When saving a file with a UNC path the file becomes
	    read-only.
Solution:   Don't mix up Win32 attributes and Unix attributes. (Ken Takata)
Files:	    src/os_mswin.c, src/os_win32.c

Patch 7.4.137
Problem:    Cannot use IME with Windows 8 console.
Solution:   Change the user of ReadConsoleInput() and PeekConsoleInput().
	    (Nobuhiro Takasaki)
Files:	    src/os_win32.c

Patch 7.4.138 (after 7.4.114)
Problem:    Directory change messages are not recognized.
Solution:   Fix using a character range literally. (Lech Lorens)
Files:	    src/option.h

Patch 7.4.139
Problem:    Crash when using :cd in autocommand. (François Ingelrest)
Solution:   Set w_localdir to NULL after freeing it. (Dominique Pelle)
Files:	    src/ex_docmd.c, src/window.c

Patch 7.4.140
Problem:    Crash when wiping out buffer triggers autocommand that wipes out
	    only other buffer.
Solution:   Do not delete the last buffer, make it empty. (Hirohito Higashi)
Files:	    src/buffer.c

Patch 7.4.141
Problem:    Problems when building with Borland: st_mode is signed short;
	    can't build with Python; temp files not ignored by Mercurial;
	    building with DEBUG doesn't define _DEBUG.
Solution:   Fix the problems. (Ken Takata)
Files:	    src/Make_bc5.mak, src/if_py_both.h, src/os_win32.c

Patch 7.4.142 (after 7.4.137)
Problem:    On MS-Windows 8 IME input doesn't work correctly.
Solution:   Work around the problem. (Nobuhiro Takasaki)
Files:	    src/os_win32.c

Patch 7.4.143
Problem:    TextChangedI is not triggered.
Solution:   Reverse check for "ready". (lilydjwg)
Files:	    src/edit.c

Patch 7.4.144
Problem:    MingW also supports intptr_t for OPEN_OH_ARGTYPE.
Solution:   Adjust #ifdef. (Ken Takata)
Files:	    src/os_mswin.c

Patch 7.4.145
Problem:    getregtype() does not return zero for unknown register.
Solution:   Adjust documentation: return empty string for unknown register.
	    Check the register name to be valid. (Yukihiro Nakadaira)
Files:	    runtime/doc/eval.txt, src/ops.c

Patch 7.4.146
Problem:    When starting Vim with "-u NONE" v:oldfiles is NULL.
Solution:   Set v:oldfiles to an empty list. (Yasuhiro Matsumoto)
Files:	    src/main.c

Patch 7.4.147
Problem:    Cursor moves to wrong position when using "gj" after "$" and
	    virtual editing is active.
Solution:   Make "gj" behave differently when virtual editing is active.
	    (Hirohito Higashi)
Files:	    src/normal.c, src/testdir/test39.in, src/testdir/test39.ok

Patch 7.4.148
Problem:    Cannot build with Cygwin and X11.
Solution:   Include Xwindows.h instead of windows.h. (Lech Lorens)
Files:	    src/mbyte.c

Patch 7.4.149
Problem:    Get E685 error when assigning a function to an autoload variable.
	    (Yukihiro Nakadaira)
Solution:   Instead of having a global no_autoload variable, pass an autoload
	    flag down to where it is used. (ZyX)
Files:	    src/eval.c, src/testdir/test55.in, src/testdir/test55.ok,
	    src/testdir/test60.in, src/testdir/test60.ok,
	    src/testdir/sautest/autoload/footest.vim

Patch 7.4.150
Problem:    :keeppatterns is not respected for :s.
Solution:   Check the keeppatterns flag. (Yasuhiro Matsumoto)
Files:	    src/search.c, src/testdir/test14.in, src/testdir/test14.ok

Patch 7.4.151
Problem:    Python: slices with steps are not supported.
Solution:   Support slices in Python vim.List. (ZyX)
Files:	    src/eval.c, src/if_py_both.h, src/if_python3.c, src/if_python.c,
	    src/proto/eval.pro, src/testdir/test86.in, src/testdir/test86.ok,
	    src/testdir/test87.in, src/testdir/test87.ok

Patch 7.4.152
Problem:    Python: Cannot iterate over options.
Solution:   Add options iterator. (ZyX)
Files:	    src/if_py_both.h, src/option.c, src/proto/option.pro,
	    src/testdir/test86.in, src/testdir/test86.ok,
	    src/testdir/test87.in, src/testdir/test87.ok, src/vim.h

Patch 7.4.153
Problem:    Compiler warning for pointer type.
Solution:   Add type cast.
Files:	    src/if_py_both.h, src/if_python.c, src/if_python3.c

Patch 7.4.154 (after 7.4.149)
Problem:    Still a problem with auto-loading.
Solution:   Pass no_autoload to deref_func_name(). (Yukihiro Nakadaira)
Files:	    src/eval.c

Patch 7.4.155
Problem:    ":keeppatterns /pat" does not keep search pattern offset.
Solution:   Restore the offset after doing the search.
Files:	    src/search.c, src/testdir/test14.in, src/testdir/test14.ok

Patch 7.4.156
Problem:    Test file missing from distribution.
Solution:   Add new directory to file list.
Files:	    Filelist

Patch 7.4.157
Problem:    Error number used twice. (Yukihiro Nakadaira)
Solution:   Change the one not referred in the docs.
Files:	    src/undo.c

Patch 7.4.158 (after 7.4.045)
Problem:    Pattern containing \zs is not handled correctly by substitute().
Solution:   Change how an empty match is skipped. (Yukihiro Nakadaira)
Files:	    src/eval.c, src/testdir/test80.in, src/testdir/test80.ok

Patch 7.4.159
Problem:    Completion hangs when scanning the current buffer after doing
	    keywords. (Christian Brabandt)
Solution:   Set the first match position when starting to scan the current
	    buffer.
Files:	    src/edit.c

Patch 7.4.160
Problem:    Win32: Crash when executing external command.
Solution:   Only close the handle when it was created. (Yasuhiro Matsumoto)
Files:	    src/os_win32.c

Patch 7.4.161
Problem:    Crash in Python exception handling.
Solution:   Only use exception variables if did_throw is set. (ZyX)
Files:	    if_py_both.h

Patch 7.4.162
Problem:    Running tests in shadow dir doesn't work.
Solution:   Add testdir/sautest to the shadow target. (James McCoy)
Files:	    src/Makefile

Patch 7.4.163 (after 7.4.142)
Problem:    MS-Windows input doesn't work properly on Windows 7 and earlier.
Solution:   Add a check for Windows 8. (Yasuhiro Matsumoto)
Files:	    src/os_win32.c

Patch 7.4.164 (after 7.4.163)
Problem:    Problem with event handling on Windows 8.
Solution:   Ignore duplicate WINDOW_BUFFER_SIZE_EVENTs. (Nobuhiro Takasaki)
Files:	    src/os_win32.c

Patch 7.4.165
Problem:    By default, after closing a buffer changes can't be undone.
Solution:   In the example vimrc file set 'undofile'.
Files:	    runtime/vimrc_example.vim

Patch 7.4.166
Problem:    Auto-loading a function for code that won't be executed.
Solution:   Do not auto-load when evaluation is off. (Yasuhiro Matsumoto)
Files:	    src/eval.c

Patch 7.4.167 (after 7.4.149)
Problem:    Fixes are not tested.
Solution:   Add a test for not autoloading on assignment. (Yukihiro Nakadaira)
Files:	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile,
	    src/testdir/sautest/autoload/Test104.vim, src/testdir/test104.in,
	    src/testdir/test104.ok

Patch 7.4.168
Problem:    Can't compile with Ruby 2.1.0.
Solution:   Add support for new GC. (Kohei Suzuki)
Files:	    src/if_ruby.c

Patch 7.4.169
Problem:    ":sleep" puts cursor in the wrong column. (Liang Li)
Solution:   Add the window offset. (Christian Brabandt)
Files:	    src/ex_docmd.c

Patch 7.4.170
Problem:    Some help tags don't work with ":help". (Tim Chase)
Solution:   Add exceptions.
Files:	    src/ex_cmds.c

Patch 7.4.171
Problem:    Redo does not set v:count and v:count1.
Solution:   Use a separate buffer for redo, so that we can set the counts when
	    performing redo.
Files:	    src/getchar.c, src/globals.h, src/normal.c, src/proto/getchar.pro,
	    src/structs.h

Patch 7.4.172
Problem:    The blowfish code mentions output feedback, but the code is
	    actually doing cipher feedback.
Solution:   Adjust names and comments.
Files:	    src/blowfish.c, src/fileio.c, src/proto/blowfish.pro,
	    src/memline.c

Patch 7.4.173
Problem:    When using scrollbind the cursor can end up below the last line.
	    (mvxxc)
Solution:   Reset w_botfill when scrolling up. (Christian Brabandt)
Files:	    src/move.c

Patch 7.4.174
Problem:    Compiler warnings for Python interface. (Tony Mechelynck)
Solution:   Add type casts, initialize variable.
Files:	    src/if_py_both.h

Patch 7.4.175
Problem:    When a wide library function fails, falling back to the non-wide
	    function may do the wrong thing.
Solution:   Check the platform, when the wide function is supported don't fall
	    back to the non-wide function. (Ken Takata)
Files:	    src/os_mswin.c, src/os_win32.c

Patch 7.4.176
Problem:    Dictionary.update() throws an error when used without arguments.
	    Python programmers don't expect that.
Solution:   Make Dictionary.update() without arguments do nothing. (ZyX)
Files:	    src/if_py_both.h, src/testdir/test86.in, src/testdir/test87.in

Patch 7.4.177
Problem:    Compiler warning for unused variable. (Tony Mechelynck)
Solution:   Add #ifdef.
Files:	    src/move.c

Patch 7.4.178
Problem:    The J command does not update '[ and '] marks. (William Gardner)
Solution:   Set the marks. (Christian Brabandt)
Files:	    src/ops.c

Patch 7.4.179
Problem:    Warning for type-punned pointer. (Tony Mechelynck)
Solution:   Use intermediate variable.
Files:	    src/if_py_both.h

Patch 7.4.180 (after 7.4.174)
Problem:    Older Python versions don't support %ld.
Solution:   Use %d instead. (ZyX)
Files:	    src/if_py_both.h

Patch 7.4.181
Problem:    When using 'pastetoggle' the status lines are not updated. (Samuel
	    Ferencik, Jan Christoph Ebersbach)
Solution:   Update the status lines. (Nobuhiro Takasaki)
Files:	    src/getchar.c

Patch 7.4.182
Problem:    Building with mzscheme and racket does not work. (David Chimay)
Solution:   Adjust autoconf. (Sergey Khorev)
Files:	    src/configure.in, src/auto/configure

Patch 7.4.183
Problem:    MSVC Visual Studio update not supported.
Solution:   Add version number. (Mike Williams)
Files:	    src/Make_mvc.mak

Patch 7.4.184
Problem:    match() does not work properly with a {count} argument.
Solution:   Compute the length once and update it.  Quit the loop when at the
	    end. (Hirohito Higashi)
Files:	    src/eval.c, src/testdir/test53.in, src/testdir/test53.ok

Patch 7.4.185
Problem:    Clang gives warnings.
Solution:   Adjust how bigness is set. (Dominique Pelle)
Files:	    src/ex_cmds.c

Patch 7.4.186 (after 7.4.085)
Problem:    Insert in Visual mode sometimes gives incorrect results.
	    (Dominique Pelle)
Solution:   Remember the original insert start position. (Christian Brabandt,
	    Dominique Pelle)
Files:	    src/edit.c, src/globals.h, src/ops.c, src/structs.h

Patch 7.4.187
Problem:    Delete that crosses line break splits multi-byte character.
Solution:   Advance a character instead of a byte. (Cade Foster)
Files:	    src/normal.c, src/testdir/test69.in, src/testdir/test69.ok

Patch 7.4.188
Problem:    SIZEOF_LONG clashes with similar defines in header files.
Solution:   Rename to a name starting with VIM_.  Also for SIZEOF_INT.
Files:	    src/if_ruby.c, src/vim.h, src/configure.in, src/auto/configure,
	    src/config.h.in, src/fileio.c, src/if_python.c, src/message.c,
	    src/spell.c, src/feature.h, src/os_os2_cfg.h, src/os_vms_conf.h,
	    src/os_win16.h, src/structs.h

Patch 7.4.189
Problem:    Compiler warning for unused argument.
Solution:   Add UNUSED.
Files:	    src/eval.c

Patch 7.4.190
Problem:    Compiler warning for using %lld for off_t.
Solution:   Add type cast.
Files:	    src/fileio.c

Patch 7.4.191
Problem:    Escaping a file name for shell commands can't be done without a
	    function.
Solution:   Add the :S file name modifier.
Files:	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile,
	    src/testdir/test105.in, src/testdir/test105.ok,
	    runtime/doc/cmdline.txt, runtime/doc/eval.txt,
	    runtime/doc/map.txt, runtime/doc/options.txt,
	    runtime/doc/quickfix.txt, runtime/doc/usr_30.txt,
	    runtime/doc/usr_40.txt, runtime/doc/usr_42.txt,
	    runtime/doc/vi_diff.txt, src/eval.c, src/misc2.c, src/normal.c,
	    src/proto/misc2.pro

Patch 7.4.192
Problem:    Memory leak when giving E853.
Solution:   Free the argument. (Dominique Pelle)
Files:	    src/eval.c

Patch 7.4.193
Problem:    Typos in messages.
Solution:   "then" -> "than". (Dominique Pelle)
Files:	    src/if_py_both.h, src/spell.c

Patch 7.4.194
Problem:    Can't build for Android.
Solution:   Add #if condition. (Fredrik Fornwall)
Files:	    src/mbyte.c

Patch 7.4.195 (after 7.4.193)
Problem:    Python tests fail.
Solution:   Change "then" to "than" in more places. (Dominique Pelle, Taro
	    Muraoka)
Files:	    src/testdir/test86.in, src/testdir/test86.ok,
	    src/testdir/test87.in, src/testdir/test87.ok

Patch 7.4.196
Problem:    Tests fail on Solaris 9 and 10.
Solution:   Use "test -f" instead of "test -e".  (Laurent Blume)
Files:	    src/testdir/Makefile

Patch 7.4.197
Problem:    Various problems on VMS.
Solution:   Fix several VMS problems. (Zoltan Arpadffy)
Files:	    runtime/doc/os_vms.txt, src/Make_vms.mms, src/fileio.c,
	    src/os_unix.c, src/os_unix.h, src/os_vms.c, src/os_vms_conf.h,
	    src/proto/os_vms.pro, src/testdir/Make_vms.mms,
	    src/testdir/test72.in, src/testdir/test77a.com,
	    src/testdir/test77a.in, src/testdir/test77a.ok src/undo.c

Patch 7.4.198
Problem:    Can't build Vim with Perl when -Dusethreads is not specified for
	    building Perl, and building Vim with --enable-perlinterp=dynamic.
Solution:   Adjust #ifdefs. (Yasuhiro Matsumoto)
Files:	    src/if_perl.xs

Patch 7.4.199
Problem:    (issue 197) ]P doesn't paste over Visual selection.
Solution:   Handle Visual mode specifically. (Christian Brabandt)
Files:	    src/normal.c

Patch 7.4.200
Problem:    Too many #ifdefs in the code.
Solution:   Enable FEAT_VISUAL always, await any complaints
Files:	    src/feature.h

Patch 7.4.201
Problem:    'lispwords' is a global option.
Solution:   Make 'lispwords' global-local. (Sung Pae)
Files:	    runtime/doc/options.txt, runtime/optwin.vim, src/buffer.c,
	    src/misc1.c, src/option.c, src/option.h, src/structs.h,
	    src/testdir/test100.in, src/testdir/test100.ok

Patch 7.4.202
Problem:    MS-Windows: non-ASCII font names don't work.
Solution:   Convert between the current code page and 'encoding'. (Ken Takata)
Files:	    src/gui_w48.c, src/os_mswin.c, src/proto/winclip.pro,
	    src/winclip.c

Patch 7.4.203
Problem:    Parsing 'errorformat' is not correct.
Solution:   Reset "multiignore" at the start of a multi-line message. (Lcd)
Files:	    src/quickfix.c, src/testdir/Make_amiga.mak,
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
	    src/testdir/Makefile, src/testdir/test106.in,
	    src/testdir/test106.ok

Patch 7.4.204
Problem:    A mapping where the second byte is 0x80 doesn't work.
Solution:   Unescape before checking for incomplete multi-byte char. (Nobuhiro
	    Takasaki)
Files:	    src/getchar.c, src/testdir/test75.in, src/testdir/test75.ok

Patch 7.4.205
Problem:    ":mksession" writes command to move to second argument while it
	    does not exist.  When it does exist the order might be wrong.
Solution:   Use ":argadd" for each argument instead of using ":args" with a
	    list of names. (Nobuhiro Takasaki)
Files:	    src/ex_docmd.c

Patch 7.4.206
Problem:    Compiler warnings on 64 bit Windows.
Solution:   Add type casts. (Mike Williams)
Files:	    src/gui_w48.c, src/os_mswin.c

Patch 7.4.207
Problem:    The cursor report sequence is sometimes not recognized and results
	    in entering replace mode.
Solution:   Also check for the cursor report when not asked for.
Files:	    src/term.c

Patch 7.4.208
Problem:    Mercurial picks up some files that are not distributed.
Solution:   Add patterns to the ignore list. (Cade Forester)
Files:	    .hgignore

Patch 7.4.209
Problem:    When repeating a filter command "%" and "#" are expanded.
Solution:   Escape the command when storing for redo. (Christian Brabandt)
Files:	    src/ex_cmds.c

Patch 7.4.210
Problem:    Visual block mode plus virtual edit doesn't work well with tabs.
	    (Liang Li) 
Solution:   Take coladd into account. (Christian Brabandt)
Files:	    src/ops.c, src/testdir/test39.in, src/testdir/test39.ok

Patch 7.4.211
Problem:    ":lu" is an abbreviation for ":lua", but it should be ":lunmap".
	    (ZyX)
Solution:   Move "lunmap" to above "lua".
Files:	    src/ex_cmds.h

Patch 7.4.212 (after 7.4.200)
Problem:    Now that the +visual feature is always enabled the #ifdefs for it
	    are not useful.
Solution:   Remove the checks for FEAT_VISUAL.
Files:	    src/buffer.c, src/charset.c, src/edit.c, src/eval.c,
	    src/ex_cmds.c, src/ex_docmd.c, src/fold.c, src/getchar.c,
	    src/gui.c, src/gui_mac.c, src/gui_w48.c, src/main.c, src/mark.c,
	    src/menu.c, src/misc2.c, src/move.c, src/netbeans.c, src/normal.c,
	    src/ops.c, src/option.c, src/os_msdos.c, src/os_qnx.c,
	    src/quickfix.c, src/regexp.c, src/regexp_nfa.c, src/screen.c,
	    src/search.c, src/spell.c, src/syntax.c, src/term.c, src/ui.c,
	    src/undo.c, src/version.c, src/window.c, src/feature.h,
	    src/globals.h, src/option.h, src/os_win32.h, src/structs.h

Patch 7.4.213
Problem:    It's not possible to open a new buffer without creating a swap
	    file.
Solution:   Add the ":noswapfile" modifier. (Christian Brabandt)
Files:	    runtime/doc/recover.txt, src/ex_cmds.h, src/ex_docmd.c,
	    src/memline.c, src/structs.h

Patch 7.4.214
Problem:    Compilation problems on HP_nonStop (Tandem).
Solution:   Add #defines. (Joachim Schmitz)
Files:	    src/vim.h

Patch 7.4.215
Problem:    Inconsistency: ":sp foo" does not reload "foo", unless "foo" is
	    the current buffer. (Liang Li)
Solution:   Do not reload the current buffer on a split command.
Files:	    runtime/doc/windows.txt, src/ex_docmd.c

Patch 7.4.216
Problem:    Compiler warnings. (Tony Mechelynck)
Solution:   Initialize variables, add #ifdef.
Files:	    src/term.c, src/os_unix.h

Patch 7.4.217
Problem:    When src/auto/configure was updated, "make clean" would run
	    configure pointlessly.
Solution:   Do not run configure for "make clean" and "make distclean" when
	    the make program supports $MAKECMDGOALS. (Ken Takata)
Files:	    src/Makefile

Patch 7.4.218
Problem:    It's not easy to remove duplicates from a list.
Solution:   Add the uniq() function. (Lcd)
Files:	    runtime/doc/change.txt, runtime/doc/eval.txt,
	    runtime/doc/usr_41.txt, runtime/doc/version7.txt, src/eval.c,
	    src/testdir/test55.in, src/testdir/test55.ok

Patch 7.4.219
Problem:    When 'relativenumber' or 'cursorline' are set the window is
	    redrawn much to often. (Patrick Hemmer, Dominique Pelle)
Solution:   Check the VALID_CROW flag instead of VALID_WROW.
Files:	    src/move.c

Patch 7.4.220
Problem:    Test 105 does not work in a shadow dir. (James McCoy)
Solution:   Omit "src/" from the checked path.
Files:	    src/testdir/test105.in, src/testdir/test105.ok

Patch 7.4.221
Problem:    Quickfix doesn't resize on ":copen 20". (issue 199)
Solution:   Resize the window when requested. (Christian Brabandt)
Files:	    src/quickfix.c

Patch 7.4.222
Problem:    The Ruby directory is constructed from parts.
Solution:   Use 'rubyarchhdrdir' if it exists. (James McCoy)
Files:	    src/configure.in, src/auto/configure

Patch 7.4.223
Problem:    Still using an older autoconf version.
Solution:   Switch to autoconf 2.69.
Files:	    src/Makefile, src/configure.in, src/auto/configure

Patch 7.4.224
Problem:    /usr/bin/grep on Solaris does not support -F.
Solution:   Add configure check to find a good grep. (Danek Duvall)
Files:	    src/configure.in, src/auto/configure

Patch 7.4.225
Problem:    Dynamic Ruby doesn't work on Solaris.
Solution:   Always use the stubs. (Danek Duvall, Yukihiro Nakadaira)
Files:	    src/if_ruby.c

Patch 7.4.226 (after 7.4.219)
Problem:    Cursurline highlighting not redrawn when scrolling. (John
	    Marriott)
Solution:   Check for required redraw in two places.
Files:	    src/move.c

Patch 7.4.227 (after 7.4.225)
Problem:    Can't build with Ruby 1.8.
Solution:   Do include a check for the Ruby version. (Ken Takata)
Files:	    src/if_ruby.c

Patch 7.4.228
Problem:    Compiler warnings when building with Python 3.2.
Solution:   Make type cast depend on Python version. (Ken Takata)
Files:	    src/if_py_both.h, src/if_python.c, src/if_python3.c

Patch 7.4.229
Problem:    Using ":let" for listing variables and the second one is a curly
	    braces expression may fail.
Solution:   Check for an "=" in a better way. (ZyX)
Files:	    src/eval.c, src/testdir/test104.in, src/testdir/test104.ok

Patch 7.4.230
Problem:    Error when using ":options".
Solution:   Fix the entry for 'lispwords'. (Kenichi Ito)
Files:	    runtime/optwin.vim

Patch 7.4.231
Problem:    An error in ":options" is not caught by the tests.
Solution:   Add a test for ":options".  Set $VIMRUNTIME for the tests so that
	    it uses the current runtime files instead of the installed ones.
Files:	    src/Makefile, src/testdir/Makefile, src/testdir/test_options.in,
	    src/testdir/test_options.ok, src/testdir/Make_amiga.mak,
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms

Patch 7.4.232
Problem:    ":%s/\n//" uses a lot of memory. (Aidan Marlin)
Solution:   Turn this into a join command. (Christian Brabandt)
Files:	    src/ex_cmds.c, src/ex_docmd.c, src/proto/ex_docmd.pro

Patch 7.4.233
Problem:    Escaping special characters for using "%" with a shell command is
	    inconsistent, parentheses are escaped but spaces are not.
Solution:   Only escape "!". (Gary Johnson)
Files:	    src/ex_docmd.c

Patch 7.4.234
Problem:    Can't get the command that was used to start Vim.
Solution:   Add v:progpath. (Viktor Kojouharov)
Files:	    runtime/doc/eval.txt, src/eval.c, src/main.c, src/vim.h

Patch 7.4.235
Problem:    It is not easy to get the full path of a command.
Solution:   Add the exepath() function.
Files:	    src/eval.c, src/misc1.c, src/os_amiga.c, src/os_msdos.c,
	    src/os_unix.c, src/os_vms.c, src/os_win32.c,
	    src/proto/os_amiga.pro, src/proto/os_msdos.pro,
	    src/proto/os_unix.pro, src/proto/os_win32.pro,
	    runtime/doc/eval.txt

Patch 7.4.236
Problem:    It's not that easy to check the Vim patch version.
Solution:   Make has("patch-7.4.123") work. (partly by Marc Weber)
Files:	    runtime/doc/eval.txt, src/eval.c, src/testdir/test60.in,
	    src/testdir/test60.ok

Patch 7.4.237 (after 7.4.236)
Problem:    When some patches was not included has("patch-7.4.123") may return
	    true falsely.
Solution:   Check for the specific patch number.
Files:	    runtime/doc/eval.txt, src/eval.c

Patch 7.4.238
Problem:    Vim does not support the smack library.
Solution:   Add smack support (Jose Bollo)
Files:	    src/config.h.in, src/configure.in, src/fileio.c, src/memfile.c,
	    src/os_unix.c, src/undo.c, src/auto/configure

Patch 7.4.239
Problem:    ":e +" does not position cursor at end of the file.
Solution:   Check for "+" being the last character (ZyX)
Files:	    src/ex_docmd.c

Patch 7.4.240
Problem:    ":tjump" shows "\n" as "\\n".
Solution:   Skip over "\" that escapes a backslash. (Gary Johnson)
Files:	    src/tag.c

Patch 7.4.241
Problem:    The string returned by submatch() does not distinguish between a
	    NL from a line break and a NL that stands for a NUL character.
Solution:   Add a second argument to return a list. (ZyX)
Files:	    runtime/doc/eval.txt, src/eval.c, src/proto/regexp.pro,
	    src/regexp.c, src/testdir/test79.in, src/testdir/test79.ok,
	    src/testdir/test80.in, src/testdir/test80.ok

Patch 7.4.242
Problem:    getreg() does not distinguish between a NL used for a line break
	    and a NL used for a NUL character.
Solution:   Add another argument to return a list. (ZyX)
Files:	    runtime/doc/eval.txt, src/eval.c src/ops.c, src/proto/ops.pro,
	    src/vim.h, src/Makefile, src/testdir/test_eval.in,
	    src/testdir/test_eval.ok, src/testdir/Make_amiga.mak,
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms

Patch 7.4.243
Problem:    Cannot use setreg() to add text that includes a NUL.
Solution:   Make setreg() accept a list.
Files:	    runtime/doc/eval.txt, src/eval.c, src/ops.c, src/proto/ops.pro,
	    src/testdir/test_eval.in, src/testdir/test_eval.ok

Patch 7.4.244 (after 7.4.238)
Problem:    The smack feature causes stray error messages.
Solution:   Remove the error messages.
Files:	    src/os_unix.c

Patch 7.4.245
Problem:    Crash for "vim -u NONE -N  -c '&&'".
Solution:   Check for the pattern to be NULL. (Dominique Pelle)
Files:	    src/ex_cmds.c

Patch 7.4.246
Problem:    Configure message for detecting smack are out of sequence.
Solution:   Put the messages in the right place. (Kazunobu Kuriyama)
Files:	    src/configure.in, src/auto/configure

Patch 7.4.247
Problem:    When passing input to system() there is no way to keep NUL and
	    NL characters separate.
Solution:   Optionally use a list for the system() input. (ZyX)
Files:	    runtime/doc/eval.txt, src/eval.c

Patch 7.4.248
Problem:    Cannot distinguish between NL and NUL in output of system().
Solution:   Add systemlist(). (ZyX)
Files:	    runtime/doc/eval.txt, src/eval.c, src/ex_cmds2.c, src/misc1.c,
	    src/proto/misc1.pro

Patch 7.4.249
Problem:    Using setreg() with a list of numbers does not work.
Solution:   Use a separate buffer for numbers. (ZyX)
Files:	    src/eval.c, src/testdir/test_eval.in, src/testdir/test_eval.ok

Patch 7.4.250
Problem:    Some test files missing from distribution.
Solution:   Add pattern for newly added tests.
Files:	    Filelist

Patch 7.4.251
Problem:    Crash when BufAdd autocommand wipes out the buffer.
Solution:   Check for buffer to still be valid. Postpone freeing the buffer
	    structure. (Hirohito Higashi)
Files:	    src/buffer.c, src/ex_cmds.c, src/fileio.c, src/globals.h

Patch 7.4.252
Problem:    Critical error in GTK, removing timer twice.
Solution:   Clear the timer after removing it. (James McCoy)
Files:	    src/gui_gtk_x11.c

Patch 7.4.253
Problem:    Crash when using cpp syntax file with pattern using external
	    match. (Havard Garnes)
Solution:   Discard match when end column is before start column.
Files:	    src/regexp.c, src/regexp_nfa.c

Patch 7.4.254
Problem:    Smack support detection is incomplete.
Solution:   Check for attr/xattr.h and specific macro.
Files:	    src/configure.in, src/auto/configure

Patch 7.4.255
Problem:    Configure check for smack doesn't work with all shells. (David
	    Larson)
Solution:   Remove spaces in set command.
Files:	    src/configure.in, src/auto/configure

Patch 7.4.256 (after 7.4.248)
Problem:    Using systemlist() may cause a crash and does not handle NUL
	    characters properly.
Solution:   Increase the reference count, allocate memory by length. (Yasuhiro
	    Matsumoto)
Files:	    src/eval.c

Patch 7.4.257
Problem:    Compiler warning, possibly for mismatch in parameter name.
Solution:   Rename the parameter in the declaration.
Files:	    src/ops.c

Patch 7.4.258
Problem:    Configure fails if $CC contains options.
Solution:   Remove quotes around $CC. (Paul Barker)
Files:	    src/configure.in, src/auto/configure

Patch 7.4.259
Problem:    Warning for misplaced "const".
Solution:   Move the "const". (Yukihiro Nakadaira)
Files:	    src/os_unix.c

Patch 7.4.260
Problem:    It is possible to define a function with a colon in the name.  It
	    is possible to define a function with a lower case character if a
	    "#" appears after the name.
Solution:   Disallow using a colon other than with "s:".  Ignore "#" after the
	    name.
Files:	    runtime/doc/eval.txt, src/eval.c, src/testdir/test_eval.in,
	    src/testdir/test_eval.ok

Patch 7.4.261
Problem:    When updating the window involves a regexp pattern, an interactive
	    substitute to replace a "\n" with a line break fails. (Ingo
	    Karkat)
Solution:   Set reg_line_lbr in vim_regsub() and vim_regsub_multi().
Files:	    src/regexp.c, src/testdir/test79.in, src/testdir/test79.ok

Patch 7.4.262
Problem:    Duplicate code in regexec().
Solution:   Add line_lbr flag to regexec_nl().
Files:	    src/regexp.c, src/regexp_nfa.c, src/regexp.h

Patch 7.4.263
Problem:    GCC 4.8 compiler warning for hiding a declaration (François Gannaz)
Solution:   Remove the second declaration.
Files:	    src/eval.c

Patch 7.4.264 (after 7.4.260)
Problem:    Can't define a function starting with "g:".  Can't assign a
	    funcref to a buffer-local variable.
Solution:   Skip "g:" at the start of a function name.  Don't check for colons
	    when assigning to a variable.
Files:	    src/eval.c, src/testdir/test_eval.in, src/testdir/test_eval.ok

Patch 7.4.265 (after 7.4.260)
Problem:    Can't call a global function with "g:" in an expression.
Solution:   Skip the "g:" when looking up the function.
Files:	    src/eval.c, src/testdir/test_eval.in, src/testdir/test_eval.ok

Patch 7.4.266
Problem:    Test 62 fails.
Solution:   Set the language to C. (Christian Brabandt)
Files:	    src/testdir/test62.in

Patch 7.4.267 (after 7.4.178)
Problem:    The '[ mark is in the wrong position after "gq". (Ingo Karkat)
Solution:   Add the setmark argument to do_join(). (Christian Brabandt)
Files:	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile,
	    src/testdir/test_autoformat_join.in,
	    src/testdir/test_autoformat_join.ok, src/Makefile, src/edit.c,
	    src/ex_cmds.c, src/ex_docmd.c, src/normal.c, src/ops.c,
	    src/proto/ops.pro

Patch 7.4.268
Problem:    Using exists() on a funcref for a script-local function does not
	    work.
Solution:   Translate <SNR> to the special byte sequence.  Add a test.
Files:	    src/eval.c, src/testdir/test_eval.in, src/testdir/test_eval.ok,
	    src/testdir/test_eval_func.vim, Filelist

Patch 7.4.269
Problem:    CTRL-U in Insert mode does not work after using a cursor key.
	    (Pine Wu)
Solution:   Use the original insert start position. (Christian Brabandt)
Files:	    src/edit.c, src/testdir/test29.in, src/testdir/test29.ok

Patch 7.4.270
Problem:    Comparing pointers instead of the string they point to.
Solution:   Use strcmp(). (Ken Takata)
Files:	    src/gui_gtk_x11.c

Patch 7.4.271
Problem:    Compiler warning on 64 bit windows.
Solution:   Add type cast. (Mike Williams)
Files:	    src/ops.c

Patch 7.4.272
Problem:    Using just "$" does not cause an error message.
Solution:   Check for empty environment variable name. (Christian Brabandt)
Files:	    src/eval.c, src/testdir/test_eval.in, src/testdir/test_eval.ok

Patch 7.4.273
Problem:    "make autoconf" and "make reconfig" may first run configure and
	    then remove the output.
Solution:   Add these targets to the exceptions. (Ken Takata)
Files:	    src/Makefile

Patch 7.4.274
Problem:    When doing ":update" just before running an external command that
	    changes the file, the timestamp may be unchanged and the file
	    is not reloaded.
Solution:   Also check the file size.
Files:	    src/fileio.c

Patch 7.4.275
Problem:    When changing the type of a sign that hasn't been placed there is
	    no error message.
Solution:   Add an error message. (Christian Brabandt)
Files:	    src/ex_cmds.c

Patch 7.4.276
Problem:    The fish shell is not supported.
Solution:   Use begin/end instead of () for fish. (Andy Russell)
Files:	    src/ex_cmds.c, src/misc1.c, src/option.c, src/proto/misc1.pro

Patch 7.4.277
Problem:    Using ":sign unplace *" may leave the cursor in the wrong position
	    (Christian Brabandt)
Solution:   Update the cursor position when removing all signs.
Files:	    src/buffer.c

Patch 7.4.278
Problem:    list_remove() conflicts with function defined in Sun header file.
Solution:   Rename the function. (Richard Palo)
Files:	    src/eval.c, src/if_lua.c, src/if_py_both.h, src/proto/eval.pro

Patch 7.4.279
Problem:    globpath() returns a string, making it difficult to get a list of
	    matches. (Greg Novack)
Solution:   Add an optional argument like with glob(). (Adnan Zafar)
Files:	    runtime/doc/eval.txt, src/eval.c, src/ex_getln.c, src/misc1.c,
	    src/misc2.c, src/proto/ex_getln.pro, src/proto/misc2.pro,
	    src/testdir/test97.in, src/testdir/test97.ok

Patch 7.4.280
Problem:    When using a session file the relative position of the cursor is
	    not restored if there is another tab. (Nobuhiro Takasaki)
Solution:   Update w_wrow before calculating the fraction.
Files:	    src/window.c

Patch 7.4.281
Problem:    When a session file has more than one tabpage and 'showtabline' is
	    one the positions may be slightly off.
Solution:   Set 'showtabline' to two while positioning windows.
Files:	    src/ex_docmd.c

Patch 7.4.282 (after 7.4.279)
Problem:    Test 97 fails on Mac.
Solution:   Do not ignore case in file names. (Jun Takimoto)
Files:	    src/testdir/test97.in

Patch 7.4.283 (after 7.4.276)
Problem:    Compiler warning about unused variable. (Charles Cooper)
Solution:   Move the variable inside the #if block.
Files:	    src/ex_cmds.c

Patch 7.4.284
Problem:    Setting 'langmap' in the modeline can cause trouble.  E.g. mapping
	    ":" breaks many commands. (Jens-Wolfhard Schicke-Uffmann)
Solution:   Disallow setting 'langmap' from the modeline.
Files:	    src/option.c

Patch 7.4.285
Problem:    When 'relativenumber' is set and deleting lines or undoing that,
	    line numbers are not always updated. (Robert Arkwright)
Solution:   (Christian Brabandt)
Files:	    src/misc1.c

Patch 7.4.286
Problem:    Error messages are inconsistent. (ZyX)
Solution:   Change "Lists" to "list".
Files:	    src/eval.c

Patch 7.4.287
Problem:    Patches for .hgignore don't work, since the file is not in the
	    distribution.
Solution:   Add .hgignore to the distribution.  Will be effective with the
	    next version.
Files:	    Filelist

Patch 7.4.288
Problem:    When 'spellfile' is set the screen is not redrawn.
Solution:   Redraw when updating the spelling info. (Christian Brabandt)
Files:	    src/spell.c

Patch 7.4.289
Problem:    Pattern with repeated backreference does not match with new regexp
	    engine. (Urtica Dioica)
Solution:   Also check the end of a submatch when deciding to put a state in
	    the state list.
Files:	    src/testdir/test64.in, src/testdir/test64.ok, src/regexp_nfa.c

Patch 7.4.290
Problem:    A non-greedy match followed by a branch is too greedy. (Ingo
	    Karkat)
Solution:   Add NFA_MATCH when it is already in the state list if the position
	    differs.
Files:	    src/testdir/test64.in, src/testdir/test64.ok, src/regexp_nfa.c

Patch 7.4.291
Problem:    Compiler warning for int to pointer of different size when DEBUG
	    is defined.
Solution:   use smsg() instead of EMSG3().
Files:	    src/regexp.c

Patch 7.4.292
Problem:    Searching for "a" does not match accented "a" with new regexp
	    engine, does match with old engine. (David Bürgin)
	    "ca" does not match "ca" with accented "a" with either engine.
Solution:   Change the old engine, check for following composing character
	    also for single-byte patterns.
Files:	    src/regexp.c, src/testdir/test95.in, src/testdir/test95.ok

Patch 7.4.293
Problem:    It is not possible to ignore composing characters at a specific
	    point in a pattern.
Solution:   Add the %C item.
Files:	    src/regexp.c, src/regexp_nfa.c, src/testdir/test95.in,
	    src/testdir/test95.ok, runtime/doc/pattern.txt

Patch 7.4.294 (7.4.293)
Problem:    Test files missing from patch.
Solution:   Patch the test files.
Files:	    src/testdir/test95.in, src/testdir/test95.ok

Patch 7.4.295
Problem:    Various typos, bad white space and unclear comments.
Solution:   Fix typos.  Improve white space. Update comments.
Files:	    src/testdir/test49.in, src/macros.h, src/screen.c, src/structs.h,
	    src/gui_gtk_x11.c, src/os_unix.c

Patch 7.4.296
Problem:    Can't run tests on Solaris.
Solution:   Change the way VIMRUNTIME is set. (Laurent Blume)
Files:	    src/testdir/Makefile

Patch 7.4.297
Problem:    Memory leak from result of get_isolated_shell_name().
Solution:   Free the memory. (Dominique Pelle)
Files:	    src/ex_cmds.c, src/misc1.c

Patch 7.4.298
Problem:    Can't have a funcref start with "t:".
Solution:   Add "t" to the list of accepted names. (Yukihiro Nakadaira)
Files:	    src/eval.c

Patch 7.4.299
Problem:    When running configure twice DYNAMIC_PYTHON_DLL may become empty.
Solution:   Use AC_CACHE_VAL. (Ken Takata)
Files:	    src/configure.in, src/auto/configure

Patch 7.4.300
Problem:    The way config.cache is removed doesn't always work.
Solution:   Always remove config.cache. (Ken Takata)
Files:	    src/Makefile

Patch 7.4.301 (after 7.4.280)
Problem:    Still a scrolling problem when loading a session file.
Solution:   Fix off-by-one mistake. (Nobuhiro Takasaki)
Files:	    src/window.c

Patch 7.4.302
Problem:    Signs placed with 'foldcolumn' set don't show up after filler
	    lines.
Solution:   Take filler lines into account. (Olaf Dabrunz)
Files:	    src/screen.c

Patch 7.4.303
Problem:    When using double-width characters the text displayed on the
	    command line is sometimes truncated.
Solution:   Reset the string length. (Nobuhiro Takasaki)
Files:	    src/screen.c

Patch 7.4.304
Problem:    Cannot always use Python with Vim.
Solution:   Add the manifest to the executable. (Jacques Germishuys)
Files:	    src/Make_mvc.mak

Patch 7.4.305
Problem:    Making 'ttymouse' empty after the xterm version was requested
	    causes problems. (Elijah Griffin)
Solution:   Do not check for DEC mouse sequences when the xterm version was
	    requested.  Also don't request the xterm version when DEC mouse
	    was enabled.
Files:	    src/term.c, src/os_unix.c, src/proto/term.pro, src/globals.h

Patch 7.4.306
Problem:    getchar(0) does not return Esc.
Solution:   Do not wait for an Esc sequence to be complete.  (Yasuhiro
	    Matsumoto)
Files:	    src/eval.c, src/getchar.c

Patch 7.4.307 (after 7.4.305)
Problem:    Can't build without the +termresponse feature.
Solution:   Add proper #ifdefs.
Files:	    src/os_unix.c, src/term.c

Patch 7.4.308
Problem:    When using ":diffsplit" on an empty file the cursor is displayed
	    on the command line.
Solution:   Limit the value of w_topfill.
Files:	    src/diff.c

Patch 7.4.309
Problem:    When increasing the size of the lower window, the upper window
	    jumps back to the top. (Ron Aaron)
Solution:   Change setting the topline. (Nobuhiro Takasaki)
Files:	    src/window.c

Patch 7.4.310
Problem:    getpos()/setpos() don't include curswant.
Solution:   Add a fifth number when getting/setting the cursor.
Files:	    src/eval.c, src/testdir/test_eval.in, src/testdir/test_eval.ok,
	    runtime/doc/eval.txt

Patch 7.4.311
Problem:    Can't use winrestview to only restore part of the view.
Solution:   Handle missing items in the dict. (Christian Brabandt)
Files:	    src/eval.c, runtime/doc/eval.txt

Patch 7.4.312
Problem:    Cannot figure out what argument list is being used for a window.
Solution:   Add the arglistid() function. (Marcin Szamotulski)
Files:	    runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/eval.c,
	    src/ex_docmd.c, src/globals.h, src/structs.h, src/main.c

Patch 7.4.313 (after 7.4.310)
Problem:    Changing the return value of getpos() causes an error. (Jie Zhu)
Solution:   Revert getpos() and add getcurpos().
Files:	    src/eval.c, src/testdir/test_eval.in, src/testdir/test_eval.ok,
	    runtime/doc/eval.txt

Patch 7.4.314
Problem:    Completion messages can get in the way of a plugin.
Solution:   Add 'c' flag to 'shortmess' option. (Shougo Matsu)
Files:	    runtime/doc/options.txt, src/edit.c, src/option.h, src/screen.c

Patch 7.4.315 (after 7.4.309)
Problem:    Fixes for computation of topline not tested.
Solution:   Add test. (Hirohito Higashi)
Files:	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile,
	    src/testdir/test107.in, src/testdir/test107.ok

Patch 7.4.316
Problem:    Warning from 64-bit compiler.
Solution:   Add type cast. (Mike Williams)
Files:	    src/ex_getln.c

Patch 7.4.317
Problem:    Crash when starting gvim.  Issue 230.
Solution:   Check for a pointer to be NULL. (Christian Brabandt)
Files:	    src/window.c

Patch 7.4.318
Problem:    Check for whether a highlight group has settings ignores fg and bg
	    color settings.
Solution:   Also check cterm and GUI color settings. (Christian Brabandt)
Files:	    src/syntax.c

Patch 7.4.319
Problem:    Crash when putting zero bytes on the clipboard.
Solution:   Do not support the utf8_atom target when not using a Unicode
	    encoding. (Naofumi Honda)
Files:	    src/ui.c

Patch 7.4.320
Problem:    Possible crash when an BufLeave autocommand deletes the buffer.
Solution:   Check for the window pointer being valid.  Postpone freeing the
	    window until autocommands are done. (Yasuhiro Matsumoto)
Files:	    src/buffer.c, src/fileio.c, src/globals.h, src/window.c

Patch 7.4.321
Problem:    Can't build with strawberry perl 5.20 + mingw-w64-4.9.0.
Solution:   Define save_strlen. (Ken Takata)
Files:	    src/if_perl.xs

Patch 7.4.322
Problem:    Using "msgfmt" is hard coded, cannot use "gmsgfmt".
Solution:   Use the msgfmt command found by configure. (Danek Duvall)
Files:	    src/config.mk.in, src/po/Makefile

Patch 7.4.323
Problem:    Substitute() with zero width pattern breaks multi-byte character.
Solution:   Take multi-byte character size into account. (Yukihiro Nakadaira)
Files:	    src/eval.c src/testdir/test69.in, src/testdir/test69.ok

Patch 7.4.324
Problem:    In Ex mode, cyrillic characters are not handled. (Stas Malavin)
Solution:   Support multi-byte characters in Ex mode. (Yukihiro Nakadaira)
Files:	    src/ex_getln.c

Patch 7.4.325
Problem:    When starting the gui and changing the window size the status line
	    may not be drawn correctly.
Solution:   Catch new_win_height() being called recursively. (Christian
	    Brabandt)
Files:	    src/window.c

Patch 7.4.326
Problem:    Can't build Tiny version. (Elimar Riesebieter)
Solution:   Add #ifdef.
Files:	    src/window.c

Patch 7.4.327
Problem:    When 'verbose' is set to display the return value of a function,
	    may get E724 repeatedly.
Solution:   Do not give an error for verbose messages. Abort conversion to
	    string after an error.
Files:	    src/eval.c

Patch 7.4.328
Problem:    Selection of inner block is inconsistent.
Solution:   Skip indent not only for '}' but all parens. (Tom McDonald)
Files:	    src/search.c

Patch 7.4.329
Problem:    When moving the cursor and then switching to another window the
	    previous window isn't scrolled. (Yukihiro Nakadaira)
Solution:   Call update_topline() before leaving the window. (Christian
	    Brabandt)
Files:	    src/window.c

Patch 7.4.330
Problem:    Using a regexp pattern to highlight a specific position can be
	    slow.
Solution:   Add matchaddpos() to highlight specific positions efficiently.
	    (Alexey Radkov)
Files:	    runtime/doc/eval.txt, runtime/doc/usr_41.txt,
	    runtime/plugin/matchparen.vim, src/eval.c, src/ex_docmd.c,
	    src/proto/window.pro, src/screen.c, src/structs.h,
	    src/testdir/test63.in, src/testdir/test63.ok, src/window.c

Patch 7.4.331
Problem:    Relative numbering not updated after a linewise yank.  Issue 235.
Solution:   Redraw after the yank. (Christian Brabandt)
Files:	    src/ops.c

Patch 7.4.332
Problem:    GTK: When a sign icon doesn't fit exactly there can be ugly gaps.
Solution:   Scale the sign to fit when the aspect ratio is not too far off.
	    (Christian Brabandt)
Files:	    src/gui_gtk_x11.c

Patch 7.4.333
Problem:    Compiler warning for unused function.
Solution:   Put the function inside the #ifdef.
Files:	    src/screen.c

Patch 7.4.334 (after 7.4.330)
Problem:    Uninitialized variables, causing some problems.
Solution:   Initialize the variables. (Dominique Pelle)
Files:	    src/screen.c, src/window.c

Patch 7.4.335
Problem:    No digraph for the new rouble sign.
Solution:   Add the digraphs =R and =P.
Files:	    src/digraph.c, runtime/doc/digraph.txt

Patch 7.4.336
Problem:    Setting 'history' to a big value causes out-of-memory errors.
Solution:   Limit the value to 10000. (Hirohito Higashi)
Files:	    runtime/doc/options.txt, src/option.c

Patch 7.4.337
Problem:    When there is an error preparing to edit the command line, the
	    command won't be executed. (Hirohito Higashi)
Solution:   Reset did_emsg before editing.
Files:	    src/ex_getln.c

Patch 7.4.338
Problem:    Cannot wrap lines taking indent into account.
Solution:   Add the 'breakindent' option. (many authors, final improvements by
	    Christian Brabandt)
Files:	    runtime/doc/eval.txt, runtime/doc/options.txt, runtime/optwin.vim,
	    src/buffer.c, src/charset.c, src/edit.c, src/ex_getln.c,
	    src/getchar.c, src/misc1.c, src/misc2.c, src/ops.c, src/option.c,
	    src/option.h, src/proto/charset.pro, src/proto/misc1.pro,
	    src/proto/option.pro, src/screen.c, src/structs.h,
	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile,
	    src/testdir/test_breakindent.in, src/testdir/test_breakindent.ok,
	    src/ui.c, src/version.c

Patch 7.4.339
Problem:    Local function is available globally.
Solution:   Add "static".
Files:	    src/option.c, src/proto/option.pro

Patch 7.4.340
Problem:    Error from sed about illegal bytes when installing Vim.
Solution:   Prepend LC_ALL=C. (Itchyny)
Files:	    src/installman.sh

Patch 7.4.341
Problem:    sort() doesn't handle numbers well.
Solution:   Add an argument to specify sorting on numbers. (Christian Brabandt)
Files:	    runtime/doc/eval.txt, src/eval.c, src/testdir/test55.in,
	    src/testdir/test55.ok

Patch 7.4.342
Problem:    Clang gives warnings.
Solution:   Add an else block. (Dominique Pelle)
Files:	    src/gui_beval.c

Patch 7.4.343
Problem:    matchdelete() does not always update the right lines.
Solution:   Fix off-by-one error.  (Ozaki Kiichi)
Files:	    src/window.c

Patch 7.4.344
Problem:    Unnecessary initializations and other things related to
	    matchaddpos().
Solution:   Code cleanup. (Alexey Radkov)
Files:	    runtime/doc/eval.txt, src/screen.c, src/window.c

Patch 7.4.345 (after 7.4.338)
Problem:    Indent is not updated when deleting indent.
Solution:   Remember changedtick.
Files:	    src/misc1.c

Patch 7.4.346 (after 7.4.338)
Problem:    Indent is not updated when changing 'breakindentopt'. (itchyny)
Solution:   Do not cache "brishift". (Christian Brabandt)
Files:	    src/misc1.c

Patch 7.4.347
Problem:    test55 fails on some systems.
Solution:   Remove the elements that all result in zero and can end up in an
	    arbitrary position.
Files:	    src/testdir/test55.in, src/testdir/test55.ok

Patch 7.4.348
Problem:    When using "J1" in 'cinoptions' a line below a continuation line
	    gets too much indent.
Solution:   Fix parentheses in condition.
Files:	    src/misc1.c

Patch 7.4.349
Problem:    When there are matches to highlight the whole window is redrawn,
	    which is slow.
Solution:   Only redraw everything when lines were inserted or deleted.
	    Reset b_mod_xlines when needed.  (Alexey Radkov)
Files:	    src/screen.c, src/window.c

Patch 7.4.350
Problem:    Using C indenting for Javascript does not work well for a {} block
	    inside parentheses.
Solution:   When looking for a matching paren ignore one that is before the
	    start of a {} block.
Files:	    src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok

Patch 7.4.351
Problem:    sort() is not stable.
Solution:   When the items are identical, compare the pointers.
Files:	    src/eval.c, src/testdir/test55.in, src/testdir/test55.ok

Patch 7.4.352
Problem:    With 'linebreak' a tab causes a missing line break.
Solution:   Count a tab for what it's worth also for shorter lines.
	    (Christian Brabandt)
Files:	    src/charset.c

Patch 7.4.353
Problem:    'linebreak' doesn't work with the 'list' option.
Solution:   Make it work. (Christian Brabandt)
Files:	    runtime/doc/options.txt, src/charset.c, src/screen.c,
	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile,
	    src/testdir/test_listlbr.in, src/testdir/test_listlbr.ok

Patch 7.4.354
Problem:    Compiler warning.
Solution:   Change NUL to NULL. (Ken Takata)
Files:	    src/screen.c

Patch 7.4.355
Problem:    Several problems with Javascript indenting.
Solution:   Improve Javascript indenting.
Files:	    src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok

Patch 7.4.356
Problem:    Mercurial does not ignore memfile_test. (Daniel Hahler)
Solution:   Add memfile_test to ignored files, remove trailing spaces.
Files:	    .hgignore

Patch 7.4.357
Problem:    After completion some characters are not redrawn.
Solution:   Clear the command line unconditionally. (Jacob Niehus)
Files:	    src/edit.c

Patch 7.4.358 (after 7.4.351)
Problem:    Sort is not always stable.
Solution:   Add an index instead of relying on the pointer to remain the same.
	    Idea by Jun Takimoto.
Files:	    src/eval.c

Patch 7.4.359
Problem:    When 'ttymouse' is set to 'uxterm' the xterm version is not
	    requested. (Tomas Janousek)
Solution:   Do not mark uxterm as a conflict mouse and add
	    resume_get_esc_sequence().
Files:	    src/term.c, src/os_unix.c, src/proto/term.pro

Patch 7.4.360
Problem:    In a regexp pattern a "$" followed by \v or \V is not seen as the
	    end-of-line.
Solution:   Handle the situation. (Ozaki Kiichi)
Files:	    src/regexp.c

Patch 7.4.361
Problem:    Lots of flickering when filling the preview window for 'omnifunc'.
Solution:   Disable redrawing. (Hirohito Higashi)
Files:	    src/popupmnu.c

Patch 7.4.362
Problem:    When matchaddpos() uses a length smaller than the number of bytes
	    in the (last) character the highlight continues until the end of
	    the line.
Solution:   Change condition from equal to larger-or-equal.
Files:	    src/screen.c

Patch 7.4.363
Problem:    In Windows console typing 0xCE does not work.
Solution:   Convert 0xCE to K_NUL 3. (Nobuhiro Takasaki et al.)
Files:	    src/os_win32.c, src/term.c

Patch 7.4.364
Problem:    When the viminfo file can't be renamed there is no error message.
	    (Vladimir Berezhnoy)
Solution:   Check for the rename to fail.
Files:	    src/ex_cmds.c

Patch 7.4.365
Problem:    Crash when using ":botright split" when there isn't much space.
Solution:   Add a check for the minimum width/height. (Yukihiro Nakadaira)
Files:	    src/window.c

Patch 7.4.366
Problem:    Can't run the linebreak test on MS-Windows.
Solution:   Fix the output file name. (Taro Muraoka)
Files:	    src/testdir/Make_dos.mak

Patch 7.4.367 (after 7.4.357)
Problem:    Other solution for redrawing after completion.
Solution:   Schedule a window redraw instead of just clearing the command
	    line. (Jacob Niehus)
Files:	    src/edit.c

Patch 7.4.368
Problem:    Restoring the window sizes after closing the command line window
	    doesn't work properly if there are nested splits.
Solution:   Restore the sizes twice. (Hirohito Higashi)
Files:	    src/window.c

Patch 7.4.369
Problem:    Using freed memory when exiting while compiled with EXITFREE.
Solution:   Set curwin to NULL and check for that. (Dominique Pelle)
Files:	    src/buffer.c, src/window.c

Patch 7.4.370
Problem:    Linebreak test fails when encoding is not utf-8. (Danek Duvall)
Solution:   Split the test in a single byte one and a utf-8 one. (Christian
	    Brabandt)
Files:	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile,
	    src/testdir/test_listlbr.in, src/testdir/test_listlbr.ok,
	    src/testdir/test_listlbr_utf8.in, src/testdir/test_listlbr_utf8.ok

Patch 7.4.371
Problem:    When 'linebreak' is set control characters are not correctly
	    displayed. (Kimmy Lindvall)
Solution:   Set n_extra. (Christian Brabandt)
Files:	    src/screen.c

Patch 7.4.372
Problem:    When 'winminheight' is zero there might not be one line for the
	    current window.
Solution:   Change the size computations. (Yukihiro Nakadaira)
Files:	    src/window.c

Patch 7.4.373
Problem:    Compiler warning for unused argument and unused variable.
Solution:   Add UNUSED.  Move variable inside #ifdef.
Files:	    src/charset.c, src/window.c

Patch 7.4.374
Problem:    Character after "fb" command not mapped if it might be a composing
	    character.
Solution:   Don't disable mapping when looking for a composing character.
	    (Jacob Niehus)
Files:	    src/normal.c

Patch 7.4.375
Problem:    Test 63 fails when run with GUI-only Vim.
Solution:   Add guibg attributes. (suggested by Mike Soyka)
Files:	    src/testdir/test63.in

Patch 7.4.376 (after 7.4.367)
Problem:    Popup menu flickers too much.
Solution:   Remove the forced redraw. (Hirohito Higashi)
Files:	    src/edit.c

Patch 7.4.377
Problem:    When 'equalalways' is set a split may report "no room" even though
	    there is plenty of room.
Solution:   Compute the available room properly. (Yukihiro Nakadaira)
Files:	    src/window.c

Patch 7.4.378
Problem:    Title of quickfix list is not kept for setqflist(list, 'r').
Solution:   Keep the title.  Add a test. (Lcd)
Files:	    src/quickfix.c, src/testdir/Make_amiga.mak,
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
	    src/testdir/Makefile, src/testdir/test_qf_title.in,
	    src/testdir/test_qf_title.ok

Patch 7.4.379
Problem:    Accessing freed memory after using setqflist(list, 'r'). (Lcd)
Solution:   Reset qf_index.
Files:	    src/quickfix.c

Patch 7.4.380
Problem:    Loading python may cause Vim to exit.
Solution:   Avoid loading the "site" module. (Taro Muraoka)
Files:	    src/if_python.c

Patch 7.4.381
Problem:    Get u_undo error when backspacing in Insert mode deletes more than
	    one line break. (Ayberk Ozgur)
Solution:   Also decrement Insstart.lnum.
Files:	    src/edit.c

Patch 7.4.382
Problem:    Mapping characters may not work after typing Esc in Insert mode.
Solution:   Fix the noremap flags for inserted characters. (Jacob Niehus)
Files:	    src/getchar.c

Patch 7.4.383
Problem:    Bad interaction between preview window and omnifunc.
Solution:   Avoid redrawing the status line. (Hirohito Higashi)
Files:	    src/popupmnu.c

Patch 7.4.384
Problem:    Test 102 fails when compiled with small features.
Solution:   Source small.vim. (Jacob Niehus)
Files:	    src/testdir/test102.in

Patch 7.4.385
Problem:    When building with tiny or small features building the .mo files
	    fails.
Solution:   In autoconf do not setup for building the .mo files when it would
	    fail.
Files:	    src/configure.in, src/auto/configure

Patch 7.4.386
Problem:    When splitting a window the changelist position is wrong.
Solution:   Copy the changelist position. (Jacob Niehus)
Files:	    src/window.c, src/testdir/Make_amiga.mak,
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
	    src/testdir/Makefile, src/testdir/test_changelist.in,
	    src/testdir/test_changelist.ok

Patch 7.4.387
Problem:    "4gro" replaces one character then executes "ooo". (Urtica Dioica)
Solution:   Write the ESC in the second stuff buffer.
Files:	    src/getchar.c, src/proto/getchar.pro, src/edit.c,
	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile,
	    src/testdir/test_insertcount.in, src/testdir/test_insertcount.ok

Patch 7.4.388
Problem:    With 'linebreak' set and 'list' unset a Tab is not counted
	    properly. (Kent Sibilev)
Solution:   Check the 'list' option. (Christian Brabandt)
Files:	    src/screen.c, src/testdir/test_listlbr_utf8.in,
	    src/testdir/test_listlbr_utf8.ok

Patch 7.4.389
Problem:    Still sometimes Vim enters Replace mode when starting up.
Solution:   Use a different solution in detecting the termresponse and
	    location response. (Hayaki Saito)
Files:	    src/globals.h, src/os_unix.c, src/term.c, src/proto/term.pro

Patch 7.4.390
Problem:    Advancing pointer over end of a string.
Solution:   Init quote character to -1 instead of zero. (Dominique Pelle)
Files:	    src/misc1.c

Patch 7.4.391
Problem:    No 'cursorline' highlighting when the cursor is on a line with
	    diff highlighting. (Benjamin Fritz)
Solution:   Combine the highlight attributes. (Christian Brabandt)
Files:	    src/screen.c

Patch 7.4.392
Problem:    Not easy to detect type of command line window.
Solution:   Add the getcmdwintype() function. (Jacob Niehus)
Files:	    src/eval.c

Patch 7.4.393
Problem:    Text drawing on newer MS-Windows systems is suboptimal.  Some
	    multi-byte characters are not displayed, even though the same font
	    in Notepad can display them. (Srinath Avadhanula)
Solution:   Add the 'renderoptions' option to enable DirectX drawing. (Taro
	    Muraoka)
Files:	    runtime/doc/eval.txt, runtime/doc/options.txt,
	    runtime/doc/various.txt, src/Make_cyg.mak, src/Make_ming.mak,
	    src/Make_mvc.mak, src/eval.c, src/gui_dwrite.cpp,
	    src/gui_dwrite.h, src/gui_w32.c, src/gui_w48.c, src/option.c,
	    src/option.h, src/version.c, src/vim.h, src/proto/gui_w32.pro

Patch 7.4.394 (after 7.4.393)
Problem:    When using DirectX last italic character is incomplete.
Solution:   Add one to the number of cells. (Ken Takata)
Files:	    src/gui_w32.c

Patch 7.4.395 (after 7.4.355)
Problem:    C indent is wrong below an if with wrapped condition followed by
	    curly braces. (Trevor Powell)
Solution:   Make a copy of tryposBrace.
Files:	    src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok

Patch 7.4.396
Problem:    When 'clipboard' is "unnamed", :g/pat/d is very slow. (Praful)
Solution:   Only set the clipboard after the last delete. (Christian Brabandt)
Files:	    src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c, src/globals.h,
	    src/ops.c, src/proto/ui.pro, src/ui.c

Patch 7.4.397
Problem:    Matchparen only uses the topmost syntax item.
Solution:   Go through the syntax stack to find items. (James McCoy)
	    Also use getcurpos() when possible.
Files:	    runtime/plugin/matchparen.vim

Patch 7.4.398 (after 7.4.393)
Problem:    Gcc error for the argument of InterlockedIncrement() and
	    InterlockedDecrement(). (Axel Bender)
Solution:   Remove "unsigned" from the cRefCount_ declaration.
Files:	    src/gui_dwrite.cpp

Patch 7.4.399
Problem:    Encryption implementation is messy.  Blowfish encryption has a
	    weakness.
Solution:   Refactor the encryption, store the state in an allocated struct
	    instead of using a save/restore mechanism.  Introduce the
	    "blowfish2" method, which does not have the weakness and encrypts
	    the whole undo file. (largely by David Leadbeater)
Files:	    runtime/doc/editing.txt, runtime/doc/options.txt, src/Makefile,
	    src/blowfish.c, src/crypt.c, src/crypt_zip.c, src/ex_docmd.c,
	    src/fileio.c, src/globals.h, src/main.c, src/memline.c,
	    src/misc2.c, src/option.c, src/proto.h, src/proto/blowfish.pro,
	    src/proto/crypt.pro, src/proto/crypt_zip.pro,
	    src/proto/fileio.pro, src/proto/misc2.pro, src/structs.h,
	    src/undo.c, src/testdir/test71.in, src/testdir/test71.ok,
	    src/testdir/test71a.in, src/testdir/test72.in,
	    src/testdir/test72.ok

Patch 7.4.400
Problem:    List of distributed files is incomplete.
Solution:   Add recently added files.
Files:	    Filelist

Patch 7.4.401 (after 7.4.399)
Problem:    Can't build on MS-Windows.
Solution:   Include the new files in all the Makefiles.
Files:	    src/Make_bc3.mak, src/Make_bc5.mak, src/Make_cyg.mak,
	    src/Make_dice.mak, src/Make_djg.mak, src/Make_ivc.mak,
	    src/Make_manx.mak, src/Make_ming.mak, src/Make_morph.mak,
	    src/Make_mvc.mak, src/Make_os2.mak, src/Make_sas.mak,
	    Make_vms.mms

Patch 7.4.402
Problem:    Test 72 crashes under certain conditions. (Kazunobu Kuriyama)
Solution:   Clear the whole bufinfo_T early.
Files:	    src/undo.c

Patch 7.4.403
Problem:    Valgrind reports errors when running test 72. (Dominique Pelle)
Solution:   Reset the local 'cryptmethod' option before storing the seed.
	    Set the seed in the memfile even when there is no block0 yet.
Files:	    src/fileio.c, src/option.c, src/memline.c

Patch 7.4.404
Problem:    Windows 64 bit compiler warnings.
Solution:   Add type casts. (Mike Williams)
Files:	    src/crypt.c, src/undo.c

Patch 7.4.405
Problem:    Screen updating is slow when using matches.
Solution:   Do not use the ">=" as in patch 7.4.362, check the lnum.
Files:	    src/screen.c, src/testdir/test63.in, src/testdir/test63.ok

Patch 7.4.406
Problem:    Test 72 and 100 fail on MS-Windows.
Solution:   Set fileformat to unix in the tests. (Taro Muraoka)
Files:	    src/testdir/test72.in, src/testdir/test100.in

Patch 7.4.407
Problem:    Inserting text for Visual block mode, with cursor movement,
	    repeats the wrong text. (Aleksandar Ivanov)
Solution:   Reset the update_Insstart_orig flag. (Christian Brabandt)
Files:	    src/edit.c, src/testdir/test39.in, src/testdir/test39.ok

Patch 7.4.408
Problem:    Visual block insert breaks a multi-byte character.
Solution:   Calculate the position properly. (Yasuhiro Matsumoto)
Files:	    src/ops.c, src/testdir/test_utf8.in, src/testdir/test_utf8.ok,
	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile

Patch 7.4.409
Problem:    Can't build with Perl on Fedora 20.
Solution:   Find xsubpp in another directory. (Michael Henry)
Files:	    src/Makefile, src/config.mk.in, src/configure.in,
	    src/auto/configure

Patch 7.4.410
Problem:    Fold does not open after search when there is a CmdwinLeave
	    autocommand.
Solution:   Restore KeyTyped. (Jacob Niehus)
Files:	    src/ex_getln.c

Patch 7.4.411
Problem:    "foo bar" sorts before "foo" with sort(). (John Little)
Solution:   Avoid putting quotes around strings before comparing them.
Files:	    src/eval.c

Patch 7.4.412
Problem:    Can't build on Windows XP with MSVC.
Solution:   Add SUBSYSTEM_VER to the Makefile. (Yongwei Wu)
Files:	    src/Make_mvc.mak, src/INSTALLpc.txt

Patch 7.4.413
Problem:    MS-Windows: Using US international keyboard layout, inserting dead
	    key by pressing space does not always work.  Issue 250.
Solution:   Let MS-Windows translate the message. (John Wellesz)
Files:	    src/gui_w48.c

Patch 7.4.414
Problem:    Cannot define a command only when it's used.
Solution:   Add the CmdUndefined autocommand event. (partly by Yasuhiro
	    Matsumoto)
Files:	    runtime/doc/autocmd.txt, src/ex_docmd.c, src/fileio.c,
	    src/proto/fileio.pro

Patch 7.4.415 (after 7.4.414)
Problem:    Cannot build.  Warning for shadowed variable. (John Little)
Solution:   Add missing change.  Remove declaration.
Files:	    src/vim.h, src/ex_docmd.c

Patch 7.4.416
Problem:    Problem with breakindent/showbreak and tabs.
Solution:   Handle tabs differently. (Christian Brabandt)
Files:	    src/testdir/test_breakindent.in, src/testdir/test_breakindent.ok,
	    src/charset.c

Patch 7.4.417
Problem:    After splitting a window and setting 'breakindent' the default
	    minimum with is not respected.
Solution:   Call briopt_check() when copying options to a new window.
Files:	    src/option.c, src/proto/option.pro,
	    src/testdir/test_breakindent.in

Patch 7.4.418
Problem:    When leaving ":append" the cursor shape is like in Insert mode.
	    (Jacob Niehus)
Solution:   Do not have State set to INSERT when calling getline().
Files:	    src/ex_cmds.c

Patch 7.4.419
Problem:    When part of a list is locked it's possible to make changes.
Solution:   Check if any of the list items is locked before make a change.
	    (ZyX)
Files:	    src/eval.c, src/testdir/test55.in, src/testdir/test55.ok

Patch 7.4.420
Problem:    It's not obvious how to add a new test.
Solution:   Add a README file. (Christian Brabandt)
Files:	    src/testdir/README.txt

Patch 7.4.421
Problem:    Crash when searching for "\ze*". (Urtica Dioica)
Solution:   Disallow a multi after \ze and \zs.
Files:	    src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok

Patch 7.4.422
Problem:    When using conceal with linebreak some text is not displayed
	    correctly. (Grüner Gimpel)
Solution:   Check for conceal mode when using linebreak. (Christian Brabandt)
Files:	    src/screen.c, src/testdir/test_listlbr.in,
	    src/testdir/test_listlbr.ok

Patch 7.4.423
Problem:    expand("$shell") does not work as documented.
Solution:   Do not escape the $ when expanding environment variables.
Files:	    src/os_unix.c, src/misc1.c, src/vim.h

Patch 7.4.424
Problem:    Get ml_get error when using Python to delete lines in a buffer
	    that is not in a window.  issue 248.
Solution:   Do not try adjusting the cursor for a different buffer.
Files:	    src/if_py_both.h

Patch 7.4.425
Problem:    When 'showbreak' is used "gj" may move to the wrong position.
	    (Nazri Ramliy)
Solution:   Adjust virtcol when 'showbreak' is set. (Christian Brabandt)
Files:	    src/normal.c

Patch 7.4.426
Problem:    README File missing from list of files.
Solution:   Update the list of files.
Files:	    Filelist

Patch 7.4.427
Problem:    When an InsertCharPre autocommand executes system() typeahead may
	    be echoed and messes up the display. (Jacob Niehus)
Solution:   Do not set cooked mode when invoked from ":silent".
Files:	    src/eval.c, runtime/doc/eval.txt

Patch 7.4.428
Problem:    executable() may return a wrong result on MS-Windows.
Solution:   Change the way SearchPath() is called. (Yasuhiro Matsumoto, Ken
	    Takata)
Files:	    src/os_win32.c

Patch 7.4.429
Problem:    Build fails with fewer features. (Elimar Riesebieter)
Solution:   Add #ifdef.
Files:	    src/normal.c

Patch 7.4.430
Problem:    test_listlbr fails when compiled with normal features.
Solution:   Check for the +conceal feature.
Files:	    src/testdir/test_listlbr.in

Patch 7.4.431
Problem:    Compiler warning.
Solution:   Add type cast. (Mike Williams)
Files:	    src/ex_docmd.c

Patch 7.4.432
Problem:    When the startup code expands command line arguments, setting
	    'encoding' will not properly convert the arguments.
Solution:   Call get_cmd_argsW() early in main(). (Yasuhiro Matsumoto)
Files:	    src/os_win32.c, src/main.c, src/os_mswin.c

Patch 7.4.433
Problem:    Test 75 fails on MS-Windows.
Solution:   Use ":normal" instead of feedkeys(). (Michael Soyka)
Files:	    src/testdir/test75.in

Patch 7.4.434
Problem:    gettabvar() is not consistent with getwinvar() and getbufvar().
Solution:   Return a dict with all variables when the varname is empty.
	    (Yasuhiro Matsumoto)
Files:	    src/eval.c, runtime/doc/eval.txt, src/testdir/test91.in,
	    src/testdir/test91.ok

Patch 7.4.435
Problem:    Line formatting behaves differently when 'linebreak' is set.
	    (mvxxc)
Solution:   Disable 'linebreak' temporarily. (Christian Brabandt)
Files:	    src/edit.c

Patch 7.4.436
Problem:    ml_get error for autocommand that moves the cursor of the current
	    window.
Solution:   Check the cursor position after switching back to the current
	    buffer.  (Christian Brabandt)
Files:	    src/fileio.c

Patch 7.4.437
Problem:    New and old regexp engine are not consistent.
Solution:   Also give an error for "\ze*" for the old regexp engine.
Files:	    src/regexp.c, src/regexp_nfa.c

Patch 7.4.438
Problem:    Cached values for 'cino' not reset for ":set all&".
Solution:   Call parse_cino(). (Yukihiro Nakadaira)
Files:	    src/option.c

Patch 7.4.439
Problem:    Duplicate message in message history.  Some quickfix messages
	    appear twice. (Gary Johnson)
Solution:   Do not reset keep_msg too early. (Hirohito Higashi)
Files:	    src/main.c

Patch 7.4.440
Problem:    Omni complete popup drawn incorrectly.
Solution:   Call validate_cursor() instead of check_cursor(). (Hirohito
	    Higashi)
Files:	    src/edit.c

Patch 7.4.441
Problem:    Endless loop and other problems when 'cedit' is set to CTRL-C.
Solution:   Do not call ex_window() when ex_normal_busy or got_int was set.
	    (Yasuhiro Matsumoto)
Files:	    src/ex_getln.c

Patch 7.4.442 (after 7.4.434)
Problem:    Using uninitialized variable.
Solution:   Pass the first window of the tabpage.
Files:	    src/eval.c

Patch 7.4.443
Problem:    Error reported by ubsan when running test 72.
Solution:   Add type cast to unsigned. (Dominique Pelle)
Files:	    src/undo.c

Patch 7.4.444
Problem:    Reversed question mark not recognized as punctuation. (Issue 258)
Solution:   Add the Supplemental Punctuation range.
Files:	    src/mbyte.c

Patch 7.4.445
Problem:    Clipboard may be cleared on startup.
Solution:   Set clip_did_set_selection to -1 during startup. (Christian
	    Brabandt)
Files:	    src/main.c, src/ui.c

Patch 7.4.446
Problem:    In some situations, when setting up an environment to trigger an
	    autocommand, the environment is not properly restored.
Solution:   Check the return value of switch_win() and call restore_win()
	    always.  (Daniel Hahler)
Files:	    src/eval.c, src/misc2.c, src/window.c

Patch 7.4.447
Problem:    Spell files from Hunspell may generate a lot of errors.
Solution:   Add the IGNOREEXTRA flag.
Files:	    src/spell.c, runtime/doc/spell.txt

Patch 7.4.448
Problem:    Using ETO_IGNORELANGUAGE causes problems.
Solution:   Remove this flag. (Paul Moore)
Files:	    src/gui_w32.c

Patch 7.4.449
Problem:    Can't easily close the help window. (Chris Gaal)
Solution:   Add ":helpclose". (Christian Brabandt)
Files:	    runtime/doc/helphelp.txt, runtime/doc/index.txt, src/ex_cmds.c,
	    src/ex_cmds.h, src/proto/ex_cmds.pro

Patch 7.4.450
Problem:    Not all commands that edit another buffer support the +cmd
	    argument.
Solution:   Add the +cmd argument to relevant commands. (Marcin Szamotulski)
Files:	    runtime/doc/windows.txt, src/ex_cmds.h, src/ex_docmd.c

Patch 7.4.451
Problem:    Calling system() with empty input gives an error for writing the
	    temp file.
Solution:   Do not try writing if the string length is zero. (Olaf Dabrunz)
Files:	    src/eval.c

Patch 7.4.452
Problem:    Can't build with tiny features. (Tony Mechelynck)
Solution:   Use "return" instead of "break".
Files:	    src/ex_cmds.c

Patch 7.4.453
Problem:    Still can't build with tiny features.
Solution:   Add #ifdef.
Files:	    src/ex_cmds.c

Patch 7.4.454
Problem:    When using a Visual selection of multiple words and doing CTRL-W_]
	    it jumps to the tag matching the word under the cursor, not the
	    selected text.  (Patrick hemmer)
Solution:   Do not reset Visual mode. (idea by Christian Brabandt)
Files:	    src/window.c

Patch 7.4.455
Problem:    Completion for :buf does not use 'wildignorecase'. (Akshay H)
Solution:   Pass the 'wildignorecase' flag around.
Files:	    src/buffer.c

Patch 7.4.456
Problem:    'backupcopy' is global, cannot write only some files in a
	    different way.
Solution:   Make 'backupcopy' global-local. (Christian Brabandt)
Files:	    runtime/doc/options.txt, src/buffer.c, src/fileio.c, src/option.c,
	    src/option.h, src/proto/option.pro, src/structs.h

Patch 7.4.457
Problem:    Using getchar() in an expression mapping may result in
	    K_CURSORHOLD, which can't be recognized.
Solution:   Add the <CursorHold> key.  (Hirohito Higashi)
Files:	    src/misc2.c

Patch 7.4.458
Problem:    Issue 252: Cursor moves in a zero-height window.
Solution:   Check for zero height. (idea by Christian Brabandt)
Files:	    src/move.c

Patch 7.4.459
Problem:    Can't change the icon after building Vim.
Solution:   Load the icon from a file on startup. (Yasuhiro Matsumoto)
Files:	    src/gui_w32.c, src/os_mswin.c, src/os_win32.c,
	    src/proto/os_mswin.pro

Patch 7.4.460 (after 7.4.454)
Problem:    Can't build without the quickfix feature. (Erik Falor)
Solution:   Add a #ifdef.
Files:	    src/window.c

Patch 7.4.461
Problem:    MS-Windows: When collate is on the number of copies is too high.
Solution:   Only set the collated/uncollated count when collate is on.
	    (Yasuhiro Matsumoto)
Files:	    src/os_mswin.c

Patch 7.4.462
Problem:    Setting the local value of 'backupcopy' empty gives an error.
	    (Peter Mattern)
Solution:   When using an empty value set the flags to zero. (Hirohito
	    Higashi)
Files:	    src/option.c

Patch 7.4.463
Problem:    Test 86 and 87 may hang on MS-Windows.
Solution:   Call inputrestore() after inputsave(). (Ken Takata)
Files:	    src/testdir/test86.in, src/testdir/test87.in

Patch 7.4.464 (after 7.4.459)
Problem:    Compiler warning.
Solution:   Add type cast. (Ken Takata)
Files:	    src/gui_w32.c

Patch 7.4.465 (after 7.4.016)
Problem:    Crash when expanding a very long string.
Solution:   Use wcsncpy() instead of wcscpy(). (Ken Takata)
Files:	    src/os_win32.c

Patch 7.4.466 (after 7.4.460)
Problem:    CTRL-W } does not open preview window. (Erik Falor)
Solution:   Don't set g_do_tagpreview for CTRL-W }.
Files:	    src/window.c

Patch 7.4.467
Problem:    'linebreak' does not work well together with Visual mode.
Solution:   Disable 'linebreak' while applying an operator.  Fix the test.
	    (Christian Brabandt)
Files:	    src/normal.c, src/screen.c, src/testdir/test_listlbr.in,
	    src/testdir/test_listlbr.ok

Patch 7.4.468
Problem:    Issue 26: CTRL-C does not interrupt after it was mapped and then
	    unmapped.
Solution:   Reset mapped_ctrl_c. (Christian Brabandt)
Files:	    src/getchar.c

Patch 7.4.469 (after 7.4.467)
Problem:    Can't build with MSVC. (Ken Takata)
Solution:   Move the assignment after the declarations.
Files:	    src/normal.c

Patch 7.4.470
Problem:    Test 11 and 100 do not work properly on Windows.
Solution:   Avoid using feedkeys(). (Ken Takata)
Files:	    src/testdir/Make_dos.mak, src/testdir/test11.in,
	    src/testdir/test100.in

Patch 7.4.471
Problem:    MS-Windows: When printer name contains multi-byte, the name is
	    displayed as ???.
Solution:   Convert the printer name from the active codepage to 'encoding'.
	    (Yasuhiro Matsumoto)
Files:	    src/os_mswin.c

Patch 7.4.472
Problem:    The "precedes" entry in 'listchar' will be drawn when 'showbreak'
	    is set and 'list' is not.
Solution:   Only draw this character when 'list' is on. (Christian Brabandt)
Files:	    src/screen.c

Patch 7.4.473
Problem:    Cursor movement is incorrect when there is a number/sign/fold
	    column and 'sbr' is displayed.
Solution:   Adjust the column for 'sbr'. (Christian Brabandt)
Files:	    src/charset.c

Patch 7.4.474
Problem:    AIX compiler can't handle // comment.  Issue 265.
Solution:   Remove that line.
Files:	    src/regexp_nfa.c

Patch 7.4.475
Problem:    Can't compile on a system where Xutf8SetWMProperties() is not in
	    the X11 library.  Issue 265.
Solution:   Add a configure check.
Files:	    src/configure.in, src/auto/configure, src/config.h.in,
	    src/os_unix.c

Patch 7.4.476
Problem:    MingW: compiling with "XPM=no" doesn't work.
Solution:   Check for the "no" value. (KF Leong)  Also for Cygwin. (Ken
	    Takata)
Files:	    src/Make_ming.mak, src/Make_cyg.mak

Patch 7.4.477
Problem:    When using ":%diffput" and the other file is empty an extra empty
	    line remains.
Solution:   Set the buf_empty flag.
Files:	    src/diff.c

Patch 7.4.478
Problem:    Using byte length instead of character length for 'showbreak'.
Solution:   Compute the character length. (Marco Hinz)
Files:	    src/charset.c

Patch 7.4.479
Problem:    MS-Windows: The console title can be wrong.
Solution:   Take the encoding into account. When restoring the title use the
	    right function. (Yasuhiro Matsumoto)
Files:	    src/os_mswin.c, src/os_win32.c

Patch 7.4.480 (after 7.4.479)
Problem:    MS-Windows: Can't build.
Solution:   Remove goto, use a flag instead.
Files:	    src/os_win32.c

Patch 7.4.481 (after 7.4.471)
Problem:    Compiler warning on MS-Windows.
Solution:   Add type casts. (Ken Takata)
Files:	    src/os_mswin.c

Patch 7.4.482
Problem:    When 'balloonexpr' results in a list, the text has a trailing
	    newline. (Lcd)
Solution:   Remove one trailing newline.
Files:	    src/gui_beval.c

Patch 7.4.483
Problem:    A 0x80 byte is not handled correctly in abbreviations.
Solution:   Unescape special characters. Add a test. (Christian Brabandt)
Files:	    src/getchar.c, src/testdir/Make_amiga.mak,
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
	    src/testdir/Makefile, src/testdir/test_mapping.in,
	    src/testdir/test_mapping.ok

Patch 7.4.484 (after 7.4.483)
Problem:    Compiler warning on MS-Windows. (Ken Takata)
Solution:   Add type cast.
Files:	    src/getchar.c

Patch 7.4.485 (after 7.4.484)
Problem:    Abbreviations don't work. (Toothpik)
Solution:   Move the length computation inside the for loop.  Compare against
	    the unescaped key.
Files:	    src/getchar.c

Patch 7.4.486
Problem:    Check for writing to a yank register is wrong.
Solution:   Negate the check. (Zyx).  Also clean up the #ifdefs.
Files:	    src/ex_docmd.c, src/ex_cmds.h

Patch 7.4.487
Problem:    ":sign jump" may use another window even though the file is
	    already edited in the current window.
Solution:   First check if the file is in the current window. (James McCoy)
Files:	    src/window.c, src/testdir/Make_amiga.mak,
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
	    src/testdir/Makefile, src/testdir/test_signs.in,
	    src/testdir/test_signs.ok

Patch 7.4.488
Problem:    test_mapping fails for some people.
Solution:   Set the 'encoding' option. (Ken Takata)
Files:	    src/testdir/test_mapping.in

Patch 7.4.489
Problem:    Cursor movement still wrong when 'lbr' is set and there is a
	    number column. (Hirohito Higashi)
Solution:   Add correction for number column. (Hiroyuki Takagi)
Files:	    src/charset.c

Patch 7.4.490
Problem:    Cannot specify the buffer to use for "do" and "dp", making them
	    useless for three-way diff.
Solution:   Use the count as the buffer number. (James McCoy)
Files:	    runtime/doc/diff.txt, src/diff.c, src/normal.c, src/proto/diff.pro

Patch 7.4.491
Problem:    When winrestview() has a negative "topline" value there are
	    display errors.
Solution:   Correct a negative value to 1. (Hirohito Higashi)
Files:	    src/eval.c

Patch 7.4.492
Problem:    In Insert mode, after inserting a newline that inserts a comment
	    leader, CTRL-O moves to the right. (ZyX) Issue 57.
Solution:   Correct the condition for moving the cursor back to the NUL.
	    (Christian Brabandt)
Files:	    src/edit.c, src/testdir/test4.in, src/testdir/test4.ok

Patch 7.4.493
Problem:    A TextChanged autocommand is triggered when saving a file.
	    (William Gardner)
Solution:   Update last_changedtick after calling unchanged(). (Christian
	    Brabandt)
Files:	    src/fileio.c

Patch 7.4.494
Problem:    Cursor shape is wrong after a CompleteDone autocommand.
Solution:   Update the cursor and mouse shape after ":normal" restores the
	    state. (Jacob Niehus)
Files:	    src/ex_docmd.c

Patch 7.4.495
Problem:    XPM isn't used correctly in the Cygwin Makefile.
Solution:   Include the rules like in Make_ming.mak. (Ken Takata)
Files:	    src/Make_cyg.mak

Patch 7.4.496
Problem:    Many lines are both in Make_cyg.mak and Make_ming.mak
Solution:   Move the common parts to one file. (Ken Takata)
Files:	    src/INSTALLpc.txt, src/Make_cyg.mak, src/Make_cyg_ming.mak,
	    src/Make_ming.mak, src/Make_mvc.mak, Filelist

Patch 7.4.497
Problem:    With some regexp patterns the NFA engine uses many states and
	    becomes very slow.  To the user it looks like Vim freezes.
Solution:   When the number of states reaches a limit fall back to the old
	    engine. (Christian Brabandt)
Files:	    runtime/doc/options.txt, src/Makefile, src/regexp.c, src/regexp.h,
	    src/regexp_nfa.c, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Makefile, src/testdir/samples/re.freeze.txt,
	    src/testdir/bench_re_freeze.in, src/testdir/bench_re_freeze.vim,
	    Filelist

Patch 7.4.498 (after 7.4.497)
Problem:    Typo in DOS makefile.
Solution:   Change exists to exist. (Ken Takata)
Files:	    src/testdirMake_dos.mak

Patch 7.4.499
Problem:    substitute() can be slow with long strings.
Solution:   Store a pointer to the end, instead of calling strlen() every
	    time. (Ozaki Kiichi)
Files:	    src/eval.c

Patch 7.4.500
Problem:    Test 72 still fails once in a while.
Solution:   Don't set 'fileformat' to unix, reset it. (Ken Takata)
Files:	    src/testdir/test72.in

Patch 7.4.501 (after 7.4.497)
Problem:    Typo in file pattern.
Solution:   Insert a slash and remove a dot.
Files:	    Filelist

Patch 7.4.502
Problem:    Language mapping also applies to mapped characters.
Solution:   Add the 'langnoremap' option, when on 'langmap' does not apply to
	    mapped characters. (Christian Brabandt)
Files:	    runtime/doc/options.txt, runtime/vimrc_example.vim, src/macros.h,
	    src/option.c, src/option.h

Patch 7.4.503
Problem:    Cannot append a list of lines to a file.
Solution:   Add the append option to writefile(). (Yasuhiro Matsumoto)
Files:	    runtime/doc/eval.txt, src/Makefile, src/eval.c,
	    src/testdir/test_writefile.in, src/testdir/test_writefile.ok

Patch 7.4.504
Problem:    Restriction of the MS-Windows installer that the path must end in
	    "Vim" prevents installing more than one version.
Solution:   Remove the restriction. (Tim Lebedkov)
Files:	    nsis/gvim.nsi

Patch 7.4.505
Problem:    On MS-Windows when 'encoding' is a double-byte encoding a file
	    name longer than MAX_PATH bytes but shorter than that in
	    characters causes problems.
Solution:   Fail on file names longer than MAX_PATH bytes. (Ken Takata)
Files:	    src/os_win32.c

Patch 7.4.506
Problem:    MS-Windows: Cannot open a file with 259 characters.
Solution:   Fix off-by-one error. (Ken Takata)
Files:	    src/os_mswin.c

Patch 7.4.507 (after 7.4.496)
Problem:    Building with MingW and Perl.
Solution:   Remove quotes. (Ken Takata)
Files:	    src/Make_cyg_ming.mak

Patch 7.4.508
Problem:    When generating ja.sjis.po the header is not correctly adjusted.
Solution:   Check for the right header string. (Ken Takata)
Files:	    src/po/sjiscorr.c

Patch 7.4.509
Problem:    Users are not aware their encryption is weak.
Solution:   Give a warning when prompting for the key.
Files:	    src/crypt.c, src/ex_docmd.c, src/fileio.c, src/main.c,
	    src/proto/crypt.pro

Patch 7.4.510
Problem:    "-fwrapv" argument breaks use of cproto.
Solution:   Remove the alphabetic arguments in a drastic way.
Files:	    src/Makefile

Patch 7.4.511
Problem:    Generating proto for if_ruby.c uses type not defined elsewhere.
Solution:   Do not generate a prototype for
	    rb_gc_writebarrier_unprotect_promoted()
Files:	    src/if_ruby.c

Patch 7.4.512
Problem:    Cannot generate prototypes for Win32 files and VMS.
Solution:   Add typedefs and #ifdef
Files:	    src/os_win32.c, src/gui_w32.c, src/os_vms.c

Patch 7.4.513
Problem:    Crash because reference count is wrong for list returned by
	    getreg().
Solution:   Increment the reference count. (Kimmy Lindvall)
Files:	    src/eval.c

Patch 7.4.514 (after 7.4.492)
Problem:    Memory access error. (Dominique Pelle)
Solution:   Update tpos. (Christian Brabandt)
Files:	    src/edit.c

Patch 7.4.515
Problem:    In a help buffer the global 'foldmethod' is used.  (Paul Marshall)
Solution:   Reset 'foldmethod' when starting to edit a help file.  Move the
	    code to a separate function.
Files:	    src/ex_cmds.c

Patch 7.4.516
Problem:    Completing a function name containing a # does not work.  Issue
	    253.
Solution:   Recognize the # character. (Christian Brabandt)
Files:	    src/eval.c

Patch 7.4.517
Problem:    With a wrapping line the cursor may not end up in the right place.
	    (Nazri Ramliy)
Solution:   Adjust n_extra for a Tab that wraps. (Christian Brabandt)
Files:	    src/screen.c

Patch 7.4.518
Problem:    Using status line height in width computations.
Solution:   Use one instead. (Hirohito Higashi)
Files:	    src/window.c

Patch 7.4.519 (after 7.4.497)
Problem:    Crash when using syntax highlighting.
Solution:   When regprog is freed and replaced, store the result.
Files:	    src/buffer.c, src/regexp.c, src/syntax.c, src/spell.c,
	    src/ex_cmds2.c, src/fileio.c, src/proto/fileio.pro,
	    src/proto/regexp.pro, src/os_unix.c

Patch 7.4.520
Problem:    Sun PCK locale is not recognized.
Solution:   Add PCK in the table. (Keiichi Oono)
Files:	    src/mbyte.c

Patch 7.4.521
Problem:    When using "vep" a mark is moved to the next line. (Maxi Padulo,
	    Issue 283)
Solution:   Decrement the line number. (Christian Brabandt)
Files:	    src/ops.c

Patch 7.4.522
Problem:    Specifying wrong buffer size for GetLongPathName().
Solution:   Use the actual size. (Ken Takata)
Files:	    src/eval.c

Patch 7.4.523
Problem:    When the X11 server is stopped and restarted, while Vim is kept in
	    the background, copy/paste no longer works. (Issue 203)
Solution:   Setup the clipboard again. (Christian Brabandt)
Files:	    src/os_unix.c

Patch 7.4.524
Problem:    When using ":ownsyntax" spell checking is messed up. (Issue 78)
Solution:   Use the window-local option values. (Christian Brabandt)
Files:	    src/option.c, src/syntax.c

Patch 7.4.525
Problem:    map() leaks memory when there is an error in the expression.
Solution:   Call clear_tv(). (Christian Brabandt)
Files:	    src/eval.c

Patch 7.4.526
Problem:    matchstr() fails on long text. (Daniel Hahler)
Solution:   Return NFA_TOO_EXPENSIVE from regexec_nl(). (Christian Brabandt)
Files:	    src/regexp.c

Patch 7.4.527
Problem:    Still confusing regexp failure and NFA_TOO_EXPENSIVE.
Solution:   NFA changes equivalent of 7.4.526.
Files:	    src/regexp_nfa.c

Patch 7.4.528
Problem:    Crash when using matchadd() (Yasuhiro Matsumoto)
Solution:   Copy the match regprog.
Files:	    src/screen.c

Patch 7.4.529
Problem:    No test for what 7.4.517 fixes.
Solution:   Adjust the tests for breakindent. (Christian Brabandt)
Files:	    src/testdir/test_breakindent.in, src/testdir/test_breakindent.ok

Patch 7.4.530
Problem:    Many commands take a count or range that is not using line
	    numbers.
Solution:   For each command specify what kind of count it uses.  For windows,
	    buffers and arguments have "$" and "." have a relevant meaning.
	    (Marcin Szamotulski)
Files:	    runtime/doc/editing.txt, runtime/doc/tabpage.txt,
	    runtime/doc/windows.txt, src/Makefile, src/ex_cmds.h,
	    src/ex_docmd.c, src/testdir/Make_amiga.mak
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
	    src/testdir/Makefile, src/testdir/test_argument_count.in,
	    src/testdir/test_argument_count.ok,
	    src/testdir/test_close_count.in, src/testdir/test_close_count.ok,
	    src/window.c

Patch 7.4.531
Problem:    Comments about parsing an Ex command are wrong.
Solution:   Correct the step numbers.
Files:	    src/ex_docmd.c

Patch 7.4.532
Problem:    When using 'incsearch' "2/pattern/e" highlights the first match.
Solution:   Move the code to set extra_col inside the loop for count.  (Ozaki
	    Kiichi)
Files:	    src/search.c

Patch 7.4.533
Problem:    ":hardcopy" leaks memory in case of errors.
Solution:   Free memory in all code paths. (Christian Brabandt)
Files:	    src/hardcopy.c

Patch 7.4.534
Problem:    Warnings when compiling if_ruby.c.
Solution:   Avoid the warnings. (Ken Takata)
Files:	    src/if_ruby.c

Patch 7.4.535 (after 7.4.530)
Problem:    Can't build with tiny features.
Solution:   Add #ifdefs and skip a test.
Files:	    src/ex_docmd.c, src/testdir/test_argument_count.in

Patch 7.4.536
Problem:    Test 63 fails when using a black&white terminal.
Solution:   Add attributes for a non-color terminal. (Christian Brabandt)
Files:	    src/testdir/test63.in

Patch 7.4.537
Problem:    Value of v:hlsearch reflects an internal variable.
Solution:   Make the value reflect whether search highlighting is actually
	    displayed. (Christian Brabandt)
Files:	    runtime/doc/eval.txt, src/testdir/test101.in,
	    src/testdir/test101.ok, src/vim.h

Patch 7.4.538
Problem:    Tests fail with small features plus Python.
Solution:   Disallow weird combination of options.  Do not set "fdm" when
	    folding is disabled.
Files:	    src/option.c, src/ex_cmds.c, src/configure.in, src/auto/configure,
	    src/feature.h

Patch 7.4.539 (after 7.4.530)
Problem:    Crash when computing buffer count.  Problem with range for user
	    commands.  Line range wrong in Visual area.
Solution:   Avoid segfault in compute_buffer_local_count().  Check for
	    CMD_USER when checking type of range. (Marcin Szamotulski)
Files:	    runtime/doc/windows.txt, src/ex_docmd.c

Patch 7.4.540 (after 7.4.539)
Problem:    Cannot build with tiny and small features. (Taro Muraoka)
Solution:   Add #ifdef around CMD_USER.
Files:	    src/ex_docmd.c

Patch 7.4.541
Problem:    Crash when doing a range assign.
Solution:   Check for NULL pointer. (Yukihiro Nakadaira)
Files:	    src/eval.c, src/testdir/test55.in, src/testdir/test55.ok

Patch 7.4.542
Problem:    Using a range for window and buffer commands has a few problems.
	    Cannot specify the type of range for a user command.
Solution:   Add the -addr argument for user commands.  Fix problems. (Marcin
	    Szamotulski)
Files:	    src/testdir/test_command_count.in,
	    src/testdir/test_command_count.ok src/testdir/Make_amiga.mak
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
	    src/testdir/Makefile, runtime/doc/map.txt, src/Makefile,
	    src/ex_cmds.h, src/ex_docmd.c, src/ex_getln.c,
	    src/proto/ex_docmd.pro, src/vim.h,

Patch 7.4.543
Problem:    Since patch 7.4.232 "1,3s/\n//" joins two lines instead of three.
	    (Eliseo Martínez)  Issue 287
Solution:   Correct the line count. (Christian Brabandt)
	    Also set the last used search pattern.
Files:	    src/ex_cmds.c, src/search.c, src/proto/search.pro

Patch 7.4.544
Problem:    Warnings for unused arguments when compiling with a combination of
	    features.
Solution:   Add "UNUSED".
Files:	    src/if_cscope.c

Patch 7.4.545
Problem:    Highlighting for multi-line matches is not correct.
Solution:   Stop highlight at the end of the match. (Hirohito Higashi)
Files:	    src/screen.c

Patch 7.4.546
Problem:    Repeated use of vim_snprintf() with a number.
Solution:   Move these vim_snprintf() calls into a function.
Files:	    src/window.c

Patch 7.4.547
Problem:    Using "vit" does not select a multi-byte character at the end
	    correctly.
Solution:   Advance the cursor over the multi-byte character. (Christian
	    Brabandt)
Files:	    src/search.c

Patch 7.4.548
Problem:    Compilation fails with native version of MinGW-w64, because
	    it doesn't have x86_64-w64-mingw32-windres.exe.
Solution:   Use windres instead. (Ken Takata)
Files:	    src/Make_cyg_ming.mak

Patch 7.4.549
Problem:    Function name not recognized correctly when inside a function.
Solution:   Don't check for an alpha character. (Ozaki Kiichi)
Files:	    src/eval.c, src/testdir/test_nested_function.in,
	    src/testdir/test_nested_function.ok, src/testdir/Make_amiga.mak,
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
	    src/testdir/Makefile

Patch 7.4.550
Problem:    curs_rows() function is always called with the second argument
	    false.
Solution:   Remove the argument. (Christian Brabandt)
	    validate_botline_win() can then also be removed.
Files:	    src/move.c

Patch 7.4.551
Problem:    "ygn" may yank too much. (Fritzophrenic)  Issue 295.
Solution:   Check the width of the next match. (Christian Brabandt)
Files:	    src/search.c, src/testdir/test53.in, src/testdir/test53.ok

Patch 7.4.552
Problem:    Langmap applies to Insert mode expression mappings.
Solution:   Check for Insert mode. (Daniel Hahler)
Files:	    src/getchar.c, src/testdir/test_mapping.in,
	    src/testdir/test_mapping.ok

Patch 7.4.553
Problem:    Various small issues.
Solution:   Fix those issues.
Files:	    src/ex_cmds.h, src/gui.h, src/message.c, src/testdir/test39.in,
	    src/proto/eval.pro, src/proto/misc1.pro, src/proto/ops.pro,
	    src/proto/screen.pro, src/proto/window.pro. src/os_unix.c,
	    src/Make_vms.mms, src/proto/os_vms.pro, src/INSTALL

Patch 7.4.554
Problem:    Missing part of patch 7.4.519.
Solution:   Copy back regprog after calling vim_regexec.
Files:	    src/quickfix.c

Patch 7.4.555
Problem:    test_close_count may fail for some combination of features.
Solution:   Require normal features.
Files:	    src/testdir/test_close_count.in

Patch 7.4.556
Problem:    Failed commands in Python interface not handled correctly.
Solution:   Restore window and buffer on failure.
Files:	    src/if_py_both.h

Patch 7.4.557
Problem:    One more small issue.
Solution:   Update function proto.
Files:	    src/proto/window.pro

Patch 7.4.558
Problem:    When the X server restarts Vim may get stuck.
Solution:   Destroy the application context and create it again.  (Issue 203)
Files:	    src/os_unix.c

Patch 7.4.559
Problem:    Appending a block in the middle of a tab does not work correctly
	    when virtualedit is set.
Solution:   Decrement spaces and count, don't reset them. (James McCoy)
Files:	    src/ops.c, src/testdir/test39.in, src/testdir/test39.ok

Patch 7.4.560
Problem:    Memory leak using :wviminfo. Issue 296.
Solution:   Free memory when needed. (idea by Christian Brabandt)
Files:	    src/ops.c

Patch 7.4.561
Problem:    Ex range handling is wrong for buffer-local user commands.
Solution:   Check for CMD_USER_BUF. (Marcin Szamotulski)
Files:	    src/ex_docmd.c, src/testdir/test_command_count.in,
	    src/testdir/test_command_count.ok

Patch 7.4.562
Problem:    Segfault with wide screen and error in 'rulerformat'. (Ingo Karkat)
Solution:   Check there is enough space. (Christian Brabandt)
Files:	    src/buffer.c, src/screen.c

Patch 7.4.563
Problem:    No test for replacing on a tab in Virtual replace mode.
Solution:   Add a test. (Elias Diem)
Files:	    src/testdir/test48.in, src/testdir/test48.ok

Patch 7.4.564
Problem:    FEAT_OSFILETYPE is used even though it's never defined.
Solution:   Remove the code. (Christian Brabandt)
Files:	    src/fileio.c

Patch 7.4.565
Problem:    Ranges for arguments, buffers, tabs, etc. are not checked to be
	    valid but limited to the maximum.  This can cause the wrong thing
	    to happen.
Solution:   Give an error for an invalid value. (Marcin Szamotulski)
	    Use windows range for ":wincmd".
Files:	    src/ex_docmd.c, src/ex_cmds.h, src/testdir/test62.in,
	    src/testdir/test_argument_count.in,
	    src/testdir/test_argument_count.ok,
	    src/testdir/test_close_count.in,
	    src/testdir/test_command_count.in,
	    src/testdir/test_command_count.ok

Patch 7.4.566
Problem:    :argdo, :bufdo, :windo and :tabdo don't take a range.
Solution:   Support the range. (Marcin Szamotulski)
Files:	    runtime/doc/editing.txt, runtime/doc/tabpage.txt,
	    runtime/doc/windows.txt, src/ex_cmds.h, src/ex_cmds2.c,
	    src/testdir/test_command_count.in,
	    src/testdir/test_command_count.ok

Patch 7.4.567
Problem:    Non-ascii vertical separator characters are always redrawn.
Solution:   Compare only the one byte that's stored. (Thiago Padilha)
Files:	    src/screen.c

Patch 7.4.568
Problem:    Giving an error for ":0wincmd w" is a problem for some plugins.
Solution:   Allow the zero in the range. (Marcin Szamotulski)
Files:	    src/ex_docmd.c, src/testdir/test_command_count.ok

Patch 7.4.569 (after 7.4.468)
Problem:    Having CTRL-C interrupt or not does not check the mode of the
	    mapping. (Ingo Karkat)
Solution:   Use a bitmask with the map mode. (Christian Brabandt)
Files:	    src/getchar.c, src/structs.h, src/testdir/test_mapping.in,
	    src/testdir/test_mapping.ok, src/ui.c, src/globals.h

Patch 7.4.570
Problem:    Building with dynamic library does not work for Ruby 2.2.0
Solution:   Change #ifdefs and #defines. (Ken Takata)
Files:	    src/if_ruby.c

Patch 7.4.571 (after 7.4.569)
Problem:    Can't build with tiny features. (Ike Devolder)
Solution:   Add #ifdef.
Files:	    src/getchar.c

Patch 7.4.572
Problem:    Address type of :wincmd depends on the argument.
Solution:   Check the argument.
Files:	    src/ex_docmd.c, src/window.c, src/proto/window.pro

Patch 7.4.573 (after 7.4.569)
Problem:    Mapping CTRL-C in Visual mode doesn't work. (Ingo Karkat)
Solution:   Call get_real_state() instead of using State directly.
Files:	    src/ui.c, src/testdir/test_mapping.in, src/testdir/test_mapping.ok

Patch 7.4.574
Problem:    No error for eval('$').
Solution:   Check for empty name. (Yasuhiro Matsumoto)
Files:	    src/eval.c

Patch 7.4.575
Problem:    Unicode character properties are outdated.
Solution:   Update the tables with the latest version.
Files:	    src/mbyte.c

Patch 7.4.576
Problem:    Redrawing problem with 'relativenumber' and 'linebreak'.
Solution:   Temporarily reset 'linebreak' and restore it in more places.
	    (Christian Brabandt)
Files:	    src/normal.c

Patch 7.4.577
Problem:    Matching with a virtual column has a lot of overhead on very long
	    lines. (Issue 310)
Solution:   Bail out early if there can't be a match. (Christian Brabandt)
	    Also check for CTRL-C at every position.
Files:	    src/regexp_nfa.c

Patch 7.4.578
Problem:    Using getcurpos() after "$" in an empty line returns a negative
	    number.
Solution:   Don't add one when this would overflow. (Hirohito Higashi)
Files:	    src/eval.c

Patch 7.4.579
Problem:    Wrong cursor positioning when 'linebreak' is set and lines wrap. 
Solution:   Fix it. (Christian Brabandt)
Files:	    src/charset.c, src/screen.c

Patch 7.4.580
Problem:    ":52wincmd v" still gives an invalid range error. (Charles
	    Campbell)
Solution:   Skip over white space.
Files:	    src/ex_docmd.c

Patch 7.4.581
Problem:    Compiler warnings for uninitialized variables. (John Little)
Solution:   Initialize the variables.
Files:	    src/ops.c

Patch 7.4.582 (after 7.4.577)
Problem:    Can't match "%>80v" properly. (Axel Bender)
Solution:   Correctly handle ">". (Christian Brabandt)
Files:	    src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok

Patch 7.4.583
Problem:    With tiny features test 16 may fail.
Solution:   Source small.vim. (Christian Brabandt)
Files:	    src/testdir/test16.in

Patch 7.4.584
Problem:    With tiny features test_command_count may fail.
Solution:   Source small.vim. (Christian Brabandt)
Files:	    src/testdir/test_command_count.in

Patch 7.4.585
Problem:    Range for :bdelete does not work. (Ronald Schild)
Solution:   Also allow unloaded buffers.
Files:	    src/ex_cmds.h, src/testdir/test_command_count.in,
	    src/testdir/test_command_count.ok

Patch 7.4.586
Problem:    Parallel building of the documentation html files is not reliable. 
Solution:   Remove a cyclic dependency. (Reiner Herrmann)
Files:	    runtime/doc/Makefile

Patch 7.4.587
Problem:    Conceal does not work properly with 'linebreak'. (cs86661)
Solution:   Save and restore boguscols. (Christian Brabandt)
Files:	    src/screen.c, src/testdir/test_listlbr_utf8.in,
	    src/testdir/test_listlbr_utf8.ok

Patch 7.4.588
Problem:    ":0argedit foo" puts the new argument in the second place instead
	    of the first.
Solution:   Adjust the range type. (Ingo Karkat)
Files:	    src/ex_cmds.h, src/testdir/Make_amiga.mak,
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
	    src/testdir/Makefile, src/testdir/test_argument_0count.in,
	    src/testdir/test_argument_0count.ok

Patch 7.4.589
Problem:    In the MS-Windows console Vim can't handle greek characters when
	    encoding is utf-8.
Solution:   Escape K_NUL. (Yasuhiro Matsumoto)
Files:	    src/os_win32.c

Patch 7.4.590
Problem:    Using ctrl_x_mode as if it contains flags.
Solution:   Don't use AND with CTRL_X_OMNI. (Hirohito Higashi)
Files:	    src/edit.c

Patch 7.4.591 (after 7.4.587)
Problem:    test_listlbr_utf8 fails when the conceal feature is not available.
Solution:   Check for the conceal feature. (Kazunobu Kuriyama)
Files:	    src/testdir/test_listlbr_utf8.in

Patch 7.4.592
Problem:    When doing ":e foobar" when already editing "foobar" and 'buftype'
	    is "nofile" the buffer is cleared. (Xavier de Gaye)
Solution:   Do no clear the buffer.
Files:	    src/ex_cmds.c

Patch 7.4.593
Problem:    Crash when searching for "x\{0,90000}". (Dominique Pelle)
Solution:   Bail out from the NFA engine when the max limit is much higher
	    than the min limit.
Files:	    src/regexp_nfa.c, src/regexp.c, src/vim.h

Patch 7.4.594
Problem:    Using a block delete while 'breakindent' is set does not work
	    properly.
Solution:   Use "line" instead of "prev_pend" as the first argument to
	    lbr_chartabsize_adv().  (Hirohito Higashi)
Files:	    src/ops.c, src/testdir/test_breakindent.in,
	    src/testdir/test_breakindent.ok

Patch 7.4.595
Problem:    The test_command_count test fails when using Japanese.
Solution:   Force the language to C. (Hirohito Higashi)
Files:	    src/testdir/test_command_count.in

Patch 7.4.596 (after 7.4.592)
Problem:    Tiny build doesn't compile.  (Ike Devolder)
Solution:   Add #ifdef.
Files:	    src/ex_cmds.c

Patch 7.4.597
Problem:    Cannot change the result of systemlist().
Solution:   Initialize v_lock. (Yukihiro Nakadaira)
Files:	    src/eval.c

Patch 7.4.598
Problem:    ":tabdo windo echo 'hi'" causes "* register not to be changed.
	    (Salman Halim)
Solution:   Change how clip_did_set_selection is used and add
	    clipboard_needs_update and global_change_count.  (Christian
	    Brabandt)
Files:	    src/main.c, src/ui.c, src/testdir/test_eval.in,
	    src/testdir/test_eval.ok

Patch 7.4.599
Problem:    Out-of-memory error.
Solution:   Avoid trying to allocate a negative amount of memory, use size_t
	    instead of int. (Dominique Pelle)
Files:	    src/regexp_nfa.c

Patch 7.4.600
Problem:    Memory wasted in struct because of aligning.
Solution:   Split pos in lnum and col. (Dominique Pelle)
Files:	    src/regexp_nfa.c

Patch 7.4.601
Problem:    It is not possible to have feedkeys() insert characters.
Solution:   Add the 'i' flag.
Files:	    src/eval.c, runtime/doc/eval.txt

Patch 7.4.602
Problem:    ":set" does not accept hex numbers as documented.
Solution:   Use vim_str2nr(). (ZyX)
Files:	    src/option.c, runtime/doc/options.txt

Patch 7.4.603
Problem:    'foldcolumn' may be set such that it fills the whole window, not
	    leaving space for text.
Solution:   Reduce the foldcolumn width when there is not sufficient room.
	    (idea by Christian Brabandt)
Files:	    src/screen.c

Patch 7.4.604
Problem:    Running tests changes viminfo.
Solution:   Disable viminfo.
Files:	    src/testdir/test_breakindent.in

Patch 7.4.605
Problem:    The # register is not writable, it cannot be restored after
	    jumping around.
Solution:   Make the # register writable. (Marcin Szamotulski)
Files:	    runtime/doc/change.txt, src/ops.c, src/buffer.c, src/globals.h

Patch 7.4.606
Problem:    May crash when using a small window.
Solution:   Avoid dividing by zero. (Christian Brabandt)
Files:	    src/normal.c

Patch 7.4.607 (after 7.4.598)
Problem:    Compiler warnings for unused variables.
Solution:   Move them inside #ifdef. (Kazunobu Kuriyama)
Files:	    src/ui.c

Patch 7.4.608 (after 7.4.598)
Problem:    test_eval fails when the clipboard feature is missing.
Solution:   Skip part of the test. Reduce the text used.
Files:	    src/testdir/test_eval.in, src/testdir/test_eval.ok

Patch 7.4.609
Problem:    For complicated list and dict use the garbage collector can run
	    out of stack space.
Solution:   Use a stack of dicts and lists to be marked, thus making it
	    iterative instead of recursive. (Ben Fritz)
Files:	    src/eval.c, src/if_lua.c, src/if_py_both.h, src/if_python.c,
	    src/if_python3.c, src/proto/eval.pro, src/proto/if_lua.pro,
	    src/proto/if_python.pro, src/proto/if_python3.pro, src/structs.h

Patch 7.4.610
Problem:    Some function headers may be missing from generated .pro files.
Solution:   Add PROTO to the #ifdef.
Files:	    src/option.c, src/syntax.c

Patch 7.4.611 (after 7.4.609)
Problem:    Syntax error.
Solution:   Change statement to return.
Files:	    src/if_python3.c

Patch 7.4.612
Problem:    test_eval fails on Mac.
Solution:   Use the * register instead of the + register. (Jun Takimoto)
Files:	    src/testdir/test_eval.in, src/testdir/test_eval.ok

Patch 7.4.613
Problem:    The NFA engine does not implement the 'redrawtime' time limit.
Solution:   Implement the time limit.
Files:	    src/regexp_nfa.c

Patch 7.4.614
Problem:    There is no test for what patch 7.4.601 fixes.
Solution:   Add a test. (Christian Brabandt)
Files:	    src/testdir/test_mapping.in, src/testdir/test_mapping.ok

Patch 7.4.615
Problem:    Vim hangs when freeing a lot of objects.
Solution:   Do not go back to the start of the list every time.  (Yasuhiro
	    Matsumoto and Ariya Mizutani)
Files:	    src/eval.c

Patch 7.4.616
Problem:    Cannot insert a tab in front of a block.
Solution:   Correctly compute aop->start. (Christian Brabandt)
Files:	    src/ops.c, src/testdir/test39.in, src/testdir/test39.ok

Patch 7.4.617
Problem:    Wrong ":argdo" range does not cause an error.
Solution:   Reset "cmd" to NULL. (Marcin Szamotulski, Ingo Karkat)
Files:	    src/ex_docmd.c

Patch 7.4.618 (after 7.4.609)
Problem:    luaV_setref() is missing a return statement. (Ozaki Kiichi)
Solution:   Put the return statement back.
Files:	    src/if_lua.c

Patch 7.4.619 (after 7.4.618)
Problem:    luaV_setref() not returning the correct value.
Solution:   Return one.
Files:	    src/if_lua.c

Patch 7.4.620
Problem:    Compiler warning for uninitialized variable. (Tony Mechelynck)
Solution:   Initialize "did_free". (Ben Fritz)
Files:	    src/eval.c

Patch 7.4.621 (after 7.4.619)
Problem:    Returning 1 in the wrong function. (Raymond Ko)
Solution:   Return 1 in the right function (hopefully).
Files:	    src/if_lua.c

Patch 7.4.622
Problem:    Compiler warning for unused argument.
Solution:   Add UNUSED.
Files:	    src/regexp_nfa.c

Patch 7.4.623
Problem:    Crash with pattern: \(\)\{80000}  (Dominique Pelle)
Solution:   When the max limit is large fall back to the old engine.
Files:	    src/regexp_nfa.c

Patch 7.4.624
Problem:    May leak memory or crash when vim_realloc() returns NULL.
Solution:   Handle a NULL value properly. (Mike Williams)
Files:	    src/if_cscope.c, src/memline.c, src/misc1.c, src/netbeans.c

Patch 7.4.625
Problem:    Possible NULL pointer dereference.
Solution:   Check for NULL before using it. (Mike Williams)
Files:	    src/if_py_both.h

Patch 7.4.626
Problem:    MSVC with W4 gives useless warnings.
Solution:   Disable more warnings. (Mike Williams)
Files:	    src/vim.h

Patch 7.4.627
Problem:    The last screen cell is not updated.
Solution:   Respect the "tn" termcap feature. (Hayaki Saito)
Files:	    runtime/doc/term.txt, src/option.c, src/screen.c, src/term.c,
	    src/term.h

Patch 7.4.628
Problem:    Compiler warning for variable might be clobbered by longjmp.
Solution:   Add volatile. (Michael Jarvis)
Files:	    src/main.c

Patch 7.4.629
Problem:    Coverity warning for Out-of-bounds read.
Solution:   Increase MAXWLEN to 254. (Eliseo Martínez)
Files:	    src/spell.c

Patch 7.4.630
Problem:    When using Insert mode completion combined with autocommands the
	    redo command may not work.
Solution:   Do not save the redo buffer when executing autocommands. (Yasuhiro
	    Matsumoto)
Files:	    src/fileio.c

Patch 7.4.631
Problem:    The default conceal character is documented to be a space but it's
	    initially a dash. (Christian Brabandt)
Solution:   Make the initial value a space.
Files:	    src/globals.h

Patch 7.4.632 (after 7.4.592)
Problem:    7.4.592 breaks the netrw plugin, because the autocommands are
	    skipped.
Solution:   Roll back the change.
Files:	    src/ex_cmds.c

Patch 7.4.633
Problem:    After 7.4.630 the problem persists.
Solution:   Also skip redo when calling a user function.
Files:	    src/eval.c

Patch 7.4.634
Problem:    Marks are not restored after redo + undo.
Solution:   Fix the way marks are restored. (Olaf Dabrunz)
Files:	    src/undo.c, src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile,
	    src/testdir/test_marks.in, src/testdir/test_marks.ok

Patch 7.4.635
Problem:    If no NL or CR is found in the first block of a file then the
	    'fileformat' may be set to "mac". (Issue 77)
Solution:   Check if a CR was found. (eswald)
Files:	    src/fileio.c

Patch 7.4.636
Problem:    A search with end offset gets stuck at end of file. (Gary Johnson)
Solution:   When a search doesn't move the cursor repeat it with a higher
	    count. (Christian Brabandt)
Files:	    src/normal.c, src/testdir/test44.in, src/testdir/test44.ok

Patch 7.4.637
Problem:    Incorrectly read the number of buffer for which an autocommand
	    should be registered.
Solution:   Reverse check for "<buffer=abuf>". (Lech Lorens)
Files:	    src/fileio.c

Patch 7.4.638
Problem:    Can't build with Lua 5.3 on Windows.
Solution:   use luaL_optinteger() instead of LuaL_optlong(). (Ken Takata)
Files:	    src/if_lua.c

Patch 7.4.639
Problem:    Combination of linebreak and conceal doesn't work well.
Solution:   Fix the display problems. (Christian Brabandt)
Files:	    src/screen.c, src/testdir/test88.in, src/testdir/test88.ok,
	    src/testdir/test_listlbr_utf8.in, src/testdir/test_listlbr_utf8.ok

Patch 7.4.640
Problem:    After deleting characters in Insert mode such that lines are
	    joined undo does not work properly. (issue 324)
Solution:   Use Insstart instead of Insstart_orig. (Christian Brabandt)
Files:	    src/edit.c

Patch 7.4.641
Problem:    The tabline menu was using ":999tabnew" which is now invalid.
Solution:   Use ":$tabnew" instead. (Florian Degner)
Files:	    src/normal.c

Patch 7.4.642
Problem:    When using "gf" escaped spaces are not handled.
Solution:   Recognize escaped spaces.
Files:	    src/vim.h, src/normal.h, src/window.c, src/misc2.c

Patch 7.4.643
Problem:    Using the default file format for Mac files. (Issue 77)
Solution:   Reset the try_mac counter in the right place. (Oswald)
Files:	    src/fileio.c, src/testdir/test30.in, src/testdir/test30.ok

Patch 7.4.644
Problem:    Stratus VOS doesn't have sync().
Solution:   Use fflush(). (Karli Aurelia)
Files:	    src/memfile.c

Patch 7.4.645
Problem:    When splitting the window in a BufAdd autocommand while still in
	    the first, empty buffer the window count is wrong.
Solution:   Do not reset b_nwindows to zero and don't increment it.
Files:	    src/buffer.c, src/ex_cmds.c

Patch 7.4.646
Problem:    ":bufdo" may start at a deleted buffer.
Solution:   Find the first not deleted buffer. (Shane Harper)
Files:	    src/ex_cmds2.c, src/testdir/test_command_count.in,
	    src/testdir/test_command_count.ok

Patch 7.4.647
Problem:    After running the tests on MS-Windows many files differ from their
	    originals as they were checked out.
Solution:   Use a temp directory for executing the tests. (Ken Takata, Taro
	    Muraoka)
Files:	    src/testdir/Make_dos.mak

Patch 7.4.648 (after 7.4.647)
Problem:    Tests broken on MS-Windows.
Solution:   Delete wrong copy line. (Ken Takata)
Files:	    src/testdir/Make_dos.mak

Patch 7.4.649
Problem:    Compiler complains about ignoring return value of fwrite().
	    (Michael Jarvis)
Solution:   Add (void).
Files:	    src/misc2.c

Patch 7.4.650
Problem:    Configure check may fail because the dl library is not used.
Solution:   Put "-ldl" in LIBS rather than LDFLAGS. (Ozaki Kiichi)
Files:	    src/configure.in, src/auto/configure

Patch 7.4.651 (after 7.4.582)
Problem:    Can't match "%>80v" properly for multi-byte characters.
Solution:   Multiply the character number by the maximum number of bytes in a
	    character. (Yasuhiro Matsumoto)
Files:	    src/regexp_nfa.c

Patch 7.4.652
Problem:    Xxd lacks a few features.
Solution:   Use 8 characters for the file position.  Add the -e and -o
	    arguments. (Vadim Vygonets)
Files:	    src/xxd/xxd.c, runtime/doc/xxd.1

Patch 7.4.653
Problem:    Insert mode completion with complete() may have CTRL-L work like
	    CTRL-P.
Solution:   Handle completion with complete() differently. (Yasuhiro
	    Matsumoto, Christian Brabandt, Hirohito Higashi)
Files:	    src/edit.c

Patch 7.4.654
Problem:    glob() and globpath() cannot include links to non-existing files.
	    (Charles Campbell)
Solution:   Add an argument to include all links with glob(). (James McCoy)
	    Also for globpath().
Files:	    src/vim.h, src/eval.c, src/ex_getln.c

Patch 7.4.655
Problem:    Text deleted by "dit" depends on indent of closing tag.
	    (Jan Parthey)
Solution:   Do not adjust oap->end in do_pending_operator(). (Christian
	    Brabandt)
Files:	    src/normal.c, src/search.c, src/testdir/test53.in,
	    src/testdir/test53.ok

Patch 7.4.656 (after 7.4.654)
Problem:    Missing changes for glob() in one file.
Solution:   Add the missing changes.
Files:	    src/misc1.c

Patch 7.4.657 (after 7.4.656)
Problem:    Compiler warnings for pointer mismatch.
Solution:   Add a typecast. (John Marriott)
Files:	    src/misc1.c

Patch 7.4.658
Problem:    'formatexpr' is evaluated too often.
Solution:   Only invoke it when beyond the 'textwidth' column, as it is
	    documented. (James McCoy)
Files:	    src/edit.c

Patch 7.4.659
Problem:    When 'ruler' is set the preferred column is reset. (Issue 339)
Solution:   Don't set curswant when redrawing the status lines.
Files:	    src/option.c

Patch 7.4.660
Problem:    Using freed memory when g:colors_name is changed in the colors
	    script. (oni-link)
Solution:   Make a copy of the variable value.
Files:	    src/syntax.c

Patch 7.4.661
Problem:    Using "0 CTRL-D" in Insert mode may have CursorHoldI interfere.
	    (Gary Johnson)
Solution:   Don't store K_CURSORHOLD as the last character. (Christian
	    Brabandt)
Files:	    src/edit.c

Patch 7.4.662
Problem:    When 'M' is in the 'cpo' option then selecting a text object in
	    parentheses does not work correctly.
Solution:   Keep 'M' in 'cpo' when finding a match. (Hirohito Higashi)
Files:	    src/search.c, src/testdir/Make_amiga.mak,
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
	    src/testdir/Makefile, src/testdir/test_textobjects.in,
	    src/testdir/test_textobjects.ok

Patch 7.4.663
Problem:    When using netbeans a buffer is not found in another tab.
Solution:   When 'switchbuf' is set to "usetab" then switch to another tab
	    when possible. (Xavier de Gaye)
Files:	    src/netbeans.c

Patch 7.4.664
Problem:    When 'compatible' is reset 'numberwidth' is set to 4, but the
	    effect doesn't show until a change is made.
Solution:   Check if 'numberwidth' changed. (Christian Brabandt)
Files:	    src/screen.c, src/structs.h

Patch 7.4.665
Problem:    'linebreak' does not work properly with multi-byte characters.
Solution:   Compute the pointer offset with mb_head_off().  (Yasuhiro
	    Matsumoto)
Files:	    src/screen.c

Patch 7.4.666
Problem:    There is a chance that Vim may lock up.
Solution:   Handle timer events differently. (Aaron Burrow)
Files:	    src/os_unix.c

Patch 7.4.667
Problem:    'colorcolumn' isn't drawn in a closed fold while 'cursorcolumn'
	    is. (Carlos Pita)
Solution:   Make it consistent. (Christian Brabandt)
Files:	    src/screen.c

Patch 7.4.668
Problem:    Can't use a glob pattern as a regexp pattern.
Solution:   Add glob2regpat(). (Christian Brabandt)
Files:	    src/eval.c, runtime/doc/eval.txt

Patch 7.4.669
Problem:    When netbeans is active the sign column always shows up.
Solution:   Only show the sign column once a sign has been added. (Xavier de
	    Gaye)
Files:	    src/buffer.c, src/edit.c, src/move.c, src/netbeans.c,
	    src/screen.c, src/structs.h

Patch 7.4.670
Problem:    Using 'cindent' for Javascript is less than perfect.
Solution:   Improve indenting of continuation lines. (Hirohito Higashi)
Files:	    src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok

Patch 7.4.671 (after 7.4.665)
Problem:    Warning for shadowing a variable.
Solution:   Rename off to mb_off. (Kazunobu Kuriyama)
Files:	    src/screen.c

Patch 7.4.672
Problem:    When completing a shell command, directories in the current
	    directory are not listed.
Solution:   When "." is not in $PATH also look in the current directory for
	    directories.
Files:	    src/ex_getln.c, src/vim.h, src/misc1.c, src/eval.c,
	    src/os_amiga.c, src/os_msdos.c, src/os_unix.c, src/os_vms.c,
	    src/proto/os_amiga.pro, src/proto/os_msdos.pro,
	    src/proto/os_unix.pro, src/proto/os_win32.pro

Patch 7.4.673
Problem:    The first syntax entry gets sequence number zero, which doesn't
	    work. (Clinton McKay)
Solution:   Start at number one. (Bjorn Linse)
Files:	    src/syntax.c

Patch 7.4.674 (after 7.4.672)
Problem:    Missing changes in one file.
Solution:   Also change the win32 file.
Files:	    src/os_win32.c

Patch 7.4.675
Problem:    When a FileReadPost autocommand moves the cursor inside a line it
	    gets moved back.
Solution:   When checking whether an autocommand moved the cursor store the
	    column as well. (Christian Brabandt)
Files:	    src/ex_cmds.c

Patch 7.4.676
Problem:    On Mac, when not using the default Python framework configure
	    doesn't do the right thing.
Solution:   Use a linker search path. (Kazunobu Kuriyama)
Files:	    src/configure.in, src/auto/configure

Patch 7.4.677 (after 7.4.676)
Problem:    Configure fails when specifying a python-config-dir. (Lcd)
Solution:   Check if PYTHONFRAMEWORKPREFIX is set.
Files:	    src/configure.in, src/auto/configure

Patch 7.4.678
Problem:    When using --remote the directory may end up being wrong.
Solution:   Use localdir() to find out what to do. (Xaizek)
Files:	    src/main.c

Patch 7.4.679
Problem:    Color values greater than 255 cause problems on MS-Windows.
Solution:   Truncate to 255 colors. (Yasuhiro Matsumoto)
Files:	    src/os_win32.c

Patch 7.4.680
Problem:    CTRL-W in Insert mode does not work well for multi-byte
	    characters.
Solution:   Use mb_get_class(). (Yasuhiro Matsumoto)
Files:	    src/edit.c, src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile,
	    src/testdir/test_erasebackword.in,
	    src/testdir/test_erasebackword.ok,

Patch 7.4.681
Problem:    MS-Windows: When Vim is minimized the window height is computed
	    incorrectly.
Solution:   When minimized use the previously computed size. (Ingo Karkat)
Files:	    src/gui_w32.c

Patch 7.4.682
Problem:    The search highlighting and match highlighting replaces the
	    cursorline highlighting, this doesn't look good.
Solution:   Combine the highlighting. (Yasuhiro Matsumoto)
Files:	    src/screen.c

Patch 7.4.683
Problem:    Typo in the vimtutor command.
Solution:   Fix the typo. (Corey Farwell, github pull 349)
Files:	    vimtutor.com

Patch 7.4.684
Problem:    When starting several Vim instances in diff mode, the temp files
	    used may not be unique. (Issue 353)
Solution:   Add an argument to vim_tempname() to keep the file.
Files:	    src/diff.c, src/eval.c, src/ex_cmds.c, src/fileio.c,
	    src/hardcopy.c, src/proto/fileio.pro, src/if_cscope.c,
	    src/memline.c, src/misc1.c, src/os_unix.c, src/quickfix.c,
	    src/spell.c

Patch 7.4.685
Problem:    When there are illegal utf-8 characters the old regexp engine may
	    go past the end of a string.
Solution:   Only advance to the end of the string. (Dominique Pelle)
Files:	    src/regexp.c

Patch 7.4.686
Problem:    "zr" and "zm" do not take a count.
Solution:   Implement the count, restrict the fold level to the maximum
	    nesting depth.  (Marcin Szamotulski)
Files:	    runtime/doc/fold.txt, src/normal.c

Patch 7.4.687
Problem:    There is no way to use a different in Replace mode for a terminal.
Solution:   Add t_SR. (Omar Sandoval)
Files:	    runtime/doc/options.txt, runtime/doc/term.txt,
	    runtime/syntax/vim.vim, src/option.c, src/term.c, src/term.h

Patch 7.4.688
Problem:    When "$" is in 'cpo' the popup menu isn't undrawn correctly.
	    (Issue 166)
Solution:   When using the popup menu remove the "$".
Files:	    src/edit.c

Patch 7.4.689
Problem:    On MS-Windows, when 'autochdir' is set, diff mode with files in
	    different directories does not work. (Axel Bender)
Solution:   Remember the current directory and use it where needed. (Christian
	    Brabandt)
Files:	    src/main.c

Patch 7.4.690
Problem:    Memory access errors when changing indent in Ex mode. Also missing
	    redraw when using CTRL-U. (Knil Ino)
Solution:   Update pointers after calling ga_grow().
Files:	    src/ex_getln.c

Patch 7.4.691 (after 7.4.689)
Problem:    Can't build with MzScheme.
Solution:   Change "cwd" into the global variable "start_dir".
Files:	    src/main.c

Patch 7.4.692
Problem:    Defining SOLARIS for no good reason. (Danek Duvall)
Solution:   Remove it.
Files:	    src/os_unix.h

Patch 7.4.693
Problem:    Session file is not correct when there are multiple tab pages.
Solution:   Reset the current window number for each tab page. (Jacob Niehus)
Files:      src/ex_docmd.c

Patch 7.4.694
Problem:    Running tests changes the .viminfo file.
Solution:   Disable viminfo in the text objects test.
Files:      src/testdir/test_textobjects.in

Patch 7.4.695
Problem:    Out-of-bounds read, detected by Coverity.
Solution:   Remember the value of cmap for the first matching encoding.  Reset
            cmap to that value if first matching encoding is going to be used.
            (Eliseo Martínez)
Files:      src/hardcopy.c

Patch 7.4.696
Problem:    Not freeing memory when encountering an error.
Solution:   Free the stack before returning. (Eliseo Martínez)
Files:      src/regexp_nfa.c

Patch 7.4.697
Problem:    The filename used for ":profile" must be given literally.
Solution:   Expand "~" and environment variables. (Marco Hinz)
Files:      src/ex_cmds2.c

Patch 7.4.698
Problem:    Various problems with locked and fixed lists and dictionaries.
Solution:   Disallow changing locked items, fix a crash, add tests. (Olaf
            Dabrunz)
Files:      src/structs.h, src/eval.c, src/testdir/test55.in,
            src/testdir/test55.ok

Patch 7.4.699
Problem:    E315 when trying to delete a fold. (Yutao Yuan)
Solution:   Make sure the fold doesn't go beyond the last buffer line.
            (Christian Brabandt)
Files:      src/fold.c

Patch 7.4.700
Problem:    Fold can't be opened after ":move". (Ein Brown)
Solution:   Delete the folding information and update it afterwards.
            (Christian Brabandt)
Files:      src/ex_cmds.c, src/fold.c, src/testdir/test45.in,
            src/testdir/test45.ok

Patch 7.4.701
Problem:    Compiler warning for using uninitialized variable. (Yasuhiro
            Matsumoto)
Solution:   Initialize it.
Files:      src/hardcopy.c

Patch 7.4.702
Problem:    Joining an empty list does unnecessary work.
Solution:   Let join() return early. (Marco Hinz)
Files:      src/eval.c

Patch 7.4.703
Problem:    Compiler warning for start_dir unused when building unittests.
Solution:   Move start_dir inside the #ifdef.
Files:      src/main.c

Patch 7.4.704
Problem:    Searching for a character matches an illegal byte and causes
            invalid memory access. (Dominique Pelle)
Solution:   Do not match an invalid byte when search for a character in a
            string.  Fix equivalence classes using negative numbers, which
            result in illegal bytes.
Files:      src/misc2.c, src/regexp.c, src/testdir/test44.in

Patch 7.4.705
Problem:    Can't build with Ruby 2.2.
Solution:   Add #ifdefs to handle the incompatible change. (Andrei Olsen)
Files:      src/if_ruby.c

Patch 7.4.706
Problem:    Window drawn wrong when 'laststatus' is zero and there is a
            command-line window. (Yclept Nemo)
Solution:   Set the status height a bit later. (Christian Brabandt)
Files:      src/window.c

Patch 7.4.707
Problem:    Undo files can have their executable bit set.
Solution:   Strip of the executable bit. (Mikael Berthe)
Files:      src/undo.c

Patch 7.4.708
Problem:    gettext() is called too often.
Solution:   Do not call gettext() for messages until they are actually used.
            (idea by Yasuhiro Matsumoto)
Files:      src/eval.c

Patch 7.4.709
Problem:    ":tabmove" does not work as documented.
Solution:   Make it work consistently.  Update documentation and add tests.
            (Hirohito Higashi)
Files:      src/window.c, runtime/doc/tabpage.txt, src/ex_docmd.c,
            src/testdir/test62.in, src/testdir/test62.ok

Patch 7.4.710
Problem:    It is not possible to make spaces visible in list mode.
Solution:   Add the "space" item to 'listchars'. (David Bürgin, issue 350)
Files:      runtime/doc/options.txt, src/globals.h, src/message.h,
            src/screen.c, src/testdir/test_listchars.in,
            src/testdir/test_listchars.ok, src/testdir/Make_amiga.mak,
            src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
            src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
            src/testdir/Makefile

Patch 7.4.711 (after 7.4.710)
Problem:    Missing change in one file.
Solution:   Also change option.c
Files:      src/option.c

Patch 7.4.712 (after 7.4.710)
Problem:    Missing change in another file.
Solution:   Also change message.c
Files:      src/message.c

Patch 7.4.713
Problem:    Wrong condition for #ifdef.
Solution:   Change USR_EXRC_FILE2 to USR_VIMRC_FILE2. (Mikael Fourrier)
Files:      src/os_unix.h

Patch 7.4.714
Problem:    Illegal memory access when there are illegal bytes.
Solution:   Check the byte length of the character. (Dominique Pelle)
Files:      src/regexp.c

Patch 7.4.715
Problem:    Invalid memory access when there are illegal bytes.
Solution:   Get the length from the text, not from the character. (Dominique
            Pelle)
Files:      src/regexp_nfa.c

Patch 7.4.716
Problem:    When using the 'c' flag of ":substitute" and selecting "a" or "l"
            at the prompt the flags are not remembered for ":&&". (Ingo
            Karkat)
Solution:   Save the flag values and restore them. (Hirohito Higashi)
Files:      src/ex_cmds.c

Patch 7.4.717
Problem:    ":let list += list" can change a locked list.
Solution:   Check for the lock earlier. (Olaf Dabrunz)
Files:      src/eval.c, src/testdir/test55.in, src/testdir/test55.ok

Patch 7.4.718
Problem:    Autocommands triggered by quickfix cannot get the current title
            value.
Solution:   Set w:quickfix_title earlier. (Yannick)
            Also move the check for a title into the function.
Files:      src/quickfix.c

Patch 7.4.719
Problem:    Overflow when adding MAXCOL to a pointer.
Solution:   Subtract pointers instead. (James McCoy)
Files:      src/screen.c

Patch 7.4.720
Problem:    Can't build with Visual Studio 2015.
Solution:   Recognize the "version 14" numbers and omit /nodefaultlib when
            appropriate. (Paul Moore)
Files:      src/Make_mvc.mak

Patch 7.4.721
Problem:    When 'list' is set Visual mode does not highlight anything in
            empty lines. (mgaleski)
Solution:   Check the value of lcs_eol in another place. (Christian Brabandt)
Files:      src/screen.c

Patch 7.4.722
Problem:    0x202f is not recognized as a non-breaking space character.
Solution:   Add 0x202f to the list. (Christian Brabandt)
Files:      runtime/doc/options.txt, src/message.c, src/screen.c

Patch 7.4.723
Problem:    For indenting, finding the C++ baseclass can be slow.
Solution:   Cache the result. (Hirohito Higashi)
Files:      src/misc1.c

Patch 7.4.724
Problem:    Vim icon does not show in Windows context menu. (issue 249)
Solution:   Load the icon in GvimExt.
Files:      src/GvimExt/gvimext.cpp, src/GvimExt/gvimext.h

Patch 7.4.725
Problem:    ":call setreg('"', [])" reports an internal error.
Solution:   Make the register empty. (Yasuhiro Matsumoto)
Files:      src/ops.c

Patch 7.4.726 (after 7.4.724)
Problem:    Cannot build GvimExt.
Solution:   Set APPVER to 5.0.  (KF Leong)
Files:      src/GvimExt/Makefile

Patch 7.4.727 (after 7.4.724)
Problem:    Cannot build GvimExt with MingW.
Solution:   Add -lgdi32.  (KF Leong)
Files:      src/GvimExt/Make_ming.mak

Patch 7.4.728
Problem:    Can't build with some version of Visual Studio 2015.
Solution:   Recognize another version 14 number. (Sinan)
Files:      src/Make_mvc.mak

Patch 7.4.729 (after 7.4.721)
Problem:    Occasional crash with 'list' set.
Solution:   Fix off-by-one error. (Christian Brabandt)
Files:      src/screen.c

Patch 7.4.730
Problem:    When setting the crypt key and using a swap file, text may be
            encrypted twice or unencrypted text remains in the swap file.
            (Issue 369)
Solution:   Call ml_preserve() before re-encrypting.  Set correct index for
            next pointer block.
Files:      src/memfile.c, src/memline.c, src/proto/memline.pro, src/option.c

Patch 7.4.731
Problem:    The tab menu shows "Close tab" even when it doesn't work.
Solution:   Don't show "Close tab" for the last tab. (John Marriott)
Files:      src/gui_w48.c, src/gui_gtk_x11.c, src/gui_mac.c, src/gui_motif.c

Patch 7.4.732
Problem:    The cursor line is not always updated for the "O" command.
Solution:   Reset the VALID_CROW flag. (Christian Brabandt)
Files:      src/normal.c

Patch 7.4.733
Problem:    test_listchars breaks on MS-Windows. (Kenichi Ito)
Solution:   Set fileformat to "unix". (Christian Brabandt)
Files:      src/testdir/test_listchars.in

Patch 7.4.734
Problem:    ml_get error when using "p" in a Visual selection in the last
            line.
Solution:   Change the behavior at the last line. (Yukihiro Nakadaira)
Files:      src/normal.c, src/ops.c, src/testdir/test94.in,
            src/testdir/test94.ok

Patch 7.4.735
Problem:    Wrong argument for sizeof().
Solution:   Use a pointer argument. (Chris Hall)
Files:      src/eval.c

Patch 7.4.736
Problem:    Invalid memory access.
Solution:   Avoid going over the end of a NUL terminated string. (Dominique
            Pelle)
Files:      src/regexp.c

Patch 7.4.737
Problem:    On MS-Windows vimgrep over arglist doesn't work (Issue 361)
Solution:   Only escape backslashes in ## expansion when it is not used as the
            path separator. (James McCoy)
Files:      src/ex_docmd.c

Patch 7.4.738 (after 7.4.732)
Problem:    Can't compile without the syntax highlighting feature.
Solution:   Add #ifdef around use of w_p_cul. (Hirohito Higashi)
Files:      src/normal.c, src/screen.c

Patch 7.4.739
Problem:    In a string "\U" only takes 4 digits, while after CTRL-V U eight
            digits can be used.
Solution:   Make "\U" also take eight digits. (Christian Brabandt)
Files:      src/eval.c

Patch 7.4.740
Problem:    ":1quit" works like ":.quit". (Bohr Shaw)
Solution:   Don't exit Vim when a range is specified. (Christian Brabandt)
Files:      src/ex_docmd.c, src/testdir/test13.in, src/testdir/test13.ok

Patch 7.4.741
Problem:    When using += with ":set" a trailing comma is not recognized.
            (Issue 365)
Solution:   Don't add a second comma. Add a test. (partly by Christian
            Brabandt)
Files:      src/option.c, src/testdir/test_set.in, src/testdir/test_set.ok,
            src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
            src/testdir/Make_vms.mms, src/testdir/Makefile

Patch 7.4.742
Problem:    Cannot specify a vertical split when loading a buffer for a
            quickfix command.
Solution:   Add the "vsplit" value to 'switchbuf'. (Brook Hong)
Files:      runtime/doc/options.txt, src/buffer.c, src/option.h

Patch 7.4.743
Problem:    "p" in Visual mode causes an unexpected line split.
Solution:   Advance the cursor first. (Yukihiro Nakadaira)
Files:      src/ops.c, src/testdir/test94.in, src/testdir/test94.ok

Patch 7.4.744
Problem:    No tests for Ruby and Perl.
Solution:   Add minimal tests. (Ken Takata)
Files:      src/testdir/test_perl.in, src/testdir/test_perl.ok,
            src/testdir/test_ruby.in, src/testdir/test_ruby.ok,
            src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
            src/testdir/Make_vms.mms, src/testdir/Makefile

Patch 7.4.745
Problem:    The entries added by matchaddpos() are returned by getmatches()
            but can't be set with setmatches(). (Lcd)
Solution:   Fix setmatches(). (Christian Brabandt)
Files:      src/eval.c, src/testdir/test63.in, src/testdir/test63.ok

Patch 7.4.746
Problem:    ":[count]tag" is not always working. (cs86661)
Solution:   Set cur_match a bit later. (Hirohito Higashi)
Files:      src/tag.c,

Patch 7.4.747
Problem:    ":cnext" may jump to the wrong column when setting
            'virtualedit=all' (cs86661)
Solution:   Reset the coladd field. (Hirohito Higashi)
Files:      src/quickfix.c

Patch 7.4.748 (after 7.4.745)
Problem:    Buffer overflow.
Solution:   Make the buffer larger. (Kazunobu Kuriyama)
Files:      src/eval.c

Patch 7.4.749 (after 7.4.741)
Problem:    For some options two consecutive commas are OK. (Nikolai Pavlov)
Solution:   Add the P_ONECOMMA flag.
Files:      src/option.c

Patch 7.4.750
Problem:    Cannot build with clang 3.5 on Cygwin with perl enabled.
Solution:   Strip "-fdebug-prefix-map" in configure. (Ken Takata)
Files:      src/configure.in, src/auto/configure

Patch 7.4.751
Problem:    It is not obvious how to enable the address sanitizer.
Solution:   Add commented-out flags in the Makefile. (Dominique Pelle)
            Also add missing test targets.
Files:      src/Makefile

Patch 7.4.752
Problem:    Unicode 8.0 not supported.
Solution:   Update tables for Unicode 8.0.  Avoid E36 when running the script.
            (James McCoy)
Files:      runtime/tools/unicode.vim, src/mbyte.c

Patch 7.4.753
Problem:    Appending in Visual mode with 'linebreak' set does not work
            properly.  Also when 'selection' is "exclusive". (Ingo Karkat)
Solution:   Recalculate virtual columns. (Christian Brabandt)
Files:      src/normal.c, src/testdir/test_listlbr.in,
            src/testdir/test_listlbr.ok, src/testdir/test_listlbr_utf8.in,
            src/testdir/test_listlbr_utf8.ok

Patch 7.4.754
Problem:    Using CTRL-A in Visual mode does not work well. (Gary Johnson)
Solution:   Make it increment all numbers in the Visual area. (Christian
            Brabandt)
Files:      runtime/doc/change.txt, src/normal.c, src/ops.c,
            src/proto/ops.pro, src/testdir/Make_amiga.mak,
            src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
            src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
            src/testdir/Makefile, src/testdir/test_increment.in,
            src/testdir/test_increment.ok

Patch 7.4.755
Problem:    It is not easy to count the number of characters.
Solution:   Add the skipcc argument to strchars(). (Hirohito Higashi, Ken
            Takata)
Files:      runtime/doc/eval.txt, src/eval.c, src/testdir/test_utf8.in,
            src/testdir/test_utf8.ok

Patch 7.4.756
Problem:    Can't use strawberry Perl 5.22 x64 on MS-Windows.
Solution:   Add new defines and #if. (Ken Takata)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak, src/if_perl.xs

Patch 7.4.757
Problem:    Cannot detect the background color of a terminal.
Solution:   Add T_RBG to request the background color if possible. (Lubomir
            Rintel)
Files:      src/main.c, src/term.c, src/term.h, src/proto/term.pro

Patch 7.4.758
Problem:    When 'conceallevel' is 1 and quitting the command-line window with
            CTRL-C the first character ':' is erased.
Solution:   Reset 'conceallevel' in the command-line window. (Hirohito
            Higashi)
Files:      src/ex_getln.c

Patch 7.4.759
Problem:    Building with Lua 5.3 doesn't work, symbols have changed.
Solution:   Use the new names for the new version. (Felix Schnizlein)
Files:      src/if_lua.c

Patch 7.4.760
Problem:    Spelling mistakes are not displayed after ":syn spell".
Solution:   Force a redraw after ":syn spell" command. (Christian Brabandt)
Files:      src/syntax.c

Patch 7.4.761 (after 7.4.757)
Problem:    The request-background termcode implementation is incomplete.
Solution:   Add the missing pieces.
Files:      src/option.c, src/term.c

Patch 7.4.762 (after 7.4.757)
Problem:    Comment for may_req_bg_color() is wrong. (Christ van Willegen)
Solution:   Rewrite the comment.
Files:      src/term.c

Patch 7.4.763 (after 7.4.759)
Problem:    Building with Lua 5.1 doesn't work.
Solution:   Define lua_replace and lua_remove. (KF Leong)
Files:      src/if_lua.c

Patch 7.4.764 (after 7.4.754)
Problem:    test_increment fails on MS-Windows. (Ken Takata)
Solution:   Clear Visual mappings. (Taro Muraoka)
Files:      src/testdir/test_increment.in

Patch 7.4.765 (after 7.4.754)
Problem:    CTRL-A and CTRL-X in Visual mode do not always work well.
Solution:   Improvements for increment and decrement. (Christian Brabandt)
Files:      src/normal.c, src/ops.c, src/testdir/test_increment.in,
            src/testdir/test_increment.ok

Patch 7.4.766 (after 7.4.757)
Problem:    Background color check does not work on Tera Term.
Solution:   Also recognize ST as a termination character. (Hirohito Higashi)
Files:      src/term.c

Patch 7.4.767
Problem:    --remote-tab-silent can fail on MS-Windows.
Solution:   Use single quotes to avoid problems with backslashes. (Idea by
            Weiyong Mao)
Files:      src/main.c

Patch 7.4.768
Problem:    :diffoff only works properly once.
Solution:   Also make :diffoff work when used a second time. (Olaf Dabrunz)
Files:      src/diff.c

Patch 7.4.769 (after 7.4 768)
Problem:    Behavior of :diffoff is not tested.
Solution:   Add a bit of testing. (Olaf Dabrunz)
Files:      src/testdir/test47.in, src/testdir/test47.ok

Patch 7.4.770 (after 7.4.766)
Problem:    Background color response with transparency is not ignored.
Solution:   Change the way escape sequences are recognized. (partly by
            Hirohito Higashi)
Files:      src/ascii.h, src/term.c

Patch 7.4.771
Problem:    Search does not handle multi-byte character at the start position
            correctly.
Solution:   Take byte size of character into account. (Yukihiro Nakadaira)
Files:      src/search.c, src/testdir/Make_amiga.mak,
            src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
            src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
            src/testdir/Makefile, src/testdir/test_search_mbyte.in,
            src/testdir/test_search_mbyte.ok

Patch 7.4.772
Problem:    Racket 6.2 is not supported on MS-Windows.
Solution:   Check for the "racket" subdirectory. (Weiyong Mao)
Files:      src/Make_mvc.mak, src/if_mzsch.c

Patch 7.4.773
Problem:    'langmap' is used in command-line mode when checking for mappings.
            Issue 376.
Solution:   Do not use 'langmap' in command-line mode. (Larry Velazquez)
Files:      src/getchar.c, src/testdir/test_mapping.in,
            src/testdir/test_mapping.ok

Patch 7.4.774
Problem:    When using the CompleteDone autocommand event it's difficult to
            get to the completed items.
Solution:   Add the v:completed_items variable. (Shougo Matsu)
Files:      runtime/doc/autocmd.txt, runtime/doc/eval.txt, src/edit.c,
            src/eval.c, src/macros.h, src/proto/eval.pro, src/vim.h

Patch 7.4.775
Problem:    It is not possible to avoid using the first item of completion.
Solution:   Add the "noinsert" and "noselect" values to 'completeopt'. (Shougo
            Matsu)
Files:      runtime/doc/options.txt, src/edit.c, src/option.c

Patch 7.4.776
Problem:    Equivalence class for 'd' does not work correctly.
Solution:   Fix 0x1e0f and 0x1d0b. (Dominique Pelle)
Files:      src/regexp.c, src/regexp_nfa.c

Patch 7.4.777
Problem:    The README file doesn't look nice on github.
Solution:   Add a markdown version of the README file.
Files:      Filelist, README.md

Patch 7.4.778
Problem:    Coverity warns for uninitialized variable.
Solution:   Change condition of assignment.
Files:      src/ops.c

Patch 7.4.779
Problem:    Using CTRL-A in a line without a number moves the cursor. May
            cause a crash when at the start of the line. (Urtica Dioica)
Solution:   Do not move the cursor if no number was changed.
Files:      src/ops.c

Patch 7.4.780
Problem:    Compiler complains about uninitialized variable and clobbered
            variables.
Solution:   Add Initialization.  Make variables static.
Files:      src/ops.c, src/main.c

Patch 7.4.781
Problem:    line2byte() returns one less when 'bin' and 'noeol' are set.
Solution:   Only adjust the size for the last line. (Rob Wu)
Files:      src/memline.c

Patch 7.4.782
Problem:    Still a few problems with CTRL-A and CTRL-X in Visual mode.
Solution:   Fix the reported problems. (Christian Brabandt)
Files:      src/charset.c, src/eval.c, src/ex_cmds.c, src/ex_getln.c,
            src/misc2.c, src/normal.c, src/ops.c, src/option.c,
            src/proto/charset.pro, src/testdir/test_increment.in,
            src/testdir/test_increment.ok

Patch 7.4.783
Problem:    copy_chars() and copy_spaces() are inefficient.
Solution:   Use memset() instead. (Dominique Pelle)
Files:      src/ex_getln.c, src/misc2.c, src/ops.c, src/proto/misc2.pro,
            src/screen.c

Patch 7.4.784
Problem:    Using both "noinsert" and "noselect" in 'completeopt' does not
            work properly.
Solution:   Change the ins_complete() calls. (Ozaki Kiichi)
Files:      src/edit.c

Patch 7.4.785
Problem:    On some systems automatically adding the missing EOL causes
            problems. Setting 'binary' has too many side effects.
Solution:   Add the 'fixeol' option, default on. (Pavel Samarkin)
Files:      src/buffer.c, src/fileio.c, src/memline.c, src/netbeans.c,
            src/ops.c, src/option.c, src/option.h, src/os_unix.c,
            src/os_win32.c, src/structs.h, src/testdir/Make_amiga.mak,
            src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
            src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
            src/testdir/Makefile, src/testdir/test_fixeol.in,
            src/testdir/test_fixeol.ok, runtime/doc/options.txt,
            runtime/optwin.vim

Patch 7.4.786
Problem:    It is not possible for a plugin to adjust to a changed setting.
Solution:   Add the OptionSet autocommand event. (Christian Brabandt)
Files:      runtime/doc/autocmd.txt, runtime/doc/eval.txt, src/eval.c,
            src/fileio.c, src/option.c, src/proto/eval.pro,
            src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
            src/testdir/Make_vms.mms, src/testdir/Makefile,
            src/testdir/test_autocmd_option.in,
            src/testdir/test_autocmd_option.ok, src/vim.h

Patch 7.4.787 (after 7.4.786)
Problem:    snprintf() isn't available everywhere.
Solution:   Use vim_snprintf(). (Ken Takata)
Files:      src/option.c

Patch 7.4.788 (after 7.4.787)
Problem:    Can't build without the crypt feature. (John Marriott)
Solution:   Add #ifdef's.
Files:      src/option.c

Patch 7.4.789 (after 7.4.788)
Problem:    Using freed memory and crash. (Dominique Pelle)
Solution:   Correct use of pointers. (Hirohito Higashi)
Files:      src/option.c

Patch 7.4.790 (after 7.4.786)
Problem:    Test fails when the autochdir feature is not available.  Test
            output contains the test script.
Solution:   Check for the autochdir feature. (Kazunobu Kuriyama)  Only write
            the relevant test output.
Files:      src/testdir/test_autocmd_option.in,
            src/testdir/test_autocmd_option.ok

Patch 7.4.791
Problem:    The buffer list can be very long.
Solution:   Add an argument to ":ls" to specify the type of buffer to list.
            (Marcin Szamotulski)
Files:      runtime/doc/windows.txt, src/buffer.c, src/ex_cmds.h

Patch 7.4.792
Problem:    Can only conceal text by defining syntax items.
Solution:   Use matchadd() to define concealing. (Christian Brabandt)
Files:      runtime/doc/eval.txt, src/eval.c, src/ex_docmd.c,
            src/proto/window.pro, src/screen.c, src/structs.h,
            src/testdir/Make_amiga.mak,
            src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
            src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
            src/testdir/Makefile, src/testdir/test_match_conceal.in,
            src/testdir/test_match_conceal.ok, src/window.c

Patch 7.4.793
Problem:    Can't specify when not to ring the bell.
Solution:   Add the 'belloff' option. (Christian Brabandt)
Files:      runtime/doc/options.txt, src/edit.c, src/ex_getln.c,
            src/hangulin.c, src/if_lua.c, src/if_mzsch.c, src/if_tcl.c,
            src/message.c, src/misc1.c, src/normal.c, src/option.c,
            src/option.h, src/proto/misc1.pro, src/search.c, src/spell.c

Patch 7.4.794
Problem:    Visual Studio 2015 is not recognized.
Solution:   Add the version numbers to the makefile. (Taro Muraoka)
Files:      src/Make_mvc.mak

Patch 7.4.795
Problem:    The 'fixeol' option is not copied to a new window.
Solution:   Copy the option value. (Yasuhiro Matsumoto)
Files:      src/option.c

Patch 7.4.796
Problem:    Warning from 64 bit compiler.
Solution:   Add type cast. (Mike Williams)
Files:      src/ops.c

Patch 7.4.797
Problem:    Crash when using more lines for the command line than
            'maxcombine'.
Solution:   Use the correct array index.  Also, do not try redrawing when
            exiting.  And use screen_Columns instead of Columns.
Files:      src/screen.c

Patch 7.4.798 (after 7.4.753)
Problem:    Repeating a change in Visual mode does not work as expected.
            (Urtica Dioica)
Solution:   Make redo in Visual mode work better. (Christian Brabandt)
Files:      src/normal.c, src/testdir/test_listlbr.in,
            src/testdir/test_listlbr.ok

Patch 7.4.799
Problem:    Accessing memory before an allocated block.
Solution:   Check for not going before the start of a pattern. (Dominique
            Pelle)
Files:      src/fileio.c

Patch 7.4.800
Problem:    Using freed memory when triggering CmdUndefined autocommands.
Solution:   Set pointer to NULL. (Dominique Pelle)
Files:      src/ex_docmd.c

Patch 7.4.801 (after 7.4.769)
Problem:    Test for ":diffoff" doesn't catch all potential problems.
Solution:   Add a :diffthis and a :diffoff command. (Olaf Dabrunz)
Files:      src/testdir/test47.in

Patch 7.4.802
Problem:    Using "A" in Visual mode while 'linebreak' is set is not tested.
Solution:   Add a test for this, verifies the problem is fixed. (Ingo Karkat)
Files:      src/testdir/test39.in, src/testdir/test39.ok

Patch 7.4.803
Problem:    C indent does not support C11 raw strings. (Mark Lodato)
Solution:   Do not change indent inside the raw string.
Files:      src/search.c, src/misc1.c, src/edit.c, src/ops.c,
            src/testdir/test3.in, src/testdir/test3.ok

Patch 7.4.804
Problem:    Xxd doesn't have a license notice.
Solution:   Add license as indicated by Juergen.
Files:      src/xxd/xxd.c

Patch 7.4.805
Problem:    The ruler shows "Bot" even when there are only filler lines
            missing. (Gary Johnson)
Solution:   Use "All" when the first line and one filler line are visible.
Files:      src/buffer.c

Patch 7.4.806
Problem:    CTRL-A in Visual mode doesn't work properly with "alpha" in
            'nrformats'.
Solution:   Make it work. (Christian Brabandt)
Files:      src/ops.c, src/testdir/test_increment.in,
            src/testdir/test_increment.ok

Patch 7.4.807 (after 7.4.798)
Problem:    After CTRL-V CTRL-A mode isn't updated. (Hirohito Higashi)
Solution:   Clear the command line or update the displayed command.
Files:      src/normal.c

Patch 7.4.808
Problem:    On MS-Windows 8 IME input doesn't work correctly.
Solution:   Read console input before calling MsgWaitForMultipleObjects().
            (vim-jp, Nobuhiro Takasaki)
Files:      src/os_win32.c

Patch 7.4.809 (after 7.4.802)
Problem:    Test is duplicated.
Solution:   Roll back 7.4.802.
Files:      src/testdir/test39.in, src/testdir/test39.ok

Patch 7.4.810
Problem:    With a sequence of commands using buffers in diff mode E749 is
            given. (itchyny)
Solution:   Skip unloaded buffer. (Hirohito Higashi)
Files:      src/diff.c

Patch 7.4.811
Problem:    Invalid memory access when using "exe 'sc'".
Solution:   Avoid going over the end of the string. (Dominique Pelle)
Files:      src/ex_docmd.c

Patch 7.4.812
Problem:    Gcc sanitizer complains about using a NULL pointer to memmove().
Solution:   Only call memmove when there is something to move. (Vittorio
            Zecca)
Files:      src/memline.c

Patch 7.4.813
Problem:    It is not possible to save and restore character search state.
Solution:   Add getcharsearch() and setcharsearch().  (James McCoy)
Files:      runtime/doc/eval.txt, src/eval.c, src/proto/search.pro,
            src/search.c, src/testdir/test_charsearch.in,
            src/testdir/test_charsearch.ok, src/testdir/Makefile,
            src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
            src/testdir/Make_vms.mms

Patch 7.4.814
Problem:    Illegal memory access with "sy match a fold".
Solution:   Check for empty string. (Dominique Pelle)
Files:      src/syntax.c

Patch 7.4.815
Problem:    Invalid memory access when doing ":call g:".
Solution:   Check for an empty name. (Dominique Pelle)
Files:      src/eval.c

Patch 7.4.816
Problem:    Invalid memory access when doing ":fun X(".
Solution:   Check for missing ')'. (Dominique Pelle)
Files:      src/eval.c

Patch 7.4.817
Problem:    Invalid memory access in file_pat_to_reg_pat().
Solution:   Use vim_isspace() instead of checking for a space only. (Dominique
            Pelle)
Files:      src/fileio.c

Patch 7.4.818
Problem:    'linebreak' breaks c% if the last Visual selection was block.
            (Chris Morganiser, Issue 389)
Solution:   Handle Visual block mode differently. (Christian Brabandt)
Files:      src/normal.c, src/testdir/test_listlbr.in,
            src/testdir/test_listlbr.ok

Patch 7.4.819
Problem:    Beeping when running the tests.
Solution:   Fix 41 beeps. (Roland Eggner)
Files:      src/testdir/test17.in, src/testdir/test29.in,
            src/testdir/test4.in, src/testdir/test61.in,
            src/testdir/test82.in, src/testdir/test83.in,
            src/testdir/test90.in, src/testdir/test95.in,
            src/testdir/test_autoformat_join.in

Patch 7.4.820
Problem:    Invalid memory access in file_pat_to_reg_pat.
Solution:   Avoid looking before the start of a string. (Dominique Pelle)
Files:      src/fileio.c

Patch 7.4.821
Problem:    Coverity reports a few problems.
Solution:   Avoid the warnings. (Christian Brabandt)
Files:      src/ex_docmd.c, src/option.c, src/screen.c

Patch 7.4.822
Problem:    More problems reported by coverity.
Solution:   Avoid the warnings. (Christian Brabandt)
Files:      src/os_unix.c, src/eval.c, src/ex_cmds.c, src/ex_cmds2.c,
            src/ex_getln.c, src/fold.c, src/gui.c, src/gui_w16.c,
            src/gui_w32.c, src/if_cscope.c, src/if_xcmdsrv.c, src/move.c,
            src/normal.c, src/regexp.c, src/syntax.c, src/ui.c, src/window.c

Patch 7.4.823
Problem:    Cursor moves after CTRL-A on alphabetic character.
Solution:   (Hirohito Higashi, test by Christian Brabandt)
Files:      src/testdir/test_increment.in, src/testdir/test_increment.ok,
            src/ops.c

Patch 7.4.824 (after 7.4.813)
Problem:    Can't compile without the multi-byte feature. (John Marriott)
Solution:   Add #ifdef.
Files:      src/eval.c

Patch 7.4.825
Problem:    Invalid memory access for ":syn keyword x a[".
Solution:   Do not skip over the NUL. (Dominique Pelle)
Files:      src/syntax.c

Patch 7.4.826
Problem:    Compiler warnings and errors.
Solution:   Make it build properly without the multi-byte feature.
Files:      src/eval.c, src/search.c

Patch 7.4.827
Problem:    Not all test targets are in the Makefile.
Solution:   Add the missing targets.
Files:      src/Makefile

Patch 7.4.828
Problem:    Crash when using "syn keyword x c". (Dominique Pelle)
Solution:   Initialize the keyword table. (Raymond Ko, PR 397)
Files:      src/syntax.c

Patch 7.4.829
Problem:    Crash when clicking in beval balloon. (Travis Lebsock)
Solution:   Use PostMessage() instead of DestroyWindow(). (Raymond Ko, PR 298)
Files:      src/gui_w32.c

Patch 7.4.830
Problem:    Resetting 'encoding' when doing ":set all&" causes problems.
            (Bjorn Linse) Display is not updated.
Solution:   Do not reset 'encoding'. Do a full redraw.
Files:      src/option.c

Patch 7.4.831
Problem:    When expanding `=expr` on the command line and encountering an
            error, the command is executed anyway.
Solution:   Bail out when an error is detected.
Files:      src/misc1.c

Patch 7.4.832
Problem:    $HOME in `=$HOME . '/.vimrc'` is expanded too early.
Solution:   Skip over `=expr` when expanding environment names.
Files:      src/misc1.c

Patch 7.4.833
Problem:    More side effects of ":set all&" are missing. (Björn Linse)
Solution:   Call didset_options() and add didset_options2() to collect more
            side effects to take care of.  Still not everything...
Files:      src/option.c

Patch 7.4.834
Problem:    gettabvar() doesn't work after Vim start. (Szymon Wrozynski)
Solution:   Handle first window in tab still being NULL. (Christian Brabandt)
Files:      src/eval.c, src/testdir/test91.in, src/testdir/test91.ok

Patch 7.4.835
Problem:    Comparing utf-8 sequences does not handle different byte sizes
            correctly.
Solution:   Get the byte size of each character. (Dominique Pelle)
Files:      src/misc2.c

Patch 7.4.836
Problem:    Accessing uninitialized memory.
Solution:   Add missing calls to init_tv(). (Dominique Pelle)
Files:      src/eval.c

Patch 7.4.837
Problem:    Compiler warning with MSVC compiler when using +sniff.
Solution:   Use Sleep() instead of _sleep(). (Tux)
Files:      src/if_sniff.c

Patch 7.4.838 (after 7.4.833)
Problem:    Can't compile without the crypt feature. (John Marriott)
Solution:   Add #ifdef.
Files:      src/option.c

Patch 7.4.839
Problem:    Compiler warning on 64-bit system.
Solution:   Add cast to int. (Mike Williams)
Files:      src/search.c

Patch 7.4.840 (after 7.4.829)
Problem:    Tooltip window stays open.
Solution:   Send a WM_CLOSE message. (Jurgen Kramer)
Files:      src/gui_w32.c

Patch 7.4.841
Problem:    Can't compile without the multi-byte feature. (John Marriott)
Solution:   Add more #ifdef's.
Files:      src/option.c

Patch 7.4.842 (after 7.4.840)
Problem:    Sending too many messages to close the balloon.
Solution:   Only send a WM_CLOSE message. (Jurgen Kramer)
Files:      src/gui_w32.c

Patch 7.4.843 (after 7.4.835)
Problem:    Still possible to go beyond the end of a string.
Solution:   Check for NUL also in second string. (Dominique Pelle)
Files:      src/misc2.c

Patch 7.4.844
Problem:    When '#' is in 'isident' the is# comparator doesn't work.
Solution:   Don't use vim_isIDc(). (Yasuhiro Matsumoto)
Files:      src/eval.c, src/testdir/test_comparators.in,
            src/testdir/test_comparators.ok, src/testdir/Makefile,
            src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
            src/testdir/Make_vms.mms

Patch 7.4.845
Problem:    Compiler warning for possible loss of data.
Solution:   Add a type cast. (Erich Ritz)
Files:      src/misc1.c

Patch 7.4.846
Problem:    Some GitHub users don't know how to use issues.
Solution:   Add a file that explains the basics of contributing.
Files:      Filelist, CONTRIBUTING.md

Patch 7.4.847
Problem:    "vi)d" may leave a character behind.
Solution:   Skip over multi-byte character. (Christian Brabandt)
Files:      src/search.c

Patch 7.4.848
Problem:    CTRL-A on hex number in Visual block mode is incorrect.
Solution:   Account for the "0x". (Hirohito Higashi)
Files:      src/charset.c, src/testdir/test_increment.in,
            src/testdir/test_increment.ok

Patch 7.4.849
Problem:    Moving the cursor in Insert mode starts new undo sequence.
Solution:   Add CTRL-G U to keep the undo sequence for the following cursor
            movement command. (Christian Brabandt)
Files:      runtime/doc/insert.txt, src/edit.c, src/testdir/test_mapping.in,
            src/testdir/test_mapping.ok

Patch 7.4.850 (after 7.4.846)
Problem:    <Esc> does not show up.
Solution:   Use &gt; and &lt;. (Kazunobu Kuriyama)
Files:      CONTRIBUTING.md

Patch 7.4.851
Problem:    Saving and restoring the console buffer does not work properly.
Solution:   Instead of ReadConsoleOutputA/WriteConsoleOutputA use
            CreateConsoleScreenBuffer and SetConsoleActiveScreenBuffer.
            (Ken Takata)
Files:      src/os_win32.c

Patch 7.4.852
Problem:    On MS-Windows console Vim uses ANSI APIs for keyboard input and
            console output, it cannot input/output Unicode characters.
Solution:   Use Unicode APIs for console I/O. (Ken Takata, Yasuhiro Matsumoto)
Files:      src/os_win32.c, src/ui.c, runtime/doc/options.txt

Patch 7.4.853
Problem:    "zt" in diff mode does not always work properly. (Gary Johnson)
Solution:   Don't count filler lines twice. (Christian Brabandt)
Files:      src/move.c

Patch 7.4.854 (after 7.4.850)
Problem:    Missing information about runtime files.
Solution:   Add section about runtime files. (Christian Brabandt)
Files:      CONTRIBUTING.md

Patch 7.4.855
Problem:    GTK: font glitches for combining characters
Solution:   Use pango_shape_full() instead of pango_shape(). (luchr, PR #393)
Files:      src/gui_gtk_x11.c

Patch 7.4.856
Problem:    "zt" still doesn't work well with filler lines. (Gary Johnson)
Solution:   Check for filler lines above the cursor. (Christian Brabandt)
Files:      src/move.c

Patch 7.4.857
Problem:    Dragging the current tab with the mouse doesn't work properly.
Solution:   Take the current tabpage index into account. (Hirohito Higashi)
Files:      src/normal.c

Patch 7.4.858
Problem:    It's a bit clumsy to execute a command on a list of matches.
Solution:   Add the ":ldo", ":lfdo", ":cdo" and ":cfdo" commands. (Yegappan
            Lakshmanan)
Files:      runtime/doc/cmdline.txt, runtime/doc/editing.txt,
            runtime/doc/index.txt, runtime/doc/quickfix.txt,
            runtime/doc/tabpage.txt, runtime/doc/windows.txt, src/ex_cmds.h,
            src/ex_cmds2.c, src/ex_docmd.c, src/proto/quickfix.pro,
            src/quickfix.c, src/testdir/Make_amiga.mak,
            src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
            src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
            src/testdir/Makefile, src/testdir/test_cdo.in,
            src/testdir/test_cdo.ok

Patch 7.4.859
Problem:    Vim doesn't recognize all htmldjango files.
Solution:   Recognize a comment. (Daniel Hahler, PR #410)
Files:      runtime/filetype.vim

Patch 7.4.860
Problem:    Filetype detection is outdated.
Solution:   Include all recent and not-so-recent changes.
Files:      runtime/filetype.vim

Patch 7.4.861 (after 7.4.855)
Problem:    pango_shape_full() is not always available.
Solution:   Add a configure check.
Files:      src/configure.in, src/auto/configure, src/config.h.in,
            src/gui_gtk_x11.c

Patch 7.4.862 (after 7.4.861)
Problem:    Still problems with pango_shape_full() not available.
Solution:   Change AC_TRY_COMPILE to AC_TRY_LINK.
Files:      src/configure.in, src/auto/configure

Patch 7.4.863 (after 7.4.856)
Problem:    plines_nofill() used without the diff feature.
Solution:   Define PLINES_NOFILL().
Files:      src/macros.h, src/move.c

Patch 7.4.864 (after 7.4.858)
Problem:    Tiny build fails.
Solution:   Put qf_ items inside #ifdef.
Files:      src/ex_docmd.c

Patch 7.4.865
Problem:    Compiler warning for uninitialized variable.
Solution:   Initialize.
Files:      src/ex_cmds2.c

Patch 7.4.866
Problem:    Crash when changing the 'tags' option from a remote command.
            (Benjamin Fritz)
Solution:   Instead of executing messages immediately, use a queue, like for
            netbeans. (James Kolb)
Files:      src/ex_docmd.c, src/getchar.c, src/gui_gtk_x11.c, src/gui_w48.c,
            src/gui_x11.c, src/if_xcmdsrv.c, src/misc2.c, src/os_unix.c,
            src/proto/if_xcmdsrv.pro, src/proto/misc2.pro, src/macros.h

Patch 7.4.867 (after 7.4.866)
Problem:    Can't build on MS-Windows. (Taro Muraoka)
Solution:   Adjust #ifdef.
Files:      src/misc2.c

Patch 7.4.868
Problem:    'smarttab' is also effective when 'paste' is enabled. (Alexander
            Monakov)
Solution:   Disable 'smarttab' when 'paste' is set. (Christian Brabandt)
            Do the same for 'expandtab'.
Files:      src/option.c, src/structs.h

Patch 7.4.869
Problem:    MS-Windows: scrolling may cause text to disappear when using an
            Intel GPU.
Solution:   Call GetPixel(). (Yohei Endo)
Files:      src/gui_w48.c

Patch 7.4.870
Problem:    May get into an invalid state when using getchar() in an
            expression mapping.
Solution:   Anticipate mod_mask to change. (idea by Yukihiro Nakadaira)
Files:      src/getchar.c

Patch 7.4.871
Problem:    Vim leaks memory, when 'wildignore' filters out all matches.
Solution:   Free the files array when it becomes empty.
Files:      src/misc1.c

Patch 7.4.872
Problem:    Not using CI services available.
Solution:   Add configuration files for travis and appveyor. (Ken Takata,
            vim-jp, PR #401)
Files:      .travis.yml, appveyor.yml, Filelist

Patch 7.4.873 (after 7.4.866)
Problem:    Compiler warning for unused variable. (Tony Mechelynck)
Solution:   Remove the variable.  Also fix int vs long_u mixup.
Files:      src/if_xcmdsrv.c

Patch 7.4.874
Problem:    MS-Windows: When Vim runs inside another application, the size
            isn't right.
Solution:   When in child mode compute the size differently. (Agorgianitis
            Loukas)
Files:      src/gui_w48.c

Patch 7.4.875
Problem:    Not obvious how to contribute.
Solution:   Add a remark about CONTRIBUTING.md to README.md
Files:      README.md

Patch 7.4.876
Problem:    Windows7: when using vim.exe with msys or msys2, conhost.exe
            (console window provider on Windows7) will freeze or crash.
Solution:   Make original screen buffer active, before executing external
            program.  And when the program is finished, revert to vim's one.
            (Taro Muraoka)
Files:      src/os_win32.c

Patch 7.4.877 (after 7.4.843)
Problem:    ":find" sometimes fails. (Excanoe)
Solution:   Compare current characters instead of previous ones.
Files:      src/misc2.c

Patch 7.4.878
Problem:    Coverity error for clearing only one byte of struct.
Solution:   Clear the whole struct. (Dominique Pelle)
Files:      src/ex_docmd.c

Patch 7.4.879
Problem:    Can't see line numbers in nested function calls.
Solution:   Add line number to the file name. (Alberto Fanjul)
Files:      src/eval.c

Patch 7.4.880
Problem:    No build and coverage status.
Solution:   Add links to the README file. (Christian Brabandt)
Files:      README.md

Patch 7.4.881 (after 7.4.879)
Problem:    Test 49 fails.
Solution:   Add line number to check of call stack.
Files:      src/testdir/test49.vim

Patch 7.4.882
Problem:    When leaving the command line window with CTRL-C while a
            completion menu is displayed the menu isn't removed.
Solution:   Force a screen update. (Hirohito Higashi)
Files:      src/edit.c

Patch 7.4.883 (after 7.4.818)
Problem:    Block-mode replace works characterwise instead of blockwise after
            column 147. (Issue #422)
Solution:   Set Visual mode. (Christian Brabandt)
Files:      src/normal.c, src/testdir/test_listlbr.in,
            src/testdir/test_listlbr.ok

Patch 7.4.884
Problem:    Travis also builds on a tag push.
Solution:   Filter out tag pushes. (Kenichi Ito)
Files:      .travis.yml

Patch 7.4.885
Problem:    When doing an upwards search without wildcards the search fails if
            the initial directory doesn't exist.
Solution:   Fix the non-wildcard case. (Stefan Kempf)
Files:      src/misc2.c

Patch 7.4.886 (after 7.4.876)
Problem:    Windows7: Switching screen buffer causes flicker when using
            system().
Solution:   Instead of actually switching screen buffer, duplicate the handle.
            (Yasuhiro Matsumoto)
Files:      src/os_win32.c

Patch 7.4.887
Problem:    Using uninitialized memory for regexp with back reference.
            (Dominique Pelle)
Solution:   Initialize end_lnum.
Files:      src/regexp_nfa.c

Patch 7.4.888
Problem:    The OptionSet autocommands are not triggered from setwinvar().
Solution:   Do not use switch_win() when not needed. (Hirohito Higashi)
Files:      src/eval.c

Patch 7.4.889
Problem:    Triggering OptionSet from setwinvar() isn't tested.
Solution:   Add a test. (Christian Brabandt)
Files:      src/testdir/test_autocmd_option.in,
            src/testdir/test_autocmd_option.ok

Patch 7.4.890
Problem:    Build failure when using dynamic python but not python3.
Solution:   Adjust the #if to also include DYNAMIC_PYTHON3 and UNIX.
Files:      src/if_python3.c

Patch 7.4.891
Problem:    Indentation of array initializer is wrong.
Solution:   Avoid that calling find_start_rawstring() changes the position
            returned by find_start_comment(), add a test. (Hirohito Higashi)
Files:      src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok

Patch 7.4.892
Problem:    On MS-Windows the iconv DLL may have a different name.
Solution:   Also try libiconv2.dll and libiconv-2.dll. (Yasuhiro Matsumoto)
Files:      src/mbyte.c

Patch 7.4.893
Problem:    C indenting is wrong below a "case (foo):" because it is
            recognized as a C++ base class construct.  Issue #38.
Solution:   Check for the case keyword.
Files:      src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok

Patch 7.4.894
Problem:    vimrun.exe is picky about the number of spaces before -s.
Solution:   Skip all spaces. (Cam Sinclair)
Files:      src/vimrun.c

Patch 7.4.895
Problem:    Custom command line completion does not work for a command
            containing digits.
Solution:   Skip over the digits. (suggested by Yasuhiro Matsumoto)
Files:      src/ex_docmd.c

Patch 7.4.896
Problem:    Editing a URL, which netrw should handle, doesn't work.
Solution:   Avoid changing slashes to backslashes. (Yasuhiro Matsumoto)
Files:      src/fileio.c, src/os_mswin.c

Patch 7.4.897
Problem:    Freeze and crash when there is a sleep in a remote command.
            (Karl Yngve Lervåg)
Solution:   Remove a message from the queue before dealing with it. (James
            Kolb)
Files:      src/if_xcmdsrv.c

Patch 7.4.898
Problem:    The 'fixendofline' option is set on with ":edit".
Solution:   Don't set the option when clearing a buffer. (Yasuhiro Matsumoto)
Files:      src/buffer.c

Patch 7.4.899
Problem:    README file is not optimal.
Solution:   Move buttons, update some text. (closes #460)
Files:      README.txt, README.md

Patch 7.4.900 (after 7.4.899)
Problem:    README file can still be improved
Solution:   Add a couple of links. (Christian Brabandt)
Files:      README.md

Patch 7.4.901
Problem:    When a BufLeave autocommand changes folding in a way it syncs
            undo, undo can be corrupted.
Solution:   Prevent undo sync. (Jacob Niehus)
Files:      src/popupmnu.c

Patch 7.4.902
Problem:    Problems with using the MS-Windows console.
Solution:   Revert patches 7.4.851, 7.4.876 and 7.4.886 until we find a better
            solution. (suggested by Ken Takata)
Files:      src/os_win32.c

Patch 7.4.903
Problem:    MS-Windows: When 'encoding' differs from the current code page,
            expanding wildcards may cause illegal memory access.
Solution:   Allocate a longer buffer. (Ken Takata)
Files:      src/misc1.c

Patch 7.4.904
Problem:    Vim does not provide .desktop files.
Solution:   Include and install .desktop files. (James McCoy, closes #455)
Files:      Filelist, runtime/vim.desktop, runtime/gvim.desktop, src/Makefile

Patch 7.4.905
Problem:    Python interface can produce error "vim.message' object has no
            attribute 'isatty'".
Solution:   Add dummy isatty(), readable(), etc. (closes #464)
Files:      src/if_py_both.h, src/testdir/test86.in, src/testdir/test86.ok,
            src/testdir/test87.in, src/testdir/test87.ok

Patch 7.4.906
Problem:    On MS-Windows the viminfo file is (always) given the hidden
            attribute. (raulnac)
Solution:   Check the hidden attribute in a different way. (Ken Takata)
Files:      src/ex_cmds.c, src/os_win32.c, src/os_win32.pro

Patch 7.4.907
Problem:    Libraries for dynamically loading interfaces can only be defined
            at compile time.
Solution:   Add options to specify the dll names. (Kazuki Sakamoto,
            closes #452)
Files:      runtime/doc/if_lua.txt, runtime/doc/if_perl.txt,
            runtime/doc/if_pyth.txt, runtime/doc/if_ruby.txt,
            runtime/doc/options.txt, src/if_lua.c, src/if_perl.xs,
            src/if_python.c, src/if_python3.c, src/if_ruby.c, src/option.c,
            src/option.h

Patch 7.4.908 (after 7.4.907)
Problem:    Build error with MingW compiler. (Cesar Romani)
Solution:   Change #if into #ifdef.
Files:      src/if_perl.xs

Patch 7.4.909 (after 7.4.905)
Problem:    "make install" fails.
Solution:   Only try installing desktop files if the destination directory
            exists.
Files:      src/Makefile

Patch 7.4.910 (after 7.4.905)
Problem:    Compiler complains about type punned pointer.
Solution:   Use another way to increment the ref count.
Files:      src/if_py_both.h

Patch 7.4.911
Problem:    t_Ce and t_Cs are documented but not supported. (Hirohito Higashi)
Solution:   Define the options.
Files:      src/option.c

Patch 7.4.912
Problem:    Wrong indenting for C++ constructor.
Solution:   Recognize ::.  (Anhong)
Files:      src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok

Patch 7.4.913
Problem:    No utf-8 support for the hangul input feature.
Solution:   Add utf-8 support. (Namsh)
Files:      src/gui.c, src/hangulin.c, src/proto/hangulin.pro, src/screen.c,
            src/ui.c, runtime/doc/hangulin.txt, src/feature.h

Patch 7.4.914
Problem:    New compiler warning: logical-not-parentheses
Solution:   Silence the warning.
Files:      src/term.c

Patch 7.4.915
Problem:    When removing from 'path' and then adding, a comma may go missing.
            (Malcolm Rowe)
Solution:   Fix the check for P_ONECOMMA. (closes #471)
Files:      src/option.c, src/testdir/test_options.in,
            src/testdir/test_options.ok

Patch 7.4.916
Problem:    When running out of memory while copying a dict memory may be
            freed twice. (ZyX)
Solution:   Do not call the garbage collector when running out of memory.
Files:      src/misc2.c

Patch 7.4.917
Problem:    Compiler warning for comparing signed and unsigned.
Solution:   Add a type cast.
Files:      src/hangulin.c

Patch 7.4.918
Problem:    A digit in an option name has problems.
Solution:   Rename 'python3dll' to 'pythonthreedll'.
Files:      src/option.c, src/option.h, runtime/doc/options.txt

Patch 7.4.919
Problem:    The dll options are not in the options window.
Solution:   Add the dll options.  And other fixes.
Files:	    runtime/optwin.vim

Patch 7.4.920
Problem:    The rubydll option is not in the options window.
Solution:   Add the rubydll option.
Files:	    runtime/optwin.vim

Patch 7.4.921 (after 7.4.906)
Problem:    Missing proto file update. (Randall W. Morris)
Solution:   Add the missing line for mch_ishidden.
Files:      src/proto/os_win32.pro

Patch 7.4.922
Problem:    Leaking memory with ":helpt {dir-not-exists}".
Solution:   Free dirname. (Dominique Pelle)
Files:      src/ex_cmds.c

Patch 7.4.923
Problem:    Prototypes not always generated.
Solution:   Change #if to OR with PROTO.
Files:      src/window.c

Patch 7.4.924
Problem:    DEVELOPER_DIR gets reset by configure.
Solution:   Do not reset DEVELOPER_DIR when there is no --with-developer-dir
            argument. (Kazuki Sakamoto, closes #482)
Files:      src/configure.in, src/auto/configure

Patch 7.4.925
Problem:    User may yank or put using the register being recorded in.
Solution:   Add the recording register in the message. (Christian Brabandt,
            closes #470)
Files:      runtime/doc/options.txt, runtime/doc/repeat.txt, src/ops.c,
            src/option.h, src/screen.c

Patch 7.4.926
Problem:    Completing the longest match doesn't work properly with multi-byte
            characters.
Solution:   When using multi-byte characters use another way to find the
            longest match. (Hirohito Higashi)
Files:      src/ex_getln.c, src/testdir/test_utf8.in, src/testdir/test_utf8.ok

Patch 7.4.927
Problem:    Ruby crashes when there is a runtime error.
Solution:   Use ruby_options() instead of ruby_process_options(). (Damien)
Files:      src/if_ruby.c

Patch 7.4.928
Problem:    A clientserver message interrupts handling keys of a mapping.
Solution:   Have mch_inchar() send control back to WaitForChar when it is
            interrupted by server message. (James Kolb)
Files:      src/os_unix.c

Patch 7.4.929
Problem:    "gv" after paste selects one character less if 'selection' is
            "exclusive".
Solution:   Increment the end position. (Christian Brabandt)
Files:      src/normal.c, src/testdir/test94.in, src/testdir/test94.ok

Patch 7.4.930
Problem:    MS-Windows: Most users appear not to like the window border.
Solution:   Remove WS_EX_CLIENTEDGE. (Ian Halliday)
Files:      src/gui_w32.c

Patch 7.4.931 (after 7.4.929)
Problem:    Test 94 fails on some systems.
Solution:   Set 'encoding' to utf-8.
Files:      src/testdir/test94.in

Patch 7.4.932 (after 7.4.926)
Problem:    test_utf8 has confusing dummy command.
Solution:   Use a real command instead of a colon.
Files:      src/testdir/test_utf8.in

Patch 7.4.933 (after 7.4.926)
Problem:    Crash when using longest completion match.
Solution:   Fix array index.
Files:      src/ex_getln.c

Patch 7.4.934
Problem:    Appveyor also builds on a tag push.
Solution:   Add a skip_tags line. (Kenichi Ito, closes #489)
Files:      appveyor.yml

Patch 7.4.935 (after 7.4.932)
Problem:    test_utf8 fails on MS-Windows when executed with gvim.
Solution:   Use the insert flag on feedkeys() to put the string before the
            ":" that was already read when checking for available chars.
Files:      src/testdir/test_utf8.in

Patch 7.4.936
Problem:    Crash when dragging with the mouse.
Solution:   Add safety check for NULL pointer. Check mouse position for valid
            value. (Hirohito Higashi)
Files:      src/window.c, src/term.c

Patch 7.4.937
Problem:    Segfault reading uninitialized memory.
Solution:   Do not read match \z0, it does not exist. (Marius Gedminas, closes
            #497)
Files:      src/regexp_nfa.c

Patch 7.4.938
Problem:    X11 and GTK have more mouse buttons than Vim supports.
Solution:   Recognize more mouse buttons. (Benoit Pierre, closes #498)
Files:      src/gui_gtk_x11.c, src/gui_x11.c

Patch 7.4.939
Problem:    Memory leak when encountering a syntax error.
Solution:   Free the memory. (Dominique Pelle)
Files:      src/ex_docmd.c

Patch 7.4.940
Problem:    vt52 terminal codes are not correct.
Solution:   Move entries outside of #if. (Random)  Adjustments based on
            documented codes.
Files:      src/term.c

Patch 7.4.941
Problem:    There is no way to ignore case only for tag searches.
Solution:   Add the 'tagcase' option. (Gary Johnson)
Files:      runtime/doc/options.txt, runtime/doc/quickref.txt,
            runtime/doc/tagsrch.txt, runtime/doc/usr_29.txt,
            runtime/optwin.vim, src/Makefile, src/buffer.c, src/option.c,
            src/option.h, src/structs.h, src/tag.c,
            src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
            src/testdir/Make_vms.mms, src/testdir/Makefile,
            src/testdir/test_tagcase.in, src/testdir/test_tagcase.ok

Patch 7.4.942 (after 7.4.941)
Problem:    test_tagcase breaks for small builds.
Solution:   Bail out of the test early. (Hirohito Higashi)
Files:      src/testdir/test_tagcase.in

Patch 7.4.943
Problem:    Tests are not run.
Solution:   Add test_writefile to makefiles. (Ken Takata)
Files:      src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
            src/testdir/Make_vms.mms, src/testdir/Makefile

Patch 7.4.944
Problem:    Writing tests for Vim script is hard.
Solution:   Add assertEqual(), assertFalse() and assertTrue() functions.  Add
            the v:errors variable.  Add the runtest script. Add a first new
            style test script.
Files:      src/eval.c, src/vim.h, src/misc2.c, src/testdir/Makefile,
            src/testdir/runtest.vim, src/testdir/test_assert.vim,
            runtime/doc/eval.txt

Patch 7.4.945 (after 7.4.944)
Problem:    New style testing is incomplete.
Solution:   Add the runtest script to the list of distributed files.
            Add the new functions to the function overview.
            Rename the functions to match Vim function style.
            Move undolevels testing into a new style test script.
Files:      Filelist, runtime/doc/usr_41.txt, runtime/doc/eval.txt,
            src/testdir/test_assert.vim, src/testdir/Makefile,
            src/testdir/test_undolevels.vim, src/testdir/test100.in,
            src/testdir/test100.ok

Patch 7.4.946 (after 7.4.945)
Problem:    Missing changes in source file.
Solution:   Include changes to the eval.c file.
Files:      src/eval.c

Patch 7.4.947
Problem:    Test_listchars fails with MingW. (Michael Soyka)
Solution:   Add the test to the ones that need the fileformat fixed.
            (Christian Brabandt)
Files:      src/testdir/Make_ming.mak

Patch 7.4.948
Problem:    Can't build when the insert_expand feature is disabled.
Solution:   Add #ifdefs. (Dan Pasanen, closes #499)
Files:      src/eval.c, src/fileio.c

Patch 7.4.949
Problem:    When using 'colorcolumn' and there is a sign with a fullwidth
            character the highlighting is wrong. (Andrew Stewart)
Solution:   Only increment vcol when in the right state. (Christian Brabandt)
Files:      src/screen.c, src/testdir/test_listlbr_utf8.in,
            src/testdir/test_listlbr_utf8.ok

Patch 7.4.950
Problem:    v:errors is not initialized.
Solution:   Initialize it to an empty list. (Thinca)
Files:      src/eval.c

Patch 7.4.951
Problem:    Sorting number strings does not work as expected. (Luc Hermitte)
Solution:   Add the "N" argument to sort()
Files:      src/eval.c, runtime/doc/eval.txt, src/testdir/test_alot.vim,
            src/testdir/test_sort.vim, src/testdir/Makefile

Patch 7.4.952
Problem:    'lispwords' is tested in the old way.
Solution:   Make a new style test for 'lispwords'.
Files:      src/testdir/test_alot.vim, src/testdir/test_lispwords.vim,
            src/testdir/test100.in, src/testdir/test100.ok,
            src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
            src/testdir/Make_vms.mms, src/testdir/Makefile

Patch 7.4.953
Problem:    When a test script navigates to another buffer the .res file is
            created with the wrong name.
Solution:   Use the "testname" for the .res file. (Damien)
Files:      src/testdir/runtest.vim

Patch 7.4.954
Problem:    When using Lua there may be a crash. (issue #468)
Solution:   Avoid using an uninitialized tv. (Yukihiro Nakadaira)
Files:      src/if_lua.c

Patch 7.4.955
Problem:    Vim doesn't recognize .pl6 and .pod6 files.
Solution:   Recognize them as perl6 and pod6. (Mike Eve, closes #511)
Files:      runtime/filetype.vim

Patch 7.4.956
Problem:    A few more file name extensions not recognized.
Solution:   Add .asciidoc, .bzl, .gradle, etc.
Files:      runtime/filetype.vim

Patch 7.4.957
Problem:    Test_tagcase fails when using another language than English.
Solution:   Set the messages language to C. (Kenichi Ito)
Files:      src/testdir/test_tagcase.in

Patch 7.4.958
Problem:    Vim checks if the directory "$TMPDIR" exists.
Solution:   Do not check if the name starts with "$".
Files:      src/fileio.c

Patch 7.4.959
Problem:    When setting 'term' the clipboard ownership is lost.
Solution:   Do not call clip_init(). (James McCoy)
Files:      src/term.c

Patch 7.4.960
Problem:    Detecting every version of nmake is clumsy.
Solution:   Use a tiny C program to get the version of _MSC_VER. (Ken Takata)
Files:      src/Make_mvc.mak

Patch 7.4.961
Problem:    Test107 fails in some circumstances.
Solution:   When using "zt", "zb" and "z=" recompute the fraction.
Files:      src/normal.c, src/window.c, src/proto/window.pro

Patch 7.4.962
Problem:    Cannot run the tests with gvim.  Cannot run individual new tests.
Solution:   Add the -f flag. Add new test targets in Makefile.
Files:      src/Makefile, src/testdir/Makefile

Patch 7.4.963
Problem:    test_listlbr_utf8 sometimes fails.
Solution:   Don't use a literal multibyte character but <C-V>uXXXX. Do not
            dump the screen highlighting. (Christian Brabandt, closes #518)
Files:      src/testdir/test_listlbr_utf8.in, src/testdir/test_listlbr_utf8.ok

Patch 7.4.964
Problem:    Test 87 doesn't work in a shadow directory.
Solution:   Handle the extra subdirectory. (James McCoy, closes #515)
Files:      src/testdir/test87.in

Patch 7.4.965
Problem:    On FreeBSD /dev/fd/ files are special.
Solution:   Use is_dev_fd_file() also for FreeBSD. (Derek Schrock, closes #521)
Files:      src/fileio.c

Patch 7.4.966
Problem:    Configure doesn't work with a space in a path.
Solution:   Put paths in quotes. (James McCoy, closes #525)
Files:      src/configure.in, src/auto/configure

Patch 7.4.967
Problem:    Cross compilation on MS-windows doesn't work well.
Solution:   Tidy up cross compilation across architectures with Visual Studio.
            (Mike Williams)
Files:      src/Make_mvc.mak

Patch 7.4.968
Problem:    test86 and test87 are flaky in Appveyor.
Solution:   Reduce the count from 8 to 7. (suggested by ZyX)
Files:      src/testdir/test86.in, src/testdir/test87.in

Patch 7.4.969
Problem:    Compiler warnings on Windows x64 build.
Solution:   Add type casts. (Mike Williams)
Files:      src/option.c

Patch 7.4.970
Problem:    Rare crash in getvcol(). (Timo Mihaljov)
Solution:   Check for the buffer being NULL in init_preedit_start_col.
            (Hirohito Higashi, Christian Brabandt)
Files:      src/mbyte.c

Patch 7.4.971
Problem:    The asin() function can't be used.
Solution:   Sort the function table properly. (Watiko)
Files:      src/eval.c

Patch 7.4.972
Problem:    Memory leak when there is an error in setting an option.
Solution:   Free the saved value (Christian Brabandt)
Files:      src/option.c

Patch 7.4.973
Problem:    When pasting on the command line line breaks result in literal
            <CR> characters. This makes pasting a long file name difficult.
Solution:   Skip the characters.
Files:      src/ex_getln.c, src/ops.c

Patch 7.4.974
Problem:    When using :diffsplit the cursor jumps to the first line.
Solution:   Put the cursor on the line related to where the cursor was before
            the split.
Files:      src/diff.c

Patch 7.4.975
Problem:    Using ":sort" on a very big file sometimes causes text to be
            corrupted. (John Beckett)
Solution:   Copy the line into a buffer before calling ml_append().
Files:      src/ex_cmds.c

Patch 7.4.976
Problem:    When compiling Vim for MSYS2 (linked with msys-2.0.dll), the Win32
            clipboard is not enabled.
Solution:   Recognize MSYS like CYGWIN. (Ken Takata)
Files:      src/configure.in, src/auto/configure

Patch 7.4.977
Problem:    'linebreak' does not work properly when using "space" in
            'listchars'.
Solution:   (Hirohito Higashi, Christian Brabandt)
Files:      src/screen.c, src/testdir/test_listlbr.in,
            src/testdir/test_listlbr.ok

Patch 7.4.978
Problem:    test_cdo fails when using another language than English.
Solution:   Set the language to C. (Dominique Pelle, Kenichi Ito)
Files:      src/testdir/test_cdo.in

Patch 7.4.979
Problem:    When changing the crypt key the blocks read from disk are not
            decrypted.
Solution:   Also call ml_decrypt_data() when mf_old_key is set. (Ken Takata)
Files:      src/memfile.c

Patch 7.4.980
Problem:    Tests for :cdo, :ldo, etc. are outdated.
Solution:   Add new style tests for these commands. (Yegappan Lakshmanan)
Files:      src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
            src/testdir/Make_vms.mms, src/testdir/Makefile,
            src/testdir/test_cdo.in, src/testdir/test_cdo.ok,
            src/testdir/test_cdo.vim

Patch 7.4.981
Problem:    An error in a test script goes unnoticed.
Solution:   Source the test script inside try/catch. (Hirohito Higashi)
Files:      src/testdir/runtest.vim

Patch 7.4.982
Problem:    Keeping the list of tests updated is a hassle.
Solution:   Move the list to a separate file, so that it only needs to be
            updated in one place.
Files:      src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
            src/testdir/Make_vms.mms, src/testdir/Makefile,
            src/testdir/Make_all.mak

Patch 7.4.983
Problem:    Executing one test after "make testclean" doesn't work.
Solution:   Add a dependency on test1.out.
Files:      src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
            src/testdir/Make_vms.mms, src/testdir/Makefile,
            src/testdir/Make_all.mak

Patch 7.4.984
Problem:    searchpos() always starts searching in the first column, which is
            not what some people expect. (Brett Stahlman)
Solution:   Add the 'z' flag: start at the specified column.
Files:      src/vim.h, src/eval.c, src/search.c,
            src/testdir/test_searchpos.vim, src/testdir/test_alot.vim,
            runtime/doc/eval.txt

Patch 7.4.985
Problem:    Can't build with Ruby 2.3.0.
Solution:   Use the new TypedData_XXX macro family instead of Data_XXX. Use
            TypedData. (Ken Takata)
Files:      src/if_ruby.c

Patch 7.4.986
Problem:    Test49 doesn't work on MS-Windows.  test70 is listed twice.
Solution:   Move test49 to the group not used on Amiga and MS-Windows.
            Remove test70 from SCRIPTS_WIN32.
Files:      src/testdir/Make_all.mak, src/testdir/Make_dos.mak

Patch 7.4.987 (after 7.4.985)
Problem:    Can't build with Ruby 1.9.2.
Solution:   Require Rub 2.0 for defining USE_TYPEDDATA.
Files:      src/if_ruby.c

Patch 7.4.988 (after 7.4.982)
Problem:    Default test target is test49.out.
Solution:   Add a build rule before including Make_all.mak.
Files:      src/testdir/Make_dos.mak, src/testdir/Make_amiga.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
            src/testdir/Make_vms.mms, src/testdir/Makefile

Patch 7.4.989
Problem:    Leaking memory when hash_add() fails. Coverity error 99126.
Solution:   When hash_add() fails free the memory.
Files:      src/eval.c

Patch 7.4.990
Problem:    Test 86 fails on AppVeyor.
Solution:   Do some registry magic. (Ken Takata)
Files:      appveyor.yml

Patch 7.4.991
Problem:    When running new style tests the output is not visible.
Solution:   Add the testdir/messages file and show it.  Update the list of
            test names.
Files:      src/Makefile, src/testdir/Makefile, src/testdir/runtest.vim

Patch 7.4.992
Problem:    Makefiles for MS-Windows in src/po are outdated.
Solution:   Make them work. (Ken Takata, Taro Muraoka)
Files:      src/po/Make_cyg.mak, src/po/Make_ming.mak, src/po/Make_mvc.mak,
            src/po/README_mingw.txt, src/po/README_mvc.txt

Patch 7.4.993
Problem:    Test 87 is flaky on AppVeyor.
Solution:   Reduce the minimum background thread count.
Files:      src/testdir/test86.in, src/testdir/test87.in

Patch 7.4.994
Problem:    New style tests are not run on MS-Windows.
Solution:   Add the new style tests.
Files:      src/testdir/Make_dos.mak

Patch 7.4.995
Problem:    gdk_pixbuf_new_from_inline() is deprecated.
Solution:   Generate auto/gui_gtk_gresources.c. (Kazunobu Kuriyama,
            closes #507)
Files:      src/Makefile, src/auto/configure, src/config.h.in,
            src/config.mk.in, src/configure.in, src/gui_gtk.c,
            src/gui_gtk_gresources.xml, src/gui_gtk_x11.c,
            src/proto/gui_gtk_gresources.pro,
            pixmaps/stock_vim_build_tags.png, pixmaps/stock_vim_find_help.png,
            pixmaps/stock_vim_save_all.png,
            pixmaps/stock_vim_session_load.png,
            pixmaps/stock_vim_session_new.png,
            pixmaps/stock_vim_session_save.png, pixmaps/stock_vim_shell.png,
            pixmaps/stock_vim_window_maximize.png,
            pixmaps/stock_vim_window_maximize_width.png,
            pixmaps/stock_vim_window_minimize.png,
            pixmaps/stock_vim_window_minimize_width.png,
            pixmaps/stock_vim_window_split.png,
            pixmaps/stock_vim_window_split_vertical.png

Patch 7.4.996
Problem:    New GDK files and testdir/Make_all.mak missing from distribution.
            PC build instructions are outdated.
Solution:   Add the file to the list.  Update PC build instructions.
Files:      Filelist, Makefile

Patch 7.4.997
Problem:    "make shadow" was sometimes broken.
Solution:   Add a test for it. (James McCoy, closes #520)
Files:      .travis.yml

Patch 7.4.998
Problem:    Running tests in shadow directory fails.  Test 49 fails.
Solution:   Link more files for the shadow directory. Make test 49 ends up in
            the right buffer.
Files:      src/Makefile, src/testdir/test49.in

Patch 7.4.999
Problem:    "make shadow" creates a broken link. (Tony Mechelynck)
Solution:   Remove vimrc.unix from the list.
Files:      src/Makefile

Patch 7.4.1000
Problem:    Test 49 is slow and doesn't work on MS-Windows.
Solution:   Start moving parts of test 49 to test_viml.
Files:      src/Makefile, src/testdir/runtest.vim, src/testdir/test_viml.vim,
            src/testdir/test49.vim, src/testdir/test49.ok

Patch 7.4.1001 (after 7.4.1000)
Problem:    test_viml isn't run.
Solution:   Include change in makefile.
Files:      src/testdir/Make_all.mak

Patch 7.4.1002
Problem:    Cannot run an individual test on MS-Windows.
Solution:   Move the rule to run test1 downwards. (Ken Takata)
Files:      src/testdir/Make_dos.mak

Patch 7.4.1003
Problem:    Travis could check a few more things.
Solution:   Run autoconf on one of the builds. (James McCoy, closes #510)
            Also build with normal features.
Files:      .travis.yml

Patch 7.4.1004
Problem:    Using Makefile when auto/config.mk does not exist results in
            warnings.
Solution:   Use default values for essential variables.
Files:      src/Makefile

Patch 7.4.1005
Problem:    Vim users are not always happy.
Solution:   Make them happy.
Files:      src/ex_cmds.h, src/ex_cmds.c, src/proto/ex_cmds.pro

Patch 7.4.1006
Problem:    The fix in patch 7.3.192 is not tested.
Solution:   Add a test, one for each regexp engine. (Elias Diem)
Files:      src/testdir/test44.in, src/testdir/test44.ok,
            src/testdir/test99.in, src/testdir/test99.ok

Patch 7.4.1007
Problem:    When a symbolic link points to a file in the root directory, the
            swapfile is not correct.
Solution:   Do not try getting the full name of a file in the root directory.
            (Milly, closes #501)
Files:      src/os_unix.c

Patch 7.4.1008
Problem:    The OS/2 code pollutes the source while nobody uses it these days.
Solution:   Drop the support for OS/2. 
Files:      src/feature.h, src/globals.h, src/macros.h, src/option.h,
            src/os_unix.c, src/os_unix.h, src/proto/os_unix.pro, src/vim.h,
            src/digraph.c, src/eval.c, src/ex_cmds.c, src/ex_docmd.c,
            src/ex_getln.c, src/fileio.c, src/getchar.c, src/memline.c,
            src/misc1.c, src/misc2.c, src/netbeans.c, src/option.c,
            src/term.c, src/ui.c, src/window.c, src/os_os2_cfg.h,
            src/Make_os2.mak, src/testdir/Make_os2.mak, src/testdir/os2.vim,
            src/INSTALL, runtime/doc/os_os2.txt

Patch 7.4.1009
Problem:    There are still #ifdefs for ARCHIE.
Solution:   Remove references to ARCHIE, the code was removed in Vim 5.
Files:      src/ex_cmds.c, src/ex_docmd.c, src/fileio.c, src/main.c,
            src/memline.c, src/option.c, src/term.c

Patch 7.4.1010
Problem:    Some developers are unhappy while running tests.
Solution:   Add a test and some color.
Files:      src/ex_cmds.c, src/testdir/test_assert.vim

Patch 7.4.1011
Problem:    Can't build with Strawberry Perl.
Solution:   Include stdbool.h. (Ken Takata, closes #328)
Files:      Filelist, src/Make_mvc.mak, src/if_perl_msvc/stdbool.h

Patch 7.4.1012
Problem:    Vim overwrites the value of $PYTHONHOME.
Solution:   Do not set $PYTHONHOME if it is already set. (Kazuki Sakamoto,
            closes #500)
Files:      src/if_python.c, src/if_python3.c

Patch 7.4.1013
Problem:    The local value of 'errorformat' is not used for ":lexpr" and
            ":cexpr".
Solution:   Use the local value if it exists. (Christian Brabandt) Adjust the
            help for this.
Files:      runtime/doc/quickfix.txt, src/quickfix.c

Patch 7.4.1014
Problem:    `fnamemodify('.', ':.')` returns an empty string in Cygwin.
Solution:   Use CCP_RELATIVE in the call to cygwin_conv_path. (Jacob Niehus,
            closes #505)
Files:      src/os_unix.c

Patch 7.4.1015
Problem:    The column is not restored properly when the matchparen plugin is
            used in Insert mode and the cursor is after the end of the line.
Solution:   Set the curswant flag. (Christian Brabandt).  Also fix
            highlighting the match of the character before the cursor.
Files:      src/eval.c, runtime/plugin/matchparen.vim

Patch 7.4.1016
Problem:    Still a few OS/2 pieces remain.
Solution:   Delete more.
Files:      Filelist, README_os2.txt, testdir/todos.vim, src/xxd/Make_os2.mak

Patch 7.4.1017
Problem:    When there is a backslash in an option ":set -=" doesn't work.
Solution:   Handle a backslash better. (Jacob Niehus)  Add a new test, merge
            in old test.
Files:      src/testdir/test_cdo.vim, src/testdir/test_set.vim,
            src/testdir/test_alot.vim, src/option.c, src/testdir/test_set.in,
            src/testdir/test_set.ok, src/Makefile

Patch 7.4.1018 (after 7.4.1017)
Problem:    Failure running tests.
Solution:   Add missing change to list of old style tests.
Files:      src/testdir/Make_all.mak

Patch 7.4.1019
Problem:    Directory listing of "src" is too long.
Solution:   Rename the resources file to make it shorter.
Files:      src/gui_gtk_gresources.xml, src/gui_gtk_res.xml, src/Makefile,
            Filelist

Patch 7.4.1020
Problem:    On MS-Windows there is no target to run tests with gvim.
Solution:   Add the testgvim target.
Files:      src/Make_mvc.mak

Patch 7.4.1021
Problem:    Some makefiles are outdated.
Solution:   Add a note to warn developers.
Files:      src/Make_manx.mak, src/Make_bc3.mak, src/Make_bc5.mak,
            src/Make_djg.mak, src/Make_w16.mak

Patch 7.4.1022
Problem:    The README file contains some outdated information.
Solution:   Update the information about supported systems.
Files:      README.txt, README.md

Patch 7.4.1023
Problem:    The distribution files for MS-Windows use CR-LF, which is
            inconsistent with what one gets from github.
Solution:   Use LF in the distribution files.
Files:      Makefile

Patch 7.4.1024
Problem:    Interfaces for MS-Windows are outdated.
Solution:   Use Python 2.7.10, Python 3.4.4, Perl 5.22, TCL 8.6.
Files:      src/bigvim.bat

Patch 7.4.1025
Problem:    Version in installer needs to be updated manually.
Solution:   Generate a file with the version number. (Guopeng Wen)
Files:      Makefile, nsis/gvim.nsi, nsis/gvim_version.nsh

Patch 7.4.1026
Problem:    When using MingW the tests do not clean up all files.  E.g. test
            17 leaves Xdir1 behind. (Michael Soyka)
Solution:   Also delete directories, like Make_dos.mak.  Delete files after
            directories to reduce warnings.
Files:      src/testdir/Make_ming.mak, src/testdir/Make_dos.mak

Patch 7.4.1027
Problem:    No support for binary numbers.
Solution:   Add "bin" to 'nrformats'. (Jason Schulz)
Files:      runtime/doc/change.txt, runtime/doc/eval.txt,
            runtime/doc/version7.txt, src/charset.c, src/eval.c,
            src/ex_cmds.c, src/ex_getln.c, src/misc2.c, src/ops.c,
            src/option.c, src/proto/charset.pro, src/spell.c,
            src/testdir/test57.in, src/testdir/test57.ok,
            src/testdir/test58.in, src/testdir/test58.ok,
            src/testdir/test_increment.in, src/testdir/test_increment.ok,
            src/vim.h

Patch 7.4.1028
Problem:    Nsis version file missing from the distribution.
Solution:   Add the file to the list.
Files:      Filelist

Patch 7.4.1029 (after 7.4.1027)
Problem:    test_increment fails on systems with 32 bit long.
Solution:   Only test with 32 bits.
Files:      src/testdir/test_increment.in, src/testdir/test_increment.ok

Patch 7.4.1030
Problem:    test49 is still slow.
Solution:   Move more tests from old to new style.
Files:      src/testdir/test_viml.vim, src/testdir/test49.vim,
            src/testdir/test49.ok, src/testdir/runtest.vim

Patch 7.4.1031
Problem:    Can't build with Python interface using MingW.
Solution:   Update the Makefile. (Yasuhiro Matsumoto)
Files:      src/INSTALLpc.txt, src/Make_cyg_ming.mak

Patch 7.4.1032
Problem:    message from assert_false() does not look nice.
Solution:   Handle missing sourcing_name. Use right number of spaces. (Watiko)
            Don't use line number if it's zero.
Files:      src/eval.c

Patch 7.4.1033
Problem:    Memory use on MS-Windows is very conservative.
Solution:   Use the global memory status to estimate amount of memory.
            (Mike Williams)
Files:      src/os_win32.c, src/os_win32.h, src/proto/os_win32.pro

Patch 7.4.1034
Problem:    There is no test for the 'backspace' option behavior.
Solution:   Add a test. (Hirohito Higashi)
Files:      src/testdir/test_alot.vim, src/testdir/test_backspace_opt.vim

Patch 7.4.1035
Problem:    An Ex range gets adjusted for folded lines even when the range is
            not using line numbers.
Solution:   Only adjust line numbers for folding. (Christian Brabandt)
Files:      runtime/doc/fold.txt, src/ex_docmd.c

Patch 7.4.1036
Problem:    Only terminals with up to 256 colors work properly.
Solution:   Use the 256 color behavior for all terminals with 256 or more
            colors. (Robert de Bath, closes #504)
Files:      src/syntax.c

Patch 7.4.1037
Problem:    Using "q!" when there is a modified hidden buffer does not unload
            the current buffer, resulting in the need to abandon it again.
Solution:   When using "q!" unload the current buffer when needed. (Yasuhiro
            Matsumoto, Hirohito Higashi)
Files:      src/testdir/test31.in, src/testdir/test31.ok,
            runtime/doc/editing.txt, src/ex_cmds2.c, src/ex_docmd.c,
            src/gui.c, src/gui_gtk_x11.c, src/os_unix.c,
            src/proto/ex_cmds2.pro

Patch 7.4.1038
Problem:    Still get a warning for a deprecated function with gdk-pixbuf
            2.31.
Solution:   Change minimum minor version from 32 to 31.
Files:      src/configure.in, src/auto/configure

Patch 7.4.1039 (after 7.4.1037)
Problem:    Test 31 fails with small build.
Solution:   Bail out for small build. (Hirohito Higashi)
Files:      src/testdir/test31.in

Patch 7.4.1040
Problem:    The tee command is not available on MS-Windows.
Solution:   Adjust tee.c for MSVC and add a makefile. (Yasuhiro Matsumoto)
Files:      src/tee/tee.c, src/tee/Make_mvc.mak, src/Make_mvc.mak

Patch 7.4.1041
Problem:    Various small things.
Solution:   Add file to list of distributed files.  Adjust README.  Fix typo.
Files:      Filelist, src/testdir/README.txt, src/testdir/test_charsearch.in,
            src/INSTALLmac.txt

Patch 7.4.1042
Problem:    g-CTRL-G shows the word count, but there is no way to get the word
            count in a script.
Solution:   Add the wordcount() function. (Christian Brabandt)
Files:      runtime/doc/editing.txt, runtime/doc/eval.txt,
            runtime/doc/usr_41.txt, src/eval.c, src/normal.c, src/ops.c,
            src/proto/ops.pro, src/testdir/test_wordcount.in,
            src/testdir/test_wordcount.ok, src/testdir/Make_all.mak

Patch 7.4.1043
Problem:    Another small thing.
Solution:   Now really update the Mac install text.
Files:      src/INSTALLmac.txt

Patch 7.4.1044 (after 7.4.1042)
Problem:    Can't build without the +eval feature.
Solution:   Add #ifdef.
Files:      src/ops.c

Patch 7.4.1045
Problem:    Having shadow and coverage on the same build results in the source
            files not being available in the coverage view.
Solution:   Move using shadow to the normal build.
Files:      .travis.yml

Patch 7.4.1046
Problem:    No test coverage for menus.
Solution:   Load the standard menus and check there is no error.
Files:      testdir/test_menu.vim, testdir/test_alot.vim

Patch 7.4.1047 (after patch 7.4.1042)
Problem:    Tests fail on MS-Windows.
Solution:   Set 'selection' to inclusive.
Files:      src/testdir/test_wordcount.in

Patch 7.4.1048 (after patch 7.4.1047)
Problem:    Wordcount test still fail on MS-Windows.
Solution:   Set 'fileformat' to "unix".
Files:      src/testdir/test_wordcount.in

Patch 7.4.1049 (after patch 7.4.1048)
Problem:    Wordcount test still fails on MS-Windows.
Solution:   Set 'fileformats' to "unix".
Files:      src/testdir/test_wordcount.in

Patch 7.4.1050
Problem:    Warning for unused var with tiny features. (Tony Mechelynck)
Solution:   Add #ifdef.  Use vim_snprintf().  Reduce number of statements.
Files:      src/ops.c

Patch 7.4.1051
Problem:    Segfault when unletting "count".
Solution:   Check for readonly and locked first. (Dominique Pelle)
            Add a test.
Files:      src/eval.c, src/testdir/test_alot.vim, src/testdir/test_unlet.vim

Patch 7.4.1052
Problem:    Illegal memory access with weird syntax command. (Dominique Pelle)
Solution:   Check for column past end of line.
Files:      src/syntax.c

Patch 7.4.1053
Problem:    Insufficient testing for quickfix commands.
Solution:   Add a new style quickfix test. (Yegappan Lakshmanan)
Files:      src/testdir/Make_all.mak, src/testdir/test_quickfix.vim

Patch 7.4.1054
Problem:    Illegal memory access.
Solution:   Check for missing pattern. (Dominique Pelle)
Files:      src/syntax.c

Patch 7.4.1055
Problem:    Running "make newtests" in src/testdir has no output.
Solution:   List the messages file when a test fails. (Christian Brabandt)
            Update the list of tests.
Files:      src/Makefile, src/testdir/Makefile

Patch 7.4.1056
Problem:    Don't know why finding spell suggestions is slow.
Solution:   Add some code to gather profiling information.
Files:      src/spell.c

Patch 7.4.1057
Problem:    Typos in the :options window.
Solution:   Fix the typos. (Dominique Pelle)
Files:      runtime/optwin.vim

Patch 7.4.1058
Problem:    It is not possible to test code that is only reached when memory
            allocation fails.
Solution:   Add the alloc_fail() function.  Try it out with :vimgrep.
Files:      runtime/doc/eval.txt, src/globals.h, src/eval.c, src/quickfix.c,
            src/misc2.c, src/proto/misc2.pro, src/testdir/test_quickfix.vim

Patch 7.4.1059
Problem:    Code will never be executed.
Solution:   Remove the code.
Files:      src/quickfix.c

Patch 7.4.1060
Problem:    Instructions for writing tests are outdated.
Solution:   Mention Make_all.mak.  Add steps for new style tests.
Files:      src/testdir/README.txt

Patch 7.4.1061
Problem:    Compiler warning for ignoring return value of fwrite().
Solution:   Do use the return value. (idea: Charles Campbell)
Files:      src/misc2.c, src/proto/misc2.pro

Patch 7.4.1062
Problem:    Building with Ruby on MS-Windows requires a lot of arguments.
Solution:   Make it simpler. (Ken Takata)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak

Patch 7.4.1063
Problem:    TCL_VER_LONG and DYNAMIC_TCL_VER are not set when building with
            Cygwin and MingW.
Solution:   Add TCL_VER_LONG and DYNAMIC_TCL_VER to the makefile. (Ken Takata)
Files:      src/Make_cyg_ming.mak

Patch 7.4.1064
Problem:    When a spell file has single letter compounding creating
            suggestions takes an awful long time.
Solution:   Add the NOCOMPOUNDSUGS flag.
Files:      runtime/doc/spell.txt, src/spell.c

Patch 7.4.1065
Problem:    Cannot use the "dll" options on MS-Windows.
Solution:   Support the options on all platforms.  Use the built-in name as
            the default, so that it's clear what Vim is looking for.
Files:      src/if_python.c, src/if_python3.c, src/if_lua.c, src/if_perl.xs,
            src/if_ruby.c, src/option.c, runtime/doc/options.txt, src/Makefile

Patch 7.4.1066 (after 7.4.1065)
Problem:    Build fails on MS-Windows.
Solution:   Adjust the #ifdefs for "dll" options.
Files:      src/option.h

Patch 7.4.1067 (after 7.4.1065)
Problem:    Can't build with MingW and Python on MS-Windows.
Solution:   Move the build flags to CFLAGS.
Files:      src/Make_cyg_ming.mak

Patch 7.4.1068
Problem:    Wrong way to check for unletting internal variables.
Solution:   Use a better way. (Olaf Dabrunz)
Files:      src/testdir/test_unlet.c, src/eval.c

Patch 7.4.1069
Problem:    Compiler warning for unused argument.
Solution:   Add UNUSED.
Files:      src/misc2.c

Patch 7.4.1070
Problem:    The Tcl interface can't be loaded dynamically on Unix.
Solution:   Make it possible to load it dynamically. (Ken Takata)
Files:      runtime/doc/if_tcl.txt, runtime/doc/options.txt,
            runtime/doc/quickref.txt, runtime/optwin.vim, src/Makefile,
            src/config.h.in, src/configure.in, src/auto/configure,
            src/if_tcl.c, src/option.c, src/option.h

Patch 7.4.1071
Problem:    New style tests are executed in arbitrary order.
Solution:   Sort the test function names. (Hirohito Higashi)
            Fix the quickfix test that depended on the order.
Files:      src/testdir/runtest.vim, src/testdir/test_quickfix.vim

Patch 7.4.1072
Problem:    Increment test is old style.
Solution:   Make the increment test a new style test. (Hirohito Higashi)
Files:      src/Makefile, src/testdir/Make_all.mak,
            src/testdir/test_increment.in, src/testdir/test_increment.ok,
            src/testdir/test_increment.vim

Patch 7.4.1073
Problem:    Alloc_id depends on numbers, may use the same one twice.  It's not
            clear from the number what it's for.
Solution:   Use an enum.  Add a function to lookup the enum value from the
            name.
Files:      src/misc2.c, src/vim.h, src/alloc.h, src/globals.h,
            src/testdir/runtest.vim, src/proto/misc2.pro,
            src/testdir/test_quickfix.vim

Patch 7.4.1074
Problem:    Warning from VC2015 compiler.
Solution:   Add a type cast. (Mike Williams)
Files:      src/gui_dwrite.cpp

Patch 7.4.1075
Problem:    Crash when using an invalid command.
Solution:   Fix generating the error message. (Dominique Pelle)
Files:      src/ex_docmd.c

Patch 7.4.1076
Problem:    CTRL-A does not work well in right-left mode.
Solution:   Remove reversing the line, add a test. (Hirohito Higashi)
Files:      src/ops.c, src/testdir/test_increment.vim

Patch 7.4.1077
Problem:    The build instructions for MS-Windows are incomplete.
Solution:   Add explanations for how to build with various interfaces. (Ken
            Takata)
Files:      src/INSTALLpc.txt

Patch 7.4.1078
Problem:    MSVC: "make clean" doesn't cleanup in the tee directory.
Solution:   Add the commands to cleanup tee. (Erich Ritz)
Files:      src/Make_mvc.mak

Patch 7.4.1079 (after 7.4.1073)
Problem:    New include file missing from distribution.  Missing changes to
            quickfix code.
Solution:   Add alloc.h to the list of distributed files. Use the enum in
            quickfix code.
Files:      Filelist, src/quickfix.c

Patch 7.4.1080
Problem:    VS2015 has a function HandleToLong() that is shadowed by the macro
            that Vim defines.
Solution:   Do not define HandleToLong() for MSVC version 1400 and later.
            (Mike Williams)
Files:      src/gui_w32.c

Patch 7.4.1081
Problem:    No test for what previously caused a crash.
Solution:   Add test for unletting errmsg.
Files:      src/testdir/test_unlet.vim

Patch 7.4.1082
Problem:    The Tcl interface is always skipping memory free on exit.
Solution:   Only skip for dynamically loaded Tcl.
Files:      src/if_tcl.c

Patch 7.4.1083
Problem:    Building GvimExt with VS2015 may fail.
Solution:   Adjust the makefile. (Mike Williams)
Files:      src/GvimExt/Makefile

Patch 7.4.1084
Problem:    Using "." to repeat CTRL-A in Visual mode increments the wrong
            numbers.
Solution:   Append right size to the redo buffer. (Ozaki Kiichi)
Files:      src/normal.c, src/testdir/test_increment.vim

Patch 7.4.1085
Problem:    The CTRL-A and CTRL-X commands do not update the '[ and '] marks.
Solution:   (Yukihiro Nakadaira)
Files:      src/ops.c, src/testdir/test_marks.in, src/testdir/test_marks.ok

Patch 7.4.1086
Problem:    Crash with an extremely long buffer name.
Solution:   Limit the return value of vim_snprintf(). (Dominique Pelle)
Files:      src/buffer.c

Patch 7.4.1087
Problem:    CTRL-A and CTRL-X do not work properly with blockwise visual
            selection if there is a mix of Tab and spaces.
Solution:   Add OP_NR_ADD and OP_NR_SUB. (Hirohito Higashi)
Files:      src/testdir/test_increment.vim, src/normal.c, src/ops.c,
            src/proto/ops.pro, src/vim.h

Patch 7.4.1088
Problem:    Coverity warns for uninitialized variables.  Only one is an actual
            problem.
Solution:   Move the conditions.  Don't use endpos if handling an error.
Files:      src/ops.c

Patch 7.4.1089
Problem:    Repeating CTRL-A doesn't work.
Solution:   Call prep_redo_cmd(). (Hirohito Higashi)
Files:      src/normal.c, src/testdir/test_increment.vim

Patch 7.4.1090
Problem:    No tests for :hardcopy and related options.
Solution:   Add test_hardcopy.
Files:      src/testdir/test_hardcopy.vim, src/Makefile,
            src/testdir/Make_all.mak

Patch 7.4.1091
Problem:    When making a change while need_wait_return is set there is a two
            second delay.
Solution:   Do not assume the ATTENTION prompt was given when need_wait_return
            was set already.
Files:      src/misc1.c

Patch 7.4.1092
Problem:    It is not simple to test for an exception and give a proper error
            message.
Solution:   Add assert_exception().
Files:      src/eval.c, runtime/doc/eval.txt

Patch 7.4.1093
Problem:    Typo in test goes unnoticed.
Solution:   Fix the typo. Give error for wrong arguments to cursor().
            (partly by Hirohito Higashi) Add a test for cursor().
Files:      src/testdir/test_searchpos.vim, src/testdir/test_cursor_func.vim,
            src/eval.c, src/testdir/test_alot.vim

Patch 7.4.1094
Problem:    Test for :hardcopy fails on MS-Windows.
Solution:   Check for the +postscript feature.
Files:      src/testdir/test_hardcopy.vim

Patch 7.4.1095
Problem:    Can't build GvimExt with SDK 7.1.
Solution:   Support using setenv.bat instead of vcvars32.bat. (Ken Takata)
Files:      src/Make_mvc.mak, src/GvimExt/Makefile

Patch 7.4.1096
Problem:    Need several lines to verify a command produces an error.
Solution:   Add assert_fails(). (suggested by Nikolai Pavlov)
            Make the quickfix alloc test actually work.
Files:      src/testdir/test_quickfix.vim, src/eval.c, runtime/doc/eval.txt,
            src/misc2.c, src/alloc.h

Patch 7.4.1097
Problem:    Looking up the alloc ID for tests fails.
Solution:   Fix the line computation.  Use assert_fails() for unlet test.
Files:      src/testdir/runtest.vim, src/testdir/test_unlet.vim

Patch 7.4.1098
Problem:    Still using old style C function declarations.
Solution:   Always define __ARGS() to include types.  Turn a few functions
            into ANSI style to find out if this causes problems for anyone.
Files:      src/vim.h, src/os_unix.h, src/eval.c, src/main.c

Patch 7.4.1099
Problem:    It's not easy to know if Vim supports blowfish. (Smu Johnson)
Solution:   Add has('crypt-blowfish') and has('crypt-blowfish2').
Files:      src/eval.c

Patch 7.4.1100
Problem:    Cygwin makefiles are unused.
Solution:   Remove them.
Files:      src/GvimExt/Make_ming.mak, src/GvimExt/Make_cyg.mak,
            src/xxd/Make_ming.mak, src/xxd/Make_cyg.mak

Patch 7.4.1101
Problem:    With 'rightleft' and concealing the cursor may move to the wrong
            position.
Solution:   Compute the column differently when 'rightleft' is set. (Hirohito
            Higashi)
Files:      src/screen.c

Patch 7.4.1102
Problem:    Debugger has no stack backtrace support.
Solution:   Add "backtrace", "frame", "up" and "down" commands. (Alberto
            Fanjul, closes #433)
Files:      runtime/doc/repeat.txt, src/eval.c, src/ex_cmds2.c, src/globals.h,
            src/testdir/Make_all.mak, src/testdir/test108.in,
            src/testdir/test108.ok

Patch 7.4.1103 (after 7.4.1100)
Problem:    Removed file still in distribution.
Solution:   Remove Make_cyg.mak from the list of files.
Files:      Filelist

Patch 7.4.1104
Problem:    Various problems building with MzScheme/Racket.
Solution:   Make it work with new versions of Racket. (Yukihiro Nakadaira, Ken
            Takata)
Files:      runtime/doc/if_mzsch.txt, src/INSTALLpc.txt,
            src/Make_cyg_ming.mak, src/Make_mvc.mak, src/auto/configure,
            src/configure.in, src/if_mzsch.c

Patch 7.4.1105
Problem:    When using slices there is a mixup of variable name and namespace.
Solution:   Recognize variables that can't be a namespace. (Hirohito Higashi)
Files:      src/eval.c, src/testdir/test_eval.in, src/testdir/test_eval.ok

Patch 7.4.1106
Problem:    The nsis script can't be used from the appveyor build.
Solution:   Add "ifndef" to allow for variables to be set from the command
            line. Remove duplicate SetCompressor command. Support using other
            gettext binaries. (Ken Takata)  Update build instructions to use
            libintl-8.dll.
Files:      Makefile, nsis/gvim.nsi, src/os_win32.c, src/proto/os_win32.pro,
            src/main.c, os_w32exe.c

Patch 7.4.1107
Problem:    Vim can create a directory but not delete it.
Solution:   Add an argument to delete() to make it possible to delete a
            directory, also recursively.
Files:      src/fileio.c, src/eval.c, src/proto/fileio.pro,
            src/testdir/test_delete.vim, src/testdir/test_alot.vim,
            runtime/doc/eval.txt

Patch 7.4.1108
Problem:    Expanding "~" halfway a file name.
Solution:   Handle the file name as one name. (Marco Hinz)  Add a test.
            Closes #564.
Files:      src/testdir/test27.in, src/testdir/test27.ok,
            src/testdir/test_expand.vim, src/testdir/test_alot.vim,
            src/Makefile, src/misc2.c

Patch 7.4.1109 (after 7.4.1107)
Problem:    MS-Windows doesn't have rmdir().
Solution:   Add mch_rmdir().
Files:      src/os_win32.c, src/proto/os_win32.pro

Patch 7.4.1110
Problem:    Test 108 fails when language is French.
Solution:   Force English messages. (Dominique Pelle)
Files:      src/testdir/test108.in

Patch 7.4.1111
Problem:    test_expand fails on MS-Windows.
Solution:   Always use forward slashes.  Remove references to test27.
Files:      src/testdir/runtest.vim, src/testdir/test_expand.vim,
            src/testdir/Make_dos.mak, src/testdir/Make_all.mak,
            src/testdir/Make_amiga.mak, src/testdir/Make_ming.mak

Patch 7.4.1112
Problem:    When using ":next" with an illegal file name no error is reported.
Solution:   Give an error message.
Files:      src/ex_cmds2.c

Patch 7.4.1113 (after 7.4.1105)
Problem:    Using {ns} in variable name does not work. (lilydjwg)
Solution:   Fix recognizing colon.  Add a test.
Files:      src/eval.c, src/testdir/test_viml.vim

Patch 7.4.1114 (after 7.4.1107)
Problem:    delete() does not work well with symbolic links.
Solution:   Recognize symbolic links.
Files:      src/eval.c, src/fileio.c, src/os_unix.c, src/proto/os_unix.pro,
            src/testdir/test_delete.vim, runtime/doc/eval.txt

Patch 7.4.1115
Problem:    MS-Windows: make clean in testdir doesn't clean everything.
Solution:   Add command to delete X* directories. (Ken Takata)
Files:      src/testdir/Make_dos.mak

Patch 7.4.1116
Problem:    delete(x, 'rf') does not delete files starting with a dot.
Solution:   Also delete files starting with a dot.
Files:      src/misc1.c, src/fileio.c, src/vim.h

Patch 7.4.1117 (after 7.4.1116)
Problem:    No longer get "." and ".." in directory list.
Solution:   Do not skip "." and ".." unless EW_DODOT is set.
Files:      src/mics1.c

Patch 7.4.1118
Problem:    Tests hang in 24 line terminal.
Solution:   Set the 'more' option off.
Files:      src/testdir/runtest.vim

Patch 7.4.1119
Problem:    argidx() has a wrong value after ":%argdelete". (Yegappan
            Lakshmanan)
Solution:   Correct the value of w_arg_idx.  Add a test.
Files:      src/ex_cmds2.c, src/testdir/test_arglist.vim,
            src/testdir/Make_all.mak

Patch 7.4.1120
Problem:    delete(x, 'rf') fails if a directory is empty. (Lcd)
Solution:   Ignore not finding matches in an empty directory.
Files:      src/fileio.c, src/misc1.c, src/vim.h, src/testdir/test_delete.vim

Patch 7.4.1121
Problem:    test_expand leaves files behind.
Solution:   Edit another file before deleting, otherwise the swap file
            remains.
Files:      src/testdir/test_expand.vim

Patch 7.4.1122
Problem:    Test 92 and 93 fail when using gvim on a system with a non utf-8
            locale.
Solution:   Avoid using .gvimrc by adding -U NONE. (Yukihiro Nakadaira)
Files:      src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
            src/testdir/Make_vms.mms, src/testdir/Makefile

Patch 7.4.1123
Problem:    Using ":argadd" when there are no arguments results in the second
            argument to be the current one. (Yegappan Lakshmanan)
Solution:   Correct the w_arg_idx value.
Files:      src/ex_cmds2.c, src/testdir/test_arglist.vim

Patch 7.4.1124
Problem:    MS-Windows: dead key behavior is not ideal.
Solution:   Handle dead keys differently when not in Insert or Select mode.
            (John Wellesz, closes #399)
Files:      src/gui_w48.c

Patch 7.4.1125
Problem:    There is no perleval().
Solution:   Add perleval(). (Damien)
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/eval.c,
            src/if_perl.xs, src/proto/if_perl.pro, src/testdir/Make_all.mak,
            src/testdir/test_perl.vim

Patch 7.4.1126
Problem:    Can only get the directory of the current window.
Solution:   Add window and tab arguments to getcwd() and haslocaldir().
            (Thinca, Hirohito Higashi)
Files:      src/Makefile, src/testdir/Make_all.mak,
            src/testdir/test_getcwd.in, src/testdir/test_getcwd.ok,
            runtime/doc/eval.txt, patching file src/eval.c

Patch 7.4.1127
Problem:    Both old and new style tests for Perl.
Solution:   Merge the old tests with the new style tests.
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/test_perl.in,
            src/testdir/test_perl.ok, src/testdir/test_perl.vim

Patch 7.4.1128
Problem:    MS-Windows: delete() does not recognize junctions.
Solution:   Add mch_isrealdir() for MS-Windows. Update mch_is_symbolic_link().
            (Ken Takata)
Files:      src/fileio.c, src/os_win32.c, src/proto/os_win32.pro

Patch 7.4.1129
Problem:    Python None value can't be converted to a Vim value.
Solution:   Just use zero. (Damien)
Files:      src/if_py_both.h, src/testdir/test86.in, src/testdir/test86.ok,
            src/testdir/test87.in, src/testdir/test87.ok,

Patch 7.4.1130
Problem:    Memory leak in :vimgrep.
Solution:   Call FreeWild(). (Yegappan Lakshmanan)
Files:      src/quickfix.c

Patch 7.4.1131
Problem:    New lines in the viminfo file are dropped.
Solution:   Copy lines starting with "|".  Fix that when using :rviminfo in a
            function global variables were restored as function-local
            variables.
Files:      src/eval.c, src/structs.h, src/ex_cmds.c, src/misc2.c,
            src/proto/misc2.pro, src/testdir/test_viminfo.vim,
            src/testdir/Make_all.mak, src/testdir/test74.in,
            src/testdir/test74.ok

Patch 7.4.1132
Problem:    Old style tests for the argument list.
Solution:   Add more new style tests. (Yegappan Lakshmanan)
Files:      src/testdir/test_arglist.vim, src/testdir/test_argument_0count.in,
            src/testdir/test_argument_0count.ok,
            src/testdir/test_argument_count.in, src/Makefile,
            src/testdir/test_argument_count.ok, src/testdir/Make_all.mak

Patch 7.4.1133
Problem:    Generated function prototypes still have __ARGS().
Solution:   Generate function prototypes without __ARGS().
Files:      src/Makefile, src/if_ruby.c, src/os_win32.c,
            src/proto/blowfish.pro, src/proto/buffer.pro,
            src/proto/charset.pro, src/proto/crypt.pro,
            src/proto/crypt_zip.pro, src/proto/diff.pro,
            src/proto/digraph.pro, src/proto/edit.pro, src/proto/eval.pro,
            src/proto/ex_cmds2.pro, src/proto/ex_cmds.pro,
            src/proto/ex_docmd.pro, src/proto/ex_eval.pro,
            src/proto/ex_getln.pro, src/proto/fileio.pro, src/proto/fold.pro,
            src/proto/getchar.pro, src/proto/gui_athena.pro,
            src/proto/gui_beval.pro, src/proto/gui_gtk_gresources.pro,
            src/proto/gui_gtk.pro, src/proto/gui_gtk_x11.pro,
            src/proto/gui_mac.pro, src/proto/gui_motif.pro,
            src/proto/gui_photon.pro, src/proto/gui.pro,
            src/proto/gui_w16.pro, src/proto/gui_w32.pro,
            src/proto/gui_x11.pro, src/proto/gui_xmdlg.pro,
            src/proto/hangulin.pro, src/proto/hardcopy.pro,
            src/proto/hashtab.pro, src/proto/if_cscope.pro,
            src/proto/if_lua.pro, src/proto/if_mzsch.pro,
            src/proto/if_ole.pro, src/proto/if_perl.pro,
            src/proto/if_perlsfio.pro, src/proto/if_python3.pro,
            src/proto/if_python.pro, src/proto/if_ruby.pro,
            src/proto/if_tcl.pro, src/proto/if_xcmdsrv.pro,
            src/proto/main.pro, src/proto/mark.pro, src/proto/mbyte.pro,
            src/proto/memfile.pro, src/proto/memline.pro, src/proto/menu.pro,
            src/proto/message.pro, src/proto/misc1.pro, src/proto/misc2.pro,
            src/proto/move.pro, src/proto/netbeans.pro, src/proto/normal.pro,
            src/proto/ops.pro, src/proto/option.pro, src/proto/os_amiga.pro,
            src/proto/os_beos.pro, src/proto/os_mac_conv.pro,
            src/proto/os_msdos.pro, src/proto/os_mswin.pro,
            src/proto/os_qnx.pro, src/proto/os_unix.pro, src/proto/os_vms.pro,
            src/proto/os_win16.pro, src/proto/os_win32.pro,
            src/proto/popupmnu.pro, src/proto/pty.pro, src/proto/quickfix.pro,
            src/proto/regexp.pro, src/proto/screen.pro, src/proto/search.pro,
            src/proto/sha256.pro, src/proto/spell.pro, src/proto/syntax.pro,
            src/proto/tag.pro, src/proto/termlib.pro, src/proto/term.pro,
            src/proto/ui.pro, src/proto/undo.pro, src/proto/version.pro,
            src/proto/winclip.pro, src/proto/window.pro,
            src/proto/workshop.pro

Patch 7.4.1134
Problem:    The arglist test fails on MS-Windows.
Solution:   Only check for failure of argedit on Unix.
Files:      src/testdir/test_arglist.vim

Patch 7.4.1135
Problem:    One more arglist test fails on MS-Windows.
Solution:   Don't edit "Y" after editing "y".
Files:      src/testdir/test_arglist.vim

Patch 7.4.1136
Problem:    Wrong argument to assert_exception() causes a crash. (reported by
            Coverity)
Solution:   Check for NULL pointer.  Add a test.
Files:      src/eval.c, src/testdir/test_assert.vim

Patch 7.4.1137
Problem:    Illegal memory access when using :copen and :cclose.
Solution:   Avoid that curbuf is invalid. (suggestion by Justin M. Keyes)
            Add a test.
Files:      src/window.c, src/testdir/test_quickfix.vim

Patch 7.4.1138
Problem:    When running gvim in the foreground some icons are missing.
            (Taylor Venable)
Solution:   Move the call to gui_gtk_register_resource(). (Kazunobu Kuriyama)
Files:      src/gui_gtk_x11.c

Patch 7.4.1139
Problem:    MS-Windows: getftype() returns "file" for symlink to directory.
Solution:   Make it return "dir". (Ken Takata)
Files:      src/os_mswin.c

Patch 7.4.1140
Problem:    Recognizing <sid> does not work when the language is Turkish.
            (Christian Brabandt)
Solution:   Use MB_STNICMP() instead of STNICMP().
Files:      src/eval.c

Patch 7.4.1141
Problem:    Using searchpair() with a skip expression that uses syntax
            highlighting sometimes doesn't work. (David Fishburn)
Solution:   Reset next_match_idx. (Christian Brabandt)
Files:      src/syntax.c

Patch 7.4.1142
Problem:    Cannot define keyword characters for a syntax file.
Solution:   Add the ":syn iskeyword" command. (Christian Brabandt)
Files:      runtime/doc/options.txt, runtime/doc/syntax.txt, src/buffer.c,
            src/option.c, src/structs.h, src/syntax.c,
            src/testdir/Make_all.mak, src/testdir/test_syntax.vim

Patch 7.4.1143
Problem:    Can't sort on floating point numbers.
Solution:   Add the "f" flag to ":sort".  (Alex Jakushev)  Also add the "f"
            flag to sort().
Files:      runtime/doc/change.txt, src/ex_cmds.c, src/testdir/test_sort.vim,
            src/testdir/test57.in, src/testdir/test57.ok, src/eval.c

Patch 7.4.1144 (after 7.4.1143)
Problem:    Can't build on several systems.
Solution:   Include float.h. (Christian Robinson, closes #570 #571)
Files:      src/ex_cmds.c

Patch 7.4.1145
Problem:    Default features are conservative.
Solution:   Make the default feature set for most of today's systems "huge".
Files:      src/feature.h, src/configure.in, src/auto/configure

Patch 7.4.1146
Problem:    Can't build with Python 3 interface using MingW.
Solution:   Update the Makefile. (Yasuhiro Matsumoto, Ken Takata)
Files:      src/Make_cyg_ming.mak

Patch 7.4.1147
Problem:    Conflict for "chartab". (Kazunobu Kuriyama)
Solution:   Rename the global one to something less obvious.  Move it into
            src/chartab.c.
Files:      src/macros.h, src/globals.h, src/charset.c, src/main.c,
            src/option.c, src/screen.c, src/vim.h

Patch 7.4.1148
Problem:    Default for MingW and Cygwin is still "normal".
Solution:   Use "huge" as default. (Ken Takata)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak

Patch 7.4.1149 (after 7.4.1013)
Problem:    Using the local value of 'errorformat' causes more problems than
            it solves.
Solution:   Revert 7.4.1013.
Files:      runtime/doc/quickfix.txt, src/quickfix.c

Patch 7.4.1150
Problem:    'langmap' applies to the first character typed in Select mode.
            (David Watson)
Solution:   Check for SELECTMODE. (Christian Brabandt, closes #572)
            Add the 'x' flag to feedkeys().
Files:      src/getchar.c, src/normal.c, src/testdir/test_langmap.vim,
            src/ex_docmd.c, src/proto/ex_docmd.pro, src/testdir/Make_all.mak,
            runtime/doc/eval.txt

Patch 7.4.1151 (after 7.4.1150)
Problem:    Missing change to eval.c
Solution:   Also change feedkeys().
Files:      src/eval.c

Patch 7.4.1152
Problem:    Langmap test fails with normal build.
Solution:   Check for +langmap feature.
Files:      src/testdir/test_langmap.vim

Patch 7.4.1153
Problem:    Autocommands triggered by quickfix cannot always get the current
            title value.
Solution:   Call qf_fill_buffer() later. (Christian Brabandt)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.1154
Problem:    No support for JSON.
Solution:   Add jsonencode() and jsondecode().  Also add v:false, v:true,
            v:null and v:none.
Files:      src/json.c, src/eval.c, src/proto.h, src/structs.h, src/vim.h,
            src/if_lua.c, src/if_mzsch.c, src/if_ruby.c, src/if_py_both.h,
            src/globals.h, src/Makefile, src/Make_bc3.mak, src/Make_bc5.mak,
            src/Make_cyg_ming.mak, src/Make_dice.mak, src/Make_ivc.mak,
            src/Make_manx.mak, src/Make_morph.mak, src/Make_mvc.mak,
            src/Make_sas.mak, src/Make_vms.mms, src/proto/json.pro,
            src/proto/eval.pro, src/testdir/test_json.vim,
            src/testdir/test_alot.vim, Filelist, runtime/doc/eval.txt

Patch 7.4.1155
Problem:    Build with normal features fails.
Solution:   Always define dict_lookup().
Files:      src/eval.c

Patch 7.4.1156
Problem:    Coverity warns for NULL pointer and ignoring return value.
Solution:   Check for NULL pointer. When dict_add() returns FAIL free the item.
Files:      src/json.c

Patch 7.4.1157
Problem:    type() does not work for v:true, v:none, etc.
Solution:   Add new type numbers.
Files:      src/eval.c, src/testdir/test_json.vim, src/testdir/test_viml.vim

Patch 7.4.1158
Problem:    Still using __ARGS().
Solution:   Remove __ARGS() from eval.c
Files:      src/eval.c

Patch 7.4.1159
Problem:    Automatically generated function prototypes use __ARGS.
Solution:   Remove __ARGS from osdef.sh.
Files:      src/osdef.sh, src/osdef1.h.in, src/osdef2.h.in

Patch 7.4.1160
Problem:    No error for jsondecode('"').
Solution:   Give an error message for missing double quote.
Files:      src/json.c

Patch 7.4.1161
Problem:    ":argadd" without argument is supposed to add the current buffer
            name to the arglist.
Solution:   Make it work as documented. (Coot, closes #577)
Files:      src/ex_cmds.h, src/ex_cmds2.c, src/testdir/test_arglist.vim

Patch 7.4.1162
Problem:    Missing error number in MzScheme. (Dominique Pelle)
Solution:   Add a proper error number.
Files:      src/if_mzsch.c

Patch 7.4.1163
Problem:    Expressions "0 + v:true" and "'' . v:true" cause an error.
Solution:   Return something sensible when using a special variable as a
            number or as a string. (suggested by Damien)
Files:      src/eval.c, src/testdir/test_viml.vim

Patch 7.4.1164
Problem:    No tests for comparing special variables.  Error in jsondecode()
            not reported.  test_json does not work with Japanese system.
Solution:   Set scriptencoding. (Ken Takata) Add a few more tests. Add error.
Files:      src/json.c, src/testdir/test_viml.vim, src/testdir/test_json.vim

Patch 7.4.1165
Problem:    When defining DYNAMIC_ICONV_DLL in the makefile, the build fails.
Solution:   Add #ifdef's. (Taro Muraoka)  Try the newer version first.
Files:      src/mbyte.c, src/os_win32.c

Patch 7.4.1166
Problem:    Can't encode a Funcref into JSON.  jsonencode() doesn't handle the
            same list or dict twice properly.  (Nikolai Pavlov)
Solution:   Give an error.  Reset copyID when the list or dict is finished.
Files:      src/json.c, src/proto/json.pro, src/testdir/test_json.vim

Patch 7.4.1167
Problem:    No tests for "is" and "isnot" with the new variables.
Solution:   Add tests.
Files:      src/testdir/test_viml.vim

Patch 7.4.1168
Problem:    This doesn't give the right result: eval(string(v:true)). (Nikolai
            Pavlov)
Solution:   Make the string "v:true" instead of "true".
Files:      src/eval.c, src/testdir/test_viml.vim

Patch 7.4.1169
Problem:    The socket I/O is intertwined with the netbeans code.
Solution:   Start refactoring the netbeans communication to split off the
            socket I/O.  Add the +channel feature.
Files:      src/channel.c, src/netbeans.c, src/proto/channel.pro,
            src/proto/netbeans.pro, src/proto/gui_w32.pro, src/gui_w32.c,
            src/eval.c, src/os_mswin.c, src/ui.c, src/macros.h, Makefile,
            src/proto.h, src/feature.h, src/os_unix.c, src/vim.h,
            src/configure.in, src/auto/configure, src/config.mk.in,
            src/config.aap.in, src/config.h.in, src/Make_bc5.mak,
            src/Make_cyg_ming.mak, src/Make_mvc.mak

Patch 7.4.1170 (after 7.4.1169)
Problem:    Missing changes in src/Makefile, Filelist.
Solution:   Add the missing changes.
Files:      Filelist, src/Makefile

Patch 7.4.1171
Problem:    Makefile dependencies are outdated.
Solution:   Run "make depend". Add GTK resource dependencies.
Files:      src/Makefile

Patch 7.4.1172 (after 7.4.1169)
Problem:    Configure is overly positive.
Solution:   Insert "test".
Files:      src/configure.in, src/auto/configure

Patch 7.4.1173 (after 7.4.1168)
Problem:    No test for new behavior of v:true et al.
Solution:   Add a test.
Files:      src/testdir/test_viml.vim

Patch 7.4.1174
Problem:    Netbeans contains dead code inside #ifndef INIT_SOCKETS.
Solution:   Remove the dead code.
Files:      src/netbeans.c

Patch 7.4.1175 (after 7.4.1169)
Problem:    Can't build with Mingw and Cygwin.
Solution:   Remove extra "endif". (Christian J. Robinson)
Files:      src/Make_cyg_ming.mak

Patch 7.4.1176
Problem:    Missing change to proto file.
Solution:   Update the proto file. (Charles Cooper)
Files:      src/proto/gui_w32.pro

Patch 7.4.1177
Problem:    The +channel feature is not in :version output. (Tony Mechelynck)
Solution:   Add the feature string.
Files:      src/version.c

Patch 7.4.1178
Problem:    empty() doesn't work for the new special variables.
Solution:   Make empty() work. (Damien)
Files:      src/eval.c, src/testdir/test_viml.vim

Patch 7.4.1179
Problem:    test_writefile and test_viml do not delete the tempfile.
Solution:   Delete the tempfile. (Charles Cooper)  Add DeleteTheScript().
Files:      src/testdir/test_writefile.in, src/testdir/test_viml.vim

Patch 7.4.1180
Problem:    Crash with invalid argument to glob2regpat().
Solution:   Check for NULL. (Justin M. Keyes, closes #596)  Add a test.
Files:      src/eval.c, src/testdir/test_glob2regpat.vim,
            src/testdir/test_alot.vim

Patch 7.4.1181
Problem:    free_tv() can't handle special variables. (Damien)
Solution:   Add the variable type.
Files:      src/eval.c, src/testdir/test_viml.vim

Patch 7.4.1182
Problem:    Still socket code intertwined with netbeans.
Solution:   Move code from netbeans.c to channel.c
Files:      src/channel.c, src/netbeans.c, src/proto/channel.pro,
            src/proto/netbeans.pro, src/gui.c, src/gui_w48.c

Patch 7.4.1183 (after 7.4.1182)
Problem:    MS-Windows build is broken.
Solution:   Remove init in wrong place.
Files:      src/channel.c

Patch 7.4.1184 (after 7.4.1182)
Problem:    MS-Windows build is still broken.
Solution:   Change nbsock to ch_fd.
Files:      src/channel.c

Patch 7.4.1185
Problem:    Can't build with TCL on some systems.
Solution:   Rename the channel_ functions.
Files:      src/if_tcl.c

Patch 7.4.1186
Problem:    Error messages for security context are hard to translate.
Solution:   Use one string with %s. (Ken Takata)
Files:      src/os_unix.c

Patch 7.4.1187
Problem:    MS-Windows channel code only supports one channel.  Doesn't build
            without netbeans support.
Solution:   Get the channel index from the socket in the message. Closes #600.
Files:      src/channel.c, src/netbeans.c, src/gui_w48.c,
            src/proto/channel.pro, src/proto/netbeans.pro

Patch 7.4.1188
Problem:    Using older JSON standard.
Solution:   Update the link.  Adjust the text a bit.
Files:      src/json.c, runtime/doc/eval.txt

Patch 7.4.1189 (after 7.4.1165)
Problem:    Using another language on MS-Windows does not work. (Yongwei Wu)
Solution:   Undo the change to try loading libintl-8.dll first.
Files:      src/os_win32.c

Patch 7.4.1190
Problem:    On OSX the default flag for dlopen() is different.
Solution:   Add RTLD_LOCAL in the configure check. (sv99, closes #604)
Files:      src/configure.in, src/auto/configure

Patch 7.4.1191
Problem:    The channel feature isn't working yet.
Solution:   Add the connect(), disconnect(), sendexpr() and sendraw()
            functions.  Add initial documentation.  Add a demo server.
Files:      src/channel.c, src/eval.c, src/proto/channel.pro,
            src/proto/eval.pro, runtime/doc/channel.txt, runtime/doc/eval.txt,
            runtime/doc/Makefile, runtime/tools/demoserver.py

Patch 7.4.1192
Problem:    Can't build with FEAT_EVAL but without FEAT_MBYTE. (John
            Marriott)
Solution:   Add #ifdef for FEAT_MBYTE.
Files:      src/json.c

Patch 7.4.1193
Problem:    Can't build the channel feature on MS-Windows.
Solution:   Add #ifdef HAVE_POLL.
Files:      src/channel.c

Patch 7.4.1194
Problem:    Compiler warning for not using return value of fwrite().
Solution:   Return OK/FAIL. (Charles Campbell)
Files:      src/channel.c, src/proto/channel.pro

Patch 7.4.1195
Problem:    The channel feature does not work in the MS-Windows console.
Solution:   Add win32 console support. (Yasuhiro Matsumoto)
Files:      src/channel.c, src/gui_w32.c, src/os_mswin.c, src/os_win32.c,
            src/proto/gui_w32.pro, src/proto/os_mswin.pro, src/vim.h

Patch 7.4.1196
Problem:    Still using __ARGS.
Solution:   Remove __ARGS in several files. (script by Hirohito Higashi)
Files:      src/arabic.c, src/buffer.c, src/charset.c, src/crypt_zip.c,
            src/diff.c, src/digraph.c, src/edit.c, src/ex_cmds.c,
            src/ex_cmds2.c, src/ex_docmd.c

Patch 7.4.1197
Problem:    Still using __ARGS.
Solution:   Remove __ARGS in several files. (script by Hirohito Higashi)
Files:      src/ex_eval.c, src/ex_getln.c, src/farsi.c, src/fileio.c,
            src/fold.c, src/getchar.c, src/gui.c, src/gui_at_fs.c,
            gui_at_sb.c, src/gui_athena.c, src/gui_beval.c, src/gui_motif.c,
            src/gui_w32.c, src/gui_w48.c

Patch 7.4.1198
Problem:    Still using __ARGS.
Solution:   Remove __ARGS in several files. (script by Hirohito Higashi)
            Also remove use of HAVE_STDARG_H.
Files:      src/gui_x11.c, src/hangulin.c, src/hardcopy.c, src/hashtab.c,
            src/if_cscope.c, src/if_python3.c, src/if_sniff.c,
            src/if_xcmdsrv.c, src/main.c, src/mark.c, src/mbyte.c,
            src/memfile.c, src/memfile_test.c, src/memline.c, src/menu.c,
            src/message.c, src/misc1.c, src/misc2.c, src/move.c,
            src/netbeans.c, src/normal.c

Patch 7.4.1199
Problem:    Still using __ARGS.
Solution:   Remove __ARGS in several files. (script by Hirohito Higashi)
Files:      src/ops.c, src/option.c, src/os_amiga.c, src/os_mac_conv.c,
            src/os_unix.c, src/os_vms.c, src/os_w32exe.c, src/popupmnu.c,
            src/pty.c, src/quickfix.c, src/regexp.c, src/regexp_nfa.c,
            src/screen.c, src/search.c, src/sha256.c, src/spell.c,
            src/syntax.c, src/tag.c, src/term.c, src/termlib.c, src/ui.c,
            src/undo.c, src/version.c, src/window.c

Patch 7.4.1200
Problem:    Still using __ARGS.
Solution:   Remove __ARGS in several files. (script by Hirohito Higashi)
Files:      src/blowfish.c, src/ex_cmds2.c, src/ex_getln.c, src/fold.c,
            src/gui_beval.c, src/gui_w32.c, src/os_unix.c, src/os_win16.c,
            src/pty.c, src/regexp.c, src/syntax.c, src/xpm_w32.c,
            src/ex_cmds.h, src/globals.h, src/gui_at_sb.h, src/gui_beval.h,
            src/if_cscope.h, src/if_sniff.h, src/nbdebug.h, src/os_unix.h,
            src/proto.h, src/structs.h, src/vim.h, src/xpm_w32.h,
            src/if_perl.xs, src/proto/if_lua.pro, src/proto/pty.pro,
            runtime/tools/xcmdsrv_client.c,
            src/Makefile

Patch 7.4.1201
Problem:    One more file still using __ARGS.
Solution:   Remove __ARGS in the last file. (script by Hirohito Higashi)
Files:      src/gui_at_sb.c

Patch 7.4.1202
Problem:    Still one more file still using __ARGS.
Solution:   Remove __ARGS in the last file. (script by Hirohito Higashi)
            (closes #612)
Files:      src/proto/os_mac_conv.pro, src/os_mac_conv.c, src/Makefile

Patch 7.4.1203
Problem:    Still more files still using __ARGS.
Solution:   Remove __ARGS in really the last files.
Files:      src/proto/if_mzsch.pro, src/if_mzsch.c, src/vim.h,
            src/proto/gui_gtk_gresources.pro, src/proto/gui_mac.pro,
            src/proto/if_ole.pro, src/proto/os_qnx.pro, src/Makefile

Patch 7.4.1204
Problem:    Latin1 characters cause encoding conversion.
Solution:   Remove the characters.
Files:      src/gui_motif.c

Patch 7.4.1205
Problem:    Using old style function declarations.
Solution:   Change to new style function declarations. (script by Hirohito
            Higashi)
Files:      src/arabic.c, src/blowfish.c, src/buffer.c, src/channel.c,
            src/charset.c, src/crypt.c, src/crypt_zip.c, src/diff.c,
            src/digraph.c, src/edit.c, src/eval.c

Patch 7.4.1206
Problem:    Using old style function declarations.
Solution:   Change to new style function declarations. (script by Hirohito
            Higashi)
Files:      src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c, src/ex_eval.c,
            src/ex_getln.c, src/farsi.c, src/fileio.c

Patch 7.4.1207
Problem:    Using old style function declarations.
Solution:   Change to new style function declarations. (script by Hirohito
            Higashi)
Files:      src/fold.c, src/getchar.c, src/gui_at_fs.c, src/gui_athena.c,
            src/gui_at_sb.c, src/gui_beval.c, src/gui.c, src/gui_gtk.c,
            src/gui_gtk_x11.c, src/gui_mac.c, src/gui_motif.c

Patch 7.4.1208
Problem:    Using old style function declarations.
Solution:   Change to new style function declarations. (script by Hirohito
            Higashi)
Files:      src/gui_photon.c, src/gui_w32.c, src/gui_w48.c, src/gui_x11.c,
            src/hangulin.c, src/hardcopy.c, src/hashtab.c, src/if_cscope.c,
            src/if_mzsch.c, src/if_perlsfio.c, src/if_python.c,
            src/if_python3.c, src/if_ruby.c, src/if_sniff.c, src/if_tcl.c,
            src/if_xcmdsrv.c, src/integration.c

Patch 7.4.1209 (after 7.4.1207)
Problem:    Can't build with Athena. (Elimar Riesebieter)
Solution:   Fix function declarations.
Files:      src/gui_athena.c, src/gui_x11.c, src/gui_at_sb.c, src/gui_at_fs.c

Patch 7.4.1210
Problem:    Using old style function declarations.
Solution:   Change to new style function declarations. (script by Hirohito
            Higashi)
Files:      src/main.c, src/mark.c, src/mbyte.c, src/memfile.c,
            src/memfile_test.c, src/memline.c, src/menu.c, src/message.c

Patch 7.4.1211
Problem:    Using old style function declarations.
Solution:   Change to new style function declarations. (script by Hirohito
            Higashi)
Files:      src/misc1.c, src/misc2.c, src/move.c, src/netbeans.c,
            src/normal.c, src/ops.c, src/option.c

Patch 7.4.1212 (after 7.4.1207)
Problem:    Can't build with Motif.
Solution:   Fix function declaration.(Dominique Pelle)
Files:      src/gui_motif.c

Patch 7.4.1213
Problem:    Using old style function declarations.
Solution:   Change to new style function declarations. (script by Hirohito
            Higashi)
Files:      src/os_amiga.c, src/os_mac_conv.c, src/os_msdos.d, src/os_mswin.c,
            src/os_qnx.c, src/os_unix.c, src/os_vms.c, src/os_win16.c,
            src/os_win32.c, src/popupmnu.c, src/pty.c, src/quickfix.c,
            src/regexp.c, src/regexp_nfa.c, src/screen.c

Patch 7.4.1214
Problem:    Using old style function declarations.
Solution:   Change to new style function declarations. (script by Hirohito
            Higashi)
Files:      src/search.c, src/sha256.c, src/spell.c, src/syntax.c, src/tag.c,
            src/term.c, src/termlib.c, src/ui.c, src/undo.c

Patch 7.4.1215
Problem:    Using old style function declarations.
Solution:   Change to new style function declarations. (script by Hirohito
            Higashi)
Files:      src/version.c, src/winclip.c, src/window.c, src/workshop.c,
            src/xpm_w32.c, runtime/doc/doctags.c,
            runtime/tools/xcmdsrv_client.c, src/po/sjiscorr.c, src/xxd/xxd.c

Patch 7.4.1216
Problem:    Still using HAVE_STDARG_H.
Solution:   Assume it's always defined.
Files:      src/eval.c, src/misc2.c, src/vim.h, src/proto.h, src/configure.in,
            src/auto/configure, config.h.in, src/os_amiga.h, src/os_msdos.h,
            src/os_vms_conf.h, src/os_win32.h

Patch 7.4.1217
Problem:    Execution of command on channel doesn't work yet.
Solution:   Implement the "ex" and "normal" commands.
Files:      src/channel.c, src/proto/channel.pro, src/misc2.c, src/eval.c,
            src/ex_docmd.c, src/proto/ex_docmd.pro, src/feature.h

Patch 7.4.1218
Problem:    Missing change in configure.  More changes for function style.
Solution:   Avoid the typos.
Files:      src/configure.in, src/config.h.in, runtime/tools/ccfilter.c,
            src/os_msdos.c

Patch 7.4.1219
Problem:    Build fails with +channel but without +float.
Solution:   Add #ifdef.
Files:      src/ex_cmds.c

Patch 7.4.1220
Problem:    Warnings for unused variables in tiny build. (Tony Mechelynck)
Solution:   Move declarations inside #ifdef. (Hirohito Higashi)
Files:      src/ex_cmds.c

Patch 7.4.1221
Problem:    Including netbeans and channel support in small and tiny builds.
            Build fails with some interfaces.
Solution:   Only include these features in small build and above.  Let
            configure fail if trying to enable an interface that won't build.
Files:      src/configure.in, src/auto/configure

Patch 7.4.1222
Problem:    ":normal" command and others missing in tiny build.
Solution:   Graduate FEAT_EX_EXTRA.
Files:      src/feature.h, src/charset.c, src/eval.c, src/ex_cmds.c,
            src/ex_cmds2.c, src/ex_docmd.c, src/ex_getln.c, src/getchar.c,
            src/normal.c, src/ui.c, src/version.c, src/globals.h

Patch 7.4.1223
Problem:    Crash when setting v:errors to a number.
Solution:   Free the typval without assuming its type. (Yasuhiro Matsumoto)
Files:      src/eval.c, src/testdir/test_assert.vim

Patch 7.4.1224
Problem:    Build problems with GTK on BSD. (Mike Williams)
Solution:   Don't use "$<". Skip building gui_gtk_gresources.h when it doesn't
            work. (Kazunobu Kuriyama)
Files:      src/Makefile

Patch 7.4.1225
Problem:    Still a few old style function declarations.
Solution:   Make them new style. (Hirohito Higashi)
Files:      runtime/tools/blink.c, src/eval.c, src/ex_cmds2.c, src/ex_getln.c,
            src/fileio.c, src/gui_w32.c, src/gui_x11.c, src/if_perl.xs,
            src/os_unix.c, src/po/sjiscorr.c, src/pty.c

Patch 7.4.1226
Problem:    GRESOURCE_HDR is unused.
Solution:   Remove it. (Kazunobu Kuriyama)
Files:      src/configure.in, src/auto/configure, src/config.mk.in

Patch 7.4.1227
Problem:    Compiler warnings.
Solution:   Add UNUSED.  Add type cast. (Yegappan Lakshmanan)
Files:      src/getchar.c, src/os_macosx.m

Patch 7.4.1228
Problem:    copy() and deepcopy() fail with special variables. (Nikolai
            Pavlov)
Solution:   Make it work.  Add a test.  Closes #614.
Files:      src/eval.c, src/testdir/test_viml.vim

Patch 7.4.1229
Problem:    "eval" and "expr" channel commands don't work yet.
Solution:   Implement them.  Update the error numbers.  Also add "redraw".
Files:      src/channel.c, src/eval.c, src/json.c, src/ex_docmd.c,
            src/proto/channel.pro, src/proto/json.pro, src/proto/ex_docmd.pro,
            runtime/doc/channel.txt

Patch 7.4.1230
Problem:    Win32: opening a channel may hang.  Not checking for messages
            while waiting for characters.
Solution:   Add a zero timeout.  Call parse_queued_messages(). (Yasuhiro
            Matsumoto)
Files:      src/os_win32.c

Patch 7.4.1231
Problem:    JSON messages are not parsed properly.
Solution:   Queue received messages.
Files:      src/eval.c src/channel.c, src/json.c, src/proto/eval.pro,
            src/proto/channel.pro, src/proto/json.pro, src/structs.h

Patch 7.4.1232
Problem:    Compiler warnings when the Sniff feature is enabled.
Solution:   Add UNUSED.
Files:      src/gui_gtk_x11.c

Patch 7.4.1233
Problem:    Channel command may cause a crash.
Solution:   Check for NULL argument. (Damien)
Files:      src/channel.c

Patch 7.4.1234
Problem:    Demo server only runs with Python 2.
Solution:   Make it run with Python 3 as well. (Ken Takata)
Files:      runtime/tools/demoserver.py

Patch 7.4.1235 (after 7.4.1231)
Problem:    Missing change to eval.c.
Solution:   Include that change.
Files:      src/eval.c

Patch 7.4.1236
Problem:    When "syntax manual" was used switching between buffers removes
            the highlighting.
Solution:   Set the syntax option without changing the value. (Anton
            Lindqvist)
Files:      runtime/syntax/manual.vim

Patch 7.4.1237
Problem:    Can't translate message without adding a line break.
Solution:   Join the two parts of the message.
Files:      src/memline.c

Patch 7.4.1238
Problem:    Can't handle two messages right after each other.
Solution:   Find the end of the JSON.  Read more when incomplete.  Add a C
            test for the JSON decoding.
Files:      src/channel.c, src/json.c, src/proto/json.pro, src/eval.c,
            src/Makefile, src/json_test.c, src/memfile_test.c, src/structs.h

Patch 7.4.1239
Problem:    JSON message after the first one is dropped.
Solution:   Put remainder of message back in the queue.
Files:      src/channel.c

Patch 7.4.1240
Problem:    Visual studio tools are noisy.
Solution:   Suppress startup info. (Mike Williams)
Files:      src/GvimExt/Makefile, src/Make_mvc.mak, src/tee/Make_mvc.mak

Patch 7.4.1241 (after 7.4.1238)
Problem:    Missing change in Makefile due to diff mismatch
Solution:   Update the list of object files.
Files:      src/Makefile

Patch 7.4.1242 (after 7.4.1238)
Problem:    json_test fails without the eval feature.
Solution:   Add #ifdef.
Files:      src/json_test.c

Patch 7.4.1243
Problem:    Compiler warning for uninitialized variable.
Solution:   Initialize it. (Elias Diem)
Files:      src/json.c

Patch 7.4.1244
Problem:    The channel functions don't sort together.
Solution:   Use a common "ch_" prefix.
Files:      src/eval.c, runtime/doc/eval.txt, runtime/tools/demoserver.py

Patch 7.4.1245
Problem:    File missing from distribution.
Solution:   Add json_test.c.
Files:      Filelist

Patch 7.4.1246
Problem:    The channel functionality isn't tested.
Solution:   Add a test using a Python test server.
Files:      src/channel.c, src/proto/channel.pro,
            src/testdir/test_channel.vim, src/testdir/test_channel.py,
            src/testdir/Make_all.mak

Patch 7.4.1247
Problem:    The channel test doesn't run on MS-Windows.
Solution:   Make it work on the MS-Windows console. (Ken Takata)
Files:      src/testdir/test_channel.py, src/testdir/test_channel.vim

Patch 7.4.1248
Problem:    Can't reliably stop the channel test server.  Can't start the
            server if the python file is not executable.
Solution:   Use "pkill" instead of "killall".  Run the python file as an
            argument instead of as an executable.
Files:      src/testdir/test_channel.vim

Patch 7.4.1249
Problem:    Crash when the process a channel is connected to exits.
Solution:   Use the file descriptor properly.  Add a test. (Damien)
            Also add a test for eval().
Files:      src/channel.c, src/testdir/test_channel.py,
            src/testdir/test_channel.vim

Patch 7.4.1250
Problem:    Running tests in shadow directory fails.
Solution:   Also link testdir/*.py
Files:      src/Makefile

Patch 7.4.1251
Problem:    New test file missing from distribution.
Solution:   Add src/testdir/*.py.
Files:      Filelist

Patch 7.4.1252
Problem:    The channel test server may receive two messages concatenated.
Solution:   Split the messages.
Files:      src/testdir/test_channel.py

Patch 7.4.1253
Problem:    Python test server not displaying second of two commands.
            Solaris doesn't have "pkill --full".
Solution:   Also echo the second command. Use "pkill -f".
Files:      src/testdir/test_channel.py, src/testdir/test_channel.vim

Patch 7.4.1254
Problem:    Opening a second channel causes a crash. (Ken Takata)
Solution:   Don't re-allocate the array with channels.
Files:      src/channel.c, src/testdir/test_channel.vim,
            src/testdir/test_channel.py

Patch 7.4.1255
Problem:    Crash for channel "eval" command without third argument.
Solution:   Check for missing argument.
Files:      src/channel.c, src/testdir/test_channel.vim,
            src/testdir/test_channel.py

Patch 7.4.1256
Problem:    On Mac sys.exit(0) doesn't kill the test server.
Solution:   Use self.server.shutdown(). (Jun Takimoto)
Files:      src/testdir/test_channel.py

Patch 7.4.1257
Problem:    Channel test fails in some configurations.
Solution:   Add check for the +channel feature.
Files:      src/testdir/test_channel.vim

Patch 7.4.1258
Problem:    The channel test can fail if messages arrive later.
Solution:   Add a short sleep. (Jun Takimoto)
Files:      src/testdir/test_channel.vim

Patch 7.4.1259
Problem:    No test for what patch 7.3.414 fixed.
Solution:   Add a test. (Elias Diem)
Files:      src/testdir/test_increment.vim

Patch 7.4.1260
Problem:    The channel feature doesn't work on Win32 GUI.
Solution:   Use WSAGetLastError(). (Ken Takata)
Files:      src/channel.c, src/testdir/test_channel.vim, src/vim.h

Patch 7.4.1261
Problem:    Pending channel messages are garbage collected. Leaking memory in
            ch_sendexpr().  Leaking memory for a decoded JSON string.
Solution:   Mark the message list as used. Free the encoded JSON.  Don't save
            the JSON string.
Files:      src/eval.c, src/channel.c, src/json.c, src/proto/channel.pro

Patch 7.4.1262
Problem:    The channel callback is not invoked.
Solution:   Make a list of pending callbacks.
Files:      src/eval.c, src/channel.c, src/proto/channel.pro,
            src/testdir/test_channel.vim

Patch 7.4.1263
Problem:    ch_open() hangs when the server isn't running.
Solution:   Add a timeout. Use a dict to pass arguments. (Yasuhiro Matsumoto)
Files:      runtime/doc/eval.txt, runtime/doc/channel.txt, src/channel.c,
            src/eval.c, src/netbeans.c, src/os_win32.c, src/proto/channel.pro,
            src/testdir/test_channel.vim

Patch 7.4.1264
Problem:    Crash when receiving an empty array.
Solution:   Check for array with wrong number of arguments. (Damien)
Files:      src/channel.c, src/eval.c, src/testdir/test_channel.py,
            src/testdir.test_channel.vim

Patch 7.4.1265
Problem:    Not all channel commands are tested.
Solution:   Add a test for "normal", "expr" and "redraw".
Files:      src/testdir/test_channel.py, src/testdir/test_channel.vim

Patch 7.4.1266
Problem:    A BufAdd autocommand may cause an ml_get error (Christian
            Brabandt)
Solution:   Increment RedrawingDisabled earlier.
Files:      src/ex_cmds.c

Patch 7.4.1267
Problem:    Easy to miss handling all types of variables.
Solution:   Change the variable type into an enum.
Files:      src/structs.h, src/eval.c

Patch 7.4.1268
Problem:    Waittime is used as seconds instead of milliseconds. (Hirohito
            Higashi)
Solution:   Divide by 1000.
Files:      src/channel.c

Patch 7.4.1269
Problem:    Encoding {'key':v:none} to JSON doesn't give an error (Tyru)
Solution:   Give an error.
Files:      src/json.c, src/testdir/test_json.vim

Patch 7.4.1270
Problem:    Warnings for missing values in switch.
Solution:   Change switch to if-else or add values.
Files:      src/if_py_both.h, src/if_python.c, src/if_python3.c

Patch 7.4.1271
Problem:    assert_false(v:false) reports an error. (Nikolai Pavlov)
Solution:   Recognize v:true and v:false. (Closes #625)
Files:      src/eval.c, src/testdir/test_assert.vim

Patch 7.4.1272 (after 7.4.1270)
Problem:    Using future enum value.
Solution:   Remove it.
Files:      src/if_python.c, src/if_python3.c

Patch 7.4.1273 (after 7.4.1271)
Problem:    assert_false(v:false) still fails.
Solution:   Fix the typo.
Files:      src/eval.c

Patch 7.4.1274
Problem:    Cannot run a job.
Solution:   Add job_start(), job_status() and job_stop(). Currently only works
            for Unix.
Files:      src/eval.c, src/structs.h, runtime/doc/eval.txt, src/os_unix.c,
            src/proto/os_unix.pro, src/feature.h, src/version.c,
            src/testdir/test_channel.vim

Patch 7.4.1275 (after 7.4.1274)
Problem:    Build fails on MS-Windows.
Solution:   Fix wrong #ifdef.
Files:      src/eval.c

Patch 7.4.1276
Problem:    Warning for not using return value of fcntl().
Solution:   Explicitly ignore the return value.
Files:      src/fileio.c, src/channel.c, src/memfile.c, src/memline.c

Patch 7.4.1277
Problem:    Compiler can complain about missing enum value in switch with some
            combination of features.
Solution:   Remove #ifdefs around case statements.
Files:      src/eval.c

Patch 7.4.1278
Problem:    When jsonencode() fails it still returns something.
Solution:   Return an empty string on failure.
Files:      src/json.c, src/channel.c, src/testdir/test_json.vim,
            src/testdir/test_channel.vim, src/testdir/test_channel.py

Patch 7.4.1279
Problem:    jsonencode() is not producing strict JSON.
Solution:   Add jsencode() and jsdecode().  Make jsonencode() and jsondecode()
            strict.
Files:      src/json.c, src/json_test.c, src/proto/json.pro, src/channel.c,
            src/proto/channel.pro, src/eval.c, src/vim.h, src/structs.h,
            runtime/doc/eval.txt, runtime/doc/channel.txt,
            src/testdir/test_json.vim

Patch 7.4.1280
Problem:    Missing case value.
Solution:   Add VAR_JOB.
Files:      src/if_python.c, src/if_python3.c

Patch 7.4.1281
Problem:    No test for skipping over code that isn't evaluated.
Solution:   Add a test with code that would fail when not skipped.
Files:      src/testdir/test_viml.vim

Patch 7.4.1282
Problem:    Crash when evaluating the pattern of ":catch" causes an error.
            (Dominique Pelle)
Solution:   Block error messages at this point.
Files:      src/ex_eval.c

Patch 7.4.1283
Problem:    The job feature isn't available on MS-Windows.
Solution:   Add the job feature.  Fix argument of job_stop(). (Yasuhiro
            Matsumoto)
Files:      src/eval.c, src/feature.h, src/os_win32.c, src/proto/os_win32.pro

Patch 7.4.1284 (after 7.4.1282)
Problem:    Test 49 fails.
Solution:   Check for a different error message.
Files:      src/testdir/test49.vim

Patch 7.4.1285
Problem:    Cannot measure elapsed time.
Solution:   Add reltimefloat().
Files:      src/ex_cmds2.c, src/eval.c, src/proto/ex_cmds2.pro,
            src/testdir/test_reltime.vim, src/testdir/test_alot.vim

Patch 7.4.1286
Problem:    ch_open() with a timeout doesn't work correctly.
Solution:   Change how select() is used.  Don't give an error on timeout.
            Add a test for ch_open() failing.
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 7.4.1287 (after 7.4.1286)
Problem:    Channel test fails.
Solution:   Use reltimefloat().
Files:      src/testdir/test_channel.vim

Patch 7.4.1288
Problem:    ch_sendexpr() does not use JS encoding.
Solution:   Use the encoding that fits the channel mode.  Refuse using
            ch_sendexpr() on a raw channel.
Files:      src/channel.c, src/proto/channel.pro, src/eval.c

Patch 7.4.1289
Problem:    Channel test fails on MS-Windows, connect() takes too long.
Solution:   Adjust the test for MS-Windows using "waittime".
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 7.4.1290
Problem:    Coverity complains about unnecessary check for NULL.
Solution:   Remove the check.
Files:      src/eval.c

Patch 7.4.1291
Problem:    On MS-Windows the channel test server doesn't quit.
Solution:   Use return instead of break. (Ken Takata)
Files:      src/testdir/test_channel.py

Patch 7.4.1292
Problem:    Some compilers complain about uninitialized variable, even though
            all possible cases are handled. (Dominique Pelle)
Solution:   Add a default initialization.
Files:      src/eval.c

Patch 7.4.1293
Problem:    Sometimes a channel may hang waiting for a message that was
            already discarded. (Ken Takata)
Solution:   Store the ID of the message blocking on in the channel.
Files:      src/channel.c

Patch 7.4.1294
Problem:    job_stop() only kills the started process.
Solution:   Send the signal to the process group. (Olaf Dabrunz)
Files:      src/os_unix.c

Patch 7.4.1295
Problem:    string(job) doesn't work well on MS-Windows.
Solution:   Use the process ID. (Yasuhiro Matsumoto)
Files:      src/eval.c

Patch 7.4.1296
Problem:    Cursor changes column with up motion when the matchparen plugin
            saves and restores the cursor position. (Martin Kunev)
Solution:   Make sure curswant is updated before invoking the autocommand.
Files:      src/edit.c

Patch 7.4.1297
Problem:    On Mac test_channel leaves python instances running.
Solution:   Use a small waittime to make ch_open() work. (Ozaki Kiichi)
Files:      src/testdir/test_channel.vim

Patch 7.4.1298
Problem:    When the channel test fails in an unexpected way the server keeps
            running.
Solution:   Use try/catch. (Ozaki Kiichi)
Files:      src/testdir/test_channel.vim

Patch 7.4.1299
Problem:    When the server sends a message with ID zero the channel handler
            is not invoked. (Christian J. Robinson)
Solution:   Recognize zero value for the request ID.  Add a test for invoking
            the channel handler.
Files:      src/channel.c, src/testdir/test_channel.vim,
            src/testdir/test_channel.py

Patch 7.4.1300
Problem:    Cannot test CursorMovedI because there is typeahead.
Solution:   Add disable_char_avail_for_testing().
Files:      src/eval.c, src/getchar.c, src/globals.h,
            src/testdir/test_cursor_func.vim, src/testdir/README.txt

Patch 7.4.1301
Problem:    Missing options in ch_open().
Solution:   Add s:chopt like in the other calls. (Ozaki Kiichi)
Files:      src/testdir/test_channel.vim

Patch 7.4.1302
Problem:    Typo in struct field name. (Ken Takata)
Solution:   Rename jf_pi to jv_pi.
Files:      src/eval.c, src/os_win32.c, src/structs.h

Patch 7.4.1303
Problem:    A Funcref is not accepted as a callback.
Solution:   Make a Funcref work. (Damien)
Files:      src/eval.c, src/testdir/test_channel.vim

Patch 7.4.1304
Problem:    Function names are difficult to read.
Solution:   Rename jsonencode to json_encode, jsondecode to json_decode,
            jsencode to js_encode and jsdecode to js_decode.
Files:      src/eval.c, runtime/doc/eval.txt, src/testdir/test_json.vim

Patch 7.4.1305
Problem:    "\%1l^#.*" does not match on a line starting with "#".
Solution:   Do not clear the start-of-line flag. (Christian Brabandt)
Files:      src/regexp.c, src/regexp_nfa.c, src/testdir/test36.in,
            src/testdir/test36.ok

Patch 7.4.1306
Problem:    Job control doesn't work well on MS-Windows.
Solution:   Various fixes. (Ken Takata, Ozaki Kiichi, Yukihiro Nakadaira,
            Yasuhiro Matsumoto)
Files:      src/Make_mvc.mak, src/eval.c, src/os_unix.c, src/os_win32.c,
            src/proto/os_unix.pro, src/proto/os_win32.pro, src/structs.h

Patch 7.4.1307
Problem:    Some channel tests fail on MS-Windows.
Solution:   Disable the failing tests temporarily.
Files:      src/testdir/test_channel.vim

Patch 7.4.1308 (after 7.4.1307)
Problem:    Typo in test.
Solution:   Change endf to endif.
Files:      src/testdir/test_channel.vim

Patch 7.4.1309
Problem:    When a test fails not all relevant info is listed.
Solution:   Add the errors to the messages.
Files:      src/testdir/runtest.vim

Patch 7.4.1310
Problem:    Jobs don't open a channel.
Solution:   Create pipes and add them to the channel.  Add ch_logfile().
            Only Unix for now.
Files:      src/channel.c, src/eval.c, src/os_unix.c, src/structs.h,
            src/gui_w48.c, src/proto/channel.pro, src/testdir/test_channel.vim,
            src/testdir/test_channel_pipe.py, runtime/doc/eval.txt

Patch 7.4.1311 (after 7.4.1310)
Problem:    sock_T is defined too late.
Solution:   Move it up.
Files:      src/vim.h

Patch 7.4.1312 (after 7.4.1311)
Problem:    sock_T is not defined without the +channel feature.
Solution:   Always define it.
Files:      src/vim.h

Patch 7.4.1313
Problem:    MS-Windows: Using socket after it was closed causes an exception.
Solution:   Don't give an error when handling WM_NETBEANS.  Re-enable tests
            for MS-Windows.
Files:      src/gui_w48.c, src/testdir/test_channel.vim

Patch 7.4.1314
Problem:    Warning for uninitialized variable.
Solution:   Initialize it. (Dominique Pelle)
Files:      src/channel.c

Patch 7.4.1315
Problem:    Using a channel handle does not allow for freeing it when unused.
Solution:   Add the Channel variable type.
Files:      src/structs.h, src/channel.c, src/misc2.c, src/eval.c,
            src/if_python.c, src/if_python3.c, src/json.c, src/gui_w48.c,
            src/netbeans.c, src/proto/channel.pro, src/os_unix.c,
            src/testdir/test_channel.py, src/testdir/test_channel.vim

Patch 7.4.1316
Problem:    Can't build MS-Windows console version. (Tux)
Solution:   Add #ifdefs.
Files:      src/eval.c

Patch 7.4.1317
Problem:    MS-Windows: channel test fails.
Solution:   Temporarily disable Test_connect_waittime().
Files:      src/testdir/test_channel.vim

Patch 7.4.1318
Problem:    Channel with pipes doesn't work in GUI.
Solution:   Register input handlers for pipes.
Files:      src/structs.h, src/feature.h, src/channel.c, src/eval.c,
            src/os_unix.c, src/os_win32.c, src/gui_w48.c, src/proto/channel.pro

Patch 7.4.1319 (after 7.4.1318)
Problem:    Tests fail on MS-Windows and on Unix with GUI.
Solution:   Fix unregistering.
Files:      src/structs.h, src/channel.c, src/os_unix.c, src/os_win32.c,
            src/proto/channel.pro

Patch 7.4.1320
Problem:    Building with Cygwin or MingW with channel but without Netbeans
            doesn't work.
Solution:   Set NETBEANS to "no" when not used.
Files:      src/Make_cyg_ming.mak

Patch 7.4.1321
Problem:    Compiler complains about missing statement.
Solution:   Add an empty statement. (Andrei Olsen)
Files:      src/os_win32.c

Patch 7.4.1322
Problem:    Crash when unletting the variable that holds the channel in a
            callback function.  (Christian Robinson)
Solution:   Increase the reference count while invoking the callback.
Files:      src/eval.c, src/channel.c, src/proto/eval.pro,
            src/testdir/test_channel.vim

Patch 7.4.1323
Problem:    Do not get warnings when building with MingW.
Solution:   Remove the -w flag. (Ken Takata)
Files:      src/Make_cyg_ming.mak

Patch 7.4.1324
Problem:    Channels with pipes don't work on MS-Windows.
Solution:   Add pipe I/O support. (Yasuhiro Matsumoto)
Files:      src/channel.c, src/os_win32.c, src/proto/channel.pro,
            src/structs.h, src/vim.h, src/testdir/test_channel.vim

Patch 7.4.1325
Problem:    Channel test fails on difference between Unix and DOS line endings.
Solution:   Strip off CR.  Make assert show difference better.
Files:      src/eval.c, src/channel.c

Patch 7.4.1326
Problem:    Build rules are bit too complicated.
Solution:   Remove -lwsock32 from Netbeans, it's already added for the channel
            feature that it depends on. (Tony Mechelynck)
Files:      src/Make_cyg_ming.mak

Patch 7.4.1327
Problem:    Channel test doesn't work if Python executable is python.exe.
Solution:   Find py.exe or python.exe. (Ken Takata)
Files:      src/testdir/test_channel.vim

Patch 7.4.1328
Problem:    Can't compile with +job but without +channel. (John Marriott)
Solution:   Add more #ifdefs.
Files:      src/os_unix.c

Patch 7.4.1329
Problem:    Crash when using channel that failed to open.
Solution:   Check for NULL.  Update messages. (Yukihiro Nakadaira)
Files:      src/channel.c, src/eval.c, src/testdir/test_channel.vim

Patch 7.4.1330
Problem:    fd_read() has an unused argument.
Solution:   Remove the timeout. (Yasuhiro Matsumoto)
Files:      src/channel.c

Patch 7.4.1331
Problem:    Crash when closing the channel in a callback. (Christian J.
            Robinson)
Solution:   Take the callback out of the list before invoking it.
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 7.4.1332
Problem:    Problem using Python3 when compiled with MingW.
Solution:   Define PYTHON3_HOME as a wide character string. (Yasuhiro
            Matsumoto)
Files:      src/Make_cyg_ming.mak

Patch 7.4.1333
Problem:    Channel test fails on non-darwin builds.
Solution:   Add the "osx" feature and test for that. (Kazunobu Kuriyama)
Files:      runtime/doc/eval.txt, src/eval.c, src/testdir/test_channel.vim

Patch 7.4.1334
Problem:    Many compiler warnings with MingW.
Solution:   Add type casts. (Yasuhiro Matsumoto)
Files:      src/channel.c, src/dosinst.h, src/eval.c, src/ex_cmds2.c,
            src/ex_getln.c, src/fileio.c, src/if_cscope.c, src/if_perl.xs,
            src/if_python.c, src/if_python3.c, src/if_ruby.c, src/main.c,
            src/mbyte.c, src/misc1.c, src/option.c, src/os_mswin.c,
            src/os_win32.c

Patch 7.4.1335
Problem:    Can't build on MS-Windows with +job but without +channel. (Cesar
            Romani)
Solution:   Add #ifdefs. (Yasuhiro Matsumoto)
Files:      src/os_win32.c

Patch 7.4.1336
Problem:    Channel NL mode is not supported yet.
Solution:   Add NL mode support to channels.
Files:      src/channel.c, src/netbeans.c, src/structs.h, src/os_unix.d,
            src/os_win32.c, src/proto/channel.pro, src/proto/os_unix.pro,
            src/proto/os_win32.pro, src/testdir/test_channel.vim,
            src/testdir/test_channel_pipe.py

Patch 7.4.1337 (after 7.4.1336)
Problem:    Part of the change is missing.
Solution:   Add changes to eval.c
Files:      src/eval.c


Patch 7.4.1338 (after 7.4.1336)
Problem:    Another part of the change is missing.
Solution:   Type os_unix.c right this time.
Files:      src/os_unix.c

Patch 7.4.1339
Problem:    Warnings when building the GUI with MingW. (Cesar Romani)
Solution:   Add type casts. (Yasuhiro Matsumoto)
Files:      src/edit.c, src/gui_w32.c, src/gui_w48.c, src/os_mswin.c,
            src/os_win32.c

Patch 7.4.1340 (after 7.4.1339)
Problem:    Merge left extra #endif behind.
Solution:   Remove the #endif
Files:      src/os_win32.c

Patch 7.4.1341
Problem:    It's difficult to add more arguments to ch_sendraw() and
            ch_sendexpr().
Solution:   Make the third option a dictionary.
Files:      src/eval.c, src/structs.h, src/channel.c, src/os_unix.c,
            src/os_win32.c, src/proto/channel.pro,
            src/testdir/test_channel.vim, runtime/doc/eval.txt

Patch 7.4.1342
Problem:    On Mac OS/X the waittime must be > 0 for connect to work.
Solution:   Use select() in a different way. (partly by Kazunobu Kuriyama)
            Always use a waittime of 1 or more.
Files:      src/eval.c, src/channel.c, src/testdir/test_channel.vim

Patch 7.4.1343
Problem:    Can't compile with +job but without +channel. (Andrei Olsen)
Solution:   Move get_job_options up and adjust #ifdef.
Files:      src/eval.c

Patch 7.4.1344
Problem:    Can't compile Win32 GUI with tiny features.
Solution:   Add #ifdef. (Christian Brabandt)
Files:      src/gui_w32.c

Patch 7.4.1345
Problem:    A few more compiler warnings. (Axel Bender)
Solution:   Add type casts.
Files:      src/gui_w32.c, src/gui_w48.c

Patch 7.4.1346
Problem:    Compiler warnings in build with -O2.
Solution:   Add initializations.
Files:      src/eval.c

Patch 7.4.1347
Problem:    When there is any error Vim will use a non-zero exit code.
Solution:   When using ":silent!" do not set the exit code. (Yasuhiro
            Matsumoto)
Files:      src/message.c

Patch 7.4.1348
Problem:    More compiler warnings. (John Marriott)
Solution:   Add type casts, remove unused variable.
Files:      src/gui_w32.c

Patch 7.4.1349
Problem:    And some more MingW compiler warnings. (Cesar Romani)
Solution:   Add type casts.
Files:      src/if_mzsch.c

Patch 7.4.1350
Problem:    When the test server fails to start Vim hangs.
Solution:   Check that there is actually something to read from the tty fd.
Files:      src/os_unix.c

Patch 7.4.1351
Problem:    When the port isn't opened yet when ch_open() is called it may
            fail instead of waiting for the specified time.
Solution:   Loop when select() succeeds but when connect() failed. Also use
            channel logging for jobs.  Add ch_log().
Files:      src/channel.c, src/eval.c, src/netbeans.c, src/proto/channel.pro,
            src/testdir/test_channel.vim, src/testdir/test_channel.py

Patch 7.4.1352
Problem:    The test script lists all functions before executing them.
Solution:   Only list the function currently being executed.
Files:      src/testdir/runtest.vim

Patch 7.4.1353
Problem:    Test_connect_waittime is skipped for MS-Windows.
Solution:   Add the test back, it works now.
Files:      src/testdir/test_channel.vim

Patch 7.4.1354
Problem:    MS-Windows: Mismatch between default compile options and what the
            code expects.
Solution:   Change the default WINVER from 0x0500 to 0x0501. (Ken Takata)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak

Patch 7.4.1355
Problem:    Win32 console and GUI handle channels differently.
Solution:   Consolidate code between Win32 console and GUI.
Files:      src/channel.c, src/eval.c, src/gui_w48.c, src/os_win32.c,
            src/proto/channel.pro

Patch 7.4.1356
Problem:    Job and channel options parsing is scattered.
Solution:   Move all option value parsing to get_job_options();
Files:      src/channel.c, src/eval.c, src/structs.h, src/proto/channel.pro,
            src/testdir/test_channel.vim

Patch 7.4.1357 (after 7.4.1356)
Problem:    Error for returning value from void function.
Solution:   Don't do that.
Files:      src/eval.c

Patch 7.4.1358
Problem:    Compiler warning when not building with +crypt.
Solution:   Add #ifdef. (John Marriott)
Files:      src/undo.c

Patch 7.4.1359 (after 7.4.1356)
Problem:    Channel test ch_sendexpr() times out.
Solution:   Increase the timeout
Files:      src/testdir/test_channel.vim

Patch 7.4.1360
Problem:    Can't remove a callback with ch_setoptions().
Solution:   When passing zero or an empty string remove the callback.
Files:      src/channel.c, src/proto/channel.pro, src/testdir/test_channel.vim

Patch 7.4.1361
Problem:    Channel test fails on Solaris.
Solution:   Use the 1 msec waittime for all systems.
Files:      src/channel.c

Patch 7.4.1362 (after 7.4.1356)
Problem:    Using uninitialized value.
Solution:   Initialize jo_set.
Files:      src/eval.c

Patch 7.4.1363
Problem:    Compiler warnings with tiny build.
Solution:   Add #ifdefs.
Files:      src/gui_w48.c, src/gui_w32.c

Patch 7.4.1364
Problem:    The Win 16 code is not maintained and unused.
Solution:   Remove the Win 16 support.
Files:      src/gui_w16.c, src/gui_w32.c, src/gui_w48.c, src/Make_w16.mak,
            src/Makefile, src/Make_cyg_ming.mak, src/Make_mvc.mak,
            src/proto/gui_w16.pro, src/proto/os_win16.pro, src/guiw16rc.h,
            src/vim16.rc, src/vim16.def, src/tools16.bmp, src/eval.c,
            src/gui.c, src/misc2.c, src/option.c, src/os_msdos.c,
            src/os_mswin.c, src/os_win16.c, src/os_win16.h, src/version.c,
            src/winclip.c, src/feature.h, src/proto.h, src/vim.h, Filelist

Patch 7.4.1365
Problem:    Cannot execute a single test function.
Solution:   Add an argument to filter the functions with. (Yasuhiro Matsumoto)
Files:      src/testdir/runtest.vim

Patch 7.4.1366
Problem:    Typo in test and resulting error in test result.
Solution:   Fix the typo and correct the result. (James McCoy, closes #650)
Files:      src/testdir/test_charsearch.in, src/testdir/test_charsearch.ok

Patch 7.4.1367
Problem:    Compiler warning for unreachable code.
Solution:   Remove a "break". (Danek Duvall)
Files:      src/json.c

Patch 7.4.1368
Problem:    One more Win16 file remains.
Solution:   Delete it.
Files:      src/proto/os_win16.pro

Patch 7.4.1369
Problem:    Channels don't have a queue for stderr.
Solution:   Have a queue for each part of the channel.
Files:      src/channel.c, src/eval.c, src/structs.h, src/netbeans.c,
            src/gui_w32.c, src/proto/channel.pro

Patch 7.4.1370
Problem:    The Python test script may keep on running.
Solution:   Join the threads. (Yasuhiro Matsumoto)
Files:      src/testdir/test_channel.py

Patch 7.4.1371
Problem:    X11 GUI callbacks don't specify the part of the channel.
Solution:   Pass the fd instead of the channel ID.
Files:      src/channel.c

Patch 7.4.1372
Problem:    channel read implementation is incomplete.
Solution:   Add ch_read() and options for ch_readraw().
Files:      src/channel.c, src/eval.c, src/structs.h, src/proto/channel.pro,
            src/testdir/test_channel.vim

Patch 7.4.1373
Problem:    Calling a Vim function over a channel requires turning the
            arguments into a string.
Solution:   Add the "call" command. (Damien)  Also merge "expr" and "eval"
            into one.
Files:      src/channel.c, src/testdir/test_channel.py,
            src/testdir/test_channel.vim

Patch 7.4.1374
Problem:    Channel test hangs on MS-Windows.
Solution:   Disable the ch_read() that is supposed to time out.
Files:      src/testdir/test_channel.vim

Patch 7.4.1375
Problem:    Still some Win16 code.
Solution:   Remove FEAT_GUI_W16.(Hirohito Higashi)
Files:      src/eval.c, src/ex_cmds.h, src/feature.h, src/gui.h, src/menu.c,
            src/misc1.c, src/option.c, src/proto.h, src/structs.h, src/term.c,
            src/vim.h, runtime/doc/gui_w16.txt

Patch 7.4.1376
Problem:    ch_setoptions() cannot set all options.
Solution:   Support more options.
Files:      src/channel.c, src/eval.c, src/structs.h, runtime/doc/channel.txt,
            src/testdir/test_channel.vim

Patch 7.4.1377
Problem:    Test_connect_waittime() is flaky.
Solution:   Ignore the "Connection reset by peer" error.
Files:      src/testdir/test_channel.vim

Patch 7.4.1378
Problem:    Can't change job settings after it started.
Solution:   Add job_setoptions() with the "stoponexit" flag.
Files:      src/eval.c, src/main.c, src/structs.h, src/proto/eval.pro,
            src/testdir/test_channel.vim

Patch 7.4.1379
Problem:    Channel test fails on Win32 console.
Solution:   Don't sleep when timeout is zero. Call channel_wait() before
            channel_read(). Channels are not polled during ":sleep". (Yukihiro
            Nakadaira)
Files:      src/channel.c, src/misc2.c, src/gui_w32.c, src/os_win32.c

Patch 7.4.1380
Problem:    The job exit callback is not implemented.
Solution:   Add the "exit-cb" option.
Files:      src/structs.h, src/eval.c, src/channel.c, src/proto/eval.pro,
            src/misc2.c, src/macros.h, src/testdir/test_channel.vim

Patch 7.4.1381 (after 7.4.1380)
Problem:    Exit value not available on MS-Windows.
Solution:   Set the exit value.
Files:      src/structs.h, src/os_win32.c

Patch 7.4.1382
Problem:    Can't get the job of a channel.
Solution:   Add ch_getjob().
Files:      src/eval.c, runtime/doc/channel.txt, runtime/doc/eval.txt

Patch 7.4.1383
Problem:    GvimExt only loads the old libintl.dll.
Solution:   Also try loading libint-8.dll. (Ken Takata, closes #608)
Files:      src/GvimExt/gvimext.cpp, src/GvimExt/gvimext.h

Patch 7.4.1384
Problem:    It is not easy to use a set of plugins and their dependencies.
Solution:   Add packages, ":loadplugin", 'packpath'.
Files:      src/main.c, src/ex_cmds2.c, src/option.c, src/option.h,
            src/ex_cmds.h, src/eval.c, src/version.c, src/proto/ex_cmds2.pro,
            runtime/doc/repeat.txt, runtime/doc/options.txt,
            runtime/optwin.vim

Patch 7.4.1385
Problem:    Compiler warning for using array.
Solution:   Use the right member name. (Yegappan Lakshmanan)
Files:      src/eval.c

Patch 7.4.1386
Problem:    When the Job exit callback is invoked, the job may be freed too
            soon. (Yasuhiro Matsumoto)
Solution:   Increase refcount.
Files:      src/eval.c

Patch 7.4.1387
Problem:    Win16 docs still referenced.
Solution:   Remove Win16 files from the docs Makefile. (Kenichi Ito)
Files:      runtime/doc/Makefile

Patch 7.4.1388
Problem:    Compiler warning. (Cesar Romani)
Solution:   Initialize variable.
Files:      src/ex_cmds2.c

Patch 7.4.1389
Problem:    Incomplete function declaration.
Solution:   Add "void". (Yasuhiro Matsumoto)
Files:      src/eval.c

Patch 7.4.1390
Problem:    When building with GTK and glib-compile-resources cannot be found
            building Vim fails. (Michael Gehring)
Solution:   Make GLIB_COMPILE_RESOURCES empty instead of leaving it at "no".
            (nuko8, closes #655)
Files:      src/configure.in, src/auto/configure

Patch 7.4.1391
Problem:    Warning for uninitialized variable.
Solution:   Set it to zero. (Christian Brabandt)
Files:      src/eval.c

Patch 7.4.1392
Problem:    Some tests fail for Win32 console version.
Solution:   Move the tests to SCRIPTS_MORE2.  Pass VIMRUNTIME. (Christian
            Brabandt)
Files:      src/testdir/Make_all.mak

Patch 7.4.1393
Problem:    Starting a job hangs in the GUI. (Takuya Fujiwara)
Solution:   Don't check if ch_job is NULL when checking for an error.
            (Yasuhiro Matsumoto)
Files:      src/channel.c

Patch 7.4.1394
Problem:    Can't sort inside a sort function.
Solution:   Use a struct to store the sort parameters. (Jacob Niehus)
Files:      src/eval.c, src/testdir/test_sort.vim

Patch 7.4.1395
Problem:    Using DETACH in quotes is not compatible with the Netbeans
            interface. (Xavier de Gaye)
Solution:   Remove the quotes, only use them for JSON and JS mode.
Files:      src/netbeans.c, src/channel.c

Patch 7.4.1396
Problem:    Compiler warnings for conversions.
Solution:   Add type cast.
Files:      src/ex_cmds2.c

Patch 7.4.1397
Problem:    Sort test fails on MS-Windows.
Solution:   Correct the compare function.
Files:      src/testdir/test_sort.vim

Patch 7.4.1398
Problem:    The close-cb option is not implemented yet.
Solution:   Implement close-cb. (Yasuhiro Matsumoto)
Files:      src/channel.c, src/eval.c, src/structs.h, src/proto/channel.pro,
            src/testdir/test_channel.py, src/testdir/test_channel.vim

Patch 7.4.1399
Problem:    The MS-DOS code does not build.
Solution:   Remove the old MS-DOS code.
Files:      Filelist, src/Make_bc3.mak, src/Make_bc5.mak, src/Make_djg.mak,
            src/Makefile, src/blowfish.c, src/buffer.c, src/diff.c,
            src/digraph.c, src/dosinst.h, src/eval.c, src/ex_cmds.c,
            src/ex_cmds2.c, src/ex_docmd.c, src/ex_getln.c, src/feature.h,
            src/fileio.c, src/getchar.c, src/globals.h, src/macros.h,
            src/main.c, src/mbyte.c, src/memfile.c, src/memline.c,
            src/misc1.c, src/misc2.c, src/netbeans.c, src/option.c,
            src/option.h, src/os_msdos.c, src/os_msdos.h, src/proto.h,
            src/proto/os_msdos.pro, src/regexp.c, src/screen.c, src/structs.h,
            src/syntax.c, src/term.c, src/undo.c, src/uninstal.c,
            src/version.c, src/vim.h, src/window.c, src/xxd/Make_bc3.mak,
            src/xxd/Make_djg.mak


Patch 7.4.1400
Problem:    Perl eval doesn't work properly on 64-bit big-endian machine.
Solution:   Use 32 bit type for the key. (Danek Duvall)
Files:      src/if_perl.xs

Patch 7.4.1401
Problem:    Having 'autochdir' set during startup and using diff mode doesn't
            work. (Axel Bender)
Solution:   Don't use 'autochdir' while still starting up. (Christian
            Brabandt)
Files:      src/buffer.c

Patch 7.4.1402
Problem:    GTK 3 is not supported.
Solution:   Add GTK 3 support. (Kazunobu Kuriyama)
Files:      runtime/doc/eval.txt, runtime/doc/gui.txt,
            runtime/doc/gui_x11.txt, src/auto/configure, src/channel.c,
            src/config.h.in, src/configure.in, src/eval.c, src/gui.h,
            src/gui_beval.c, src/gui_beval.h, src/gui_gtk.c, src/gui_gtk_f.c,
            src/gui_gtk_f.h, src/gui_gtk_x11.c, src/if_mzsch.c, src/mbyte.c,
            src/netbeans.c, src/structs.h, src/version.c

Patch 7.4.1403
Problem:    Can't build without the quickfix feature.
Solution:   Add #ifdefs. Call ex_ni() for unimplemented commands. (Yegappan
            Lakshmanan)
Files:      src/ex_cmds2.c, src/popupmnu.c

Patch 7.4.1404
Problem:    ch_read() doesn't time out on MS-Windows.
Solution:   Instead of WM_NETBEANS use select(). (Yukihiro Nakadaira)
Files:      src/channel.c, src/gui_w32.c, src/os_win32.c, src/structs.h,
            src/testdir/test_channel.vim, src/vim.h

Patch 7.4.1405
Problem:    Completion menu flickers.
Solution:   Delay showing the popup menu. (Shougo Matsu, Justin M. Keyes,
	    closes #656)
Files:      src/edit.c

Patch 7.4.1406
Problem:    Leaking memory in cs_print_tags_priv().
Solution:   Free tbuf. (idea by Forrest Fleming)
Files:      src/if_cscope.c

Patch 7.4.1407
Problem:    json_encode() does not handle NaN and inf properly. (David
            Barnett)
Solution:   For JSON turn them into "null".  For JS use "NaN" and "Infinity".
            Add isnan().
Files:      src/eval.c, src/json.c, src/testdir/test_json.vim

Patch 7.4.1408
Problem:    MS-Windows doesn't have isnan() and isinf().
Solution:   Use _isnan() and _isinf().
Files:      src/eval.c, src/json.c

Patch 7.4.1409 (after 7.4.1402)
Problem:    Configure includes GUI despite --disable-gui flag.
Solution:   Add SKIP_GTK3. (Kazunobu Kuriyama)
Files:      src/configure.in, src/auto/configure

Patch 7.4.1410
Problem:    Leaking memory in cscope interface.
Solution:   Free memory when no tab is found. (Christian Brabandt)
Files:      src/if_cscope.c

Patch 7.4.1411
Problem:    Compiler warning for indent. (Ajit Thakkar)
Solution:   Indent normally.
Files:      src/ui.c

Patch 7.4.1412
Problem:    Compiler warning for indent. (Dominique Pelle)
Solution:   Fix the indent.
Files:      src/farsi.c

Patch 7.4.1413
Problem:    When calling ch_close() the close callback is invoked, even though
            the docs say it isn't. (Christian J. Robinson)
Solution:   Don't call the close callback.
Files:      src/eval.c, src/channel.c, src/netbeans.c, src/proto/channel.pro

Patch 7.4.1414
Problem:    Appveyor only builds one feature set.
Solution:   Build a combination of features and GUI/console. (Christian
            Brabandt)
Files:      appveyor.yml, src/appveyor.bat

Patch 7.4.1415 (after 7.4.1414)
Problem:    Dropped the skip-tags setting.
Solution:   Put it back.
Files:      appveyor.yml

Patch 7.4.1416
Problem:    Using "u_char" instead of "char_u", which doesn't work everywhere.
            (Jörg Plate)
Solution:   Use "char_u" always.
Files:      src/integration.c, src/macros.h

Patch 7.4.1417 (after 7.4.1414)
Problem:    Missing appveyor.bat from the distribution.
Solution:   Add it to the list of files.
Files:      Filelist

Patch 7.4.1418
Problem:    job_stop() on MS-Windows does not really stop the job.
Solution:   Make the default to stop the job forcefully. (Ken Takata)
            Make MS-Windows and Unix more similar.
Files:      src/os_win32.c, src/os_unix.c, runtime/doc/eval.txt

Patch 7.4.1419
Problem:    Tests slowed down because of the "not a terminal" warning.
Solution:   Add the --not-a-term command line argument.
Files:      src/main.c, src/testdir/Makefile, src/Make_all.mak,
            src/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_vms.mms,
            runtime/doc/starting.txt

Patch 7.4.1420 (after 7.4.1419)
Problem:    Missing makefile.
Solution:   Type the path correctly.
Files:      src/testdir/Make_all.mak

Patch 7.4.1421
Problem:    May free a channel when a callback may need to be invoked.
Solution:   Keep the channel when refcount is zero.
Files:      src/eval.c, src/channel.c, src/proto/channel.pro

Patch 7.4.1422
Problem:    Error when reading fails uses wrong errno.  Keeping channel open
            after job stops results in test failing.
Solution:   Move the error up.  Add ch_job_killed.
Files:      src/channel.c, src/eval.c, src/structs.h

Patch 7.4.1423
Problem:    Channel test fails on MS-Windows.
Solution:   Do not give an error message when reading fails, assume the other
            end exited.
Files:      src/channel.c

Patch 7.4.1424
Problem:    Not using --not-a-term when running tests on MS-Windows.
Solution:   Use NO_PLUGIN. (Christian Brabandt)
Files:      src/testdir/Make_dos.mak

Patch 7.4.1425
Problem:    There are still references to MS-DOS support.
Solution:   Remove most of the help txt and install instructions. (Ken Takata)
Files:      src/INSTALLpc.txt, runtime/doc/os_msdos.txt, csdpmi4b.zip,
            Filelist

Patch 7.4.1426
Problem:    The "out-io" option for jobs is not implemented yet.
Solution:   Implement the "buffer" value: append job output to a buffer.
Files:      src/eval.c, src/channel.c, src/structs.h, src/netbeans.c,
            runtime/doc/channel.txt

Patch 7.4.1427
Problem:    Trailing comma in enums is not ANSI C.
Solution:   Remove the trailing commas.
Files:      src/alloc.h, src/gui_mac.c

Patch 7.4.1428
Problem:    Compiler warning for non-virtual destructor.
Solution:   Make it virtual. (Yasuhiro Matsumoto)
Files:      src/gui_dwrite.cpp

Patch 7.4.1429
Problem:    On MS-Windows, when not use renderoptions=type:directx, drawing
            emoji will be broken.
Solution:   Fix usage of unicodepdy. (Yasuhiro Matsumoto)
Files:      src/gui_w32.c

Patch 7.4.1430
Problem:    When encoding JSON, turning NaN and Infinity into null without
            giving an error is not useful.
Solution:   Pass NaN and Infinity on.  If the receiver can't handle them it
            will generate the error.
Files:      src/json.c, src/testdir/test_json.vim, runtime/doc/eval.txt

Patch 7.4.1431
Problem:    Including header files twice.
Solution:   Remove the extra includes.
Files:      src/if_cscope.h

Patch 7.4.1432
Problem:    Typo in button text.
Solution:   Fix the typo. (Dominique Pelle)
Files:      src/gui_gtk.c

Patch 7.4.1433
Problem:    The Sniff interface is no longer useful, the tool has not been
            available for may years.
Solution:   Delete the Sniff interface and related code.
Files:      src/if_sniff.c, src/if_sniff.h, src/charset.c, src/edit.c,
            src/eval.c, src/ex_cmds2.c, src/ex_docmd.c, src/ex_getln.c,
            src/gui_gtk_x11.c, src/gui_w32.c, src/gui_x11.c, src/normal.c,
            src/os_unix.c, src/os_win32.c, src/term.c, src/ui.c,
            src/version.c, src/ex_cmds.h, src/feature.h, src/keymap.h,
            src/structs.h, src/vim.h, src/Make_mvc.mak, src/Make_vms.mms,
            src/Makefile, src/configure.in, src/auto/configure,
            src/config.h.in, src/config.mk.in, runtime/doc/if_sniff.txt,
            src/config.aap.in, src/main.aap

Patch 7.4.1434
Problem:    JSON encoding doesn't handle surrogate pair.
Solution:   Improve multi-byte handling of JSON. (Yasuhiro Matsumoto)
Files:      src/json.c, src/testdir/test_json.vim

Patch 7.4.1435
Problem:    It is confusing that ch_sendexpr() and ch_sendraw() wait for a
            response.
Solution:   Add ch_evalexpr() and ch_evalraw().
Files:      src/eval.c, runtime/doc/channel.txt, runtime/doc/eval.txt,
            src/testdir/test_channel.vim

Patch 7.4.1436 (after 7.4.1433)
Problem:    Sniff files still referenced in distribution.
Solution:   Remove sniff files from distribution.
Files:      Filelist

Patch 7.4.1437
Problem:    Old system doesn't have isinf() and NAN. (Ben Fritz)
Solution:   Adjust #ifdefs.  Detect isnan() and isinf() functions with
            configure. Use a replacement when missing. (Kazunobu Kuriyama)
Files:      src/eval.c, src/json.c, src/macros.h, src/message.c,
            src/config.h.in, src/configure.in, src/auto/configure

Patch 7.4.1438
Problem:    Can't get buffer number of a channel.
Solution:   Add ch_getbufnr().
Files:      src/eval.c, src/channel.c, src/testdir/test_channel.vim,
            runtime/doc/channel.txt, runtime/doc/eval.txt

Patch 7.4.1439 (after 7.4.1434)
Problem:    Using uninitialized variable.
Solution:   Initialize vc_type.
Files:      src/json.c

Patch 7.4.1440 (after 7.4.1437)
Problem:    Can't build on Windows.
Solution:   Change #ifdefs.  Only define isnan when used.
Files:      src/macros.h, src/eval.c, src/json.c

Patch 7.4.1441
Problem:    Using empty name instead of no name for channel buffer.
Solution:   Remove the empty name.
Files:      src/channel.c

Patch 7.4.1442
Problem:    MS-Windows: more compilation warnings for destructor.
Solution:   Add "virtual". (Ken Takata)
Files:      src/if_ole.cpp

Patch 7.4.1443
Problem:    Can't build GTK3 with small features.
Solution:   Use gtk_widget_get_window().  Fix typos. (Dominique Pelle)
Files:      src/gui_gtk_x11.c

Patch 7.4.1444
Problem:    Can't build with JSON but without multi-byte.
Solution:   Fix pointer name.
Files:      src/json.c

Patch 7.4.1445
Problem:    Memory corruption when 'encoding' is not utf-8.
Solution:   Convert decoded string later.
Files:      src/json.c

Patch 7.4.1446
Problem:    Crash when using json_decode().
Solution:   Terminate string with a NUL byte.
Files:      src/json.c

Patch 7.4.1447
Problem:    Memory leak when using ch_read(). (Dominique Pelle)
            No log message when stopping a job and a few other situations.
            Too many "Nothing to read" messages.  Channels are not freed.
Solution:   Free the listtv.  Add more log messages. Remove "Nothing to read"
            message.  Remove the channel from the job when its refcount
            becomes zero.
Files:      src/eval.c, src/channel.c

Patch 7.4.1448
Problem:    JSON tests fail if 'encoding' is not utf-8.
Solution:   Force encoding to utf-8.
Files:      src/testdir/test_json.vim

Patch 7.4.1449
Problem:    Build fails with job feature but without channel feature.
Solution:   Add #ifdef.
Files:      src/eval.c

Patch 7.4.1450
Problem:    Json encoding still fails when encoding is not utf-8.
Solution:   Set 'encoding' before :scriptencoding.  Run the json test
            separately to avoid affecting other tests.
Files:      src/testdir/test_json.vim, src/testdir/Make_all.mak,
            src/testdir/test_alot.vim

Patch 7.4.1451
Problem:    Vim hangs when a channel has a callback but isn't referenced.
Solution:   Have channel_unref() only return TRUE when the channel was
            actually freed.
Files:      src/eval.c, src/channel.c, src/proto/channel.pro

Patch 7.4.1452
Problem:    When a callback adds a syntax item either the redraw doesn't
            happen right away or in the GUI the cursor is in the wrong
            position for a moment. (Jakson Alves de Aquino)
Solution:   Redraw after the callback was invoked.
Files:      src/channel.c

Patch 7.4.1453
Problem:    Missing --not-a-term.
Solution:   Add the argument.
Files:      src/testdir/Make_amiga.mak

Patch 7.4.1454
Problem:    The exit callback test is flaky.
Solution:   Loop to wait for a short time up to a second.
Files:      src/testdir/test_channel.vim

Patch 7.4.1455
Problem:    JSON decoding test for surrogate pairs is in the wrong place.
Solution:   Move the test lines. (Ken Takata)
Files:      src/testdir/test_json.vim

Patch 7.4.1456
Problem:    Test 87 fails with Python 3.5.
Solution:   Work around difference. (Taro Muraoka)
Files:      src/testdir/test87.in

Patch 7.4.1457
Problem:    Opening a channel with select() is not done properly.
Solution:   Also used read-fds. Use getsockopt() to check for errors. (Ozaki
            Kiichi)
Files:      src/channel.c

Patch 7.4.1458
Problem:    When a JSON channel has a callback it may never be cleared.
Solution:   Do not write "DETACH" into a JS or JSON channel.
Files:      src/channel.c

Patch 7.4.1459 (after 7.4.1457)
Problem:    MS-Windows doesn't know socklen_t.
Solution:   Use previous method for WIN32.
Files:      src/channel.c

Patch 7.4.1460
Problem:    Syntax error in rarely used code.
Solution:   Fix the mch_rename() declaration. (Ken Takata)
Files:      src/os_unix.c, src/proto/os_unix.pro

Patch 7.4.1461
Problem:    When starting job on MS-Windows all parts of the command are put
            in quotes.
Solution:   Only use quotes when needed. (Yasuhiro Matsumoto)
Files:      src/eval.c

Patch 7.4.1462
Problem:    Two more rarely used functions with errors.
Solution:   Add proper argument types. (Dominique Pelle)
Files:      src/misc2.c, src/termlib.c

Patch 7.4.1463
Problem:    Configure doesn't find isinf() and isnan() on some systems.
Solution:   Use a configure check that includes math.h.
Files:      src/configure.in, src/auto/configure

Patch 7.4.1464
Problem:    When the argument of sort() is zero or empty it fails.
Solution:   Make zero work as documented. (suggested by Yasuhiro Matsumoto)
Files:      src/eval.c, src/testdir/test_sort.vim

Patch 7.4.1465
Problem:    Coverity reported possible use of NULL pointer when using buffer
            output with JSON mode.
Solution:   Make it actually possible to use JSON mode with a buffer.
            Re-encode the JSON to append it to the buffer.
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 7.4.1466
Problem:    Coverity reports dead code.
Solution:   Remove the two lines.
Files:      src/channel.c

Patch 7.4.1467
Problem:    Can't build without the float feature.
Solution:   Add #ifdefs. (Nick Owens, closes #667)
Files:      src/eval.c, src/json.c

Patch 7.4.1468
Problem:    Sort test doesn't test with "1" argument.
Solution:   Also test ignore-case sorting. (Yasuhiro Matsumoto)
Files:      src/testdir/test_sort.vim

Patch 7.4.1469
Problem:    Channel test sometimes fails, especially on OS/X. (Kazunobu
            Kuriyama)
Solution:   Change the && into ||, call getsockopt() in more situations.
            (Ozaki Kiichi)
Files:      src/channel.c

Patch 7.4.1470
Problem:    Coverity reports missing restore.
Solution:   Move json_encode() call up.
Files:      src/channel.c

Patch 7.4.1471
Problem:    Missing out-of-memory check.  And Coverity warning.
Solution:   Bail out when msg is NULL.
Files:      src/channel.c

Patch 7.4.1472
Problem:    Coverity warning for not using return value.
Solution:   Add "(void)".
Files:      src/os_unix.c

Patch 7.4.1473
Problem:    Can't build without the autocommand feature.
Solution:   Add #ifdefs. (Yegappan Lakshmanan)
Files:      src/edit.c, src/main.c, src/syntax.c

Patch 7.4.1474
Problem:    Compiler warnings without the float feature.
Solution:   Move #ifdefs. (John Marriott)
Files:      src/eval.c

Patch 7.4.1475
Problem:    When using hangulinput with utf-8 a CSI character is
            misinterpreted.
Solution:   Convert CSI to K_CSI. (SungHyun Nam)
Files:      src/ui.c

Patch 7.4.1476
Problem:    Function arguments marked as unused while they are not.
Solution:   Remove UNUSED. (Yegappan Lakshmanan)
Files:      src/diff.c, src/eval.c, src/ex_cmds2.c, src/ex_docmd.c,
            src/window.c

Patch 7.4.1477
Problem:    Test_reltime is flaky, it depends on timing.
Solution:   When it fails run it a second time.
Files:      src/testdir/runtest.vim

Patch 7.4.1478
Problem:    ":loadplugin" doesn't take care of ftdetect files.
Solution:   Also load ftdetect scripts when appropriate.
Files:      src/ex_cmds2.c

Patch 7.4.1479
Problem:    No testfor ":loadplugin".
Solution:   Add a test.  Fix how option is being set.
Files:      src/ex_cmds2.c, src/testdir/test_loadplugin.vim,
            src/testdir/Make_all.mak

Patch 7.4.1480
Problem:    Cannot add a pack directory without loading a plugin.
Solution:   Add the :packadd command.
Files:      src/ex_cmds.h, src/ex_cmds2.c, src/proto/ex_cmds2.pro,
            src/testdir/test_loadplugin.vim, runtime/doc/repeat.txt

Patch 7.4.1481
Problem:    Can't build with small features.
Solution:   Add #ifdef.
Files:      src/ex_cmds2.c

Patch 7.4.1482
Problem:    "timeout" option not supported on ch_eval*().
Solution:   Get and use the timeout option from the argument.
Files:      src/eval.c, src/testdir/test_channel.vim

Patch 7.4.1483
Problem:    A one-time callback is not used for a raw channel.
Solution:   Use a one-time callback when it exists.
Files:      src/channel.c, src/testdir/test_channel.vim,
            src/testdir/test_channel.py

Patch 7.4.1484
Problem:    Channel "err-io" value "out" is not supported.
Solution:   Connect stderr to stdout if wanted.
Files:      src/os_unix.c, src/os_win32.c, src/testdir/test_channel.vim,
            src/testdir/test_channel_pipe.py

Patch 7.4.1485
Problem:    Job input from buffer is not implemented.
Solution:   Implement it.  Add "in-top" and "in-bot" options.
Files:      src/structs.h, src/eval.c, src/channel.c, src/proto/channel.pro,
            src/os_unix.c, src/os_win32.c, src/testdir/test_channel.vim

Patch 7.4.1486
Problem:    ":loadplugin" is not optimal, some people find it confusing.
Solution:   Only use ":packadd" with an optional "!".
Files:      src/ex_cmds.h, src/ex_cmds2.c, src/testdir/test_loadplugin.vim,
            src/testdir/test_packadd.vim, src/testdir/Make_all.mak,
            runtime/doc/repeat.txt

Patch 7.4.1487
Problem:    For WIN32 isinf() is defined as a macro.
Solution:   Define it as an inline function. (ZyX)
Files:      src/macros.h

Patch 7.4.1488 (after 7.4.1475)
Problem:    Not using key when result from hangul_string_convert() is NULL.
Solution:   Fall back to not converted string.
Files:      src/ui.c

Patch 7.4.1489 (after 7.4.1487)
Problem:    "inline" is not supported by old MSVC.
Solution:   use "__inline". (Ken Takata)
Files:      src/macros.h

Patch 7.4.1490
Problem:    Compiler warning for unused function.
Solution:   Add #ifdef. (Dominique Pelle)
Files:      src/gui_gtk_x11.c

Patch 7.4.1491
Problem:    Visual-block shift breaks multi-byte characters.
Solution:   Compute column differently. (Yasuhiro Matsumoto) Add a test.
Files:      src/ops.c, src/testdir/test_visual.vim, src/testdir/Make_all.mak

Patch 7.4.1492
Problem:    No command line completion for ":packadd".
Solution:   Implement completion. (Hirohito Higashi)
Files:      src/ex_docmd.c, src/ex_getln.c, src/testdir/test_packadd.vim,
            src/vim.h

Patch 7.4.1493
Problem:    Wrong callback invoked for zero-id messages.
Solution:   Don't use the first one-time callback when the sequence number
            doesn't match.
Files:      src/channel.c, src/testdir/test_channel.vim,
            src/testdir/test_channel.py

Patch 7.4.1494
Problem:    clr_history() does not work properly.
Solution:   Increment hisptr. Add a test. (Yegappan Lakshmanan)
Files:      src/ex_getln.c, src/testdir/test_history.vim,
            src/testdir/Make_all.mak

Patch 7.4.1495
Problem:    Compiler warnings when building on Unix with the job feature but
            without the channel feature.
Solution:   Move #ifdefs. (Dominique Pelle)
Files:      src/os_unix.c

Patch 7.4.1496
Problem:    Crash when built with GUI but it's not active. (Dominique Pelle)
Solution:   Check gui.in_use.
Files:      src/channel.c

Patch 7.4.1497
Problem:    Cursor drawing problem with GTK 3.
Solution:   Handle blinking differently. (Kazunobu Kuriyama)
Files:      src/gui_gtk_x11.c

Patch 7.4.1498
Problem:    Error for locked item when using json_decode(). (Shougo Matsu)
Solution:   Initialize v_lock.
Files:      src/json.c

Patch 7.4.1499
Problem:    No error message when :packadd does not find anything.
Solution:   Add an error message. (Hirohito Higashi)
Files:      runtime/doc/repeat.txt, src/ex_cmds.h, src/ex_cmds2.c,
            src/globals.h, src/testdir/test_packadd.vim

Patch 7.4.1500
Problem:    Should_free flag set to FALSE.
Solution:   Set it to TRUE. (Neovim 4415)
Files:      src/ex_eval.c

Patch 7.4.1501
Problem:    Garbage collection with an open channel is not tested.
Solution:   Call garbagecollect() in the test.
Files:      src/testdir/test_channel.vim

Patch 7.4.1502
Problem:    Writing last-but-one line of buffer to a channel isn't implemented
            yet.
Solution:   Implement it.  Fix leaving a swap file behind.
Files:      src/channel.c, src/structs.h, src/memline.c, src/proto/channel.pro

Patch 7.4.1503
Problem:    Crash when using ch_getjob(). (Damien)
Solution:   Check for a NULL job.
Files:      src/eval.c, src/testdir/test_channel.vim

Patch 7.4.1504 (after 7.4.1502)
Problem:    No test for reading last-but-one line.
Solution:   Add a test.
Files:      src/testdir/test_channel.vim

Patch 7.4.1505
Problem:    When channel log is enabled get too many "looking for messages"
            log entries.
Solution:   Only give the message after another message.
Files:      src/channel.c

Patch 7.4.1506
Problem:    Job cannot read from a file.
Solution:   Implement reading from a file for Unix.
Files:      src/eval.c, src/os_unix.c, src/os_win32.c,
            src/testdir/test_channel.vim

Patch 7.4.1507
Problem:    Crash when starting a job fails.
Solution:   Check for the channel to be NULL.  (idea by Yasuhiro Matsumoto)
Files:      src/eval.c

Patch 7.4.1508
Problem:    Can't build GvimExt with MingW.
Solution:   Adjust the makefile. (Ben Fritz)
Files:      src/GvimExt/Make_ming.mak

Patch 7.4.1509
Problem:    Keeping both a variable for a job and the channel it refers to is
            a hassle.
Solution:   Allow passing the job where a channel is expected. (Damien)
Files:      src/eval.c, src/testdir/test_channel.vim

Patch 7.4.1510
Problem:    Channel test fails on AppVeyor.
Solution:   Wait longer than 10 msec if needed.
Files:      src/testdir/test_channel.vim

Patch 7.4.1511
Problem:    Statusline highlighting is sometimes wrong.
Solution:   Check for Highlight type. (Christian Brabandt)
Files:      src/buffer.c

Patch 7.4.1512
Problem:    Channel input from file not supported on MS-Windows.
Solution:   Implement it. (Yasuhiro Matsumoto)
Files:      src/os_win32.c, src/testdir/test_channel.vim

Patch 7.4.1513
Problem:    "J" fails if there are not enough lines. (Christian Neukirchen)
Solution:   Reduce the count, only fail on the last line.
Files:      src/normal.c, src/testdir/test_join.vim, src/testdir/test_alot.vim

Patch 7.4.1514
Problem:    Channel output to file not implemented yet.
Solution:   Implement it for Unix.
Files:      src/os_unix.c, src/testdir/test_channel.vim,
            src/testdir/test_channel_pipe.py

Patch 7.4.1515
Problem:    Channel test is a bit flaky.
Solution:   Instead of a fixed sleep time wait until an expression evaluates
            to true.
Files:      src/testdir/test_channel.vim

Patch 7.4.1516
Problem:    Cannot change file permissions.
Solution:   Add setfperm().
Files:      src/eval.c, runtime/doc/eval.txt, src/testdir/test_alot.vim,
            src/testdir/test_file_perm.vim

Patch 7.4.1517
Problem:    Compiler warning with 64bit compiler.
Solution:   Add typecast. (Mike Williams)
Files:      src/channel.c

Patch 7.4.1518
Problem:    Channel with disconnected in/out/err is not supported.
Solution:   Implement it for Unix.
Files:      src/eval.c, src/os_unix.c, src/structs.h,
            src/testdir/test_channel.vim, src/testdir/test_channel_pipe.py

Patch 7.4.1519 (after 7.4.1514)
Problem:    Channel output to file not implemented for MS-Windows.
Solution:   Implement it. (Yasuhiro Matsumoto)
Files:      src/os_win32.c, src/testdir/test_channel.vim

Patch 7.4.1520
Problem:    Channel test: Waiting for a file to appear doesn't work.
Solution:   In waitFor() ignore errors.
Files:      src/testdir/test_channel.vim

Patch 7.4.1521 (after 7.4.1516)
Problem:    File permission test fails on MS-Windows.
Solution:   Expect a different permission.
Files:      src/testdir/test_file_perm.vim

Patch 7.4.1522
Problem:    Cannot write channel err to a buffer.
Solution:   Implement it.
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 7.4.1523
Problem:    Writing channel to a file fails on MS-Windows.
Solution:   Disable it for now.
Files:      src/testdir/test_channel.vim

Patch 7.4.1524
Problem:    Channel test fails on BSD.
Solution:   Break out of the loop when connect() succeeds. (Ozaki Kiichi)
Files:      src/channel.c

Patch 7.4.1525
Problem:    On a high resolution screen the toolbar icons are too small.
Solution:   Add "huge" and "giant" to 'toolbariconsize'. (Brian Gix)
Files:      src/gui_gtk_x11.c, src/option.h

Patch 7.4.1526
Problem:    Writing to file and not connecting a channel doesn't work for
            MS-Windows.
Solution:   Make it work. (Yasuhiro Matsumoto)
Files:      src/os_win32.c, src/testdir/test_channel.vim

Patch 7.4.1527
Problem:    Channel test is flaky on MS-Windows.
Solution:   Limit the select() timeout to 50 msec and try with a new socket if
            it fails.
Files:      src/channel.c

Patch 7.4.1528
Problem:    Using "ever" for packages is confusing.
Solution:   Use "start", as it's related to startup.
Files:      src/ex_cmds2.c, runtime/doc/repeat.txt

Patch 7.4.1529
Problem:    Specifying buffer number for channel not implemented yet.
Solution:   Implement passing a buffer number.
Files:      src/structs.h, src/channel.c, src/eval.c,
            src/testdir/test_channel.vim

Patch 7.4.1530
Problem:    MS-Windows job_start() closes wrong handle.
Solution:   Close hThread on the process info. (Ken Takata)
Files:      src/os_win32.c

Patch 7.4.1531
Problem:    Compiler warning for uninitialized variable. (Dominique Pelle)
Solution:   Always give the variable a value.
Files:      src/channel.c

Patch 7.4.1532
Problem:    MS-Windows channel leaks file descriptor.
Solution:   Use CreateFile with the right options. (Yasuhiro Matsumoto)
Files:      src/os_win32.c

Patch 7.4.1533
Problem:    Using feedkeys() with an empty string disregards 'x' option.
Solution:   Make 'x' work with an empty string. (Thinca)
Files:      src/eval.c, src/testdir/test_alot.vim,
            src/testdir/test_feedkeys.vim

Patch 7.4.1534
Problem:    Compiler warning for shadowed variable. (Kazunobu Kuriyama)
Solution:   Rename it.
Files:      src/eval.c

Patch 7.4.1535
Problem:    The feedkeys test has a one second delay.
Solution:   Avoid need_wait_return() to delay. (Hirohito Higashi)
Files:      src/eval.c

Patch 7.4.1536
Problem:    Cannot re-use a channel for another job.
Solution:   Add the "channel" option to job_start().
Files:      src/channel.c, src/eval.c, src/structs.h, src/os_unix.c,
            src/os_win32.c, src/proto/channel.pro,
            src/testdir/test_channel.vim

Patch 7.4.1537
Problem:    Too many feature flags for pipes, jobs and channels.
Solution:   Only use FEAT_JOB_CHANNEL.
Files:      src/structs.h, src/feature.h, src/configure.in,
            src/auto/configure, src/config.h.in, src/channel.c, src/eval.c,
            src/gui.c, src/main.c, src/memline.c, src/misc2.c, src/os_mswin.c,
            src/os_unix.c, src/os_win32.c, src/ui.c, src/version.c,
            src/macros.h, src/proto.h, src/vim.h, src/Make_cyg_ming.mak,
            src/Make_bc5.mak, src/Make_mvc.mak

Patch 7.4.1538
Problem:    Selection with the mouse does not work in command line mode.
Solution:   Use cairo functions. (Kazunobu Kuriyama)
Files:      src/gui_gtk_x11.c

Patch 7.4.1539
Problem:    Too much code in eval.c.
Solution:   Move job and channel code to channel.c.
Files:      src/eval.c, src/channel.c, src/proto/channel.pro,
            src/proto/eval.pro

Patch 7.4.1540
Problem:    Channel test is a bit flaky.
Solution:   Increase expected wait time.
Files:      src/testdir/test_channel.vim

Patch 7.4.1541
Problem:    Missing job_info().
Solution:   Implement it.
Files:      src/eval.c, src/channel.c, src/proto/channel.pro,
            src/testdir/test_channel.vim, runtime/doc/eval.txt

Patch 7.4.1542
Problem:    job_start() with a list is not tested.
Solution:   Call job_start() with a list.
Files:      src/testdir/test_channel.vim

Patch 7.4.1543
Problem:    Channel log methods are not tested.
Solution:   Log job activity and check it.
Files:      src/testdir/test_channel.vim

Patch 7.4.1544
Problem:    On Win32 escaping the command does not work properly.
Solution:   Reset 'ssl' when escaping the command. (Yasuhiro Matsumoto)
Files:      src/channel.c

Patch 7.4.1545
Problem:    GTK3: horizontal cursor movement in Visual selection not good.
Solution:   Make it work better. (Kazunobu Kuriyama)
Files:      src/gui_gtk_x11.c

Patch 7.4.1546
Problem:    Sticky type checking is more annoying than useful.
Solution:   Remove the error for changing a variable type.
Files:      src/eval.c, src/testdir/test_assign.vim,
            src/testdir/test_alot.vim, runtime/doc/eval.txt

Patch 7.4.1547
Problem:    Getting a cterm highlight attribute that is not set results in the
            string "-1".
Solution:   Return an empty string. (Taro Muraoka)
Files:      src/syntax.c, src/testdir/test_alot.vim,
            src/testdir/test_syn_attr.vim

Patch 7.4.1548 (after 7.4.1546)
Problem:    Two tests fail.
Solution:   Adjust the expected error number. Remove check for type.
Files:      src/testdir/test101.ok, src/testdir/test55.in,
            src/testdir/test55.ok

Patch 7.4.1549 (after 7.4.1547)
Problem:    Test for syntax attributes fails in Win32 GUI.
Solution:   Use an existing font name.
Files:      src/testdir/test_syn_attr.vim

Patch 7.4.1550
Problem:    Cannot load packages early.
Solution:   Add the ":packloadall" command.
Files:      src/ex_cmds.h, src/ex_cmds2.c, src/main.c,
            src/proto/ex_cmds2.pro, src/testdir/test_packadd.vim

Patch 7.4.1551
Problem:    Cannot generate help tags in all doc directories.
Solution:   Make ":helptags ALL" work.
Files:      src/ex_cmds2.c, src/proto/ex_cmds2.pro, src/ex_cmds.c, src/vim.h
            src/testdir/test_packadd.vim

Patch 7.4.1552
Problem:    ":colorscheme" does not use 'packpath'.
Solution:   Also use in "start" and "opt" directories in 'packpath'.
Files:      src/ex_cmds2.c, src/gui.c, src/hardcopy.c, src/os_mswin.c,
            src/spell.c, src/tag.c, src/if_py_both.h, src/vim.h,
            src/digraph.c, src/eval.c, src/ex_docmd.c, src/main.c,
            src/option.c, src/syntax.c, src/testdir/test_packadd.vim

Patch 7.4.1553
Problem:    ":runtime" does not use 'packpath'.
Solution:   Add "what" argument.
Files:      src/ex_cmds2.c, src/vim.h, runtime/doc/repeat.txt,
            src/testdir/test_packadd.vim

Patch 7.4.1554
Problem:    Completion for :colorscheme does not use 'packpath'.
Solution:   Make it work, add a test. (Hirohito Higashi)
Files:      src/ex_getln.c, src/testdir/test_packadd.vim

Patch 7.4.1555
Problem:    List of test targets incomplete.
Solution:   Add newly added tests.
Files:      src/Makefile

Patch 7.4.1556
Problem:    "make install" changes the help tags file, causing it to differ
            from the repository.
Solution:   Move it aside and restore it.
Files:      src/Makefile

Patch 7.4.1557
Problem:    Windows cannot be identified.
Solution:   Add a unique window number to each window and functions to use it.
Files:      src/structs.h, src/window.c, src/eval.c, src/proto/eval.pro,
            src/proto/window.pro, src/testdir/test_window_id.vim,
            src/testdir/Make_all.mak, runtime/doc/eval.txt

Patch 7.4.1558
Problem:    It is not easy to find out what windows display a buffer.
Solution:   Add win_findbuf().
Files:      src/eval.c, src/window.c, src/proto/window.pro,
            src/testdir/test_window_id.vim, runtime/doc/eval.txt

Patch 7.4.1559
Problem:    Passing cookie to a callback is clumsy.
Solution:   Change function() to take arguments and return a partial.
Files:      src/structs.h, src/channel.c, src/eval.c, src/if_python.c,
            src/if_python3.c, src/if_py_both.h, src/json.c,
            src/proto/eval.pro, src/testdir/test_partial.vim,
            src/testdir/test_alot.vim, runtime/doc/eval.txt

Patch 7.4.1560
Problem:    Dict options with a dash are more difficult to use.
Solution:   Use an underscore, so that dict.err_io can be used.
Files:      src/channel.c, src/structs.h, src/testdir/test_channel.vim,
            runtime/doc/channel.txt

Patch 7.4.1561 (after 7.4.1559)
Problem:    Missing update to proto file.
Solution:   Change the proto file.
Files:      src/proto/channel.pro

Patch 7.4.1562
Problem:    ":helptags ALL" crashes. (Lcd)
Solution:   Don't free twice.
Files:      src/ex_cmds.c

Patch 7.4.1563
Problem:    Partial test fails on windows.
Solution:   Return 1 or -1 from compare function.
Files:      src/testdir/test_partial.vim

Patch 7.4.1564
Problem:    An empty list in function() causes an error.
Solution:   Handle an empty list like there is no list of arguments.
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1565
Problem:    Crash when assert_equal() runs into a NULL string.
Solution:   Check for NULL. (Dominique) Add a test.
Files:      src/eval.c, src/testdir/test_assert.vim

Patch 7.4.1566
Problem:    Compiler warning for shadowed variable. (Kazunobu Kuriyama)
Solution:   Remove the inner one.
Files:      src/eval.c

Patch 7.4.1567
Problem:    Crash in assert_fails().
Solution:   Check for NULL. (Dominique Pelle)  Add a test.
Files:      src/eval.c, src/testdir/test_assert.vim

Patch 7.4.1568
Problem:    Using CTRL-] in help on option in parentheses doesn't work.
Solution:   Skip the "(" in "('". (Hirohito Higashi)
Files:      src/ex_cmds.c

Patch 7.4.1569
Problem:    Using old style tests for quickfix.
Solution:   Change them to new style tests. (Yegappan Lakshmanan)
Files:      src/testdir/Make_all.mak, src/testdir/test106.in,
            src/testdir/test106.ok, src/testdir/test_qf_title.in,
            src/testdir/test_qf_title.ok, src/testdir/test_quickfix.vim

Patch 7.4.1570
Problem:    There is no way to avoid the message when editing a file.
Solution:   Add the "F" flag to 'shortmess'. (Shougo Matsu, closes #686)
Files:      runtime/doc/options.txt, src/buffer.c, src/ex_cmds.c,
            src/option.h

Patch 7.4.1571
Problem:    No test for ":help".
Solution:   Add a test for what 7.4.1568 fixed. (Hirohito Higashi)
Files:      src/testdir/test_alot.vim, src/testdir/test_help_tagjump.vim

Patch 7.4.1572
Problem:    Setting 'compatible' in test influences following tests.
Solution:   Turn 'compatible' off again.
Files:      src/testdir/test_backspace_opt.vim

Patch 7.4.1573
Problem:    Tests get stuck at the more prompt.
Solution:   Move the backspace test out of test_alot.
Files:      src/testdir/test_alot.vim, src/testdir/Make_all.mak

Patch 7.4.1574
Problem:    ":undo 0" does not work. (Florent Fayolle)
Solution:   Make it undo all the way. (closes #688)
Files:      src/undo.c, src/testdir/test_undolevels.vim,
            src/testdir/test_ex_undo.vim, src/testdir/test_alot.vim

Patch 7.4.1575
Problem:    Using wrong size for struct.
Solution:   Use the size for wide API. (Ken Takata)
Files:      src/gui_w32.c

Patch 7.4.1576
Problem:    Write error of viminfo file is not handled properly. (Christian
            Neukirchen)
Solution:   Check the return value of fclose(). (closes #682)
Files:      src/ex_cmds.c

Patch 7.4.1577
Problem:    Cannot pass "dict.Myfunc" around as a partial.
Solution:   Create a partial when expected.
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1578
Problem:    There is no way to invoke a function later or periodically.
Solution:   Add timer support.
Files:      src/eval.c, src/ex_cmds2.c, src/screen.c, src/ex_docmd.c,
            src/feature.h, src/gui.c, src/proto/eval.pro,
            src/proto/ex_cmds2.pro, src/proto/screen.pro, src/structs.h,
            src/version.c, src/testdir/test_alot.vim,
            src/testdir/test_timers.vim, runtime/doc/eval.txt

Patch 7.4.1579 (after 7.4.1578)
Problem:    Missing changes in channel.c
Solution:   Include the changes.
Files:      src/channel.c

Patch 7.4.1580
Problem:    Crash when using function reference. (Luchr)
Solution:   Set initial refcount. (Ken Takata, closes #690)
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1581
Problem:    Using ":call dict.func()" where the function is a partial does
            not work.  Using "dict.func()" where the function does not take a
            Dictionary does not work.
Solution:   Handle partial properly in ":call". (Yasuhiro Matsumoto)
Files:      src/eval.c, src/testdir/test_partial.vim, src/testdir/test55.ok

Patch 7.4.1582
Problem:    Get E923 when using function(dict.func, [], dict). (Kent Sibilev)
            Storing a function with a dict in a variable drops the dict if the
            function is script-local.
Solution:   Translate the function name.  Use dict arg if present.
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1583
Problem:    Warning for uninitialized variable.
Solution:   Initialize it. (Dominique)
Files:      src/ex_cmds2.c

Patch 7.4.1584
Problem:    Timers don't work for Win32 console.
Solution:   Add check_due_timer() in WaitForChar().
Files:      src/os_win32.c

Patch 7.4.1585
Problem:    Partial is not recognized everywhere.
Solution:   Check for partial in trans_function_name(). (Yasuhiro Matsumoto)
            Add a test.
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1586
Problem:    Nesting partials doesn't work.
Solution:   Append arguments. (Ken Takata)
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1587
Problem:    Compiler warnings with 64 bit compiler.
Solution:   Add type casts. (Mike Williams)
Files:      src/ex_cmds2.c

Patch 7.4.1588
Problem:    Old style test for quickfix.
Solution:   Turn test 96 into a new style test.
Files:      src/testdir/Make_all.mak, src/testdir/test96.in,
            src/testdir/test96.ok, src/testdir/test_quickfix.vim

Patch 7.4.1589
Problem:    Combining dict and args with partial doesn't always work.
Solution:   Use the arguments from the partial.
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1590
Problem:    Warning for shadowed variable. (Christian Brabandt)
Solution:   Move the variable into a local block.
Files:      src/eval.c

Patch 7.4.1591
Problem:    The quickfix title is truncated.
Solution:   Save the command before it is truncated. (Anton Lindqvist)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.1592
Problem:    Quickfix code using memory after being freed. (Dominique Pelle)
Solution:   Detect that the window was closed. (Hirohito Higashi)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.1593
Problem:    Using channel timeout instead of request timeout. (Coverity)
Solution:   Remove the extra assignment.
Files:      src/channel.c

Patch 7.4.1594
Problem:    Timers don't work on Unix.
Solution:   Add missing code.
Files:      src/os_unix.c

Patch 7.4.1595
Problem:    Not checking for failed open(). (Coverity)
Solution:   Check file descriptor not being negative.
Files:      src/os_unix.c

Patch 7.4.1596
Problem:    Memory leak. (Coverity)
Solution:   Free the pattern.
Files:      src/ex_cmds2.c

Patch 7.4.1597
Problem:    Memory leak when out of memory. (Coverity)
Solution:   Free the name.
Files:      src/eval.c

Patch 7.4.1598
Problem:    When starting the GUI fails a swap file is left behind. (Joerg
            Plate)
Solution:   Preserve files before exiting. (closes #692)
Files:      src/main.c, src/gui.c

Patch 7.4.1599
Problem:    No link to Coverity.
Solution:   Add Coverity badge in README.
Files:      README.md

Patch 7.4.1600
Problem:    libs directory is not useful.
Solution:   Remove arp.library, it was only for very old Amiga versions.
Files:      libs/arp.library, Filelist

Patch 7.4.1601
Problem:    README files take a lot of space in the top directory.
Solution:   Move most of them to "READMEdir".
Files:      Filelist, Makefile, README.txt.info, README_ami.txt,
            README_ami.txt.info, README_amibin.txt, README_amibin.txt.info,
            README_amisrc.txt, README_amisrc.txt.info, README_bindos.txt,
            README_dos.txt, README_extra.txt, README_mac.txt, README_ole.txt,
            README_os2.txt, README_os390.txt, README_src.txt,
            README_srcdos.txt, README_unix.txt, README_vms.txt,
            README_w32s.txt, READMEdir/README.txt.info,
            READMEdir/README_ami.txt, READMEdir/README_ami.txt.info,
            READMEdir/README_amibin.txt, READMEdir/README_amibin.txt.info,
            READMEdir/README_amisrc.txt, READMEdir/README_amisrc.txt.info,
            READMEdir/README_bindos.txt, READMEdir/README_dos.txt,
            READMEdir/README_extra.txt, READMEdir/README_mac.txt,
            READMEdir/README_ole.txt, READMEdir/README_os2.txt,
            READMEdir/README_os390.txt, READMEdir/README_src.txt,
            READMEdir/README_srcdos.txt, READMEdir/README_unix.txt,
            READMEdir/README_vms.txt, READMEdir/README_w32s.txt,

Patch 7.4.1602
Problem:    Info files take space in the top directory.
Solution:   Move them to "READMEdir".
Files:      Filelist, src.info, Contents.info, runtime.info, vimdir.info,
            Vim.info, Xxd.info, READMEdir/src.info, READMEdir/Contents.info,
            READMEdir/runtime.info, READMEdir/vimdir.info, READMEdir/Vim.info,
            READMEdir/Xxd.info

Patch 7.4.1603
Problem:    Timer with an ":echo" command messes up display.
Solution:   Redraw depending on the mode. (Hirohito Higashi)  Avoid the more
            prompt being used recursively.
Files:      src/screen.c, src/message.c

Patch 7.4.1604
Problem:    Although emoji characters are ambiguous width, best is to treat
            them as full width.
Solution:   Update the Unicode character tables. Add the 'emoji' options.
            (Yasuhiro Matsumoto)
Files:      runtime/doc/options.txt, runtime/optwin.vim,
            runtime/tools/unicode.vim, src/mbyte.c, src/option.c, src/option.h

Patch 7.4.1605
Problem:    Catching exception that won't be thrown.
Solution:   Remove try/catch.
Files:      src/testdir/test55.in

Patch 7.4.1606
Problem:    Having type() handle a Funcref that is or isn't a partial
            differently causes problems for existing scripts.
Solution:   Make type() return the same value. (Thinca)
Files:      src/eval.c, src/testdir/test_viml.vim

Patch 7.4.1607
Problem:    Comparing a function that exists on two dicts is not backwards
            compatible. (Thinca)
Solution:   Only compare the function, not what the partial adds.
Files:      src/eval.c, src/testdir/test_alot.vim, src/testdir/test_expr.vim

Patch 7.4.1608
Problem:    string() doesn't handle a partial.
Solution:   Make a string from a partial.
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1609
Problem:    Contents file is only for Amiga distro.
Solution:   Move it to "READMEdir".  Update some info.
Files:      Filelist, Contents, READMEdir/Contents

Patch 7.4.1610
Problem:    Compiler warnings for non-virtual destructor.
Solution:   Mark the classes final. (Ken Takata)
Files:      src/Make_cyg_ming.mak, src/gui_dwrite.cpp, src/if_ole.cpp

Patch 7.4.1611
Problem:    The versplit feature makes the code unnecessary complicated.
Solution:   Remove FEAT_VERTSPLIT, always support vertical splits when
            FEAT_WINDOWS is defined.
Files:      src/buffer.c, src/charset.c, src/eval.c, src/ex_cmds.c,
            src/ex_docmd.c, src/ex_getln.c, src/gui.c, src/if_lua.c,
            src/if_mzsch.c, src/if_ruby.c, src/main.c, src/misc1.c,
            src/misc2.c, src/move.c, src/normal.c, src/option.c,
            src/quickfix.c, src/screen.c, src/syntax.c, src/term.c, src/ui.c,
            src/window.c, src/globals.h, src/gui.h, src/if_py_both.h,
            src/option.h, src/structs.h, src/term.h
            src/feature.h, src/vim.h, src/version.c

Patch 7.4.1612 (after 7.4.1611)
Problem:    Can't build with small features.
Solution:   Move code and #ifdefs.
Files:      src/ex_getln.c

Patch 7.4.1613 (after 7.4.1612)
Problem:    Still can't build with small features.
Solution:   Adjust #ifdefs.
Files:      src/ex_getln.c

Patch 7.4.1614
Problem:    Still quickfix test in old style.
Solution:   Turn test 10 into a new style test.
Files:      src/testdir/Make_all.mak, src/testdir/Make_vms.mms,
            src/testdir/main.aap, src/testdir/test10.in,
            src/testdir/test10.ok, src/testdir/test_quickfix.vim,
            src/testdir/test10a.in, src/testdir/test10a.ok

Patch 7.4.1615
Problem:    Build fails with tiny features.
Solution:   Adjust #ifdefs.
Files:      src/normal.c, src/window.c

Patch 7.4.1616
Problem:    Malformed channel request causes a hang.
Solution:   Drop malformed message. (Damien)
Files:      src/channel.c, src/testdir/test_channel.vim,
            src/testdir/test_channel.py

Patch 7.4.1617
Problem:    When a JSON message is split it isn't decoded.
Solution:   Wait a short time for the rest of the message to arrive.
Files:      src/channel.c, src/json.c, src/structs.h,
            src/testdir/test_channel.vim, src/testdir/test_channel.py

Patch 7.4.1618
Problem:    Starting job with output to buffer changes options in the current
            buffer.
Solution:   Set "curbuf" earlier. (Yasuhiro Matsumoto)
Files:      src/channel.c

Patch 7.4.1619
Problem:    When 'fileformats' is set in the vimrc it applies to new buffers
            but not the initial buffer.
Solution:   Set 'fileformat' when starting up. (Mike Williams)
Files:      src/option.c

Patch 7.4.1620
Problem:    Emoji characters are not considered as a kind of word character.
Solution:   Give emoji characters a word class number. (Yasuhiro Matsumoto)
Files:      src/mbyte.c

Patch 7.4.1621
Problem:    Channel test doesn't work with Python 2.6.
Solution:   Add number in formatting placeholder. (Wiredool)
Files:      src/testdir/test_channel.py

Patch 7.4.1622
Problem:    Channel demo doesn't work with Python 2.6.
Solution:   Add number in formatting placeholder
Files:      runtime/tools/demoserver.py

Patch 7.4.1623
Problem:    All Channels share the message ID, it keeps getting bigger.
Solution:   Use a message ID per channel.
Files:      src/channel.c, src/proto/channel.pro, src/structs.h

Patch 7.4.1624
Problem:    Can't get info about a channel.
Solution:   Add ch_info().
Files:      src/eval.c, src/channel.c, src/proto/channel.pro,
            src/testdir/test_channel.vim, runtime/doc/eval.txt

Patch 7.4.1625
Problem:    Trying to close file descriptor that isn't open.
Solution:   Check for negative number.
Files:      src/os_unix.c

Patch 7.4.1626 (after 7.4.1624)
Problem:    Missing changes to structs.
Solution:   Include the changes.
Files:      src/structs.h

Patch 7.4.1627
Problem:    Channel out_cb and err_cb are not tested.
Solution:   Add a test.
Files:      src/testdir/test_channel.vim

Patch 7.4.1628
Problem:    64-bit Compiler warning.
Solution:   Change type of variable. (Mike Williams)
Files:      src/channel.c

Patch 7.4.1629
Problem:    Handling emoji characters as full width has problems with
            backwards compatibility.
Solution:   Remove ambiguous and double width characters from the emoji table.
            Use a separate table for the character class.
            (partly by Yasuhiro Matsumoto)
Files:      runtime/tools/unicode.vim, src/mbyte.c

Patch 7.4.1630
Problem:    Unicode table for double width is outdated.
Solution:   Update to the latest Unicode standard.
Files:      src/mbyte.c

Patch 7.4.1631
Problem:    Compiler doesn't understand switch on all enum values. (Tony
            Mechelynck)
Solution:   Initialize variable.
Files:      src/channel.c

Patch 7.4.1632
Problem:    List of test targets is outdated.
Solution:   Update to current list of test targets.
Files:      src/Makefile

Patch 7.4.1633
Problem:    If the help tags file was removed "make install" fails. (Tony
            Mechelynck)
Solution:   Only try moving the file if it exists.
Files:      src/Makefile

Patch 7.4.1634
Problem:    Vertical movement after CTRL-A ends up in the wrong column.
            (Urtica Dioica)
Solution:   Set curswant when appropriate. (Hirohito Higashi)
Files:      src/ops.c, src/testdir/test_increment.vim

Patch 7.4.1635
Problem:    Channel test is a bit flaky.
Solution:   Remove 'DETACH' if it's there.
Files:      src/testdir/test_channel.vim

Patch 7.4.1636
Problem:    When 'F' is in 'shortmess' the prompt for the encryption key isn't
            displayed. (Toothpik)
Solution:   Reset msg_silent.
Files:      src/ex_getln.c

Patch 7.4.1637
Problem:    Can't build with older MinGW compiler.
Solution:   Change option from c++11 to gnu++11. (Ken Takata)
Files:      src/Make_cyg_ming.mak

Patch 7.4.1638
Problem:    When binding a function to a dict the reference count is wrong.
Solution:   Decrement dict reference count, only reference the function when
            actually making a copy. (Ken Takata)
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1639
Problem:    Invoking garbage collection may cause a double free.
Solution:   Don't free the dict in a partial when recursive is FALSE.
Files:      src/eval.c

Patch 7.4.1640
Problem:    Crash when an autocommand changes a quickfix list. (Dominique)
Solution:   Check whether an entry is still valid. (Yegappan Lakshmanan,
            Hirohito Higashi)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.1641
Problem:    Using unterminated string.
Solution:   Add NUL before calling vim_strsave_shellescape(). (James McCoy)
Files:      src/eval.c, src/testdir/test105.in, src/testdir/test105.ok

Patch 7.4.1642
Problem:    Handling emoji characters as full width has problems with
            backwards compatibility.
Solution:   Only put characters in the 1f000 range in the emoji table.
Files:      runtime/tools/unicode.vim, src/mbyte.c

Patch 7.4.1643 (after 7.4.1641)
Problem:    Terminating file name has side effects.
Solution:   Restore the character. (mostly by James McCoy, closes #713)
Files:      src/eval.c, src/testdir/test105.in, src/testdir/test105.ok

Patch 7.4.1644
Problem:    Using string() on a partial that exists in the dictionary it binds
            results in an error. (Nikolai Pavlov)
Solution:   Make string() not fail on a recursively nested structure. (Ken
            Takata)
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1645
Problem:    When a dict contains a partial it can't be redefined as a
            function. (Nikolai Pavlov)
Solution:   Remove the partial when overwriting with a function.
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1646
Problem:    Using Python vim.bindeval() on a partial doesn't work. (Nikolai
            Pavlov)
Solution:   Add VAR_PARTIAL support in Python.
Files:      src/if_py_both.h, src/testdir/test_partial.vim

Patch 7.4.1647
Problem:    Using freed memory after setqflist() and ":caddbuffer".  (Dominique)
Solution:   Set qf_ptr when adding the first item to the quickfix list.
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.1648
Problem:    Compiler has a problem copying a string into di_key[]. (Yegappan
            Lakshmanan)
Solution:   Add dictitem16_T.
Files:      src/structs.h, src/eval.c

Patch 7.4.1649
Problem:    The matchit plugin needs to be copied to be used.
Solution:   Put the matchit plugin in an optional package.
Files:      Filelist, runtime/macros/matchit.vim, runtime/macros/matchit.txt,
            runtime/macros/README.txt, src/Makefile,
            runtime/pack/dist/opt/matchit/plugin/matchit.vim,
            runtime/pack/dist/opt/matchit/doc/matchit.txt,
            runtime/pack/dist/opt/matchit/doc/tags,
            runtime/doc/usr_05.txt, runtime/doc/usr_toc.txt

Patch 7.4.1650
Problem:    Quickfix test fails.
Solution:   Accept any number of matches.
Files:      src/testdir/test_quickfix.vim

Patch 7.4.1651
Problem:    Some dead (MSDOS) code remains.
Solution:   Remove the unused lines. (Ken Takata)
Files:      src/misc1.c

Patch 7.4.1652
Problem:    Old style test for fnamemodify().
Solution:   Turn it into a new style test.
Files:      src/testdir/test105.in, src/testdir/test105.ok,
            src/testdir/test_fnamemodify.vim, src/testdir/test_alot.vim,
            src/testdir/Make_all.mak

Patch 7.4.1653 (after 7.4.1649)
Problem:    Users who loaded matchit.vim manually have to change their
            startup. (Gary Johnson)
Solution:   Add a file in the old location that loads the package.
Files:      runtime/macros/matchit.vim, Filelist

Patch 7.4.1654
Problem:    Crash when using expand('%:S') in a buffer without a name.
Solution:   Don't set a NUL. (James McCoy, closes #714)
Files:      src/eval.c, src/testdir/test_fnamemodify.vim

Patch 7.4.1655
Problem:    remote_expr() hangs. (Ramel)
Solution:   Check for messages in the waiting loop.
Files:      src/if_xcmdsrv.c

Patch 7.4.1656
Problem:    Crash when using partial with a timer.
Solution:   Increment partial reference count. (Hirohito Higashi)
Files:      src/eval.c, src/testdir/test_timers.vim

Patch 7.4.1657
Problem:    On Unix in a terminal: channel messages are not handled right away.
            (Jackson Alves de Aquino)
Solution:   Break the loop for timers when something was received.
Files:      src/os_unix.c

Patch 7.4.1658
Problem:    A plugin does not know when VimEnter autocommands were already
            triggered.
Solution:   Add the v:vim_did_enter variable.
Files:      src/eval.c, src/main.c, src/vim.h, src/testdir/test_autocmd.vim,
            src/testdir/test_alot.vim, runtime/doc/autocmd.txt,
            runtime/doc/eval.txt

Patch 7.4.1659 (after 7.4.1657)
Problem:    Compiler warning for argument type. (Manuel Ortega)
Solution:   Remove "&".
Files:      src/os_unix.c

Patch 7.4.1660
Problem:    has('patch-7.4.1') doesn't work.
Solution:   Fix off-by-one error. (Thinca)
Files:      src/eval.c, src/testdir/test_expr.vim, src/testdir/test60.in,
            src/testdir/test60.ok

Patch 7.4.1661
Problem:    No test for special characters in channel eval command.
Solution:   Testing sending and receiving text with special characters.
Files:      src/testdir/test_channel.vim, src/testdir/test_channel.py

Patch 7.4.1662
Problem:    No test for an invalid Ex command on a channel.
Solution:   Test handling an invalid command gracefully.  Avoid getting an
            error message, do write it to the channel log.
Files:      src/channel.c, src/testdir/test_channel.vim,
            src/testdir/test_channel.py

Patch 7.4.1663
Problem:    In tests it's often useful to check if a pattern matches.
Solution:   Add assert_match().
Files:      src/eval.c, src/testdir/test_assert.vim,
            src/testdir/test_channel.vim, runtime/doc/eval.txt

Patch 7.4.1664
Problem:    Crash in :cgetexpr.
Solution:   Check for NULL pointer. (Dominique) Add a test.
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.1665
Problem:    Crash when calling job_start() with a NULL string. (Dominique)
Solution:   Check for an invalid argument.
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 7.4.1666
Problem:    When reading JSON from a channel all readahead is used.
Solution:   Use the fill function to reduce overhead.
Files:      src/channel.c, src/json.c, src/structs.h

Patch 7.4.1667
Problem:    Win32: waiting on a pipe with fixed sleep time.
Solution:   Start with a short delay and increase it when looping.
Files:      src/channel.c

Patch 7.4.1668
Problem:    channel_get_all() does multiple allocations.
Solution:   Compute the size and allocate once.
Files:      src/channel.c

Patch 7.4.1669
Problem:    When writing buffer lines to a pipe Vim may block.
Solution:   Avoid blocking, write more lines later.
Files:      src/channel.c, src/misc2.c, src/os_unix.c, src/structs.h,
            src/vim.h, src/proto/channel.pro, src/testdir/test_channel.vim

Patch 7.4.1670
Problem:    Completion doesn't work well for a variable containing "#".
Solution:   Recognize the "#". (Watiko)
Files:      src/eval.c

Patch 7.4.1671
Problem:    When help exists in multiple languages, adding @ab while "ab" is
            the default help language is unnecessary.
Solution:   Leave out "@ab" when not needed. (Ken Takata)
Files:      src/ex_getln.c

Patch 7.4.1672
Problem:    The Dvorak support is a bit difficult to install.
Solution:   Turn it into an optional package.
Files:      runtime/macros/dvorak, runtime/macros/README.txt,
            runtime/pack/dist/opt/dvorak/plugin/dvorak.vim,
            runtime/pack/dist/opt/dvorak/dvorak/enable.vim,
            runtime/pack/dist/opt/dvorak/dvorak/disable.vim

Patch 7.4.1673
Problem:    The justify plugin has to be copied or sourced to be used.
Solution:   Turn it into a package.
Files:      runtime/macros/justify.vim, runtime/macros/README.txt,
            runtime/pack/dist/opt/justify/plugin/justify.vim, Filelist

Patch 7.4.1674
Problem:    The editexisting plugin has to be copied or sourced to be used.
Solution:   Turn it into a package.
Files:      runtime/macros/editexisting.vim, runtime/macros/README.txt,
            runtime/pack/dist/opt/editexisting/plugin/editexisting.vim,
            Filelist

Patch 7.4.1675
Problem:    The swapmous plugin has to be copied or sourced to be used.
Solution:   Turn it into the swapmouse package.
Files:      runtime/macros/swapmous.vim, runtime/macros/README.txt,
            runtime/pack/dist/opt/swapmouse/plugin/swapmouse.vim, Filelist

Patch 7.4.1676
Problem:    The shellmenu plugin has to be copied or sourced to be used.
Solution:   Turn it into a package.
Files:      runtime/macros/shellmenu.vim, runtime/macros/README.txt,
            runtime/pack/dist/opt/shellmenu/plugin/shellmenu.vim, Filelist

Patch 7.4.1677
Problem:    A reference to the removed file_select plugin remains.
Solution:   Remove it.
Files:      runtime/macros/README.txt

Patch 7.4.1678
Problem:    Warning for unused argument.
Solution:   Add UNUSED. (Dominique Pelle)
Files:      src/if_mzsch.c

Patch 7.4.1679
Problem:    Coverity: copying value of v_lock without initializing it.
Solution:   Init v_lock in rettv_list_alloc() and rettv_dict_alloc().
Files:      src/eval.c

Patch 7.4.1680
Problem:    Coverity warns for not checking name length (false positive).
Solution:   Only copy the characters we know are there.
Files:      src/channel.c

Patch 7.4.1681
Problem:    Coverity warns for fixed size buffer length (false positive).
Solution:   Add a check for the name length.
Files:      src/eval.c

Patch 7.4.1682
Problem:    Coverity: no check for NULL.
Solution:   Add check for invalid argument to assert_match().
Files:      src/eval.c

Patch 7.4.1683
Problem:    Generated .bat files do not support --nofork.
Solution:   Add check for --nofork.  Also add "setlocal". (Kevin Cantú,
            closes #659)
Files:      src/dosinst.c

Patch 7.4.1684
Problem:    README text is slightly outdated.
Solution:   Mention the READMEdir directory.
Files:      README.md, README.txt

Patch 7.4.1685
Problem:    There is no easy way to get all the information about a match.
Solution:   Add matchstrpos(). (Ozaki Kiichi)
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/eval.c,
            src/testdir/test_alot.vim, src/testdir/test_matchstrpos.vim

Patch 7.4.1686
Problem:    When running tests $HOME/.viminfo is written. (James McCoy)
Solution:   Add 'nviminfo' to the 'viminfo' option. (closes #722)
Files:      src/testdir/test_backspace_opt.vim, src/testdir/test_viminfo.vim,
            src/testdir/runtest.vim.

Patch 7.4.1687
Problem:    The channel close_cb option does not work.
Solution:   Use jo_close_partial instead of jo_err_partial. (Damien)
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 7.4.1688
Problem:    MzScheme does not support partial.
Solution:   Add minimal partial support. (Ken Takata)
Files:      src/if_mzsch.c

Patch 7.4.1689
Problem:    Ruby interface has inconsistent coding style.
Solution:   Fix the coding style. (Ken Takata)
Files:      src/if_ruby.c

Patch 7.4.1690
Problem:    Can't compile with the conceal feature but without multi-byte.
Solution:   Adjust #ifdef. (Owen Leibman)
Files:      src/eval.c, src/window.c

Patch 7.4.1691
Problem:    When switching to a new buffer and an autocommand applies syntax
            highlighting an ml_get error may occur.
Solution:   Check "syn_buf" against the buffer in the window. (Alexander von
            Buddenbrock, closes #676)
Files:      src/syntax.c

Patch 7.4.1692
Problem:    feedkeys('i', 'x') gets stuck, waits for a character to be typed.
Solution:   Behave like ":normal". (Yasuhiro Matsumoto)
Files:      src/eval.c, src/testdir/test_feedkeys.vim

Patch 7.4.1693
Problem:    Building the Perl interface gives compiler warnings.
Solution:   Remove a pragma. Add noreturn attributes. (Damien)
Files:      src/if_perl.xs

Patch 7.4.1694
Problem:    Win32 gvim doesn't work with "dvorakj" input method.
Solution:   Wait for QS_ALLINPUT instead of QS_ALLEVENTS. (Yukihiro Nakadaira)
Files:      src/gui_w32.c

Patch 7.4.1695
Problem:    ":syn reset" clears the effect ":syn iskeyword". (James McCoy)
Solution:   Remove clearing the syntax keywords.
Files:      src/syntax.c

Patch 7.4.1696
Problem:    When using :stopinsert in a silent mapping the "INSERT" message
            isn't cleared. (Coacher)
Solution:   Always clear the message. (Christian Brabandt, closes #718)
Files:      src/ex_docmd.c, src/proto/screen.pro, src/screen.c

Patch 7.4.1697
Problem:    Display problems when the 'ambiwidth' and 'emoji' options are not
            set properly or the terminal doesn't behave as expected.
Solution:   After drawing an ambiguous width character always position the
            cursor.
Files:      src/mbyte.c, src/screen.c, src/proto/mbyte.pro

Patch 7.4.1698
Problem:    Two tests fail when running tests with MinGW. (Michael Soyka)
Solution:   Convert test_getcwd.ok test_wordcount.ok to unix fileformat.
Files:      src/testdir/Make_ming.mak

Patch 7.4.1699
Problem:    :packadd does not work the same when used early or late.
Solution:   Always load plugins matching "plugin/**/*.vim".
Files:      src/ex_cmds2.c, src/testdir/test_packadd.vim

Patch 7.4.1700
Problem:    Equivalence classes are not properly tested.
Solution:   Add tests for multi-byte and latin1. Fix an error. (Owen Leibman)
Files:      src/regexp.c, src/testdir/Make_all.mak,
            src/testdir/test_alot_latin.vim, src/testdir/test_alot_utf8.vim,
            src/testdir/test_regexp_latin.vim,
            src/testdir/test_regexp_utf8.vim

Patch 7.4.1701
Problem:    Equivalence classes still tested in old style tests.
Solution:   Remove the duplicate.
Files:      src/testdir/test44.in, src/testdir/test44.ok,
            src/testdir/test99.in, src/testdir/test99.ok

Patch 7.4.1702
Problem:    Using freed memory when parsing 'printoptions' fails.
Solution:   Save the old options and restore them in case of an error.
            (Dominique)
Files:      src/hardcopy.c, src/testdir/test_hardcopy.vim

Patch 7.4.1703
Problem:    Can't assert for not equal and not matching.
Solution:   Add assert_notmatch() and assert_notequal().
Files:      src/eval.c, runtime/doc/eval.txt, src/testdir/test_assert.vim

Patch 7.4.1704
Problem:    Using freed memory with "wincmd p". (Dominique Pelle)
Solution:   Also clear "prevwin" in other tab pages.
Files:      src/window.c

Patch 7.4.1705
Problem:    The 'guifont' option does not allow for a quality setting.
Solution:   Add the "q" item, supported on MS-Windows. (Yasuhiro Matsumoto)
Files:      runtime/doc/options.txt, src/gui_w32.c, src/os_mswin.c,
            src/proto/os_mswin.pro

Patch 7.4.1706
Problem:    Old style function declaration breaks build.
Solution:   Remove __ARGS().
Files:      src/proto/os_mswin.pro

Patch 7.4.1707
Problem:    Cannot use empty dictionary key, even though it can be useful.
Solution:   Allow using an empty dictionary key.
Files:      src/hashtab.c, src/eval.c, src/testdir/test_expr.vim

Patch 7.4.1708
Problem:    New regexp engine does not work properly with EBCDIC.
Solution:   Define equivalence class characters. (Owen Leibman)
Files:      src/regexp_nfa.c

Patch 7.4.1709
Problem:    Mistake in #ifdef.
Solution:   Change PROOF_QUALITY to DRAFT_QUALITY. (Ken Takata)
Files:      src/os_mswin.c

Patch 7.4.1710
Problem:    Not all output of an external command is read.
Solution:   Avoid timing out when the process has exited. (closes #681)
Files:      src/os_unix.c

Patch 7.4.1711
Problem:    When using try/catch in 'statusline' it is still considered an
            error and the status line will be disabled.
Solution:   Check did_emsg instead of called_emsg. (haya14busa, closes #729)
Files:      src/screen.c, src/testdir/test_statusline.vim,
            src/testdir/test_alot.vim

Patch 7.4.1712
Problem:    For plugins in packages, plugin authors need to take care of all
            dependencies.
Solution:   When loading "start" packages and for :packloadall, first add all
            directories to 'runtimepath' before sourcing plugins.
Files:      src/ex_cmds2.c, src/testdir/test_packadd.vim

Patch 7.4.1713
Problem:    GTK GUI doesn't work on Wayland.
Solution:   Specify that only the X11 backend is allowed. (Simon McVittie)
Files:      src/gui_gtk_x11.c

Patch 7.4.1714
Problem:    Non-GUI specific settings in the gvimrc_example file.
Solution:   Move some settings to the vimrc_example file.  Remove setting
            'hlsearch' again. (suggested by Hirohito Higashi)
Files:      runtime/vimrc_example.vim, runtime/gvimrc_example.vim

Patch 7.4.1715
Problem:    Double free when a partial is in a cycle with a list or dict.
            (Nikolai Pavlov)
Solution:   Do not free a nested list or dict used by the partial.
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1716
Problem:    'autochdir' doesn't work for the first file. (Rob Hoelz)
Solution:   Call DO_AUTOCHDIR after startup. (Christian Brabandt, closes #704)
Files:      src/main.c

Patch 7.4.1717
Problem:    Leaking memory when opening a channel fails.
Solution:   Unreference partials in job options.
Files:      src/eval.c, src/channel.c, src/proto/channel.pro,
            src/testdir/test_channel.vim

Patch 7.4.1718
Problem:    Coverity: not using return value of set_ref_in_item().
Solution:   Use the return value.
Files:      src/eval.c

Patch 7.4.1719
Problem:    Leaking memory when there is a cycle involving a job and a
            partial.
Solution:   Add a copyID to job and channel.  Set references in items referred
            by them.  Go through all jobs and channels to find unreferenced
            items.  Also, decrement reference counts when garbage collecting.
Files:      src/eval.c, src/channel.c, src/netbeans.c, src/globals.h,
            src/ops.c, src/regexp.c, src/tag.c, src/proto/channel.pro,
            src/proto/eval.pro, src/testdir/test_partial.vim, src/structs.h

Patch 7.4.1720
Problem:    Tests fail without the job feature.
Solution:   Skip tests when the job feature is not present.
Files:      src/testdir/test_partial.vim

Patch 7.4.1721
Problem:    The vimtbar files are unused.
Solution:   Remove them. (Ken Takata)
Files:      src/vimtbar.dll, src/vimtbar.h, src/vimtbar.lib, Filelist

Patch 7.4.1722
Problem:    Crash when calling garbagecollect() after starting a job.
Solution:   Set the copyID on job and channel. (Hirohito Higashi, Ozaki
            Kiichi)
Files:      src/eval.c

Patch 7.4.1723
Problem:    When using try/catch in 'tabline' it is still considered an
            error and the tabline will be disabled.
Solution:   Check did_emsg instead of called_emsg. (haya14busa, closes #746)
Files:      src/screen.c, src/testdir/test_tabline.vim,
            src/testdir/test_alot.vim

Patch 7.4.1724 (after 7.4.1723)
Problem:    Tabline test fails in GUI.
Solution:   Remove 'e' from 'guioptions'.
Files:      src/testdir/test_tabline.vim

Patch 7.4.1725
Problem:    Compiler errors for non-ANSI compilers.
Solution:   Remove // comment.  Remove comma at end of enum. (Michael Jarvis)
Files:      src/eval.c

Patch 7.4.1726
Problem:    ANSI compiler complains about string length.
Solution:   Split long string in two parts. (Michael Jarvis)
Files:      src/ex_cmds.c

Patch 7.4.1727
Problem:    Cannot detect a crash in tests when caused by garbagecollect().
Solution:   Add garbagecollect_for_testing().  Do not free a job if is still
            useful.
Files:      src/channel.c, src/eval.c, src/getchar.c, src/main.c, src/vim.h,
            src/proto/eval.pro, src/testdir/runtest.vim,
            src/testdir/test_channel.vim, runtime/doc/eval.txt

Patch 7.4.1728
Problem:    The help for functions require a space after the "(".
Solution:   Make CTRL-] on a function name ignore the arguments. (Hirohito
            Higashi)
Files:      src/ex_cmds.c, src/testdir/test_help_tagjump.vim,
            runtime/doc/eval.txt

Patch 7.4.1729
Problem:    The Perl interface cannot use 'print' operator for writing
            directly in standard IO.
Solution:   Add a minimal implementation of PerlIO Layer feature and try to
            use it for STDOUT/STDERR. (Damien)
Files:      src/if_perl.xs, src/testdir/test_perl.vim

Patch 7.4.1730
Problem:    It is not easy to get a character out of a string.
Solution:   Add strgetchar() and strcharpart().
Files:      src/eval.c, src/testdir/test_expr.vim

Patch 7.4.1731
Problem:    Python: turns partial into simple funcref.
Solution:   Use partials like partials. (Nikolai Pavlov, closes #734)
Files:      runtime/doc/if_pyth.txt, src/eval.c, src/if_py_both.h,
            src/if_python.c, src/if_python3.c, src/proto/eval.pro,
            src/testdir/test86.in, src/testdir/test86.ok,
            src/testdir/test87.in, src/testdir/test87.ok

Patch 7.4.1732
Problem:    Folds may close when using autocomplete. (Anmol Sethi)
Solution:   Increment/decrement disable_fold. (Christian Brabandt, closes
            #643)
Files:      src/edit.c, src/fold.c, src/globals.h

Patch 7.4.1733
Problem:    "make install" doesn't know about cross-compiling. (Christian
            Neukirchen)
Solution:   Add CROSS_COMPILING. (closes #740)
Files:      src/configure.in, src/auto/configure, src/config.mk.in,
            src/Makefile

Patch 7.4.1734 (after 7.4.1730)
Problem:    Test fails when not using utf-8.
Solution:   Split test in regular and utf-8 part.
Files:      src/testdir/test_expr.vim, src/testdir/test_expr_utf8.vim,
            src/testdir/test_alot_utf8.vim

Patch 7.4.1735
Problem:    It is not possible to only see part of the message history.  It is
            not possible to clear messages.
Solution:   Add a count to ":messages" and a clear argument. (Yasuhiro
            Matsumoto)
Files:      runtime/doc/message.txt, src/ex_cmds.h, src/message.c,
            src/testdir/test_messages.vim, src/testdir/test_alot.vim

Patch 7.4.1736 (after 7.4.1731)
Problem:    Unused variable.
Solution:   Remove it. (Yasuhiro Matsumoto)
Files:      src/if_py_both.h

Patch 7.4.1737
Problem:    Argument marked as unused is used.
Solution:   Remove UNUSED.
Files:      src/message.c

Patch 7.4.1738
Problem:    Count for ":messages" depends on number of lines.
Solution:   Add ADDR_OTHER address type.
Files:      src/ex_cmds.h

Patch 7.4.1739
Problem:    Messages test fails on MS-Windows.
Solution:   Adjust the asserts.  Skip the "messages maintainer" line if not
            showing all messages.
Files:      src/message.c, src/testdir/test_messages.vim

Patch 7.4.1740
Problem:    syn-cchar defined with matchadd() does not appear if there are no
            other syntax definitions which matches buffer text.
Solution:   Check for startcol. (Ozaki Kiichi, haya14busa, closes #757)
Files:      src/screen.c, src/testdir/Make_all.mak,
            src/testdir/test_alot_utf8.vim, src/testdir/test_match_conceal.in,
            src/testdir/test_match_conceal.ok,
            src/testdir/test_matchadd_conceal.vim,
            src/testdir/test_matchadd_conceal_utf8.vim,
            src/testdir/test_undolevels.vim

Patch 7.4.1741
Problem:    Not testing utf-8 characters.
Solution:   Move the right asserts to the test_expr_utf8 test.
Files:      src/testdir/test_expr.vim, src/testdir/test_expr_utf8.vim

Patch 7.4.1742
Problem:    strgetchar() does not work correctly.
Solution:   use mb_cptr2len().  Add a test. (Naruhiko Nishino)
Files:      src/eval.c, src/testdir/test_expr_utf8.vim

Patch 7.4.1743
Problem:    Clang warns for uninitialized variable. (Michael Jarvis)
Solution:   Initialize it.
Files:      src/if_py_both.h

Patch 7.4.1744
Problem:    Python: Converting a sequence may leak memory.
Solution:   Decrement a reference. (Nikolai Pavlov)
Files:      src/if_py_both.h

Patch 7.4.1745
Problem:    README file is not clear about where to get Vim.
Solution:   Add links to github, releases and the Windows installer.
            (Suggested by Christian Brabandt)
Files:      README.md, README.txt

Patch 7.4.1746
Problem:    Memory leak in Perl.
Solution:   Decrement the reference count.  Add a test. (Damien)
Files:      src/if_perl.xs, src/testdir/test_perl.vim

Patch 7.4.1747
Problem:    Coverity: missing check for NULL pointer.
Solution:   Check for out of memory.
Files:      src/if_py_both.h

Patch 7.4.1748
Problem:    "gD" does not find match in first column of first line. (Gary
            Johnson)
Solution:   Accept match at the cursor.
Files:      src/normal.c, src/testdir/test_goto.vim, src/testdir/test_alot.vim

Patch 7.4.1749
Problem:    When using GTK 3.20 there are a few warnings.
Solution:   Use new functions when available. (Kazunobu Kuriyama)
Files:      src/gui_beval.c src/gui_gtk_x11.c

Patch 7.4.1750
Problem:    When a buffer gets updated while in command line mode, the screen
            may be messed up.
Solution:   Postpone the redraw when the screen is scrolled.
Files:      src/channel.c

Patch 7.4.1751
Problem:    Crash when 'tagstack' is off. (Dominique Pelle)
Solution:   Fix it. (Hirohito Higashi)
Files:      src/tag.c, src/testdir/test_alot.vim, src/testdir/test_tagjump.vim

Patch 7.4.1752
Problem:    When adding to the quickfix list the current position is reset.
Solution:   Do not reset the position when not needed. (Yegappan Lakshmanan)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.1753
Problem:    "noinsert" in 'completeopt' is sometimes ignored.
Solution:   Set the variables when the 'completeopt' was set. (Ozaki Kiichi)
Files:      src/edit.c, src/option.c, src/proto/edit.pro

Patch 7.4.1754
Problem:    When 'filetype' was set and reloading a buffer which does not
            cause it to be set, the syntax isn't loaded. (KillTheMule)
Solution:   Remember whether the FileType event was fired and fire it if not.
            (Anton Lindqvist, closes #747)
Files:      src/fileio.c, src/testdir/test_syntax.vim

Patch 7.4.1755
Problem:    When using getreg() on a non-existing register a NULL list is
            returned. (Bjorn Linse)
Solution:   Allocate an empty list. Add a test.
Files:      src/eval.c, src/testdir/test_expr.vim

Patch 7.4.1756
Problem:    "dll" options are not expanded.
Solution:   Expand environment variables. (Ozaki Kiichi)
Files:      src/option.c, src/testdir/test_alot.vim,
            src/testdir/test_expand_dllpath.vim

Patch 7.4.1757
Problem:    When using complete() it may set 'modified' even though nothing
            was inserted.
Solution:   Use Down/Up instead of Next/Previous match. (Shougo Matsu, closes
	    #745)
Files:      src/edit.c

Patch 7.4.1758
Problem:    Triggering CursorHoldI when in CTRL-X mode causes problems.
Solution:   Do not trigger CursorHoldI in CTRL-X mode. Add "!" flag to
            feedkeys() (test with that didn't work though).
Files:      src/edit.c, src/eval.c

Patch 7.4.1759
Problem:    When using feedkeys() in a timer the inserted characters are not
            used right away.
Solution:   Break the wait loop when characters have been added to typebuf.
            use this for testing CursorHoldI.
Files:      src/gui.c, src/os_win32.c, src/os_unix.c,
            src/testdir/test_autocmd.vim

Patch 7.4.1760 (after 7.4.1759)
Problem:    Compiler warning for unused variable.
Solution:   Add #ifdef. (John Marriott)
Files:      src/os_win32.c

Patch 7.4.1761
Problem:    Coverity complains about ignoring return value.
Solution:   Add "(void)" to get rid of the warning.
Files:      src/eval.c

Patch 7.4.1762
Problem:    Coverity: useless assignments.
Solution:   Remove them.
Files:      src/search.c

Patch 7.4.1763
Problem:    Coverity: useless assignment.
Solution:   Add #if 0.
Files:      src/spell.c

Patch 7.4.1764
Problem:    C++ style comment. (Ken Takata)
Solution:   Finish the work started here: don't call perror() when stderr
            isn't working.
Files:      src/os_unix.c

Patch 7.4.1765
Problem:    Undo options are not together in the options window.
Solution:   Put them together.  (Gary Johnson)
Files:      runtime/optwin.vim

Patch 7.4.1766
Problem:    Building instructions for MS-Windows are outdated.
Solution:   Mention setting SDK_INCLUDE_DIR. (Ben Franklin, closes #771)  Move
            outdated instructions further down.
Files:      src/INSTALLpc.txt

Patch 7.4.1767
Problem:    When installing Vim on a GTK system the icon cache is not updated.
Solution:   Update the GTK icon cache when possible. (Kazunobu Kuriyama)
Files:      src/Makefile, src/configure.in, src/config.mk.in,
            src/auto/configure

Patch 7.4.1768
Problem:    Arguments of setqflist() are not checked properly.
Solution:   Add better checks, add a test. (Nikolai Pavlov, Hirohito Higashi,
            closes #661)
Files:      src/eval.c, src/testdir/test_quickfix.vim

Patch 7.4.1769
Problem:    No "closed", "errors" and "encoding" attribute on Python output.
Solution:   Add attributes and more tests. (Roland Puntaier, closes #622)
Files:      src/if_py_both.h, src/if_python.c, src/if_python3.c,
            src/testdir/test86.in, src/testdir/test86.ok,
            src/testdir/test87.in, src/testdir/test87.ok

Patch 7.4.1770
Problem:    Cannot use true color in the terminal.
Solution:   Add the 'guicolors' option. (Nikolai Pavlov)
Files:      runtime/doc/options.txt, runtime/doc/term.txt,
            runtime/doc/various.txt, src/auto/configure, src/config.h.in,
            src/configure.in, src/eval.c, src/globals.h, src/hardcopy.c,
            src/option.c, src/option.h, src/proto/term.pro, src/screen.c,
            src/structs.h, src/syntax.c, src/term.c, src/term.h,
            src/version.c, src/vim.h

Patch 7.4.1771 (after 7.4.1768)
Problem:    Warning for unused variable.
Solution:   Add #ifdef. (John Marriott)
Files:      src/eval.c

Patch 7.4.1772 (after 7.4.1767)
Problem:    Installation fails when $GTK_UPDATE_ICON_CACHE is empty.
Solution:   Add quotes. (Kazunobu Kuriyama)
Files:      src/Makefile

Patch 7.4.1773 (after 7.4.1770)
Problem:    Compiler warnings. (Dominique Pelle)
Solution:   Add UNUSED. Add type cast. Avoid a buffer overflow.
Files:      src/syntax.c, src/term.c

Patch 7.4.1774 (after 7.4.1770)
Problem:    Cterm true color feature has warnings.
Solution:   Add type casts.
Files:      src/screen.c, src/syntax.c, src/term.c

Patch 7.4.1775
Problem:    The rgb.txt file is not installed.
Solution:   Install the file. (Christian Brabandt)
Files:      src/Makefile

Patch 7.4.1776
Problem:    Using wrong buffer length.
Solution:   use the right name. (Kazunobu Kuriyama)
Files:      src/term.c

Patch 7.4.1777
Problem:    Newly added features can escape the sandbox.
Solution:   Add checks for restricted and secure. (Yasuhiro Matsumoto)
Files:      src/eval.c

Patch 7.4.1778
Problem:    When using the term truecolor feature, the t_8f and t_8b termcap
            options are not set by default.
Solution:   Move the values to before BT_EXTRA_KEYS. (Christian Brabandt)
Files:      src/term.c

Patch 7.4.1779
Problem:    Using negative index in strcharpart(). (Yegappan Lakshmanan)
Solution:   Assume single byte when using a negative index.
Files:      src/eval.c

Patch 7.4.1780
Problem:    Warnings reported by cppcheck.
Solution:   Fix the warnings. (Dominique Pelle)
Files:      src/ex_cmds2.c, src/json.c, src/misc1.c, src/ops.c,
            src/regexp_nfa.c

Patch 7.4.1781
Problem:    synIDattr() does not respect 'guicolors'.
Solution:   Change the condition for the mode. (Christian Brabandt)
Files:      src/eval.c

Patch 7.4.1782
Problem:    strcharpart() does not work properly with some multi-byte
            characters.
Solution:   Use mb_cptr2len() instead of mb_char2len(). (Hirohito Higashi)
Files:      src/eval.c, src/testdir/test_expr_utf8.vim

Patch 7.4.1783
Problem:    The old regexp engine doesn't handle character classes correctly.
            (Manuel Ortega)
Solution:   Use regmbc() instead of regc().  Add a test.
Files:      src/regexp.c, src/testdir/test_regexp_utf8.vim

Patch 7.4.1784
Problem:    The termtruecolor feature is enabled differently from many other
            features.
Solution:   Enable the termtruecolor feature for the big build, not through
            configure.
Files:      src/configure.in, src/config.h.in, src/auto/configure,
            src/feature.h

Patch 7.4.1785 (after 7.4.1783)
Problem:    Regexp test fails on windows.
Solution:   set 'isprint' to the right value for testing.
Files:      src/testdir/test_regexp_utf8.vim

Patch 7.4.1786
Problem:    Compiled-in colors do not match rgb.txt.
Solution:   Use the rgb.txt colors. (Kazunobu Kuriyama)
Files:      src/term.c

Patch 7.4.1787
Problem:    When a job ends the close callback is invoked before other
            callbacks. On Windows the close callback is not called.
Solution:   First invoke out/err callbacks before the close callback.
            Make the close callback work on Windows.
Files:      src/channel.c, src/proto/channel.pro,
            src/testdir/test_channel.vim, src/testdir/test_channel_pipe.py

Patch 7.4.1788
Problem:    NSIS script is missing packages.
Solution:   Add the missing directories. (Ken Takata)
Files:      nsis/gvim.nsi

Patch 7.4.1789
Problem:    Cannot use ch_read() in the close callback.
Solution:   Do not discard the channel if there is readahead.  Do not discard
            readahead if there is a close callback.
Files:      src/eval.c, src/channel.c, src/proto/channel.pro,
            src/testdir/test_channel.vim

Patch 7.4.1790
Problem:    Leading white space in a job command matters. (Andrew Stewart)
Solution:   Skip leading white space.
Files:      src/os_unix.c

Patch 7.4.1791
Problem:    Channel could be garbage collected too early.
Solution:   Don't free a channel or remove it from a job when it is still
            useful.
Files:      src/channel.c

Patch 7.4.1792
Problem:    Color name decoding is implemented several times.
Solution:   Move it to term.c. (Christian Brabandt)
Files:      src/gui_mac.c, src/gui_photon.c, src/gui_w32.c,
            src/proto/term.pro, src/term.c

Patch 7.4.1793
Problem:    Some character classes may differ between systems.  On OS/X the
            regexp test fails.
Solution:   Make this less dependent on the system. (idea by Kazunobu Kuriyama)
Files:      src/regexp.c, src/regexp_nfa.c

Patch 7.4.1794 (after 7.4.1792)
Problem:    Can't build on MS-Windows.
Solution:   Add missing declaration.
Files:      src/gui_w32.c

Patch 7.4.1795
Problem:    Compiler warning for redefining RGB. (John Marriott)
Solution:   Rename it to TORGB.
Files:      src/term.c

Patch 7.4.1796 (after 7.4.1795)
Problem:    Colors are wrong on MS-Windows. (Christian Robinson)
Solution:   Use existing RGB macro if it exists. (Ken Takata)
Files:      src/term.c

Patch 7.4.1797
Problem:    Warning from Windows 64 bit compiler.
Solution:   Change int to size_t. (Mike Williams)
Files:      src/term.c

Patch 7.4.1798
Problem:    Still compiler warning for unused return value. (Charles Campbell)
Solution:   Assign to ignoredp.
Files:      src/term.c

Patch 7.4.1799
Problem:    'guicolors' is a confusing option name.
Solution:   Use 'termguicolors' instead. (Hirohito Higashi, Ken Takata)
Files:      runtime/doc/options.txt, runtime/doc/term.txt,
            runtime/doc/various.txt, runtime/syntax/dircolors.vim, src/eval.c,
            src/feature.h, src/globals.h, src/hardcopy.c, src/option.c,
            src/option.h, src/proto/term.pro, src/screen.c, src/structs.h,
            src/syntax.c, src/term.c, src/version.c, src/vim.h

Patch 7.4.1800 (after 7.4.1799)
Problem:    Unnecessary #ifdef.
Solution:   Just use USE_24BIT. (Ken Takata)
Files:      src/syntax.c

Patch 7.4.1801
Problem:    Make uninstall leaves file behind.
Solution:   Delete rgb.txt. (Kazunobu Kuriyama)
Files:      src/Makefile

Patch 7.4.1802
Problem:    Quickfix doesn't handle long lines well, they are split.
Solution:   Drop characters after a limit. (Anton Lindqvist)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim,
            src/testdir/samples/quickfix.txt

Patch 7.4.1803
Problem:    GTK3 doesn't handle menu separators properly.
Solution:   Use gtk_separator_menu_item_new(). (Kazunobu Kuriyama)
Files:      src/gui_gtk.c

Patch 7.4.1804
Problem:    Can't use Vim as MANPAGER.
Solution:   Add manpager.vim. (Enno Nagel, closes #491)
Files:      runtime/doc/filetype.txt, runtime/plugin/manpager.vim

Patch 7.4.1805
Problem:    Running tests in shadow dir fails.
Solution:   Link the samples directory
Files:      src/Makefile

Patch 7.4.1806
Problem:    'termguicolors' option missing from the options window.
Solution:   Add the entry.
Files:      runtime/optwin.vim

Patch 7.4.1807
Problem:    Test_out_close_cb sometimes fails.
Solution:   Always write DETACH to out, not err.
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 7.4.1808 (after 7.4.1806)
Problem:    Using wrong feature name to check for 'termguicolors'.
Solution:   Use the right feature name. (Ken Takata)
Files:      runtime/optwin.vim

Patch 7.4.1809 (after 7.4.1808)
Problem:    Using wrong short option name for 'termguicolors'.
Solution:   Use the option name.
Files:      runtime/optwin.vim

Patch 7.4.1810
Problem:    Sending DETACH after a channel was closed isn't useful.
Solution:   Only add DETACH for a netbeans channel.
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 7.4.1811
Problem:    Netbeans channel gets garbage collected.
Solution:   Set reference in nb_channel.
Files:      src/eval.c, src/netbeans.c, src/proto/netbeans.pro

Patch 7.4.1812
Problem:    Failure on startup with Athena and Motif.
Solution:   Check for INVALCOLOR. (Kazunobu Kuriyama)
Files:      src/syntax.c, src/vim.h

Patch 7.4.1813
Problem:    Memory access error when running test_quickfix.
Solution:   Allocate one more byte. (Yegappan Lakshmanan)
Files:      src/quickfix.c

Patch 7.4.1814
Problem:    A channel may be garbage collected while it's still being used by
            a job. (James McCoy)
Solution:   Mark the channel as used if the job is still used.  Do the same
            for channels that are still used.
Files:      src/eval.c, src/channel.c, src/proto/channel.pro

Patch 7.4.1815
Problem:    Compiler warnings for unused variables. (Ajit Thakkar)
Solution:   Add a dummy initialization. (Yasuhiro Matsumoto)
Files:      src/quickfix.c

Patch 7.4.1816
Problem:    Looping over a null list throws an error.
Solution:   Skip over the for loop.
Files:      src/eval.c, src/testdir/test_expr.vim

Patch 7.4.1817
Problem:    The screen is not updated if a callback is invoked when closing a
            channel.
Solution:   Invoke redraw_after_callback().
Files:      src/channel.c

Patch 7.4.1818
Problem:    Help completion adds @en to all matches except the first one.
Solution:   Remove "break", go over all items.
Files:      src/ex_getln.c

Patch 7.4.1819
Problem:    Compiler warnings when sprintf() is a macro.
Solution:   Don't interrupt sprintf() with an #ifdef. (Michael Jarvis,
            closes #788)
Files:      src/fileio.c, src/tag.c, src/term.c

Patch 7.4.1820
Problem:    Removing language from help tags too often.
Solution:   Only remove @en when not needed. (Hirohito Higashi)
Files:      src/ex_getln.c, src/testdir/test_help_tagjump.vim

Patch 7.4.1821 (after 7.4.1820)
Problem:    Test fails on MS-Windows.
Solution:   Sort the completion results.
Files:      src/testdir/test_help_tagjump.vim

Patch 7.4.1822
Problem:    Redirecting stdout of a channel to "null" doesn't work. (Nicola)
Solution:   Correct the file descriptor number.
Files:      src/os_unix.c

Patch 7.4.1823
Problem:    Warning from 64 bit compiler.
Solution:   Add type cast. (Mike Williams)
Files:      src/quickfix.c

Patch 7.4.1824
Problem:    When a job is no longer referenced and does not have an exit
            callback the process may hang around in defunct state. (Nicola)
Solution:   Call job_status() if the job is running and won't get freed
            because it might still be useful.
Files:      src/channel.c

Patch 7.4.1825
Problem:    When job writes to buffer nothing is written. (Nicola)
Solution:   Do not discard a channel before writing is done.
Files:      src/channel.c

Patch 7.4.1826
Problem:    Callbacks are invoked when it's not safe. (Andrew Stewart)
Solution:   When a channel is to be closed don't invoke callbacks right away,
            wait for a safe moment.
Files:      src/structs.h, src/channel.c

Patch 7.4.1827
Problem:    No error when invoking a callback when it's not safe.
Solution:   Add an error message.  Avoid the error when freeing a channel.
Files:      src/structs.h, src/channel.c

Patch 7.4.1828
Problem:    May try to access buffer that's already freed.
Solution:   When freeing a buffer remove it from any channel.
Files:      src/buffer.c, src/channel.c, src/proto/channel.pro

Patch 7.4.1829 (after 7.4.1828)
Problem:    No message on channel log when buffer was freed.
Solution:   Log a message.
Files:      src/channel.c

Patch 7.4.1830
Problem:    non-antialiased misnamed.
Solution:   Use NONANTIALIASED and NONANTIALIASED_QUALITY. (Kim Brouer,
            closes #793)
Files:      src/os_mswin.c, runtime/doc/options.txt

Patch 7.4.1831
Problem:    When timer_stop() is called with a string there is no proper error
            message.
Solution:   Require getting a number. (Bjorn Linse)
Files:      src/eval.c

Patch 7.4.1832
Problem:    Memory leak in debug commands.
Solution:   Free memory before overwriting the pointer. (hint by Justin Keyes)
Files:      src/ex_cmds2.c

Patch 7.4.1833
Problem:    Cannot use an Ex command for 'keywordprg'.
Solution:   Accept an Ex command. (Nelo-Thara Wallus)
Files:      src/normal.c, runtime/doc/options.txt

Patch 7.4.1834
Problem:    Possible crash when conceal is active.
Solution:   Check for the screen to be valid when redrawing a line.
Files:      src/screen.c

Patch 7.4.1835
Problem:    When splitting and closing a window the status height changes.
Solution:   Compute the frame height correctly. (Hirohito Higashi)
Files:      src/window.c, src/testdir/test_alot.vim,
            src/testdir/test_window_cmd.vim

Patch 7.4.1836
Problem:    When using a partial on a dictionary it always gets bound to that
            dictionary.
Solution:   Make a difference between binding a function to a dictionary
            explicitly or automatically.
Files:      src/structs.h, src/eval.c, src/testdir/test_partial.vim,
            runtime/doc/eval.txt

Patch 7.4.1837
Problem:    The BufUnload event is triggered twice, when :bunload is used with
            `bufhidden` set to `unload` or `delete`.
Solution:   Do not trigger the event when ml_mfp is NULL. (Hirohito Higashi)
Files:      src/buffer.c, src/testdir/test_autocmd.vim

Patch 7.4.1838
Problem:    Functions specifically for testing do not sort together.
Solution:   Rename garbagecollect_for_testing() to test_garbagecollect_now().
            Add test_null_list(), test_null_dict(), etc.
Files:      src/eval.c, src/testdir/test_expr.vim,
            src/testdir/test_channel.vim, runtime/doc/eval.txt

Patch 7.4.1839
Problem:    Cannot get the items stored in a partial.
Solution:   Support using get() on a partial.
Files:      src/eval.c, src/testdir/test_partial.vim, runtime/doc/eval.txt

Patch 7.4.1840
Problem:    When using packages an "after" directory cannot be used.
Solution:   Add the "after" directory of the package to 'runtimepath' if it
            exists.
Files:      src/ex_cmds2.c, src/testdir/test_packadd.vim

Patch 7.4.1841
Problem:    The code to reallocate the buffer used for quickfix is repeated.
Solution:   Move the code to a function. (Yegappan Lakshmanan, closes #831)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.1842 (after 7.4.1839)
Problem:    get() works for Partial but not for Funcref.
Solution:   Accept Funcref.  Also return the function itself. (Nikolai Pavlov)
Files:      src/eval.c, src/testdir/test_partial.vim, runtime/doc/eval.txt

Patch 7.4.1843
Problem:    Tests involving Python are flaky.
Solution:   Set the pt_auto field.  Add tests. (Nikolai Pavlov)
Files:      runtime/doc/if_pyth.txt, src/if_py_both.h, src/testdir/test86.in,
            src/testdir/test86.ok, src/testdir/test87.in,
            src/testdir/test87.ok

Patch 7.4.1844
Problem:    Using old function name in comment.  More functions should start
            with test_.
Solution:   Rename function in comment. (Hirohito Higashi) Rename
            disable_char_avail_for_testing() to test_disable_char_avail().
            And alloc_fail() to test_alloc_fail().
Files:      src/eval.c, src/getchar.c, src/testdir/runtest.vim,
            src/testdir/test_cursor_func.vim, src/testdir/test_quickfix.vim,
            runtime/doc/eval.txt

Patch 7.4.1845
Problem:    Mentioning NetBeans when reading from channel. (Ramel Eshed)
Solution:   Make the text more generic.
Files:      src/channel.c

Patch 7.4.1846
Problem:    Ubsan detects a multiplication overflow.
Solution:   Don't use orig_mouse_time when it's zero. (Dominique Pelle)
Files:      src/term.c

Patch 7.4.1847
Problem:    Getting an item from a NULL dict crashes.  Setting a register to a
            NULL list crashes. (Nikolai Pavlov, issue #768)  Comparing a NULL
            dict with a NULL dict fails.
Solution:   Properly check for NULL.
Files:      src/eval.c, src/testdir/test_expr.vim

Patch 7.4.1848
Problem:    Can't build with Strawberry Perl 5.24.
Solution:   Define S_SvREFCNT_dec() if needed. (Damien, Ken Takata)
Files:      src/if_perl.xs

Patch 7.4.1849
Problem:    Still trying to read from channel that is going to be closed.
            (Ramel Eshed)
Solution:   Check if ch_to_be_closed is set.
Files:      src/channel.c

Patch 7.4.1850
Problem:    GUI freezes when using a job. (Shougo Matsu)
Solution:   Unregister the channel when there is an input error.
Files:      src/channel.c

Patch 7.4.1851
Problem:    test_syn_attr fails when using the GUI. (Dominique Pelle)
Solution:   Escape the font name properly.
Files:      src/testdir/test_syn_attr.vim

Patch 7.4.1852
Problem:    Unix: Cannot run all tests with the GUI.
Solution:   Add the "testgui" target.
Files:      src/Makefile, src/testdir/Makefile

Patch 7.4.1853
Problem:    Crash when job and channel are in the same dict while using
            partials. (Luc Hermitte)
Solution:   Do not decrement the channel reference count too early.
Files:      src/channel.c

Patch 7.4.1854
Problem:    When setting 'termguicolors' the Ignore highlighting doesn't work.
            (Charles Campbell)
Solution:   Handle the color names "fg" and "bg" when the GUI isn't running
            and no colors are specified, fall back to black and white.
Files:      src/syntax.c

Patch 7.4.1855
Problem:    Valgrind reports memory leak for job that is not freed.
Solution:   Free all jobs on exit.  Add test for failing job.
Files:      src/channel.c, src/misc2.c, src/proto/channel.pro,
            src/testdir/test_partial.vim

Patch 7.4.1856 (after 7.4.1855)
Problem:    failing job test fails on MS-Windows.
Solution:   Expect "fail" status instead of "dead".
Files:      src/testdir/test_partial.vim

Patch 7.4.1857
Problem:    When a channel appends to a buffer that is 'nomodifiable' there is
            an error but appending is done anyway.
Solution:   Add the 'modifiable' option.  Refuse to write to a 'nomodifiable'
            when the value is 1.
Files:      src/structs.h, src/channel.c, src/testdir/test_channel.vim,
            runtime/doc/channel.txt

Patch 7.4.1858
Problem:    When a channel writes to a buffer it doesn't find a buffer by the
            short name but re-uses it anyway.
Solution:   Find buffer also by the short name.
Files:      src/channel.c, src/buffer.c, src/vim.h

Patch 7.4.1859
Problem:    Cannot use a function reference for "exit_cb".
Solution:   Use get_callback(). (Yegappan Lakshmanan)
Files:      src/channel.c, src/structs.h

Patch 7.4.1860
Problem:    Using a partial for timer_start() may cause a crash.
Solution:   Set the copyID in timer objects. (Ozaki Kiichi)
Files:      src/testdir/test_timers.vim, src/eval.c, src/ex_cmds2.c,
            src/proto/ex_cmds2.pro

Patch 7.4.1861
Problem:    Compiler warnings with 64 bit compiler.
Solution:   Change int to size_t. (Mike Williams)
Files:      src/ex_cmds2.c

Patch 7.4.1862
Problem:    string() with repeated argument does not give a result usable by
            eval().
Solution:   Refactor echo_string and tv2string(), moving the common part to
            echo_string_core(). (Ken Takata)
Files:      src/eval.c, src/testdir/test_viml.vim, src/testdir/test86.ok,
            src/testdir/test87.ok

Patch 7.4.1863
Problem:    Compiler warnings on Win64.
Solution:   Adjust types, add type casts. (Ken Takata)
Files:      src/if_mzsch.c, src/if_perl.xs, src/if_ruby.c, src/version.c

Patch 7.4.1864
Problem:    Python: encoding error with Python 2.
Solution:   Use "getcwdu" instead of "getcwd". (Ken Takata)
Files:      src/if_py_both.h

Patch 7.4.1865
Problem:    Memory leaks in test49. (Dominique Pelle)
Solution:   Use NULL instead of an empty string.
Files:      src/eval.c

Patch 7.4.1866
Problem:    Invalid memory access when exiting with EXITFREE defined.
            (Dominique Pelle)
Solution:   Set "really_exiting" and skip error messages.
Files:      src/misc2.c, src/eval.c

Patch 7.4.1867
Problem:    Memory leak in test_matchstrpos.
Solution:   Free the string before overwriting. (Yegappan Lakshmanan)
Files:      src/eval.c

Patch 7.4.1868
Problem:    Setting really_exiting causes memory leaks to be reported.
Solution:   Add the in_free_all_mem flag.
Files:      src/globals.h, src/misc2.c, src/eval.c

Patch 7.4.1869
Problem:    Can't build with old version of Perl.
Solution:   Define PERLIO_FUNCS_DECL. (Tom G. Christensen)
Files:      src/if_perl.xs

Patch 7.4.1870 (after 7.4.1863)
Problem:    One more Win64 compiler warning.
Solution:   Change declared argument type. (Ken Takata)
Files:      src/if_mzsch.c

Patch 7.4.1871
Problem:    Appending to the quickfix list while the quickfix window is open
            is very slow.
Solution:   Do not delete all the lines, only append the new ones.  Avoid
            using a window while updating the list. (closes #841)
Files:      src/quickfix.c

Patch 7.4.1872
Problem:    Still build problem with old version of Perl.
Solution:   Also define SvREFCNT_inc_void_NN if needed. (Tom G. Christensen)
Files:      src/if_perl.xs

Patch 7.4.1873
Problem:    When a callback adds a timer the GUI doesn't use it until later.
            (Ramel Eshed)
Solution:   Return early if a callback adds a timer.
Files:      src/ex_cmds2.c, src/gui_gtk_x11.c, src/gui_w32.c, src/gui_x11.c,
            src/globals.h

Patch 7.4.1874
Problem:    Unused variable in Win32 code.
Solution:   Remove it. (Mike Williams)
Files:      src/gui_w32.c

Patch 7.4.1875
Problem:    Comparing functions and partials doesn't work well.
Solution:   Add tests. (Nikolai Pavlov)  Compare the dict and arguments in the
            partial. (closes #813)
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1876
Problem:    Typing "k" at the hit-enter prompt has no effect.
Solution:   Don't assume recursive use of the prompt if a character was typed.
            (Hirohito Higashi)
Files:      src/message.c

Patch 7.4.1877
Problem:    No test for invoking "close_cb" when writing to a buffer.
Solution:   Add using close_cb to a test case.
Files:      src/testdir/test_channel.vim

Patch 7.4.1878
Problem:    Whether a job has exited isn't detected until a character is
            typed.  After calling exit_cb the cursor is in the wrong place.
Solution:   Don't wait forever for a character to be typed when there is a
            pending job.  Update the screen if needed after calling exit_cb.
Files:      src/os_unix.c, src/channel.c, src/proto/channel.pro

Patch 7.4.1879 (after 7.4.1877)
Problem:    Channel test is flaky.
Solution:   Wait for close_cb to be invoked.
Files:      src/testdir/test_channel.vim

Patch 7.4.1880
Problem:    MS-Windows console build defaults to not having +channel.
Solution:   Include the channel feature if building with huge features.
Files:      src/Make_mvc.mak

Patch 7.4.1881
Problem:    Appending to a long quickfix list is slow.
Solution:   Add qf_last.
Files:      src/quickfix.c

Patch 7.4.1882
Problem:    Check for line break at end of line wrong. (Dominique Pelle)
Solution:   Correct the logic.
Files:      src/quickfix.c

Patch 7.4.1883
Problem:    Cppcheck found 2 incorrect printf formats.
Solution:   Use %ld and %lx. (Dominique Pelle)
Files:      src/VisVim/Commands.cpp, src/gui_mac.c

Patch 7.4.1884
Problem:    Updating marks in a quickfix list is very slow when the list is
            long.
Solution:   Only update marks if the buffer has a quickfix entry.
Files:      src/structs.h, src/quickfix.c

Patch 7.4.1885
Problem:    MinGW console build defaults to not having +channel.
Solution:   Include the channel feature if building with huge features. (Ken
            Takata)
Files:      src/Make_cyg_ming.mak

Patch 7.4.1886
Problem:    When waiting for a character is interrupted by receiving channel
            data and the first character of a mapping was typed, the mapping
            times out. (Ramel Eshed)
Solution:   When dealing with channel data don't return from mch_inchar().
Files:      src/getchar.c, src/proto/getchar.pro, src/os_unix.c

Patch 7.4.1887
Problem:    When receiving channel data 'updatetime' is not respected.
Solution:   Recompute the waiting time after being interrupted.
Files:      src/os_unix.c

Patch 7.4.1888
Problem:    Wrong computation of remaining wait time in RealWaitForChar()
Solution:   Remember the original waiting time.
Files:      src/os_unix.c

Patch 7.4.1889
Problem:    When umask is set to 0177 Vim can't create temp files. (Lcd)
Solution:   Also correct umask when using mkdtemp().
Files:      src/fileio.c

Patch 7.4.1890
Problem:    GUI: When channel data is received the cursor blinking is
            interrupted.  (Ramel Eshed)
Solution:   Don't update the cursor when it is blinking.
Files:      src/screen.c, src/gui_gtk_x11.c, src/proto/gui_gtk_x11.pro,
            src/gui_mac.c, src/proto/gui_mac.pro, src/gui_photon.c,
            src/proto/gui_photon.pro, src/gui_w32.c, src/proto/gui_w32.pro,
            src/gui_x11.c, src/proto/gui_x11.pro

Patch 7.4.1891
Problem:    Channel reading very long lines is slow.
Solution:   Collapse multiple buffers until a NL is found.
Files:      src/channel.c, src/netbeans.c, src/proto/channel.pro,
            src/structs.h

Patch 7.4.1892
Problem:    balloon eval only gets the window number, not the ID.
Solution:   Add v:beval_winid.
Files:      src/eval.c, src/gui_beval.c, src/vim.h

Patch 7.4.1893
Problem:    Cannot easily get the window ID for a buffer.
Solution:   Add bufwinid().
Files:      src/eval.c, runtime/doc/eval.txt

Patch 7.4.1894
Problem:    Cannot get the window ID for a mouse click.
Solution:   Add v:mouse_winid.
Files:      src/eval.c, src/vim.h, runtime/doc/eval.txt

Patch 7.4.1895
Problem:    Cannot use a window ID where a window number is expected.
Solution:   Add LOWEST_WIN_ID, so that the window ID can be used where a
            number is expected.
Files:      src/window.c, src/eval.c, src/vim.h, runtime/doc/eval.txt,
            src/testdir/test_window_id.vim

Patch 7.4.1896
Problem:    Invoking mark_adjust() when adding a new line below the last line
            is pointless.
Solution:   Skip calling mark_adjust() when appending below the last line.
Files:      src/misc1.c, src/ops.c

Patch 7.4.1897
Problem:    Various typos, long lines and style mistakes.
Solution:   Fix the typos, wrap lines, improve style.
Files:      src/buffer.c, src/ex_docmd.c, src/getchar.c, src/option.c,
            src/main.aap, src/testdir/README.txt,
            src/testdir/test_reltime.vim, src/testdir/test_tagjump.vim,
            src/INSTALL, src/config.aap.in, src/if_mzsch.c

Patch 7.4.1898
Problem:    User commands don't support modifiers.
Solution:   Add the <mods> item. (Yegappan Lakshmanan, closes #829)
Files:      runtime/doc/map.txt, src/ex_docmd.c, src/testdir/Make_all.mak,
            src/testdir/test_usercommands.vim

Patch 7.4.1899
Problem:    GTK 3: cursor blinking doesn't work well.
Solution:   Instead of gui_gtk_window_clear() use gui_mch_clear_block().
            (Kazunobu Kuriyama)
Files:      src/gui_gtk_x11.c

Patch 7.4.1900
Problem:    Using CTRL-] in the help on "{address}." doesn't work.
Solution:   Recognize an item in {}. (Hirohito Higashi, closes #814)
Files:      src/ex_cmds.c, src/testdir/test_help_tagjump.vim

Patch 7.4.1901
Problem:    Win32: the "Disabled" menu items would appear enabled.
Solution:   Use submenu_id if there is a parent. (Shane Harper, closes #834)
Files:      src/gui_w32.c

Patch 7.4.1902
Problem:    No test for collapsing buffers for a channel.  Some text is lost.
Solution:   Add a simple test.  Set rq_buflen correctly.
Files:      src/channel.c, src/testdir/test_channel.vim,
            src/testdir/test_channel_pipe.py

Patch 7.4.1903
Problem:    When writing viminfo merging current history with history in
            viminfo may drop recent history entries.
Solution:   Add new format for viminfo lines, use it for history entries.  Use
            a timestamp for ordering the entries. Add test_settime().
            Add the viminfo version.  Does not do merging on timestamp yet.
Files:      src/eval.c, src/ex_getln.c, src/ex_cmds.c, src/structs.h,
            src/globals.h, src/proto/ex_cmds.pro, src/proto/ex_getln.pro,
            src/testdir/test_viminfo.vim

Patch 7.4.1904 (after 7.4.1903)
Problem:    Build fails.
Solution:   Add missing changes.
Files:      src/vim.h

Patch 7.4.1905 (after 7.4.1903)
Problem:    Some compilers can't handle a double semicolon.
Solution:   Remove one semicolon.
Files:      src/ex_cmds.c

Patch 7.4.1906
Problem:    Collapsing channel buffers and searching for NL does not work
            properly. (Xavier de Gaye, Ramel Eshed)
Solution:   Do not assume the buffer contains a NUL or not.  Change NUL bytes
            to NL to avoid the string is truncated.
Files:      src/channel.c, src/netbeans.c, src/proto/channel.pro

Patch 7.4.1907
Problem:    Warnings from 64 bit compiler.
Solution:   Change type to size_t. (Mike Williams)
Files:      src/ex_cmds.c

Patch 7.4.1908
Problem:    Netbeans uses uninitialized pointer and freed memory.
Solution:   Set "buffer" at the right place (hint by Ken Takata)
Files:      src/netbeans.c

Patch 7.4.1909
Problem:    Doubled semicolons.
Solution:   Reduce to one. (Dominique Pelle)
Files:      src/dosinst.c, src/fold.c, src/gui_gtk_x11.c, src/gui_w32.c,
            src/main.c, src/misc2.c

Patch 7.4.1910
Problem:    Tests using external command to delete directory.
Solution:   Use delete().
Files:      src/testdir/test17.in, src/testdir/test73.in,
            src/testdir/test_getcwd.in

Patch 7.4.1911
Problem:    Recent history lines may be lost when exiting Vim.
Solution:   Merge history using the timestamp.
Files:      src/ex_getln.c, src/ex_cmds.c, src/vim.h, src/proto/ex_getln.pro,
            src/testdir/test_viminfo.vim

Patch 7.4.1912
Problem:    No test for using setqflist() on an older quickfix list.
Solution:   Add a couple of tests.
Files:      src/testdir/test_quickfix.vim

Patch 7.4.1913
Problem:    When ":doautocmd" is used modelines are used even when no
            autocommands were executed. (Daniel Hahler)
Solution:   Skip processing modelines. (closes #854)
Files:      src/fileio.c, src/ex_cmds.c, src/ex_docmd.c, src/proto/fileio.pro

Patch 7.4.1914
Problem:    Executing autocommands while using the signal stack has a high
            chance of crashing Vim.
Solution:   Don't invoke autocommands when on the signal stack.
Files:      src/os_unix.c

Patch 7.4.1915
Problem:    The effect of the PopupMenu autocommand isn't directly visible.
Solution:   Call gui_update_menus() before displaying the popup menu. (Shane
            Harper, closs #855)
Files:      src/menu.c

Patch 7.4.1916 (after 7.4.1906)
Problem:    No proper test for what 7.4.1906 fixes.
Solution:   Add a test for reading many lines.
Files:      src/testdir/test_channel.vim

Patch 7.4.1917
Problem:    History lines read from viminfo in different encoding than when
            writing are not converted.
Solution:   Convert the history lines.
Files:      src/ex_cmds.c, src/testdir/test_viminfo.vim

Patch 7.4.1918
Problem:    Not enough testing for parsing viminfo lines.
Solution:   Add test with viminfo lines in bad syntax.  Fix memory leak.
Files:      src/ex_cmds.c, src/ex_getln.c, src/testdir/test_viminfo.vim

Patch 7.4.1919
Problem:    Register contents is not merged when writing viminfo.
Solution:   Use timestamps for register contents.
Files:      src/ops.c, src/ex_getln.c, src/ex_cmds.c, src/proto/ex_cmds.pro,
            src/proto/ex_getln.pro, src/proto/ops.pro, src/vim.h

Patch 7.4.1920 (after 7.4.1919)
Problem:    Missing test changes.
Solution:   Update viminfo test.
Files:      src/testdir/test_viminfo.vim

Patch 7.4.1921 (after 7.4.1919)
Problem:    vim_time() not included when needed.
Solution:   Adjust #ifdef.
Files:      src/ex_cmds.c

Patch 7.4.1922
Problem:    Ruby 2.4.0 unifies Fixnum and Bignum into Integer.
Solution:   Use rb_cInteger. (Weiyong Mao)
Files:      src/if_ruby.c

Patch 7.4.1923
Problem:    Command line editing is not tested much.
Solution:   Add tests for expanding the file name and 'wildmenu'.
Files:      src/testdir/test_cmdline.vim, src/testdir/Make_all.mak

Patch 7.4.1924
Problem:    Missing "void" for functions without argument.
Solution:   Add "void". (Hirohito Higashi)
Files:      src/channel.c, src/edit.c, src/ex_cmds2.c, src/ops.c, src/screen.c

Patch 7.4.1925
Problem:    Viminfo does not merge file marks properly.
Solution:   Use a timestamp.  Add the :clearjumps command.
Files:      src/mark.c, src/ex_cmds.c, src/ex_docmd.c, src/proto/mark.pro,
            src/structs.h, src/vim.h, src/ex_cmds.h,
            src/testdir/test_viminfo.vim

Patch 7.4.1926
Problem:    Possible crash with many history items.
Solution:   Avoid the index going past the last item.
Files:      src/ex_getln.c

Patch 7.4.1927
Problem:    Compiler warning for signed/unsigned.
Solution:   Add type cast.
Files:      src/if_mzsch.c

Patch 7.4.1928
Problem:    Overwriting pointer argument.
Solution:   Assign to what it points to. (Dominique Pelle)
Files:      src/fileio.c

Patch 7.4.1929
Problem:    Inconsistent indenting and weird name.
Solution:   Fix indent, make name all upper case. (Ken Takata)
Files:      src/if_ruby.c

Patch 7.4.1930
Problem:    Can't build without +spell but with +quickfix. (Charles)
Solution:   Add better #ifdef around ml_append_buf(). (closes #864)
Files:      src/memline.c

Patch 7.4.1931
Problem:    Using both old and new style file mark lines from viminfo.
Solution:   Skip the old style lines if the viminfo file was written with a
            Vim version that supports the new style.
Files:      src/ex_cmds.c

Patch 7.4.1932
Problem:    When writing viminfo the jumplist is not merged with the one in
            the viminfo file.
Solution:   Merge based on timestamp.
Files:      src/mark.c, src/testdir/test_viminfo.vim

Patch 7.4.1933
Problem:    Compiler warning about uninitialized variable. (Yegappan)
Solution:   Give it a dummy value.
Files:      src/ex_getln.c

Patch 7.4.1934
Problem:    New style tests not executed with MinGW compiler.
Solution:   Add new style test support. (Yegappan Lakshmanan)
Files:      src/testdir/Make_ming.mak

Patch 7.4.1935
Problem:    When using the GUI search/replace a second match right after the
            replacement is skipped.
Solution:   Add the SEARCH_START flag. (Mleddy)
Files:      src/gui.c

Patch 7.4.1936
Problem:    Off-by-one error in bounds check. (Coverity)
Solution:   Check register number properly.
Files:      src/ops.c

Patch 7.4.1937
Problem:    No test for directory stack in quickfix.
Solution:   Add a test. (Yegappan Lakshmanan)
Files:      src/testdir/test_quickfix.vim

Patch 7.4.1938
Problem:    When writing viminfo numbered marks were duplicated.
Solution:   Check for duplicates between current numbered marks and the ones
            read from viminfo.
Files:      src/mark.c

Patch 7.4.1939
Problem:    Memory access error when reading viminfo. (Dominique Pelle)
Solution:   Correct index in jumplist when at the end.
Files:      src/mark.c, src/testdir/test_viminfo.vim

Patch 7.4.1940
Problem:    "gd" hangs in some situations. (Eric Biggers)
Solution:   Remove the SEARCH_START flag when looping.  Add a test.
Files:      src/normal.c, src/testdir/test_goto.vim

Patch 7.4.1941
Problem:    Not all quickfix tests are also done with the location lists.
Solution:   Test more quickfix code.  Use user commands instead of "exe".
            (Yegappan Lakshmanan)
Files:      src/testdir/test_quickfix.vim

Patch 7.4.1942
Problem:    Background is not drawn properly when 'termguicolors' is set.
Solution:   Check cterm_normal_bg_color. (Jacob Niehus, closes #805)
Files:      src/screen.c

Patch 7.4.1943
Problem:    Coverity warns for unreachable code.
Solution:   Remove the code that won't do anything.
Files:      src/mark.c

Patch 7.4.1944
Problem:    Win32: Cannot compile with XPM feature using VC2015
Solution:   Add XPM libraries compiled with VC2015, and enable to build
            gvim.exe which supports XPM using VC2015. (Ken Takata)
Files:      src/Make_mvc.mak, src/xpm/x64/lib-vc14/libXpm.lib,
            src/xpm/x86/lib-vc14/libXpm.lib

Patch 7.4.1945
Problem:    The Man plugin doesn't work that well.
Solution:   Use "g:ft_man_open_mode" to be able open man pages in vert split
            or separate tab. Set nomodifiable for buffer with man content. Add
            a test. (Andrey Starodubtsev, closes #873)
Files:      runtime/ftplugin/man.vim, src/testdir/test_man.vim,
            src/testdir/Make_all.mak

Patch 7.4.1946 (after 7.4.1944)
Problem:    File list does not include new XPM libraries.
Solution:   Add the file list entries.
Files:      Filelist

Patch 7.4.1947
Problem:    Viminfo continuation line with wrong length isn't skipped. (Marius
            Gedminas)
Solution:   Skip a line when encountering an error, but not two lines.
Files:      src/ex_cmds.c

Patch 7.4.1948
Problem:    Using Ctrl-A with double-byte encoding may result in garbled text.
Solution:   Skip to the start of a character. (Hirohito Higashi)
Files:      src/ops.c

Patch 7.4.1949
Problem:    Minor problems with the quickfix code.
Solution:   Fix the problems. (Yegappan Lakshmanan)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.1950
Problem:    Quickfix long lines test not executed for buffer.
Solution:   Call the function to test long lines. (Yegappan Lakshmanan)
Files:      src/testdir/test_quickfix.vim

Patch 7.4.1951
Problem:    Ruby test is old style.
Solution:   Convert to a new style test. (Ken Takata)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/test_ruby.in,
            src/testdir/test_ruby.ok, src/testdir/test_ruby.vim

Patch 7.4.1952
Problem:    Cscope interface does not support finding assignments.
Solution:   Add the "a" command. (ppettina, closes #882)
Files:      runtime/doc/if_cscop.txt, src/if_cscope.c

Patch 7.4.1953
Problem:    Not all parts of the quickfix code are tested.
Solution:   Add more tests. (Yegappan Lakshmanan)
Files:      src/testdir/samples/quickfix.txt,
            src/testdir/test_quickfix.vim

Patch 7.4.1954 (after 7.4.1948)
Problem:    No test for what 7.4.1948 fixes.
Solution:   Add a test. (Hirohito Higashi, closes #880)
Files:      src/Makefile, src/testdir/Make_all.mak,
            src/testdir/test_increment_dbcs.vim

Patch 7.4.1955
Problem:    Using 32-bit Perl with 64-bit time_t causes memory corruption.
            (Christian Brabandt)
Solution:   Use time_T instead of time_t for global variables. (Ken Takata)
Files:      src/ex_cmds.c, src/globals.h, src/misc2.c, src/proto/ex_cmds.pro,
            src/proto/misc2.pro, src/structs.h, src/vim.h

Patch 7.4.1956
Problem:    When using CTRL-W f and pressing "q" at the ATTENTION dialog the
            newly opened window is not closed.
Solution:   Close the window and go back to the original one. (Norio Takagi,
            Hirohito Higashi)
Files:      src/window.c, src/testdir/test_window_cmd.vim

Patch 7.4.1957
Problem:    Perl interface has obsolete workaround.
Solution:   Remove the workaround added by 7.3.623. (Ken Takata)
Files:      src/if_perl.xs

Patch 7.4.1958
Problem:    Perl interface preprocessor statements not nicely indented.
Solution:   Improve the indenting. (Ken Takata)
Files:      src/if_perl.xs

Patch 7.4.1959
Problem:    Crash when running test_channel.vim on Windows.
Solution:   Check for NULL pointer result from FormatMessage(). (Christian
            Brabandt)
Files:      src/channel.c

Patch 7.4.1960
Problem:    Unicode standard 9 was released.
Solution:   Update the character property tables. (Christian Brabandt)
Files:      src/mbyte.c

Patch 7.4.1961
Problem:    When 'insertmode' is reset while doing completion the popup menu
            remains even though Vim is in Normal mode.
Solution:   Ignore stop_insert_mode when the popup menu is visible.  Don't set
            stop_insert_mode when 'insertmode' was already off. (Christian
            Brabandt)
Files:      src/edit.c, src/option.c, src/Makefile, src/testdir/test_alot.vim,
            src/testdir/test_popup.vim

Patch 7.4.1962
Problem:    Two test files for increment/decrement.
Solution:   Move the old style test into the new style test. (Hirohito
            Higashi, closes #881)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/main.aap,
            src/testdir/test35.in, src/testdir/test35.ok,
            src/testdir/test_increment.vim

Patch 7.4.1963
Problem:    Running Win32 Vim in mintty does not work.
Solution:   Detect mintty and give a helpful error message. (Ken Takata)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak, src/iscygpty.c,
            src/iscygpty.h, src/main.c, Filelist

Patch 7.4.1964
Problem:    The quickfix init function is too big.
Solution:   Factor out parsing 'errorformat' to a separate function. (Yegappan
            Lakshmanan)
Files:      src/quickfix.c

Patch 7.4.1965
Problem:    When using a job in raw mode to append to a buffer garbage
            characters are added.
Solution:   Do not replace the trailing NUL with a NL. (Ozaki Kiichi)
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 7.4.1966
Problem:    Coverity reports a resource leak.
Solution:   Close "fd" also when bailing out.
Files:      src/quickfix.c

Patch 7.4.1967
Problem:    Falling back from NFA to old regexp engine does not work properly.
            (fritzophrenic)
Solution:   Do not restore nfa_match. (Christian Brabandt, closes #867)
Files:      src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok

Patch 7.4.1968
Problem:    Invalid memory access with "\<C-">.
Solution:   Do not recognize this as a special character. (Dominique Pelle)
Files:      src/misc2.c, src/testdir/test_expr.vim

Patch 7.4.1969
Problem:    When the netbeans channel is closed consuming the buffer may cause
            a crash.
Solution:   Check for nb_channel not to be NULL. (Xavier de Gaye)
Files:      src/netbeans.c

Patch 7.4.1970
Problem:    Using ":insert" in an empty buffer sets the jump mark. (Ingo
            Karkat)
Solution:   Don't adjust marks when replacing the empty line in an empty
            buffer. (closes #892)
Files:      src/ex_cmds.c, src/testdir/test_jumps.vim,
            src/testdir/test_alot.vim

Patch 7.4.1971
Problem:    It is not easy to see unrecognized error lines below the current
            error position.
Solution:   Add ":clist +count".
Files:      src/quickfix.c, runtime/doc/quickfix.txt

Patch 7.4.1972
Problem:    On Solaris select() does not work as expected when there is
            typeahead.
Solution:   Add ICANON when sleeping. (Ozaki Kiichi)
Files:      src/os_unix.c

Patch 7.4.1973
Problem:    On MS-Windows the package directory may be added at the end
            because of forward/backward slash differences. (Matthew
            Desjardins)
Solution:   Ignore slash differences.
Files:      src/ex_cmds2.c

Patch 7.4.1974
Problem:    GUI has a problem with some termcodes.
Solution:   Handle negative numbers. (Kazunobu Kuriyama)
Files:      src/gui.c

Patch 7.4.1975
Problem:    On MS-Windows large files (> 2Gbyte) cause problems.
Solution:   Use "off_T" instead of "off_t".  Use "stat_T" instead of "struct
            stat".  Use 64 bit system functions if available.  (Ken Takata)
Files:      src/Makefile, src/buffer.c, src/diff.c, src/eval.c, src/ex_cmds.c,
            src/ex_cmds2.c, src/fileio.c, src/gui.c, src/gui_at_fs.c,
            src/if_cscope.c, src/main.c, src/memfile.c, src/memline.c,
            src/misc1.c, src/misc2.c, src/netbeans.c, src/os_mswin.c,
            src/os_win32.c, src/proto/fileio.pro, src/proto/memline.pro,
            src/proto/os_mswin.pro, src/pty.c, src/quickfix.c, src/spell.c,
            src/structs.h, src/tag.c, src/testdir/Make_all.mak,
            src/testdir/test_largefile.vim, src/testdir/test_stat.vim,
            src/undo.c, src/vim.h

Patch 7.4.1976
Problem:    Number variables are not 64 bits while they could be.
Solution:   Add the num64 feature. (Ken Takata, Yasuhiro Matsumoto)
Files:      runtime/doc/eval.txt, runtime/doc/various.txt,
            src/Make_cyg_ming.mak, src/Make_mvc.mak, src/charset.c,
            src/eval.c, src/ex_cmds.c, src/ex_getln.c, src/feature.h,
            src/fileio.c, src/fold.c, src/json.c, src/message.c, src/misc1.c,
            src/misc2.c, src/ops.c, src/option.c, src/proto/charset.pro,
            src/proto/eval.pro, src/quickfix.c, src/structs.h,
            src/testdir/test_viml.vim, src/version.c

Patch 7.4.1977
Problem:    With 64 bit changes don't need three calls to sprintf().
Solution:   Simplify the code, use vim_snprintf(). (Ken Takata)
Files:      src/fileio.c

Patch 7.4.1978 (after 7.4.1975)
Problem:    Large file test does not delete its output.
Solution:   Delete the output. Check size properly when possible. (Ken Takata)
Files:      src/testdir/test_largefile.vim

Patch 7.4.1979 (after 7.4.1976)
Problem:    Getting value of binary option is wrong. (Kent Sibilev)
Solution:   Fix type cast.  Add a test.
Files:      src/option.c, src/testdir/test_expr.vim

Patch 7.4.1980
Problem:    'errorformat' is parsed for every call to ":caddexpr".  Can't add
            to two location lists asynchronously.
Solution:   Keep the previously parsed data when appropriate. (mostly by
            Yegappan Lakshmanan)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.1981
Problem:    No testing for Farsi code.
Solution:   Add a minimal test.  Clean up Farsi code.
Files:      src/farsi.c, src/Makefile, src/charset.c, src/normal.c,
            src/proto/main.pro, src/testdir/Make_all.mak,
            src/testdir/test_farsi.vim

Patch 7.4.1982
Problem:    Viminfo file contains duplicate change marks.
Solution:   Drop duplicate marks.
Files:      src/mark.c

Patch 7.4.1983
Problem:    farsi.c and arabic.c are included in a strange way.
Solution:   Build them like other files.
Files:      src/main.c, src/farsi.c, src/arabic.c, src/proto.h,
            src/proto/main.pro, src/proto/farsi.pro, src/proto/arabic.pro,
            src/Makefile, src/Make_bc5.mak, src/Make_cyg_ming.mak,
            src/Make_dice.mak, src/Make_ivc.mak, src/Make_manx.mak,
            src/Make_morph.mak, src/Make_mvc.mak, src/Make_sas.mak,
            Filelist

Patch 7.4.1984
Problem:    Not all quickfix features are tested.
Solution:   Add a few more tests. (Yegappan Lakshmanan)
Files:      src/testdir/test_quickfix.vim

Patch 7.4.1985 (after 7.4.1983)
Problem:    Missing changes in VMS build file.
Solution:   Use the right file name.
Files:      src/Make_vms.mms

Patch 7.4.1986
Problem:    Compiler warns for loss of data.
Solution:   Use size_t instead of int. (Christian Brabandt)
Files:      src/ex_cmds2.c

Patch 7.4.1987
Problem:    When copying unrecognized lines for viminfo, end up with useless
            continuation lines.
Solution:   Skip continuation lines.
Files:      src/ex_cmds.c

Patch 7.4.1988
Problem:    When updating viminfo with file marks there is no time order.
Solution:   Remember the time when a buffer was last used, store marks for
            the most recently used buffers.
Files:      src/buffer.c, src/structs.h, src/mark.c, src/main.c,
            src/ex_cmds.c, src/proto/mark.pro, src/testdir/test_viminfo.vim

Patch 7.4.1989
Problem:    filter() and map() only accept a string argument.
Solution:   Implement using a Funcref argument (Yasuhiro Matsumoto, Ken
            Takata)
Files:      runtime/doc/eval.txt, src/Makefile, src/eval.c,
            src/testdir/test_alot.vim, src/testdir/test_filter_map.vim,
            src/testdir/test_partial.vim

Patch 7.4.1990 (after 7.4.1952)
Problem:    Cscope items are not sorted.
Solution:   Put the new "a" command first. (Ken Takata)
Files:      src/if_cscope.c

Patch 7.4.1991
Problem:    glob() does not add a symbolic link when there are no wildcards.
Solution:   Remove the call to mch_getperm().
Files:      src/misc1.c

Patch 7.4.1992
Problem:    Values for true and false can be confusing.
Solution:   Update the documentation.  Add a test.  Make v:true evaluate to
            TRUE for a non-zero-arg.
Files:      runtime/doc/eval.txt, src/eval.c, src/Makefile,
            src/testdir/test_true_false.vim, src/testdir/test_alot.vim

Patch 7.4.1993
Problem:    Not all TRUE and FALSE arguments are tested.
Solution:   Add a few more tests.
Files:      src/testdir/test_true_false.vim

Patch 7.4.1994 (after 7.4.1993)
Problem:    True-false test fails.
Solution:   Filter the dict to only keep the value that matters.
Files:      src/testdir/test_true_false.vim

Patch 7.4.1995
Problem:    GUI: cursor drawn in wrong place if a timer callback causes a
            screen update. (David Samvelyan)
Solution:   Also redraw the cursor when it's blinking and on.
Files:      src/gui_gtk_x11.c, src/gui_mac.c, src/gui_photon.c, src/gui_w32.c,
            src/gui_x11.c, src/screen.c, src/proto/gui_gtk_x11.pro,
            src/proto/gui_mac.pro, src/proto/gui_photon.pro,
            src/proto/gui_w32.pro, src/proto/gui_x11.pro

Patch 7.4.1996
Problem:    Capturing the output of a command takes a few commands.
Solution:   Add evalcmd().
Files:      src/eval.c, runtime/doc/eval.txt, src/testdir/test_alot.vim,
            src/Makefile, src/testdir/test_evalcmd.vim

Patch 7.4.1997
Problem:    Cannot easily scroll the quickfix window.
Solution:   Add ":cbottom".
Files:      src/ex_cmds.h, src/quickfix.c, src/proto/quickfix.pro,
            src/ex_docmd.c, src/testdir/test_quickfix.vim,
            runtime/doc/quickfix.txt

Patch 7.4.1998
Problem:    When writing buffer lines to a job there is no NL to NUL
            conversion.
Solution:   Make it work symmetrical with writing lines from a job into a
            buffer.
Files:      src/channel.c, src/proto/channel.pro, src/netbeans.c

Patch 7.4.1999
Problem:    evalcmd() doesn't work recursively.
Solution:   Use redir_evalcmd instead of redir_vname.
Files:      src/message.c, src/eval.c, src/globals.h, src/proto/eval.pro,
            src/testdir/test_evalcmd.vim

Patch 7.4.2000 (after 7.4.1999)
Problem:    Evalcmd test fails.
Solution:   Add missing piece.
Files:      src/ex_docmd.c

Patch 7.4.2001 (after 7.4.2000)
Problem:    Tiny build fails. (Tony Mechelynck)
Solution:   Add #ifdef.
Files:      src/ex_docmd.c

Patch 7.4.2002
Problem:    Crash when passing number to filter() or map().
Solution:   Convert to a string. (Ozaki Kiichi)
Files:      src/eval.c, src/testdir/test_filter_map.vim

Patch 7.4.2003
Problem:    Still cursor flickering when a callback updates the screen. (David
            Samvelyan)
Solution:   Put the cursor in the right position after updating the screen.
Files:      src/screen.c

Patch 7.4.2004
Problem:    GUI: cursor displayed in the wrong position.
Solution:   Correct screen_cur_col and screen_cur_row.
Files:      src/screen.c

Patch 7.4.2005
Problem:    After using evalcmd() message output is in the wrong position.
            (Christian Brabandt)
Solution:   Reset msg_col.
Files:      src/eval.c

Patch 7.4.2006
Problem:    Crash when using tabnext in BufUnload autocmd. (Norio Takagi)
Solution:   First check that the current buffer is the right one. (Hirohito
            Higashi)
Files:      src/buffer.c, src/testdir/test_autocmd.vim

Patch 7.4.2007
Problem:    Running the tests leaves a viminfo file behind.
Solution:   Make the viminfo option empty.
Files:      src/testdir/runtest.vim

Patch 7.4.2008
Problem:    evalcmd() has a confusing name.
Solution:   Rename to execute().  Make silent optional.  Support a list of
            commands.
Files:      src/eval.c, src/ex_docmd.c, src/message.c, src/globals.h,
            src/proto/eval.pro, src/Makefile, src/testdir/test_evalcmd.vim,
            src/testdir/test_execute_func.vim, src/testdir/test_alot.vim,
            runtime/doc/eval.txt

Patch 7.4.2009 (after 7.4.2008)
Problem:    Messages test fails.
Solution:   Don't set redir_execute before returning.  Add missing version
            number.
Files:      src/eval.c

Patch 7.4.2010
Problem:    There is a :cbottom command but no :lbottom command.
Solution:   Add :lbottom. (Yegappan Lakshmanan)
Files:      runtime/doc/index.txt, runtime/doc/quickfix.txt, src/ex_cmds.h,
            src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.2011
Problem:    It is not easy to get a list of command arguments.
Solution:   Add getcompletion(). (Yegappan Lakshmanan)
Files:      runtime/doc/eval.txt, src/eval.c, src/ex_docmd.c,
            src/proto/ex_docmd.pro, src/testdir/test_cmdline.vim

Patch 7.4.2012 (after 7.4.2011)
Problem:    Test for getcompletion() does not pass on all systems.
Solution:   Only test what is supported.
Files:      src/testdir/test_cmdline.vim

Patch 7.4.2013
Problem:    Using "noinsert" in 'completeopt' breaks redo.
Solution:   Set compl_curr_match. (Shougo Matsu, closes #874)
Files:      src/edit.c, src/testdir/test_popup.vim

Patch 7.4.2014
Problem:    Using "noinsert" in 'completeopt' does not insert match.
Solution:   Set compl_enter_selects. (Shougo Matsu, closes #875)
Files:      src/edit.c, src/testdir/test_popup.vim

Patch 7.4.2015
Problem:    When a file gets a name when writing it 'acd' is not effective.
            (Dan Church)
Solution:   Invoke DO_AUTOCHDIR after writing the file. (Allen Haim, closes
            #777, closes #803)  Add test_autochdir() to enable 'acd' before
            "starting" is reset.
Files:      src/ex_cmds.c, src/buffer.c, src/eval.c, src/globals.h,
            src/Makefile, src/testdir/test_autochdir.vim,
            src/testdir/Make_all.mak

Patch 7.4.2016
Problem:    Warning from MinGW about _WIN32_WINNT redefined. (John Marriott)
Solution:   First undefine it. (Ken Takata)
Files:      src/Make_cyg_ming.mak

Patch 7.4.2017
Problem:    When there are many errors adding them to the quickfix list takes
            a long time.
Solution:   Add BLN_NOOPT.  Don't call buf_valid() in buf_copy_options().
            Remember the last file name used.  When going through the buffer
            list start from the end of the list.  Only call buf_valid() when
            autocommands were executed.
Files:      src/buffer.c, src/option.c, src/quickfix.c, src/vim.h

Patch 7.4.2018
Problem:    buf_valid() can be slow when there are many buffers.
Solution:   Add bufref_valid(), only go through the buffer list when a buffer
            was freed.
Files:      src/structs.h, src/buffer.c, src/quickfix.c, src/proto/buffer.pro

Patch 7.4.2019
Problem:    When ignoring case utf_fold() may consume a lot of time.
Solution:   Optimize for ASCII.
Files:      src/mbyte.c

Patch 7.4.2020
Problem:    Can't build without +autocmd feature.
Solution:   Adjust #ifdefs.
Files:      src/buffer.c

Patch 7.4.2021
Problem:    Still too many buf_valid() calls.
Solution:   Make au_new_curbuf a bufref.  Use bufref_valid() in more places.
Files:      src/ex_cmds.c, src/buffer.c, src/globals.h

Patch 7.4.2022
Problem:    Warnings from 64 bit compiler.
Solution:   Add type casts. (Mike Williams)
Files:      src/eval.c

Patch 7.4.2023
Problem:    buflist_findname_stat() may find a dummy buffer.
Solution:   Set the BF_DUMMY flag after loading a dummy buffer.  Start
            finding buffers from the end of the list.
Files:      src/quickfix.c, src/buffer.c

Patch 7.4.2024
Problem:    More buf_valid() calls can be optimized.
Solution:   Use bufref_valid() instead.
Files:      src/buffer.c, src/ex_cmds.c, src/structs.h, src/channel.c,
            src/diff.c, src/eval.c, src/ex_cmds2.c, src/ex_docmd.c,
            src/ex_getln.c, src/fileio.c, src/main.c, src/misc2.c,
            src/netbeans.c, src/quickfix.c, src/spell.c, src/term.c,
            src/if_py_both.h, src/window.c, src/proto/buffer.pro,
            src/proto/window.pro

Patch 7.4.2025
Problem:    The cursor blinking stops or is irregular when receiving date over
            a channel and writing it in a buffer, and when updating the status
            line. (Ramel Eshed)
Solution:   Make it a bit better by flushing GUI output.  Don't redraw the
            cursor after updating the screen if the blink state is off.
Files:      src/gui_gtk_x11.c, src/screen.c

Patch 7.4.2026
Problem:    Reference counting for callbacks isn't right.
Solution:   Add free_callback(). (Ken Takata)  Fix reference count.
Files:      src/channel.c, src/eval.c, src/ex_cmds2.c, src/proto/eval.pro

Patch 7.4.2027
Problem:    Can't build with +eval but without +menu.
Solution:   Add #ifdef. (John Marriott)
Files:      src/eval.c

Patch 7.4.2028
Problem:    cppcheck warns for using index before limits check.
Solution:   Swap the expressions. (Dominique Pelle)
Files:      src/mbyte.c

Patch 7.4.2029
Problem:    printf() does not work with 64 bit numbers.
Solution:   use the "L" length modifier. (Ken Takata)
Files:      src/message.c, src/testdir/test_expr.vim

Patch 7.4.2030
Problem:    ARCH must be set properly when using MinGW.
Solution:   Detect the default value of ARCH from the current compiler. (Ken
            Takata)
Files:      src/Make_cyg_ming.mak

Patch 7.4.2031
Problem:    The list_lbr_utf8 test fails if ~/.vim/syntax/c.vim sets
            'textwidth' to a non-zero value. (Oyvind A. Holm)
Solution:   Add a setup.vim file that sets 'runtimepath' and $HOME to a safe
            value. (partly by Christian Brabandt, closes #912)
Files:      src/testdir/setup.vim, src/testdir/amiga.vim, src/testdir/dos.vim,
            src/testdir/unix.vim, src/testdir/vms.vim, src/testdir/runtest.vim

Patch 7.4.2032 (after 7.4.2030)
Problem:    Build fails with 64 bit MinGW. (Axel Bender)
Solution:   Handle dash vs. underscore. (Ken Takata, Hirohito Higashi)
Files:      src/Make_cyg_ming.mak

Patch 7.4.2033
Problem:    'cscopequickfix' option does not accept new value "a".
Solution:   Adjust list of command characters. (Ken Takata)
Files:      src/option.h, src/Makefile, src/testdir/test_cscope.vim,
            src/testdir/Make_all.mak

Patch 7.4.2034 (after 7.4.2032)
Problem:    Build fails with some version of MinGW. (illusorypan)
Solution:   Recognize mingw32. (Ken Takata, closes #921)
Files:      src/Make_cyg_ming.mak

Patch 7.4.2035
Problem:    On Solaris with ZFS the ACL may get removed.
Solution:   Always restore the ACL for Solaris ZFS. (Danek Duvall)
Files:      src/fileio.c

Patch 7.4.2036
Problem:    Looking up a buffer by number is slow if there are many.
Solution:   Use a hashtab.
Files:      src/structs.h, src/buffer.c

Patch 7.4.2037 (after 7.4.2036)
Problem:    Small build fails.
Solution:   Adjust #ifdefs.
Files:      src/hashtab.c

Patch 7.4.2038 (after 7.4.2036)
Problem:    Small build still fails.
Solution:   Adjust more #ifdefs.
Files:      src/globals.h, src/buffer.c

Patch 7.4.2039
Problem:    The Netbeans integration is not tested.
Solution:   Add a first Netbeans test.
Files:      src/testdir/test_netbeans.vim, src/testdir/test_netbeans.py,
            src/testdir/Make_all.mak, src/Makefile,
            src/testdir/test_channel.vim, src/testdir/shared.vim

Patch 7.4.2040
Problem:    New files missing from distribution.
Solution:   Add new test scripts.
Files:      Filelist

Patch 7.4.2041
Problem:    Netbeans file authentication not tested.
Solution:   Add a test.
Files:      src/testdir/test_netbeans.vim

Patch 7.4.2042
Problem:    GTK: display updating is not done properly and can be slow.
Solution:   Use gdk_display_flush() instead of gdk_display_sync(). Don't call
            gdk_window_process_updates().  (Kazunobu Kuriyama)
Files:      src/gui_gtk_x11.c

Patch 7.4.2043
Problem:    setbuvfar() causes a screen redraw.
Solution:   Only use aucmd_prepbuf() for options.
Files:      src/eval.c

Patch 7.4.2044
Problem:    filter() and map() either require a string or defining a function.
Solution:   Support lambda, a short way to define a function that evaluates an
            expression. (Yasuhiro Matsumoto, Ken Takata)
Files:      runtime/doc/eval.txt, src/eval.c, src/testdir/test_alot.vim,
            src/Makefile, src/testdir/test_channel.vim,
            src/testdir/test_lambda.vim

Patch 7.4.2045
Problem:    Memory leak when using a function callback.
Solution:   Don't save the function name when it's in the partial.
Files:      src/channel.c

Patch 7.4.2046
Problem:    The qf_init_ext() function is too big.
Solution:   Refactor it. (Yegappan Lakshmanan)
Files:      src/quickfix.c

Patch 7.4.2047
Problem:    Compiler warning for initializing a struct.
Solution:   Initialize in another way. (Anton Lindqvist)
Files:      src/quickfix.c

Patch 7.4.2048
Problem:    There is still code and help for unsupported systems.
Solution:   Remove the code and text. (Hirohito Higashi)
Files:      runtime/doc/eval.txt, runtime/lang/menu_sk_sk.vim,
            runtime/menu.vim, runtime/optwin.vim, src/Make_bc5.mak,
            src/ex_docmd.c, src/feature.h, src/fileio.c, src/globals.h,
            src/main.c, src/memfile.c, src/memline.c, src/misc1.c,
            src/misc2.c, src/option.c, src/option.h, src/os_unix.c,
            src/os_unix.h, src/proto.h, src/term.c, src/undo.c, src/version.c,
            src/vim.h, src/xxd/xxd.c

Patch 7.4.2049
Problem:    There is no way to get a list of the error lists.
Solution:   Add ":chistory" and ":lhistory".
Files:      src/ex_cmds.h, src/quickfix.c, src/ex_docmd.c, src/message.c,
            src/proto/quickfix.pro, src/testdir/test_quickfix.vim

Patch 7.4.2050
Problem:    When using ":vimgrep" may end up with duplicate buffers.
Solution:   When adding an error list entry pass the buffer number if possible.
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.2051
Problem:    No proper testing of trunc_string().
Solution:   Add a unittest for message.c.
Files:      src/Makefile, src/message.c, src/message_test.c, src/main.c,
            src/proto/main.pro, src/structs.h

Patch 7.4.2052
Problem:    Coverage report is messed up by the unittests.
Solution:   Add a separate test target for script tests.  Use that when
            collecting coverage information.
Files:      src/Makefile

Patch 7.4.2053
Problem:    Can't run scripttests in the top directory.
Solution:   Add targets to the top Makefile.
Files:      Makefile

Patch 7.4.2054 (after 7.4.2048)
Problem:    Wrong part of #ifdef removed.
Solution:   Use the right part. (Hirohito Higashi)
Files:      src/os_unix.c

Patch 7.4.2055
Problem:    eval.c is too big
Solution:   Move Dictionary functions to dict.c
Files:      src/eval.c, src/dict.c, src/vim.h, src/globals.h,
            src/proto/eval.pro, src/proto/dict.pro, src/Makefile, Filelist

Patch 7.4.2056 (after 7.4.2055)
Problem:    Build fails.
Solution:   Add missing changes.
Files:      src/proto.h

Patch 7.4.2057
Problem:    eval.c is too big.
Solution:   Move List functions to list.c
Files:      src/eval.c, src/dict.c, src/list.c, src/proto.h, src/Makefile,
            src/globals.h, src/proto/eval.pro, src/proto/list.pro, Filelist

Patch 7.4.2058
Problem:    eval.c is too big.
Solution:   Move user functions to userfunc.c
Files:      src/userfunc.c, src/eval.c, src/vim.h, src/globals.h,
            src/structs.h, src/proto.h, src/Makefile, src/proto/eval.pro,
            src/proto/userfunc.pro, Filelist

Patch 7.4.2059
Problem:    Non-Unix builds fail.
Solution:   Update Makefiles for new files.
Files:      src/Make_bc5.mak, src/Make_cyg_ming.mak, src/Make_dice.mak,
            src/Make_ivc.mak, src/Make_manx.mak, src/Make_morph.mak,
            src/Make_mvc.mak, src/Make_sas.mak

Patch 7.4.2060 (after 7.4.2059)
Problem:    Wrong file name.
Solution:   Fix typo.
Files:      src/Make_mvc.mak

Patch 7.4.2061
Problem:    qf_init_ext() is too big.
Solution:   Move code to qf_parse_line() (Yegappan Lakshmanan)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.2062
Problem:    Using dummy variable to compute struct member offset.
Solution:   Use offsetof().
Files:      src/globals.h, src/macros.h, src/vim.h, src/spell.c

Patch 7.4.2063
Problem:    eval.c is still too big.
Solution:   Split off internal functions to evalfunc.c.
Files:      src/eval.c, src/evalfunc.c, src/list.c, src/proto.h,
            src/globals.h, src/vim.h, src/proto/eval.pro,
            src/proto/evalfunc.pro, src/proto/list.pro, src/Makefile, Filelist,
            src/Make_bc5.mak, src/Make_cyg_ming.mak, src/Make_dice.mak,
            src/Make_ivc.mak, src/Make_manx.mak, src/Make_morph.mak,
            src/Make_mvc.mak, src/Make_sas.mak

Patch 7.4.2064
Problem:    Coverity warns for possible buffer overflow.
Solution:   Use vim_strcat() instead of strcat().
Files:      src/quickfix.c

Patch 7.4.2065
Problem:    Compiler warns for uninitialized variable. (John Marriott)
Solution:   Set lnum to the right value.
Files:      src/evalfunc.c

Patch 7.4.2066
Problem:    getcompletion() not well tested.
Solution:   Add more testing.
Files:      src/testdir/test_cmdline.vim

Patch 7.4.2067
Problem:    Compiler warning for char/char_u conversion. (Tony Mechelynck)
            Inefficient code.
Solution:   Use more lines to fill with spaces. (Nikolai Pavlov) Add type cast.
Files:      src/quickfix.c

Patch 7.4.2068
Problem:    Not all arguments of trunc_string() are tested.  Memory access
            error when running the message tests.
Solution:   Add another test case. (Yegappan Lakshmanan)  Make it easy to run
            unittests with valgrind.  Fix the access error.
Files:      src/message.c, src/message_test.c, src/Makefile

Patch 7.4.2069
Problem:    spell.c is too big.
Solution:   Split it in spell file handling and spell checking.
Files:      src/spell.c, src/spellfile.c, src/spell.h, src/Makefile,
            src/proto/spell.pro, src/proto/spellfile.pro, src/proto.h
            Filelist, src/Make_bc5.mak, src/Make_cyg_ming.mak,
            src/Make_dice.mak, src/Make_ivc.mak, src/Make_manx.mak,
            src/Make_morph.mak, src/Make_mvc.mak, src/Make_sas.mak

Patch 7.4.2070 (after 7.4.2069)
Problem:    Missing change to include file.
Solution:   Include the spell header file.
Files:      src/vim.h

Patch 7.4.2071
Problem:    The return value of type() is difficult to use.
Solution:   Define v:t_ constants. (Ken Takata)
Files:      runtime/doc/eval.txt, src/eval.c, src/evalfunc.c,
            src/testdir/test_channel.vim, src/testdir/test_viml.vim, src/vim.h

Patch 7.4.2072
Problem:    substitute() does not support a Funcref argument.
Solution:   Support a Funcref like it supports  a string starting with "\=".
Files:      src/evalfunc.c, src/regexp.c, src/eval.c, src/proto/eval.pro,
            src/proto/regexp.pro, src/testdir/test_expr.vim

Patch 7.4.2073
Problem:    rgb.txt is read for every color name.
Solution:   Load rgb.txt once. (Christian Brabandt)  Add a test.
Files:      runtime/rgb.txt, src/term.c, src/testdir/test_syn_attr.vim

Patch 7.4.2074
Problem:    One more place using a dummy variable.
Solution:   Use offsetof(). (Ken Takata)
Files:      src/userfunc.c

Patch 7.4.2075
Problem:    No autocommand event to initialize a window or tab page.
Solution:   Add WinNew and TabNew events. (partly by Felipe Morales)
Files:      src/fileio.c, src/window.c, src/vim.h,
            src/testdir/test_autocmd.vim, runtime/doc/autocmd.txt

Patch 7.4.2076
Problem:    Syntax error when dict has '>' key.
Solution:   Check for endchar. (Ken Takata)
Files:      src/userfunc.c, src/testdir/test_lambda.vim

Patch 7.4.2077
Problem:    Cannot update 'tabline' when a tab was closed.
Solution:   Add the TabClosed autocmd event. (partly by Felipe Morales)
Files:      src/fileio.c, src/window.c, src/vim.h,
            src/testdir/test_autocmd.vim, runtime/doc/autocmd.txt

Patch 7.4.2078
Problem:    Running checks in po directory fails.
Solution:   Add colors used in syntax.c to the builtin color table.
Files:      src/term.c

Patch 7.4.2079
Problem:    Netbeans test fails on non-Unix systems.
Solution:   Only do the permission check on Unix systems.
Files:      src/testdir/test_netbeans.vim

Patch 7.4.2080
Problem:    When using PERROR() on some systems assert_fails() does not see
            the error.
Solution:   Make PERROR() always report the error.
Files:      src/vim.h, src/message.c, src/proto/message.pro

Patch 7.4.2081
Problem:    Line numbers in the error list are not always adjusted.
Solution:   Set b_has_qf_entry properly. (Yegappan Lakshmanan)
Files:      src/quickfix.c, src/structs.h, src/testdir/test_quickfix.vim

Patch 7.4.2082
Problem:    Not much test coverage for digraphs.
Solution:   Add a new style digraph test. (Christian Brabandt)
Files:      src/Makefile, src/testdir/test_alot.vim,
            src/testdir/test_digraph.vim

Patch 7.4.2083
Problem:    Coverity complains about not restoring a value.
Solution:   Restore the value, although it's not really needed.  Change return
            to jump to cleanup, might leak memory.
Files:      src/userfunc.c

Patch 7.4.2084
Problem:    New digraph test makes testing hang.
Solution:   Don't set "nocp".
Files:      src/testdir/test_digraph.vim

Patch 7.4.2085
Problem:    Digraph tests fails on some systems.
Solution:   Run it separately and set 'encoding' early.
Files:      src/testdir/Make_all.mak, src/testdir/test_alot.vim,
            src/testdir/test_digraph.vim

Patch 7.4.2086
Problem:    Using the system default encoding makes tests unpredictable.
Solution:   Always use utf-8 or latin1 in the new style tests.  Remove setting
            encoding and scriptencoding where it is not needed.
Files:      src/testdir/runtest.vim, src/testdir/test_channel.vim,
            src/testdir/test_digraph.vim, src/testdir/test_expand_dllpath.vim,
            src/testdir/test_expr_utf8.vim, src/testdir/test_json.vim,
            src/testdir/test_matchadd_conceal_utf8.vim,
            src/testdir/test_regexp_utf8.vim, src/testdir/test_visual.vim,
            src/testdir/test_alot_utf8.vim,

Patch 7.4.2087
Problem:    Digraph code test coverage is still low.
Solution:   Add more tests. (Christian Brabandt)
Files:      src/testdir/test_digraph.vim

Patch 7.4.2088 (after 7.4.2087)
Problem:    Keymap test fails with normal features.
Solution:   Bail out if the keymap feature is not supported.
Files:      src/testdir/test_digraph.vim

Patch 7.4.2089
Problem:    Color handling of X11 GUIs is too complicated.
Solution:   Simplify the code.  Use RGBA where appropriate. (Kazunobu
            Kuriyama)
Files:      src/gui.h, src/gui_beval.c, src/gui_gtk_x11.c, src/netbeans.c

Patch 7.4.2090
Problem:    Using submatch() in a lambda passed to substitute() is verbose.
Solution:   Use a static list and pass it as an optional argument to the
            function.  Fix memory leak.
Files:      src/structs.h, src/list.c, src/userfunc.c, src/channel.c,
            src/eval.c, src/evalfunc.c, src/ex_cmds2.c, src/regexp.c,
            src/proto/list.pro, src/proto/userfunc.pro,
            src/testdir/test_expr.vim, runtime/doc/eval.txt

Patch 7.4.2091
Problem:    Coverity reports a resource leak when out of memory.
Solution:   Close the file before returning.
Files:      src/term.c

Patch 7.4.2092
Problem:    GTK 3 build fails with older GTK version.
Solution:   Check the pango version. (Kazunobu Kuriyama)
Files:      src/gui_beval.c

Patch 7.4.2093
Problem:    Netbeans test fails once in a while.  Leaving log file behind.
Solution:   Add it to the list of flaky tests.  Disable logfile.
Files:      src/testdir/runtest.vim, src/testdir/test_channel.vim

Patch 7.4.2094
Problem:    The color allocation in X11 is overly complicated.
Solution:   Remove find_closest_color(), XAllocColor() already does this.
            (Kazunobu Kuriyama)
Files:      src/gui_x11.c

Patch 7.4.2095
Problem:    Man test fails when run with the GUI.
Solution:   Adjust for different behavior of GUI.  Add assert_inrange().
Files:      src/eval.c, src/evalfunc.c, src/proto/eval.pro,
            src/testdir/test_assert.vim, src/testdir/test_man.vim,
            runtime/doc/eval.txt

Patch 7.4.2096
Problem:    Lambda functions show up with completion.
Solution:   Don't show lambda functions. (Ken Takata)
Files:      src/userfunc.c, src/testdir/test_cmdline.vim

Patch 7.4.2097
Problem:    Warning from 64 bit compiler.
Solution:   use size_t instead of int. (Mike Williams)
Files:      src/message.c

Patch 7.4.2098
Problem:    Text object tests are old style.
Solution:   Turn them into new style tests. (James McCoy, closes #941)
Files:      src/testdir/Make_all.mak, src/testdir/test_textobjects.in,
            src/testdir/test_textobjects.ok, src/testdir/test_textobjects.vim,
            src/Makefile

Patch 7.4.2099
Problem:    When a keymap is active only "(lang)" is displayed. (Ilya
            Dogolazky)
Solution:   Show the keymap name. (Dmitri Vereshchagin, closes #933)
Files:      src/buffer.c, src/proto/screen.pro, src/screen.c

Patch 7.4.2100
Problem:    "cgn" and "dgn" do not work correctly with a single character
            match and the replacement includes the searched pattern. (John
            Beckett)
Solution:   If the match is found in the wrong column try in the next column.
            Turn the test into new style. (Christian Brabandt)
Files:      src/search.c, src/testdir/Make_all.mak, src/Makefile,
            src/testdir/test53.in, src/testdir/test53.ok,
            src/testdir/test_gn.vim

Patch 7.4.2101
Problem:    Looping over windows, buffers and tab pages is inconsistent.
Solution:   Use FOR_ALL_ macros everywhere. (Yegappan Lakshmanan)
Files:      src/buffer.c, src/diff.c, src/edit.c, src/eval.c, src/evalfunc.c,
            src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c, src/fileio.c,
            src/globals.h, src/gui.c, src/gui_mac.c, src/if_lua.c,
            src/if_mzsch.c, src/if_perl.xs, src/if_ruby.c, src/if_tcl.c,
            src/main.c, src/mark.c, src/memfile.c, src/memline.c, src/misc1.c,
            src/move.c, src/netbeans.c, src/normal.c, src/option.c,
            src/quickfix.c, src/screen.c, src/spell.c, src/term.c,
            src/window.c, src/workshop.c

Patch 7.4.2102 (after 7.4.2101)
Problem:    Tiny build with GUI fails.
Solution:   Revert one FOR_ALL_ change.
Files:      src/gui.c

Patch 7.4.2103
Problem:    Can't have "augroup END" right after ":au!".
Solution:   Check for the bar character before the command argument.
Files:      src/fileio.c, src/testdir/test_autocmd.vim,
            runtime/doc/autocmd.txt

Patch 7.4.2104
Problem:    Code duplication when unreferencing a function.
Solution:   De-duplicate.
Files:      src/userfunc.c

Patch 7.4.2105
Problem:    Configure reports default features to be "normal" while it is
            "huge".
Solution:   Change the default text.  Build with newer autoconf.
Files:      src/configure.in, src/auto/configure

Patch 7.4.2106
Problem:    Clang warns about missing field in initializer.
Solution:   Define COMMA and use it.  (Kazunobu Kuriyama)
Files:      src/ex_cmds.c, src/globals.h, src/vim.h

Patch 7.4.2107 (after 7.4.2106)
Problem:    Misplaced equal sign.
Solution:   Remove it.
Files:      src/globals.h

Patch 7.4.2108
Problem:    Netbeans test is flaky.
Solution:   Wait for the cursor to be positioned.
Files:      src/testdir/test_netbeans.vim

Patch 7.4.2109
Problem:    Setting 'display' to "lastline" is a drastic change, while
            omitting it results in lots of "@" lines.
Solution:   Add "truncate" to show "@@@" for a truncated line.
Files:      src/option.h, src/screen.c, runtime/doc/options.txt

Patch 7.4.2110
Problem:    When there is an CmdUndefined autocmd then the error for a missing
            command is E464 instead of E492. (Manuel Ortega)
Solution:   Don't let the pointer be NULL.
Files:      src/ex_docmd.c, src/testdir/test_usercommands.vim

Patch 7.4.2111
Problem:    Defaults are very conservative.
Solution:   Move settings from vimrc_example.vim to defaults.vim.  Load
            defaults.vim if no .vimrc was found.
Files:      src/main.c, src/version.c, src/os_amiga.h, src/os_dos.h,
            src/os_mac.h, src/os_unix.h, src/feature.h, src/Makefile,
            runtime/vimrc_example.vim, runtime/defaults.vim,
            runtime/evim.vim, Filelist, runtime/doc/starting.txt

Patch 7.4.2112
Problem:    getcompletion(.., 'dir') returns a match with trailing "*" when
            there are no matches. (Chdiza)
Solution:   Return an empty list when there are no matches.  Add a trailing
            slash to directories. (Yegappan Lakshmanan)  Add tests for no
            matches. (closes #947)
Files:      src/evalfunc.c, src/testdir/test_cmdline.vim

Patch 7.4.2113
Problem:    Test for undo is flaky.
Solution:   Turn it into a new style test.  Use test_settime() to avoid
            flakyness.
Files:      src/Makefile, src/undo.c, src/testdir/test61.in,
            src/testdir/test61.ok, src/testdir/test_undo.vim,
            src/testdir/test_undolevels.vim, src/testdir/Make_all.mak,
            src/testdir/test_alot.vim

Patch 7.4.2114
Problem:    Tiny build fails.
Solution:   Always include vim_time().
Files:      src/ex_cmds.c

Patch 7.4.2115
Problem:    Loading defaults.vim with -C argument.
Solution:   Don't load the defaults script with -C argument.  Test sourcing
            the defaults script.  Set 'display' to "truncate".
Files:      src/main.c, src/Makefile, runtime/defaults.vim,
            src/testdir/test_startup.vim, src/testdir/Make_all.mak

Patch 7.4.2116
Problem:    The default vimrc for Windows is very conservative.
Solution:   Use the defaults.vim in the Windows installer.
Files:      src/dosinst.c

Patch 7.4.2117
Problem:    Deleting an augroup that still has autocmds does not give a
            warning.  The next defined augroup takes its place.
Solution:   Give a warning and prevent the index being used for another group
            name.
Files:      src/fileio.c, src/testdir/test_autocmd.vim

Patch 7.4.2118
Problem:    Mac: can't build with tiny features.
Solution:   Don't define FEAT_CLIPBOARD unconditionally. (Kazunobu Kuriyama)
Files:      src/vim.h

Patch 7.4.2119
Problem:    Closures are not supported.
Solution:   Capture variables in lambdas from the outer scope. (Yasuhiro
            Matsumoto, Ken Takata)
Files:      runtime/doc/eval.txt, src/eval.c, src/ex_cmds2.c, src/globals.h,
            src/proto/eval.pro, src/proto/userfunc.pro,
            src/testdir/test_lambda.vim, src/userfunc.c

Patch 7.4.2120
Problem:    User defined functions can't be a closure.
Solution:   Add the "closure" argument. Allow using :unlet on a bound
            variable. (Yasuhiro Matsumoto, Ken Takata)
Files:      runtime/doc/eval.txt, src/testdir/test_lambda.vim, src/userfunc.c,
            src/eval.c src/proto/userfunc.pro

Patch 7.4.2121
Problem:    No easy way to check if lambda and closure are supported.
Solution:   Add the +lambda feature.
Files:      src/evalfunc.c, src/version.c, src/testdir/test_lambda.vim

Patch 7.4.2122 (after 7.4.2118)
Problem:    Mac: don't get +clipboard in huge build.
Solution:   Move #define down below including feature.h
Files:      src/vim.h

Patch 7.4.2123
Problem:    No new style test for diff mode.
Solution:   Add a test.  Check that folds are in sync.
Files:      src/Makefile, src/testdir/test_diffmode.vim,
            src/testdir/Make_all.mak, src/testdir/test47.in,
            src/testdir/test47.ok

Patch 7.4.2124
Problem:    diffmode test leaves files behind, breaking another test.
Solution:   Delete the files.
Files:      src/testdir/test_diffmode.vim

Patch 7.4.2125
Problem:    Compiler warning for loss of data.
Solution:   Add a type cast. (Christian Brabandt)
Files:      src/message.c

Patch 7.4.2126
Problem:    No tests for :diffget and :diffput
Solution:   Add tests.
Files:      src/testdir/test_diffmode.vim

Patch 7.4.2127
Problem:    The short form of ":noswapfile" is ":noswap" instead of ":nos".
            (Kent Sibilev)
Solution:   Only require three characters.  Add a test for the short forms.
Files:      src/ex_docmd.c, src/testdir/test_usercommands.vim

Patch 7.4.2128
Problem:    Memory leak when saving for undo fails.
Solution:   Free allocated memory. (Hirohito Higashi)
Files:      src/ex_cmds.c

Patch 7.4.2129
Problem:    Memory leak when using timer_start(). (Dominique Pelle)
Solution:   Don't copy the callback when using a partial.
Files:      src/evalfunc.c

Patch 7.4.2130
Problem:    Pending timers cause false memory leak reports.
Solution:   Free all timers on exit.
Files:      src/ex_cmds2.c, src/proto/ex_cmds2.pro, src/misc2.c

Patch 7.4.2131
Problem:    More memory leaks when using partial, e.g. for "exit-cb".
Solution:   Don't copy the callback when using a partial.
Files:      src/channel.c

Patch 7.4.2132
Problem:    test_partial has memory leaks reported.
Solution:   Add a note about why this happens.
Files:      src/testdir/test_partial.vim

Patch 7.4.2133 (after 7.4.2128)
Problem:    Can't build with tiny features.
Solution:   Add #ifdef.
Files:      src/ex_cmds.c

Patch 7.4.2134
Problem:    No error for using function() badly.
Solution:   Check for passing wrong function name. (Ken Takata)
Files:      src/eval.c, src/evalfunc.c, src/proto/userfunc.pro,
            src/testdir/test_expr.vim, src/userfunc.c, src/vim.h

Patch 7.4.2135
Problem:    Various tiny issues.
Solution:   Update comments, white space, etc.
Files:      src/diff.c, src/digraph.c, src/testdir/test80.in,
            src/testdir/test_channel.vim, src/testdir/Makefile,
            runtime/menu.vim, src/INSTALLpc.txt, src/xpm/README.txt

Patch 7.4.2136
Problem:    Closure function fails.
Solution:   Don't reset uf_scoped when it points to another funccal.
Files:      src/userfunc.c, src/testdir/test_lambda.vim

Patch 7.4.2137
Problem:    Using function() with a name will find another function when it is
            redefined.
Solution:   Add funcref().  Refer to lambda using a partial.  Fix several
            reference counting issues.
Files:      src/vim.h, src/structs.h, src/userfunc.c, src/eval.c,
            src/evalfunc.c, src/channel.c, src/proto/eval.pro,
            src/proto/userfunc.pro, src/if_mzsch.c, src/regexp.c, src/misc2.c,
            src/if_py_both.h, src/testdir/test_expr.vim, runtime/doc/eval.txt

Patch 7.4.2138
Problem:    Test 86 and 87 fail.
Solution:   Call func_ref() also for regular functions.
Files:      src/if_py_both.h

Patch 7.4.2139
Problem:    :delfunction causes illegal memory access.
Solution:   Correct logic when deciding to free a function.
Files:      src/userfunc.c, src/testdir/test_lambda.vim

Patch 7.4.2140
Problem:    Tiny build fails.
Solution:   Add dummy typedefs.
Files:      src/structs.h

Patch 7.4.2141
Problem:    Coverity reports bogus NULL check.
Solution:   When checking for a variable in the funccal scope don't pass the
            varname.
Files:      src/userfunc.c, src/proto/userfunc.pro, src/eval.c

Patch 7.4.2142
Problem:    Leaking memory when redefining a function.
Solution:   Don't increment the function reference count when it's found by
            name. Don't remove the wrong function from the hashtab.  More
            reference counting fixes.
Files:      src/structs.h, src/userfunc.c

Patch 7.4.2143
Problem:    A funccal is garbage collected while it can still be used.
Solution:   Set copyID in all referenced functions.  Do not list lambda
            functions with ":function".
Files:      src/userfunc.c, src/proto/userfunc.pro, src/eval.c,
            src/testdir/test_lambda.vim

Patch 7.4.2144
Problem:    On MS-Windows quickfix does not handle a line with 1023 bytes
            ending in CR-LF properly.
Solution:   Don't consider CR a line break. (Ken Takata)
Files:      src/quickfix.c

Patch 7.4.2145
Problem:    Win32: Using CreateThread/ExitThread is not safe.
Solution:   Use _beginthreadex and return from the thread. (Ken Takata)
Files:      src/os_win32.c

Patch 7.4.2146
Problem:    Not enough testing for popup menu.  CTRL-E does not always work
            properly.
Solution:   Add more tests.  When using CTRL-E check if the popup menu is
            visible. (Christian Brabandt)
Files:      src/edit.c, src/testdir/test_popup.vim

Patch 7.4.2147 (after 7.4.2146)
Problem:    test_alot fails.
Solution:   Close window.
Files:      src/testdir/test_popup.vim

Patch 7.4.2148
Problem:    Not much testing for cscope.
Solution:   Add a test that uses the cscope program. (Christian Brabandt)
Files:      src/testdir/test_cscope.vim

Patch 7.4.2149
Problem:    If a test leaves a window open a following test may fail.
Solution:   Always close extra windows after running a test.
Files:      src/testdir/runtest.vim, src/testdir/test_popup.vim

Patch 7.4.2150
Problem:    Warning with MinGW 64. (John Marriott)
Solution:   Change return type. (Ken Takata)
Files:      src/os_win32.c

Patch 7.4.2151
Problem:    Quickfix test fails on MS-Windows.
Solution:   Close the help window. (Christian Brabandt)
Files:      src/testdir/test_quickfix.vim

Patch 7.4.2152
Problem:    No proper translation of messages with a count.
Solution:   Use ngettext(). (Sergey Alyoshin)
Files:      src/evalfunc.c, src/fold.c, src/os_win32.c, src/screen.c, src/vim.h

Patch 7.4.2153
Problem:    GUI test isn't testing much.
Solution:   Turn into a new style test.  Execute a shell command.
Files:      src/testdir/test_gui.vim, src/testdir/test16.in,
            src/testdir/test16.ok, src/testdir/Make_all.mak, src/Makefile,
            src/testdir/Make_vms.mms

Patch 7.4.2154
Problem:    Test_communicate() fails sometimes.
Solution:   Add it to the flaky tests.
Files:      src/testdir/runtest.vim

Patch 7.4.2155
Problem:    Quotes make GUI test fail on MS-Windows.
Solution:   Remove quotes, strip white space.
Files:      src/testdir/test_gui.vim

Patch 7.4.2156
Problem:    Compiler warning.
Solution:   Add type cast. (Ken Takata, Mike Williams)
Files:      src/os_win32.c

Patch 7.4.2157
Problem:    Test_job_start_fails() is expected to report memory leaks, making
            it hard to see other leaks in test_partial.
Solution:   Move Test_job_start_fails() to a separate test file.
Files:      src/testdir/test_partial.vim, src/testdir/test_job_fails.vim,
            src/Makefile, src/testdir/Make_all.mak

Patch 7.4.2158
Problem:    Result of getcompletion('', 'cscope') depends on previous
            completion. (Christian Brabandt)
Solution:   Call set_context_in_cscope_cmd().
Files:      src/evalfunc.c, src/testdir/test_cmdline.vim

Patch 7.4.2159
Problem:    Insufficient testing for cscope.
Solution:   Add more tests. (Dominique Pelle)
Files:      src/testdir/test_cscope.vim

Patch 7.4.2160
Problem:    setmatches() mixes up values. (Nikolai Pavlov)
Solution:   Save the string instead of reusing a shared buffer.
Files:      src/dict.c, src/evalfunc.c, src/testdir/test_expr.vim,

Patch 7.4.2161 (after 7.4.2160)
Problem:    Expression test fails without conceal feature.
Solution:   Only check "conceal" with the conceal feature.
Files:      src/testdir/test_expr.vim

Patch 7.4.2162
Problem:    Result of getcompletion('', 'sign') depends on previous
            completion.
Solution:   Call set_context_in_sign_cmd(). (Dominique Pelle)
Files:      src/evalfunc.c, src/testdir/test_cmdline.vim

Patch 7.4.2163
Problem:    match() and related functions tested with old style test.
Solution:   Convert to new style test. (Hirohito Higashi)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/test63.in,
            src/testdir/test63.ok, src/testdir/test_alot.vim,
            src/testdir/test_match.vim, src/testdir/test_matchstrpos.vim

Patch 7.4.2164
Problem:    It is not possible to use plugins in an "after" directory to tune
            the behavior of a package.
Solution:   First load plugins from non-after directories, then packages and
            finally plugins in after directories.
            Reset 'loadplugins' before executing --cmd arguments.
Files:      src/main.c, src/vim.h, src/ex_cmds2.c, src/testdir/Makefile,
            src/testdir/shared.vim, src/testdir/test_startup.vim,
            src/testdir/setup.vim, runtime/doc/starting.txt

Patch 7.4.2165 (after 7.4.2164)
Problem:    Startup test fails on MS-Windows.
Solution:   Don't check output if RunVim() returns zero.
Files:      src/testdir/test_startup.vim

Patch 7.4.2166 (after 7.4.2164)
Problem:    Small build can't run startup test.
Solution:   Skip the test.
Files:      src/testdir/test_startup.vim

Patch 7.4.2167 (after 7.4.2164)
Problem:    Small build can't run tests.
Solution:   Don't try setting 'packpath'.
Files:      src/testdir/setup.vim

Patch 7.4.2168
Problem:    Not running the startup test on MS-Windows.
Solution:   Write vimcmd.
Files:      src/testdir/Make_ming.mak, src/testdir/Make_dos.mak

Patch 7.4.2169 (after 7.4.2168)
Problem:    Startup test gets stuck on MS-Windows.
Solution:   Use double quotes.
Files:      src/testdir/shared.vim, src/testdir/test_startup.vim

Patch 7.4.2170
Problem:    Cannot get information about timers.
Solution:   Add timer_info().
Files:      src/evalfunc.c, src/ex_cmds2.c, src/proto/ex_cmds2.pro,
            runtime/doc/eval.txt

Patch 7.4.2171 (after 7.4.2170)
Problem:    MS-Windows build fails.
Solution:   Add QueryPerformanceCounter().
Files:      src/ex_cmds2.c

Patch 7.4.2172
Problem:    No test for "vim --help".
Solution:   Add a test.
Files:      src/testdir/test_startup.vim, src/testdir/shared.vim

Patch 7.4.2173 (after 7.4.2172)
Problem:    Can't test help on MS-Windows.
Solution:   Skip the test.
Files:      src/testdir/test_startup.vim

Patch 7.4.2174
Problem:    Adding duplicate flags to 'whichwrap' leaves commas behind.
Solution:   Also remove the commas. (Naruhiko Nishino)
Files:      src/Makefile, src/option.c, src/testdir/Make_all.mak,
            src/testdir/test_alot.vim, src/testdir/test_options.in,
            src/testdir/test_options.ok, src/testdir/test_options.vim

Patch 7.4.2175
Problem:    Insufficient testing of cscope.
Solution:   Add more tests. (Dominique Pelle)
Files:      src/testdir/test_cscope.vim

Patch 7.4.2176
Problem:    #ifdefs in main() are complicated.
Solution:   Always define vim_main2().  Move params to the file level.
            (suggested by Ken Takata)
Files:      src/main.c, src/structs.h, src/vim.h, src/if_mzsch.c,
            src/proto/if_mzsch.pro

Patch 7.4.2177
Problem:    No testing for -C and -N command line flags, file arguments,
            startuptime.
Solution:   Add tests.
Files:      src/testdir/test_startup.vim, src/testdir/shared.vim

Patch 7.4.2178
Problem:    No test for reading from stdin.
Solution:   Add a test.
Files:      src/testdir/test_startup.vim, src/testdir/shared.vim

Patch 7.4.2179 (after 7.4.2178)
Problem:    Reading from stdin test fails on MS-Windows.
Solution:   Strip the extra space.
Files:      src/testdir/test_startup.vim

Patch 7.4.2180
Problem:    There is no easy way to stop all timers.  There is no way to
            temporary pause a timer.
Solution:   Add timer_stopall() and timer_pause().
Files:      src/evalfunc.c, src/ex_cmds2.c, src/proto/ex_cmds2.pro,
            src/structs.h, src/testdir/test_timers.vim,
            src/testdir/shared.vim, runtime/doc/eval.txt

Patch 7.4.2181
Problem:    Compiler warning for unused variable.
Solution:   Remove it. (Dominique Pelle)
Files:      src/ex_cmds2.c

Patch 7.4.2182
Problem:    Color Grey40 used in startup but not in the short list.
Solution:   Add Grey40 to the builtin colors.
Files:      src/term.c

Patch 7.4.2183
Problem:    Sign tests are old style.
Solution:   Turn them into new style tests. (Dominique Pelle)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/test_signs.in,
            src/testdir/test_signs.ok, src/testdir/test_signs.vim,

Patch 7.4.2184
Problem:    Tests that use RunVim() do not actually perform the test.
Solution:   Use "return" instead of "call". (Ken Takata)
Files:      src/testdir/shared.vim

Patch 7.4.2185
Problem:    Test glob2regpat does not test much.
Solution:   Add a few more test cases. (Dominique Pelle)
Files:      src/testdir/test_glob2regpat.vim

Patch 7.4.2186
Problem:    Timers test is flaky.
Solution:   Relax the sleep time check.
Files:      src/testdir/test_timers.vim

Patch 7.4.2187 (after 7.4.2185)
Problem:    glob2regpat test fails on Windows.
Solution:   Remove the checks that use backslashes.
Files:      src/testdir/test_glob2regpat.vim

Patch 7.4.2188 (after 7.4.2146)
Problem:    Completion does not work properly with some plugins.
Solution:   Revert the part related to typing CTRL-E. (closes #972)
Files:      src/edit.c, src/testdir/test_popup.vim

Patch 7.4.2189
Problem:    Cannot detect encoding in a fifo.
Solution:   Extend the stdin way of detecting encoding to fifo.  Add a test
            for detecting encoding on stdin and fifo. (Ken Takata)
Files:      src/buffer.c, src/fileio.c, src/Makefile,
            src/testdir/Make_all.mak, src/testdir/test_startup_utf8.vim,
            src/vim.h

Patch 7.4.2190
Problem:    When startup test fails it's not easy to find out why.
            GUI test fails with Gnome.
Solution:   Add the help entry matches to a list an assert that.
            Set $HOME for Gnome to create .gnome2 directory.
Files:      src/testdir/test_startup.vim, src/testdir/test_gui.vim

Patch 7.4.2191
Problem:    No automatic prototype for vim_main2().
Solution:   Move the #endif. (Ken Takata)
Files:      src/main.c, src/vim.h, src/proto/main.pro

Patch 7.4.2192
Problem:    Generating prototypes with Cygwin doesn't work well.
Solution:   Change #ifdefs. (Ken Takata)
Files:      src/gui.h, src/gui_w32.c, src/ops.c, src/proto/fileio.pro,
            src/proto/message.pro, src/proto/normal.pro, src/proto/ops.pro,
            src/vim.h

Patch 7.4.2193
Problem:    With Gnome when the GUI can't start test_startup hangs.
Solution:   Call gui_mch_early_init_check(). (Hirohito Higashi)
Files:      src/gui.c, src/gui_gtk_x11.c, src/proto/gui_gtk_x11.pro

Patch 7.4.2194
Problem:    Sign tests don't cover enough.
Solution:   Add more test cases. (Dominique Pelle)
Files:      src/testdir/test_signs.vim

Patch 7.4.2195
Problem:    MS-Windows: The vimrun program does not support Unicode.
Solution:   Use GetCommandLineW().  Cleanup old #ifdefs. (Ken Takata)
Files:      src/vimrun.c

Patch 7.4.2196
Problem:    glob2regpat test doesn't test everything on MS-Windows.
Solution:   Add patterns with backslash handling.
Files:      src/testdir/test_glob2regpat.vim

Patch 7.4.2197
Problem:    All functions are freed on exit, which may hide leaks.
Solution:   Only free named functions, not reference counted ones.
Files:      src/userfunc.c

Patch 7.4.2198
Problem:    Test alot sometimes fails under valgrind. (Dominique Pelle)
Solution:   Avoid passing a callback with the wrong number of arguments.
Files:      src/testdir/test_partial.vim

Patch 7.4.2199
Problem:    In the GUI the cursor is hidden when redrawing any window,
            causing flicker.
Solution:   Only undraw the cursor when updating the window it's in.
Files:      src/screen.c, src/gui.c, src/proto/gui.pro, src/gui_gtk_x11.c

Patch 7.4.2200
Problem:    Cannot get all information about a quickfix list.
Solution:   Add an optional argument to get/set loc/qf list(). (Yegappan
            Lakshmanan)
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/proto/quickfix.pro,
            src/quickfix.c, src/tag.c, src/testdir/test_quickfix.vim

Patch 7.4.2201
Problem:    The sign column disappears when the last sign is deleted.
Solution:   Add the 'signcolumn' option. (Christian Brabandt)
Files:      runtime/doc/options.txt, runtime/optwin.vim, src/edit.c,
            src/move.c, src/option.c, src/option.h, src/proto/option.pro,
            src/screen.c, src/structs.h, src/testdir/test_options.vim

Patch 7.4.2202
Problem:    Build fails with small features.
Solution:   Correct option initialization.
Files:      src/option.c

Patch 7.4.2203
Problem:    Test fails with normal features.
Solution:   Check is signs are supported.
Files:      src/testdir/test_options.vim

Patch 7.4.2204
Problem:    It is not easy to get information about buffers, windows and
            tabpages.
Solution:   Add getbufinfo(), getwininfo() and gettabinfo(). (Yegappan
            Lakshmanan)
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/dict.c,
            src/evalfunc.c, src/option.c, src/proto/dict.pro,
            src/proto/option.pro, src/proto/window.pro,
            src/testdir/Make_all.mak, src/testdir/test_bufwintabinfo.vim,
            src/window.c, src/Makefile

Patch 7.4.2205
Problem:    'wildignore' always applies to getcompletion().
Solution:   Add an option to use 'wildignore' or not. (Yegappan Lakshmanan)
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/testdir/test_cmdline.vim

Patch 7.4.2206
Problem:    Warning for unused function.
Solution:   Put the function inside #ifdef. (John Marriott)
Files:      src/evalfunc.c

Patch 7.4.2207
Problem:    The +xpm feature is not sorted properly in :version output.
Solution:   Move it up. (Tony Mechelynck)
Files:      src/version.c

Patch 7.4.2208
Problem:    Test for mappings is old style.
Solution:   Convert the test to new style.
Files:      src/testdir/test_mapping.vim, src/testdir/test_mapping.in,
            src/testdir/test_mapping.ok, src/Makefile,
            src/testdir/test_alot.vim, src/testdir/Make_all.mak

Patch 7.4.2209
Problem:    Cannot map <M-">. (Stephen Riehm)
Solution:   Solve the memory access problem in another way. (Dominique Pelle)
            Allow for using <M-\"> in a string.
Files:      src/eval.c, src/gui_mac.c, src/misc2.c, src/option.c,
            src/proto/misc2.pro, src/syntax.c, src/term.c,
            src/testdir/test_mapping.vim

Patch 7.4.2210
Problem:    On OSX configure mixes up a Python framework and the Unix layout.
Solution:   Make configure check properly. (Tim D. Smith, closes #980)
Files:      src/configure.in, src/auto/configure

Patch 7.4.2211
Problem:    Mouse support is not automatically enabled with simple term.
Solution:   Recognize "st" and other names. (Manuel Schiller, closes #963)
Files:      src/os_unix.c

Patch 7.4.2212
Problem:    Mark " is not set when closing a window in another tab. (Guraga)
Solution:   Check all tabs for the window to be valid. (based on patch by
            Hirohito Higashi, closes #974)
Files:      src/window.c, src/proto/window.pro, src/buffer.c,
            src/testdir/test_viminfo.vim

Patch 7.4.2213
Problem:    Cannot highlight the "~" lines at the end of a window differently.
Solution:   Add the EndOfBuffer highlighting. (Marco Hinz, James McCoy)
Files:      runtime/doc/options.txt, runtime/doc/syntax.txt, src/option.c,
            src/screen.c, src/syntax.c, src/vim.h

Patch 7.4.2214
Problem:    A font that uses ligatures messes up the screen display.
Solution:   Put spaces between characters when building the glyph table.
            (based on a patch from Manuel Schiller)
Files:      src/gui_gtk_x11.c

Patch 7.4.2215
Problem:    It's not easy to find out if a window is a quickfix or location
            list window.
Solution:   Add "loclist" and "quickfix" entries to the dict returned by
            getwininfo(). (Yegappan Lakshmanan)
Files:      runtime/doc/eval.txt, src/evalfunc.c,
            src/testdir/test_bufwintabinfo.vim

Patch 7.4.2216 (after 7.4.2215)
Problem:    Test fails without the +sign feature.
Solution:   Only check for signcolumn with the +sign feature.
Files:      src/testdir/test_bufwintabinfo.vim

Patch 7.4.2217
Problem:    When using matchaddpos() a character after the end of the line can
            be highlighted.
Solution:   Only highlight existing characters. (Hirohito Higashi)
Files:      src/screen.c, src/structs.h, src/testdir/test_match.vim

Patch 7.4.2218
Problem:    Can't build with +timers when +digraph is not included.
Solution:   Change #ifdef for e_number_exp. (Damien)
Files:      src/globals.h

Patch 7.4.2219
Problem:    Recursive call to substitute gets stuck in sandbox. (Nikolai
            Pavlov)
Solution:   Handle the recursive call. (Christian Brabandt, closes #950)
            Add a test.
Files:      src/ex_cmds.c, src/testdir/test_regexp_latin.vim

Patch 7.4.2220
Problem:    printf() gives an error when the argument for %s is not a string.
            (Ozaki Kiichi)
Solution:   Behave like invoking string() on the argument. (Ken Takata)
Files:      runtime/doc/eval.txt, src/message.c, src/testdir/test_expr.vim

Patch 7.4.2221
Problem:    printf() does not support binary format.
Solution:   Add %b and %B. (Ozaki Kiichi)
Files:      runtime/doc/eval.txt, src/message.c, src/testdir/test_expr.vim

Patch 7.4.2222
Problem:    Sourcing a script where a character has 0x80 as a second byte does
            not work. (Filipe L B Correia)
Solution:   Turn 0x80 into K_SPECIAL KS_SPECIAL KE_FILLER. (Christian
            Brabandt, closes #728)  Add a test case.
Files:      src/getchar.c, src/proto/getchar.pro, src/misc1.c,
            src/testdir/test_regexp_utf8.vim

Patch 7.4.2223
Problem:    Buffer overflow when using latin1 character with feedkeys().
Solution:   Check for an illegal character.  Add a test.
Files:      src/testdir/test_regexp_utf8.vim, src/testdir/test_source_utf8.vim,
            src/testdir/test_alot_utf8.vim, src/Makefile, src/getchar.c,
            src/macros.h, src/evalfunc.c, src/os_unix.c, src/os_win32.c,
            src/spell.c,

Patch 7.4.2224
Problem:    Compiler warnings with older compiler and 64 bit numbers.
Solution:   Add "LL" to large values. (Mike Williams)
Files:      src/eval.c, src/evalfunc.c

Patch 7.4.2225
Problem:    Crash when placing a sign in a deleted buffer.
Solution:   Check for missing buffer name. (Dominique Pelle). Add a test.
Files:      src/ex_cmds.c, src/testdir/test_signs.vim

Patch 7.4.2226
Problem:    The field names used by getbufinfo(), gettabinfo() and
            getwininfo() are not consistent.
Solution:   Use bufnr, winnr and tabnr. (Yegappan Lakshmanan)
Files:      runtime/doc/eval.txt, src/evalfunc.c,
            src/testdir/test_bufwintabinfo.vim

Patch 7.4.2227
Problem:    Tab page tests are old style.
Solution:   Change into new style tests. (Hirohito Higashi)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/test62.in,
            src/testdir/test62.ok, src/testdir/test_alot.vim,
            src/testdir/test_tabpage.vim

Patch 7.4.2228
Problem:    Test files have inconsistent modelines.
Solution:   Don't set 'tabstop' to 2, use 'sts' and 'sw'.
Files:      src/testdir/README.txt, src/testdir/test_backspace_opt.vim,
            src/testdir/test_digraph.vim, src/testdir/test_gn.vim
            src/testdir/test_help_tagjump.vim,
            src/testdir/test_increment_dbcs.vim,
            src/testdir/test_increment.vim, src/testdir/test_match.vim,
            src/testdir/test_tagjump.vim, src/testdir/test_window_cmd.vim,
            src/testdir/test_regexp_latin.vim, src/testdir/test_timers.vim

Patch 7.4.2229
Problem:    Startup test fails on Solaris.
Solution:   Recognize a character device. (Danek Duvall)
Files:      src/buffer.c, src/fileio.c, src/proto/fileio.pro, src/vim.h

Patch 7.4.2230
Problem:    There is no equivalent of 'smartcase' for a tag search.
Solution:   Add value "followscs" and "smart" to 'tagcase'. (Christian
            Brabandt, closes #712) Turn tagcase test into new style.
Files:      runtime/doc/options.txt, runtime/doc/tagsrch.txt, src/option.h,
            src/tag.c, src/search.c, src/proto/search.pro,
            src/testdir/test_tagcase.in, src/testdir/test_tagcase.ok,
            src/testdir/test_tagcase.vim, src/Makefile,
            src/testdir/Make_all.mak, src/testdir/test_alot.vim

Patch 7.4.2231
Problem:    ":oldfiles" output is a very long list.
Solution:   Add a pattern argument. (Coot, closes #575)
Files:      runtime/doc/starting.txt, src/ex_cmds.h, src/eval.c,
            src/ex_cmds.c, src/proto/eval.pro, src/proto/ex_cmds.pro,
            src/testdir/test_viminfo.vim

Patch 7.4.2232
Problem:    The default ttimeoutlen is very long.
Solution:   Use "100". (Hirohito Higashi)
Files:      runtime/defaults.vim

Patch 7.4.2233
Problem:    Crash when using funcref() with invalid name. (Dominique Pelle)
Solution:   Check for NULL translated name.
Files:      src/evalfunc.c, src/testdir/test_expr.vim

Patch 7.4.2234
Problem:    Can't build with +eval but without +quickfix. (John Marriott)
Solution:   Move skip_vimgrep_pat() to separate #ifdef block.
Files:      src/quickfix.c

Patch 7.4.2235
Problem:    submatch() does not check for a valid argument.
Solution:   Give an error if the argument is out of range. (Dominique Pelle)
Files:      src/evalfunc.c, src/testdir/test_expr.vim

Patch 7.4.2236
Problem:    The 'langnoremap' option leads to double negatives.  And it does
            not work for the last character of a mapping.
Solution:   Add 'langremap' with the opposite value.  Keep 'langnoremap' for
            backwards compatibility.  Make it work for the last character of a
            mapping.  Make the test work.
Files:      runtime/doc/options.txt, runtime/defaults.vim, src/option.c,
            src/option.h, src/macros.h, src/testdir/test_mapping.vim

Patch 7.4.2237
Problem:    Can't use "." and "$" with ":tab".
Solution:   Support a range for ":tab". (Hirohito Higashi)
Files:      runtime/doc/tabpage.txt, src/ex_docmd.c,
            src/testdir/test_tabpage.vim

Patch 7.4.2238
Problem:    With SGR mouse reporting (suckless terminal) the mouse release and
            scroll up/down is confused.
Solution:   Don't see a release as a scroll up/down. (Ralph Eastwood)
Files:      src/term.c

Patch 7.4.2239
Problem:    Warning for missing declaration of skip_vimgrep_pat(). (John
            Marriott)
Solution:   Move it to another file.
Files:      src/quickfix.c, src/proto/quickfix.pro, src/ex_cmds.c,
            src/proto/ex_cmds.pro

Patch 7.4.2240
Problem:    Tests using the sleep time can be flaky.
Solution:   Use reltime() if available. (Partly by Shane Harper)
Files:      src/testdir/shared.vim, src/testdir/test_timers.vim

Patch 7.4.2241 (after 7.4.2240)
Problem:    Timer test sometimes fails.
Solution:   Increase the maximum time for repeating timer.
Files:      src/testdir/test_timers.vim

Patch 7.4.2242 (after 7.4.2240)
Problem:    Timer test sometimes fails.
Solution:   Increase the maximum time for callback timer test.
Files:      src/testdir/test_timers.vim

Patch 7.4.2243
Problem:    Warning for assigning negative value to unsigned. (Danek Duvall)
Solution:   Make cterm_normal_fg_gui_color and _bg_ guicolor_T, cast to long_u
            only when an unsigned is needed.
Files:      src/structs.h, src/globals.h, src/screen.c, src/term.c,
            src/syntax.c, src/gui_gtk_x11.c, src/gui.c, src/gui_mac.c,
            src/gui_photon.c, src/gui_w32.c, src/gui_x11.c,
            src/proto/term.pro, src/proto/gui_gtk_x11.pro,
            src/proto/gui_mac.pro, src/proto/gui_photon.pro,
            src/proto/gui_w32.pro, src/proto/gui_x11.pro

Patch 7.4.2244
Problem:    Adding pattern to ":oldfiles" is not a generic solution.
Solution:   Add the ":filter /pat/ cmd" command modifier.  Only works for some
            commands right now.
Files:      src/structs.h, src/ex_docmd.c, src/ex_cmds.h, src/message.c,
            src/proto/message.pro, runtime/doc/starting.txt,
            runtime/doc/various.txt, src/testdir/test_viminfo.vim,
            src/testdir/test_alot.vim, src/testdir/test_filter_cmd.vim,
            src/Makefile

Patch 7.4.2245 (after 7.4.2244)
Problem:    Filter test fails.
Solution:   Include missing changes.
Files:      src/buffer.c

Patch 7.4.2246 (after 7.4.2244)
Problem:    Oldfiles test fails.
Solution:   Include missing changes.
Files:      src/ex_cmds.c

Patch 7.4.2247 (after 7.4.2244)
Problem:    Tiny build fails. (Tony Mechelynck)
Solution:   Remove #ifdef.
Files:      src/ex_cmds.c

Patch 7.4.2248
Problem:    When cancelling the :ptjump prompt a preview window is opened for
            a following command.
Solution:   Reset g_do_tagpreview. (Hirohito Higashi)  Add a test.  Avoid that
            the test runner gets stuck in trying to close a window.
Files:      src/tag.c, src/testdir/test_tagjump.vim, src/testdir/runtest.vim

Patch 7.4.2249
Problem:    Missing colon in error message.
Solution:   Add the colon. (Dominique Pelle)
Files:      src/userfunc.c

Patch 7.4.2250
Problem:    Some error messages cannot be translated.
Solution:   Enclose them in _() and N_(). (Dominique Pelle)
Files:      src/channel.c, src/evalfunc.c, src/ex_cmds.c, src/spell.c,
            src/window.c

Patch 7.4.2251
Problem:    In rare cases diffing 4 buffers is not enough.
Solution:   Raise the limit to 8. (closes #1000)
Files:      src/structs.h, runtime/doc/diff.txt

Patch 7.4.2252
Problem:    Compiler warnings for signed/unsigned in expression.
Solution:   Remove type cast. (Dominique Pelle)
Files:      src/vim.h

Patch 7.4.2253
Problem:    Check for Windows 3.1 will always return false.  (Christian
            Brabandt)
Solution:   Remove the dead code.
Files:      src/gui_w32.c, src/evalfunc.c, src/ex_cmds.c, src/option.c,
            src/os_win32.c, src/version.c, src/proto/gui_w32.pro

Patch 7.4.2254
Problem:    Compiler warnings in MzScheme code.
Solution:   Add UNUSED.  Remove unreachable code.
Files:      src/if_mzsch.c

Patch 7.4.2255
Problem:    The script that checks translations can't handle plurals.
Solution:   Check for plural msgid and msgstr entries.  Leave the cursor on
            the first error.
Files:      src/po/check.vim

Patch 7.4.2256
Problem:    Coverity complains about null pointer check.
Solution:   Remove wrong and superfluous error check.
Files:      src/eval.c

Patch 7.4.2257
Problem:    Coverity complains about not checking for NULL.
Solution:   Check for out of memory.
Files:      src/if_py_both.h

Patch 7.4.2258
Problem:    Two JSON messages are sent without a separator.
Solution:   Separate messages with a NL. (closes #1001)
Files:      src/json.c, src/channel.c, src/vim.h, src/testdir/test_channel.py,
            src/testdir/test_channel.vim, runtime/doc/channel.txt

Patch 7.4.2259
Problem:    With 'incsearch' can only see the next match.
Solution:   Make CTRL-N/CTRL-P move to the previous/next match. (Christian
            Brabandt)
Files:      runtime/doc/cmdline.txt, src/ex_getln.c, src/testdir/Make_all.mak,
            src/testdir/test_search.vim, src/Makefile

Patch 7.4.2260 (after 7.4.2258)
Problem:    Channel test is flaky.
Solution:   Add a newline to separate JSON messages.
Files:      src/testdir/test_channel.vim

Patch 7.4.2261 (after 7.4.2259)
Problem:    Build fails with small features.
Solution:   Move "else" inside the #ifdef.
Files:      src/ex_getln.c

Patch 7.4.2262
Problem:    Fail to read register content from viminfo if it is 438 characters
            long. (John Chen)
Solution:   Adjust the check for line wrapping. (closes #1010)
Files:      src/testdir/test_viminfo.vim, src/ex_cmds.c

Patch 7.4.2263
Problem:    :filter does not work for many commands.  Can only get matching
            messages.
Solution:   Make :filter work for :command, :map, :list, :number and :print.
            Make ":filter!" show non-matching lines.
Files:      src/getchar.c, src/ex_cmds.c, src/ex_cmds.h, src/ex_docmd.c,
            src/message.c, src/structs.h, src/testdir/test_filter_cmd.vim

Patch 7.4.2264
Problem:    When adding entries to an empty quickfix list the title is reset.
Solution:   Improve handling of the title. (Yegappan Lakshmanan)
Files:      src/testdir/test_quickfix.vim, src/quickfix.c

Patch 7.4.2265
Problem:    printf() isn't tested much.
Solution:   Add more tests for printf(). (Dominique Pelle)
Files:      src/testdir/test_expr.vim

Patch 7.4.2266 (after 7.4.2265)
Problem:    printf() test fails on Windows. "-inf" is not used.
Solution:   Check for Windows-specific values for "nan".  Add sign to "inf"
            when appropriate.
Files:      src/message.c, src/testdir/test_expr.vim

Patch 7.4.2267 (after 7.4.2266)
Problem:    Build fails on MS-Windows.
Solution:   Add define to get isinf().
Files:      src/message.c

Patch 7.4.2268 (after 7.4.2259)
Problem:    Using CTRL-N and CTRL-P for incsearch shadows completion keys.
Solution:   Use CTRL-T and CTRL-G instead.
Files:      runtime/doc/cmdline.txt, src/ex_getln.c,
            src/testdir/test_search.vim

Patch 7.4.2269
Problem:    Using 'hlsearch' highlighting instead of matchpos if there is no
            search match.
Solution:   Pass NULL as last item to next_search_hl() when searching for
            'hlsearch' match. (Shane Harper, closes #1013)
Files:      src/screen.c, src/testdir/test_match.vim.

Patch 7.4.2270
Problem:    Insufficient testing for NUL bytes on a raw channel.
Solution:   Add a test for writing and reading.
Files:      src/testdir/test_channel.vim

Patch 7.4.2271
Problem:    Netbeans test doesn't read settings from file.
Solution:   Use "-Xnbauth".
Files:      src/testdir/test_netbeans.vim

Patch 7.4.2272
Problem:    getbufinfo(), getwininfo() and gettabinfo() are inefficient.
Solution:   Instead of making a copy of the variables dictionary, use a
            reference.
Files:      src/evalfunc.c

Patch 7.4.2273
Problem:    getwininfo() and getbufinfo() are inefficient.
Solution:   Do not make a copy of all window/buffer-local options.  Make it
            possible to get them with gettabwinvar() or getbufvar().
Files:      src/evalfunc.c, src/eval.c, src/testdir/test_bufwintabinfo.vim,
            runtime/doc/eval.txt

Patch 7.4.2274
Problem:    Command line completion on "find **/filename" drops sub-directory.
Solution:   Handle this case separately. (Harm te Hennepe, closes #932, closes
            #939)
Files:      src/misc1.c, src/testdir/test_cmdline.vim

Patch 7.4.2275
Problem:    ":diffoff!" does not remove filler lines.
Solution:   Force a redraw and invalidate the cursor. (closes #1014)
Files:      src/diff.c, src/testdir/test_diffmode.vim

Patch 7.4.2276
Problem:    Command line test fails on Windows when run twice.
Solution:   Wipe the buffer so that the directory can be deleted.
Files:      src/testdir/test_cmdline.vim

Patch 7.4.2277
Problem:    Memory leak in getbufinfo() when there is a sign. (Dominique
            Pelle)
Solution:   Remove extra vim_strsave().
Files:      src/evalfunc.c

Patch 7.4.2278
Problem:    New users have no idea of the 'scrolloff' option.
Solution:   Set 'scrolloff' in defaults.vim.
Files:      runtime/defaults.vim

Patch 7.4.2279
Problem:    Starting diff mode with the cursor in the last line might end up
            only showing one closed fold. (John Beckett)
Solution:   Scroll the window to show the same relative cursor position.
Files:      src/diff.c, src/window.c, src/proto/window.pro

Patch 7.4.2280
Problem:    printf() doesn't handle infinity float values correctly.
Solution:   Add a table with possible infinity values. (Dominique Pelle)
Files:      src/message.c, src/testdir/test_expr.vim

Patch 7.4.2281
Problem:    Timer test fails sometimes.
Solution:   Reduce minimum time by 1 msec.
Files:      src/testdir/test_timers.vim

Patch 7.4.2282
Problem:    When a child process is very fast waiting 10 msec for it is
            noticeable. (Ramel Eshed)
Solution:   Start waiting for 1 msec and gradually increase.
Files:      src/os_unix.c

Patch 7.4.2283
Problem:    Part of ":oldfiles" command isn't cleared. (Lifepillar)
Solution:   Clear the rest of the line. (closes 1018)
Files:      src/ex_cmds.c

Patch 7.4.2284
Problem:    Comment in scope header file is outdated. (KillTheMule)
Solution:   Point to the help instead. (closes #1017)
Files:      src/if_cscope.h

Patch 7.4.2285
Problem:    Generated files are outdated.
Solution:   Generate the files.  Avoid errors when generating prototypes.
Files:      src/if_mzsch.h, src/Makefile, src/option.h, src/os_mac_conv.c,
            src/os_amiga.c, src/vim.h, src/structs.h, src/os_win32.c,
            src/if_lua.c, src/proto/mbyte.pro

Patch 7.4.2286
Problem:    The tee program isn't included.  Makefile contains build
            instructions that don't work.
Solution:   Update the Filelist and build instructions. Remove build
            instructions for DOS and old Windows.  Add the tee program.
Files:      Filelist, Makefile, nsis/gvim.nsi

Patch 7.4.2287
Problem:    The callback passed to ch_sendraw() is not used.
Solution:   Pass the read part, not the send part. (haya14busa, closes #1019)
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 7.4.2288
Problem:    MS-Windows build instructions are clumsy. "dosbin" doesn't build.
Solution:   Add rename.bat. Fix building "dosbin".
Files:      Makefile, Filelist, rename.bat

Patch 7.4.2289
Problem:    When installing and $DESTDIR is set the icons probably won't be
            installed.
Solution:   Create the icon directories if $DESTDIR is not empty. (Danek
            Duvall)
Files:      src/Makefile

Patch 7.4.2290
Problem:    Compiler warning in tiny build. (Tony Mechelynck)
Solution:   Add #ifdef around infinity_str().
Files:      src/message.c

Patch 7.4.2291
Problem:    printf() handles floats wrong when there is a sign.
Solution:   Fix placing the sign.  Add tests. (Dominique Pelle)
Files:      src/testdir/test_expr.vim, runtime/doc/eval.txt, src/message.c

Patch 7.4.2292 (after 7.4.2291)
Problem:    Not all systems understand %F in printf().
Solution:   Use %f.
Files:      src/message.c

Patch 7.4.2293
Problem:    Modelines in source code are inconsistent.
Solution:   Use the same line in most files.  Add 'noet'.  (Naruhiko Nishino)
Files:      src/alloc.h, src/arabic.c, src/arabic.h, src/ascii.h,
            src/blowfish.c, src/buffer.c, src/channel.c, src/charset.c,
            src/crypt.c, src/crypt_zip.c, src/dict.c, src/diff.c,
            src/digraph.c, src/dosinst.c, src/dosinst.h, src/edit.c,
            src/eval.c, src/evalfunc.c, src/ex_cmds.c, src/ex_cmds.h,
            src/ex_cmds2.c, src/ex_docmd.c, src/ex_eval.c, src/ex_getln.c,
            src/farsi.c, src/farsi.h, src/feature.h, src/fileio.c, src/fold.c,
            src/getchar.c, src/glbl_ime.cpp, src/glbl_ime.h, src/globals.h,
            src/gui.c, src/gui.h, src/gui_at_fs.c, src/gui_at_sb.c,
            src/gui_at_sb.h, src/gui_athena.c, src/gui_beval.c,
            src/gui_beval.h, src/gui_gtk.c, src/gui_gtk_f.c, src/gui_gtk_f.h,
            src/gui_gtk_vms.h, src/gui_gtk_x11.c, src/gui_mac.c,
            src/gui_motif.c, src/gui_photon.c, src/gui_w32.c, src/gui_x11.c,
            src/gui_x11_pm.h, src/gui_xmdlg.c, src/gui_xmebw.c,
            src/gui_xmebw.h, src/gui_xmebwp.h, src/hangulin.c, src/hardcopy.c,
            src/hashtab.c, src/if_cscope.c, src/if_cscope.h, src/if_mzsch.c,
            src/if_mzsch.h, src/if_ole.cpp, src/if_perl.xs, src/if_perlsfio.c,
            src/if_python3.c, src/if_ruby.c, src/if_tcl.c, src/if_xcmdsrv.c,
            src/integration.c, src/integration.h, src/iscygpty.c, src/json.c,
            src/json_test.c, src/keymap.h, src/list.c, src/macros.h,
            src/main.c, src/mark.c, src/mbyte.c, src/memfile.c,
            src/memfile_test.c, src/memline.c, src/menu.c, src/message.c,
            src/message_test.c, src/misc1.c, src/misc2.c, src/move.c,
            src/nbdebug.c, src/nbdebug.h, src/netbeans.c, src/normal.c,
            src/ops.c, src/option.c, src/option.h, src/os_amiga.c,
            src/os_amiga.h, src/os_beos.c, src/os_beos.h, src/os_dos.h,
            src/os_mac.h, src/os_mac_conv.c, src/os_macosx.m, src/os_mint.h,
            src/os_mswin.c, src/os_qnx.c, src/os_qnx.h, src/os_unix.c,
            src/os_unix.h, src/os_unixx.h, src/os_vms.c, src/os_w32dll.c,
            src/os_w32exe.c, src/os_win32.c, src/os_win32.h, src/popupmnu.c,
            src/proto.h, src/pty.c, src/quickfix.c, src/regexp.c,
            src/regexp.h, src/regexp_nfa.c, src/screen.c, src/search.c,
            src/sha256.c, src/spell.c, src/spell.h, src/spellfile.c,
            src/structs.h, src/syntax.c, src/tag.c, src/term.c, src/term.h,
            src/termlib.c, src/ui.c, src/undo.c, src/uninstal.c,
            src/userfunc.c, src/version.c, src/version.h, src/vim.h,
            src/vim.rc, src/vimio.h, src/vimrun.c, src/winclip.c,
            src/window.c, src/workshop.c, src/workshop.h, src/wsdebug.c,
            src/wsdebug.h, src/xpm_w32.c

Patch 7.4.2294
Problem:    Sign test fails on MS-Windows when using the distributed zip
            archives.
Solution:   Create dummy files instead of relying on files in the pixmaps
            directory.
Files:      src/testdir/test_signs.vim

Patch 7.4.2295 (after 7.4.2293)
Problem:    Cscope test fails.
Solution:   Avoid checking for specific line and column numbers.
Files:      src/testdir/test_cscope.vim

Patch 7.4.2296
Problem:    No tests for :undolist and "U" command.
Solution:   Add tests. (Dominique Pelle)
Files:      src/testdir/test_undo.vim

Patch 7.4.2297
Problem:    When starting a job that reads from a buffer and reaching the end,
            the job hangs.
Solution:   Close the pipe or socket when all lines were read.
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 7.4.2298
Problem:    It is not possible to close the "in" part of a channel.
Solution:   Add ch_close_in().
Files:      src/evalfunc.c, src/channel.c, src/proto/channel.pro,
            src/testdir/test_channel.vim, runtime/doc/eval.txt,
            runtime/doc/channel.txt

Patch 7.4.2299
Problem:    QuickFixCmdPre and QuickFixCmdPost autocommands are not always
            triggered.
Solution:   Also trigger on ":cexpr", ":cbuffer", etc. (Yegappan Lakshmanan)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.2300
Problem:    Get warning for deleting autocommand group when the autocommand
            using the group is scheduled for deletion. (Pavol Juhas)
Solution:   Check for deleted autocommand.
Files:      src/fileio.c, src/testdir/test_autocmd.vim

Patch 7.4.2301
Problem:    MS-Windows: some files remain after testing.
Solution:   Close the channel output file.  Wait for the file handle to be
            closed before deleting the file.
Files:      src/os_win32.c, src/testdir/test_channel.vim

Patch 7.4.2302
Problem:    Default interface versions for MS-Windows are outdated.
Solution:   Use Active Perl 5.24, Python 3.5.2.  Could only make it work with
            Ruby 1.9.2.
Files:      src/bigvim.bat, src/bigvim64.bat, src/Make_mvc.mak

Patch 7.4.2303
Problem:    When using "is" the mode isn't always updated.
Solution:   Redraw the command line. (Christian Brabandt)
Files:      src/search.c

Patch 7.4.2304
Problem:    In a timer callback the timer itself can't be found or stopped.
            (Thinca)
Solution:   Do not remove the timer from the list, remember whether it was
            freed.
Files:      src/ex_cmds2.c, src/testdir/test_timers.vim

Patch 7.4.2305
Problem:    Marks, writefile and nested function tests are old style.
Solution:   Turn them into new style tests. (Yegappan Lakshmanan)
Files:      src/testdir/Make_all.mak, src/testdir/test_marks.in,
            src/testdir/test_marks.ok, src/testdir/test_marks.vim,
            src/testdir/test_nested_function.in,
            src/testdir/test_nested_function.ok,
            src/testdir/test_nested_function.vim,
            src/testdir/test_writefile.in, src/testdir/test_writefile.ok,
            src/testdir/test_writefile.vim, src/Makefile

Patch 7.4.2306
Problem:    Default value for 'langremap' is wrong.
Solution:   Set the right value. (Jürgen Krämer)  Add a test.
Files:      src/option.c, src/testdir/test_mapping.vim

Patch 7.4.2307
Problem:    Several tests are old style.
Solution:   Turn them into new style tests. (Yegappan Lakshmanan)
Files:      src/testdir/Make_all.mak, src/testdir/test102.in,
            src/testdir/test102.ok, src/testdir/test46.in,
            src/testdir/test46.ok, src/testdir/test81.in,
            src/testdir/test81.ok, src/testdir/test_charsearch.in,
            src/testdir/test_charsearch.ok, src/testdir/test_charsearch.vim,
            src/testdir/test_fnameescape.vim, src/testdir/test_substitute.vim,
            src/Makefile

Patch 7.4.2308 (after 7.4.2307)
Problem:    Old charsearch test still listed in Makefile.
Solution:   Remove the line.
Files:      src/testdir/Make_all.mak

Patch 7.4.2309
Problem:    Crash when doing tabnext in a BufUnload autocmd. (Dominique Pelle)
Solution:   When detecting that the tab page changed, don't just abort but
            delete the window where w_buffer is NULL.
Files:      src/window.c, src/testdir/test_tabpage.vim

Patch 7.4.2310 (after 7.4.2304)
Problem:    Accessing freed memory when a timer does not repeat.
Solution:   Free after removing it. (Dominique Pelle)
Files:      src/ex_cmds2.c

Patch 7.4.2311
Problem:    Appveyor 64 bit build still using Python 3.4
Solution:   Switch to Python 3.5. (Ken Takata, closes #1032)
Files:      appveyor.yml, src/appveyor.bat

Patch 7.4.2312
Problem:    Crash when autocommand moves to another tab. (Dominique Pelle)
Solution:   When navigating to another window halfway the :edit command go
            back to the right window.
Files:      src/buffer.c, src/ex_cmds.c, src/ex_getln.c, src/ex_docmd.c,
            src/window.c, src/proto/ex_getln.pro, src/testdir/test_tabpage.vim

Patch 7.4.2313
Problem:    Crash when deleting an augroup and listing an autocommand.
            (Dominique Pelle)
Solution:   Make sure deleted_augroup is valid.
Files:      src/fileio.c, src/testdir/test_autocmd.vim

Patch 7.4.2314
Problem:    No error when deleting an augroup while it's the current one.
Solution:   Disallow deleting an augroup when it's the current one.
Files:      src/fileio.c, src/testdir/test_autocmd.vim

Patch 7.4.2315
Problem:    Insufficient testing for Normal mode commands.
Solution:   Add a big test. (Christian Brabandt, closes #1029)
Files:      src/Makefile, src/testdir/Make_all.mak,
            src/testdir/test_normal.vim

Patch 7.4.2316
Problem:    Channel sort test is flaky.
Solution:   Add a check the output has been read.
Files:      src/testdir/test_channel.vim

Patch 7.4.2317 (after 7.4.2315)
Problem:    Normal mode tests fail on MS-Windows.
Solution:   Do some tests only on Unix.  Set 'fileformat' to "unix".
Files:      src/testdir/test_normal.vim

Patch 7.4.2318
Problem:    When 'incsearch' is not set CTRL-T and CTRL-G are not inserted as
            before.
Solution:   Move #ifdef and don't use goto.
Files:      src/ex_getln.c

Patch 7.4.2319
Problem:    No way for a system wide vimrc to stop loading defaults.vim.
            (Christian Hesse)
Solution:   Bail out of defaults.vim if skip_defaults_vim was set.
Files:      runtime/defaults.vim

Patch 7.4.2320
Problem:    Redraw problem when using 'incsearch'.
Solution:   Save the current view when deleting characters. (Christian
            Brabandt) Fix that the '" mark is set in the wrong position. Don't
            change the search start when using BS.
Files:      src/ex_getln.c, src/normal.c, src/testdir/test_search.vim

Patch 7.4.2321
Problem:    When a test is commented out we forget about it.
Solution:   Let a test throw an exception with "Skipped" and list skipped test
            functions. (Christian Brabandt)
Files:      src/testdir/Makefile, src/testdir/runtest.vim,
            src/testdir/test_popup.vim, src/testdir/README.txt

Patch 7.4.2322
Problem:    Access memory beyond the end of the line. (Dominique Pelle)
Solution:   Adjust the cursor column.
Files:      src/move.c, src/testdir/test_normal.vim

Patch 7.4.2323
Problem:    Using freed memory when using 'formatexpr'. (Dominique Pelle)
Solution:   Make a copy of 'formatexpr' before evaluating it.
Files:      src/ops.c, src/testdir/test_normal.vim

Patch 7.4.2324
Problem:    Crash when editing a new buffer and BufUnload autocommand wipes
            out the new buffer. (Norio Takagi)
Solution:   Don't allow wiping out this buffer. (partly by Hirohito Higashi)
            Move old style test13 into test_autocmd. Avoid ml_get error when
            editing a file.
Files:      src/structs.h, src/buffer.c, src/ex_cmds.c, src/ex_docmd.c,
            src/window.c, src/testdir/test13.in, src/testdir/test13.ok,
            src/testdir/test_autocmd.vim, src/testdir/Make_all.mak,
            src/Makefile

Patch 7.4.2325 (after 7.4.2324)
Problem:    Tiny build fails.
Solution:   Add #ifdef.
Files:      src/buffer.c

Patch 7.4.2326
Problem:    Illegal memory access when Visual selection starts in invalid
            position. (Dominique Pelle)
Solution:   Correct position when needed.
Files:      src/normal.c, src/misc2.c, src/proto/misc2.pro

Patch 7.4.2327
Problem:    Freeing a variable that is on the stack.
Solution:   Don't free res_tv or err_tv. (Ozaki Kiichi)
Files:      src/channel.c

Patch 7.4.2328
Problem:    Crash when BufWinLeave autocmd goes to another tab page. (Hirohito
            Higashi)
Solution:   Make close_buffer() go back to the right window.
Files:      src/buffer.c, src/testdir/test_autocmd.vim

Patch 7.4.2329
Problem:    Error for min() and max() contains %s. (Nikolai Pavlov)
Solution:   Pass the function name. (closes #1040)
Files:      src/evalfunc.c, src/testdir/test_expr.vim

Patch 7.4.2330
Problem:    Coverity complains about not checking curwin to be NULL.
Solution:   Use firstwin to avoid the warning.
Files:      src/buffer.c

Patch 7.4.2331
Problem:    Using CTRL-X CTRL-V to complete a command line from Insert mode
            does not work after entering an expression on the command line.
Solution:   Don't use "ccline" when not actually using a command line. (test
            by Hirohito Higashi)
Files:      src/edit.c, src/ex_getln.c, src/proto/ex_getln.pro,
            src/testdir/test_popup.vim

Patch 7.4.2332
Problem:    Crash when stop_timer() is called in a callback of a callback.
            Vim hangs when the timer callback uses too much time.
Solution:   Set tr_id to -1 when a timer is to be deleted. Don't keep calling
            callbacks forever. (Ozaki Kiichi)
Files:      src/evalfunc.c, src/ex_cmds2.c, src/structs.h,
            src/proto/ex_cmds2.pro, src/testdir/test_timers.vim

Patch 7.4.2333
Problem:    Outdated comments in test.
Solution:   Cleanup normal mode test. (Christian Brabandt)
Files:      src/testdir/test_normal.vim

Patch 7.4.2334
Problem:    On MS-Windows test_getcwd leaves Xtopdir behind.
Solution:   Set 'noswapfile'. (Michael Soyka)
Files:      src/testdir/test_getcwd.in

Patch 7.4.2335
Problem:    taglist() is slow. (Luc Hermitte)
Solution:   Check for CTRL-C less often when doing a linear search. (closes
            #1044)
Files:      src/tag.c

Patch 7.4.2336
Problem:    Running normal mode tests leave a couple of files behind.
            (Yegappan Lakshmanan)
Solution:   Delete the files. (Christian Brabandt)
Files:      src/testdir/test_normal.vim

Patch 7.4.2337
Problem:    taglist() is still slow. (Luc Hermitte)
Solution:   Check for CTRL-C less often when finding duplicates.
Files:      src/tag.c

Patch 7.4.2338
Problem:    Can't build with small features. (John Marriott)
Solution:   Nearly always define FEAT_TAG_BINS.
Files:      src/feature.h, src/tag.c

Patch 7.4.2339
Problem:    Tab page test fails when run as fake root.
Solution:   Check 'buftype' instead of 'filetype'. (James McCoy, closes #1042)
Files:      src/testdir/test_tabpage.vim

Patch 7.4.2340
Problem:    MS-Windows: Building with Ruby uses old version.
Solution:   Update to 2.2.X. Use clearer name for the API version. (Ken
            Takata)
Files:      Makefile, src/INSTALLpc.txt, src/Make_cyg_ming.mak,
            src/Make_mvc.mak, src/bigvim.bat

Patch 7.4.2341
Problem:    Tiny things.  Test doesn't clean up properly.
Solution:   Adjust comment and white space. Restore option value.
Files:      src/ex_cmds.c, src/message.c, src/testdir/test_autocmd.vim

Patch 7.4.2342
Problem:    Typo in MS-Windows build script.
Solution:   change "w2" to "22".
Files:      src/bigvim.bat

Patch 7.4.2343
Problem:    Too many old style tests.
Solution:   Turn several into new style tests. (Yegappan Lakshmanan)
Files:      src/testdir/Make_all.mak, src/testdir/test101.in,
            src/testdir/test101.ok, src/testdir/test18.in,
            src/testdir/test18.ok, src/testdir/test2.in, src/testdir/test2.ok,
            src/testdir/test21.in, src/testdir/test21.ok,
            src/testdir/test6.in, src/testdir/test6.ok,
            src/testdir/test_arglist.vim, src/testdir/test_charsearch.vim,
            src/testdir/test_fnameescape.vim, src/testdir/test_gf.vim,
            src/testdir/test_hlsearch.vim, src/testdir/test_smartindent.vim,
            src/testdir/test_tagjump.vim, src/Makefile

Patch 7.4.2344
Problem:    The "Reading from channel output..." message can be unwanted.
            Appending to a buffer leaves an empty first line behind.
Solution:   Add the "out_msg" and "err_msg" options. Writing the first line
            overwrites the first, empty line.
Files:      src/structs.h, src/channel.c, src/testdir/test_channel.vim,
            runtime/doc/channel.txt

Patch 7.4.2345 (after 7.4.2340)
Problem:    For MinGW RUBY_API_VER_LONG isn't set correctly.  Many default
            version numbers are outdated.
Solution:   Set RUBY_API_VER_LONG to RUBY_VER_LONG. Use latest stable releases
            for defaults. (Ken Takata)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak

Patch 7.4.2346
Problem:    Autocommand test fails when run directly, passes when run as part
            of test_alot.
Solution:   Add command to make the cursor move.  Close a tab page.
Files:      src/testdir/test_autocmd.vim

Patch 7.4.2347
Problem:    Crash when closing a buffer while Visual mode is active.
            (Dominique Pelle)
Solution:   Adjust the position before computing the number of lines.
            When closing the current buffer stop Visual mode.
Files:      src/buffer.c, src/normal.c, src/testdir/test_normal.vim

Patch 7.4.2348
Problem:    Crash on exit when EXITFREE is defined. (Dominique Pelle)
Solution:   Don't access curwin when exiting.
Files:      src/buffer.c

Patch 7.4.2349
Problem:    Valgrind reports using uninitialized memory. (Dominique Pelle)
Solution:   Check the length before checking for a NUL.
Files:      src/message.c

Patch 7.4.2350
Problem:    Test 86 and 87 fail with some version of Python.
Solution:   Unify "can't" and "cannot".  Unify quotes.
Files:      src/testdir/test86.in, src/testdir/test86.ok,
            src/testdir/test87.in, src/testdir/test87.ok

Patch 7.4.2351
Problem:    Netbeans test fails when run from unpacked MS-Windows sources.
Solution:   Open README.txt instead of Makefile.
Files:      src/testdir/test_netbeans.py, src/testdir/test_netbeans.vim

Patch 7.4.2352
Problem:    Netbeans test fails in shadow directory.
Solution:   Also copy README.txt to the shadow directory.
Files:      src/Makefile

Patch 7.4.2353
Problem:    Not enough test coverage for Normal mode commands.
Solution:   Add more tests. (Christian Brabandt)
Files:      src/testdir/test_normal.vim

Patch 7.4.2354
Problem:    The example that explains nested backreferences does not work
            properly with the new regexp engine. (Harm te Hennepe)
Solution:   Also save the end position when adding a state. (closes #990)
Files:      src/regexp_nfa.c, src/testdir/test_regexp_latin.vim

Patch 7.4.2355
Problem:    Regexp fails to match when using "\>\)\?". (Ramel)
Solution:   When a state is already in the list, but addstate_here() is used
            and the existing state comes later, add the new state anyway.
Files:      src/regexp_nfa.c, src/testdir/test_regexp_latin.vim

Patch 7.4.2356
Problem:    Reading past end of line when using previous substitute pattern.
            (Dominique Pelle)
Solution:   Don't set "pat" only set "searchstr".
Files:      src/search.c, src/testdir/test_search.vim

Patch 7.4.2357
Problem:    Attempt to read history entry while not initialized.
Solution:   Skip when the index is negative.
Files:      src/ex_getln.c

Patch 7.4.2358
Problem:    Compiler warnings with Solaris Studio when using GTK3. (Danek
            Duvall)
Solution:   Define FUNC2GENERIC depending on the system. (Kazunobu Kuriyama)
Files:      src/gui.h, src/gui_beval.c, src/gui_gtk_f.c

Patch 7.4.2359
Problem:    Memory leak in timer_start().
Solution:   Check the right field to be NULL.
Files:      src/evalfunc.c, src/testdir/test_timers.vim

Patch 7.4.2360
Problem:    Invalid memory access when formatting. (Dominique Pelle)
Solution:   Make sure cursor line and column are associated.
Files:      src/misc1.c

Patch 7.4.2361
Problem:    Checking for last_timer_id to overflow is not reliable. (Ozaki
            Kiichi)
Solution:   Check for the number not going up.
Files:      src/ex_cmds2.c

Patch 7.4.2362
Problem:    Illegal memory access with ":1@". (Dominique Pelle)
Solution:   Correct cursor column after setting the line number.  Also avoid
            calling end_visual_mode() when not in Visual mode.
Files:      src/ex_docmd.c, src/buffer.c

Patch 7.4.2363
Problem:    Superfluous function prototypes.
Solution:   Remove them.
Files:      src/regexp.c

Patch 7.4.2364
Problem:    Sort test sometimes fails.
Solution:   Add it to the list of flaky tests.
Files:      src/testdir/runtest.vim

Patch 7.4.2365
Problem:    Needless line break. Confusing directory name.
Solution:   Remove line break.  Prepend "../" to "tools".
Files:      Makefile, src/normal.c

Patch 7.4.2366
Problem:    MS-Windows gvim.exe does not have DirectX support.
Solution:   Add the DIRECTX to the script.
Files:      src/bigvim.bat

Patch 7.4.2367 (after 7.4.2364)
Problem:    Test runner misses a comma.
Solution:   Add the comma.
Files:      src/testdir/runtest.vim

Patch 8.0.0001
Problem:    Intro screen still mentions version7. (Paul)
Solution:   Change it to version8.
Files:	    src/version.c

Patch 8.0.0002
Problem:    The netrw plugin does not work.
Solution:   Make it accept version 8.0.
Files:      runtime/autoload/netrw.vim

Patch 8.0.0003
Problem:    getwinvar() returns wrong Value of boolean and number options,
            especially non big endian systems. (James McCoy)
Solution:   Cast the pointer to long or int. (closes #1060)
Files:      src/option.c, src/testdir/test_bufwintabinfo.vim

Patch 8.0.0004
Problem:    A string argument for function() that is not a function name
            results in an error message with NULL. (Christian Brabandt)
Solution:   Use the argument for the error message.
Files:      src/evalfunc.c, src/testdir/test_expr.vim

Patch 8.0.0005
Problem:    Netbeans test fails with Python 3. (Jonathonf)
Solution:   Encode the string before sending it. (closes #1070)
Files:      src/testdir/test_netbeans.py

Patch 8.0.0006
Problem:    ":lb" is interpreted as ":lbottom" while the documentation says it
            means ":lbuffer".
Solution:   Adjust the order of the commands. (haya14busa, closes #1093)
Files:      src/ex_cmds.h

Patch 8.0.0007
Problem:    Vim 7.4 is still mentioned in a few places.
Solution:   Update to Vim 8.  (Uncle Bill, closes #1094)
Files:      src/INSTALLpc.txt, src/vimtutor, uninstal.txt

Patch 8.0.0008
Problem:    Popup complete test is disabled.
Solution:   Enable the test and change the assert. (Hirohito Higashi)
Files:      src/testdir/test_popup.vim

Patch 8.0.0009
Problem:    Unnecessary workaround for AppVeyor.
Solution:   Revert patch 7.4.990. (Christian Brabandt)
Files:      appveyor.yml

Patch 8.0.0010
Problem:    Crash when editing file that starts with crypt header. (igor2x)
Solution:   Check for length of text. (Christian Brabandt) Add a test.
Files:      src/fileio.c, src/testdir/test_crypt.vim, src/Makefile,
            src/testdir/Make_all.mak

Patch 8.0.0011
Problem:    On OSX Test_pipe_through_sort_all() sometimes fails.
Solution:   Add the test to the list of flaky tests.
Files:      src/testdir/runtest.vim

Patch 8.0.0012
Problem:    Typos in comments.
Solution:   Change "its" to "it's". (Matthew Brener, closes #1088)
Files:      src/evalfunc.c, src/main.aap, src/nbdebug.c, src/netbeans.c,
            src/quickfix.c, src/workshop.c, src/wsdebug.c

Patch 8.0.0013 (after 8.0.0011)
Problem:    Missing comma in list.
Solution:   Add the comma.
Files:      src/testdir/runtest.vim

Patch 8.0.0014
Problem:    Crypt tests are old style.
Solution:   Convert to new style.
Files:      src/testdir/test71.in, src/testdir/test71.ok,
	    src/testdir/test71a.in, src/testdir/test_crypt.vim, src/Makefile,
            src/testdir/Make_all.mak

Patch 8.0.0015
Problem:    Can't tell which part of a channel has "buffered" status.
Solution:   Add an optional argument to ch_status().  Let ch_info() also
            return "buffered" for out_status and err_status.
Files:      src/evalfunc.c, src/channel.c, src/proto/channel.pro,
            src/testdir/test_channel.vim, runtime/doc/eval.txt

Patch 8.0.0016 (after 8.0.0015)
Problem:    Build fails.
Solution:   Include missing change.
Files:      src/eval.c

Patch 8.0.0017
Problem:    Cannot get the number of the current quickfix or location list.
Solution:   Use the current list if "nr" in "what" is zero. (Yegappan
            Lakshmanan)  Remove debug command from test.
Files:      src/quickfix.c, src/testdir/test_quickfix.vim,
            runtime/doc/eval.txt

Patch 8.0.0018
Problem:    When using ":sleep" channel input is not handled.
Solution:   When there is a channel check for input also when not in raw mode.
            Check every 100 msec.
Files:      src/channel.c, src/proto/channel.pro, src/ui.c, src/proto/ui.pro,
            src/ex_docmd.c, src/os_amiga.c, src/proto/os_amiga.pro,
            src/os_unix.c, src/proto/os_unix.pro, src/os_win32.c,
            src/proto/os_win32.pro

Patch 8.0.0019
Problem:    Test_command_count is old style.
Solution:   Turn it into a new style test. (Naruhiko Nishino)
            Use more assert functions.
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/test_alot.vim,
            src/testdir/test_autocmd.vim, src/testdir/test_command_count.in,
            src/testdir/test_command_count.ok,
            src/testdir/test_command_count.vim

Patch 8.0.0020
Problem:    The regexp engines are not reentrant.
Solution:   Add regexec_T and save/restore the state when needed.
Files:      src/regexp.c, src/regexp_nfa.c, src/testdir/test_expr.vim,
            runtime/doc/eval.txt, runtime/doc/change.txt

Patch 8.0.0021
Problem:    In the GUI when redrawing the cursor it may be on the second half
            of a double byte character.
Solution:   Correct the cursor column. (Yasuhiro Matsumoto)
Files:      src/screen.c

Patch 8.0.0022
Problem:    If a channel in NL mode is missing the NL at the end the remaining
            characters are dropped.
Solution:   When the channel is closed use the remaining text. (Ozaki Kiichi)
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 8.0.0023
Problem:    "gd" and "gD" may find a match in a comment or string.
Solution:   Ignore matches in comments and strings. (Anton Lindqvist)
Files:      src/normal.c, src/testdir/test_goto.vim

Patch 8.0.0024
Problem:    When the netbeans channel closes, "DETACH" is put in the output
            part. (Ozaki Kiichi)
Solution:   Write "DETACH" in the socket part.
Files:      src/channel.c, src/testdir/test_netbeans.vim

Patch 8.0.0025
Problem:    Inconsistent use of spaces vs tabs in gd test.
Solution:   Use tabs. (Anton Lindqvist)
Files:      src/testdir/test_goto.vim

Patch 8.0.0026
Problem:    Error format with %W, %C and %Z does not work. (Gerd Wachsmuth)
Solution:   Skip code when qf_multiignore is set. (Lcd)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.0027
Problem:    A channel is closed when reading on stderr or stdout fails, but
            there may still be something to read on another part.
Solution:   Turn ch_to_be_closed into a bitfield. (Ozaki Kiichi)
Files:      src/channel.c, src/eval.c, src/structs.h, src/proto/channel.pro,
            src/testdir/test_channel.vim

Patch 8.0.0028
Problem:    Superfluous semicolons.
Solution:   Remove them. (Ozaki Kiichi)
Files:      src/ex_cmds2.c

Patch 8.0.0029
Problem:    Code for MS-Windows is complicated because of the exceptions for
            old systems.
Solution:   Drop support for MS-Windows older than Windows XP. (Ken Takata)
Files:      runtime/doc/gui_w32.txt, runtime/doc/os_win32.txt,
            runtime/doc/todo.txt, src/GvimExt/Makefile, src/Make_mvc.mak,
            src/evalfunc.c, src/ex_cmds.c, src/ex_docmd.c, src/gui_w32.c,
            src/if_cscope.c, src/misc1.c, src/misc2.c, src/option.c,
            src/os_mswin.c, src/os_win32.c, src/os_win32.h,
            src/proto/os_mswin.pro, src/proto/os_win32.pro, src/version.c

Patch 8.0.0030
Problem:    Mouse mode is not automatically detected for tmux.
Solution:   Check for 'term' to be "tmux". (Michael Henry)
Files:      src/os_unix.c

Patch 8.0.0031
Problem:    After ":bwipeout" 'fileformat' is not set to the right default.
Solution:   Get the default from 'fileformats'. (Mike Williams)
Files:      src/option.c, src/Makefile, src/testdir/test_fileformat.vim,
            src/testdir/test_alot.vim

Patch 8.0.0032
Problem:    Tests may change the input file when something goes wrong.
Solution:   Avoid writing the input file.
Files:      src/testdir/test51.in, src/testdir/test67.in,
            src/testdir/test97.in, src/testdir/test_tabpage.vim

Patch 8.0.0033
Problem:    Cannot use overlapping positions with matchaddpos().
Solution:   Check end of match. (Ozaki Kiichi) Add a test (Hirohito Higashi)
Files:      src/screen.c, src/testdir/test_match.vim

Patch 8.0.0034
Problem:    No completion for ":messages".
Solution:   Complete "clear" argument. (Hirohito Higashi)
Files:      src/ex_docmd.c, src/ex_getln.c, src/proto/ex_docmd.pro,
            src/testdir/test_cmdline.vim, src/vim.h,
            runtime/doc/eval.txt, runtime/doc/map.txt

Patch 8.0.0035 (after 7.4.2013)
Problem:    Order of matches for 'omnifunc' is messed up. (Danny Su)
Solution:   Do not set compl_curr_match when called from complete_check().
            (closes #1168)
Files:      src/edit.c, src/evalfunc.c, src/proto/edit.pro, src/search.c,
            src/spell.c, src/tag.c, src/testdir/test76.in,
            src/testdir/test76.ok, src/testdir/test_popup.vim, src/Makefile,
            src/testdir/Make_all.mak

Patch 8.0.0036
Problem:    Detecting that a job has finished may take a while.
Solution:   Check for a finished job more often (Ozaki Kiichi)
Files:      src/channel.c, src/os_unix.c, src/os_win32.c,
            src/proto/os_unix.pro, src/proto/os_win32.pro,
            src/testdir/test_channel.vim

Patch 8.0.0037
Problem:    Get E924 when switching tabs. ()
Solution:   Use win_valid_any_tab() instead of win_valid(). (Martin Vuille,
            closes #1167, closes #1171)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.0038
Problem:    OPEN_CHR_FILES not defined for FreeBSD using Debian userland
            files.
Solution:   Check for __FreeBSD_kernel__. (James McCoy, closes #1166)
Files:      src/vim.h

Patch 8.0.0039
Problem:    When Vim 8 reads an old viminfo and exits, the next time marks are
            not read from viminfo. (Ned Batchelder)
Solution:   Set a mark when it wasn't set before, even when the timestamp is
            zero. (closes #1170)
Files:      src/mark.c, src/testdir/test_viminfo.vim

Patch 8.0.0040 (after 8.0.0033)
Problem:    Whole line highlighting with matchaddpos() does not work.
Solution:   Check for zero length. (Hirohito Higashi)
Files:      src/screen.c, src/testdir/test_match.vim

Patch 8.0.0041
Problem:    When using Insert mode completion but not actually inserting
            anything an undo item is still created. (Tommy Allen)
Solution:   Do not call stop_arrow() when not inserting anything.
Files:      src/edit.c, src/testdir/test_popup.vim

Patch 8.0.0042 (after 8.0.0041)
Problem:    When using Insert mode completion with 'completeopt' containing
            "noinsert" change is not saved for undo.  (Tommy Allen)
Solution:   Call stop_arrow() before inserting for pressing Enter.
Files:      src/edit.c, src/testdir/test_popup.vim

Patch 8.0.0043 (after 8.0.0041)
Problem:    When using Insert mode completion with 'completeopt' containing
            "noinsert" with CTRL-N the change is not saved for undo.  (Tommy
            Allen)
Solution:   Call stop_arrow() before inserting for any key.
Files:      src/edit.c, src/testdir/test_popup.vim

Patch 8.0.0044
Problem:    In diff mode the cursor may end up below the last line, resulting
            in an ml_get error.
Solution:   Check the line to be valid.
Files:      src/move.c, src/diff.c, src/proto/diff.pro,
            src/testdir/test_diffmode.vim

Patch 8.0.0045
Problem:    Calling job_stop() right after job_start() does not work.
Solution:   Block signals while fork is still busy. (Ozaki Kiichi, closes
            #1155)
Files:      src/auto/configure, src/config.h.in, src/configure.in,
            src/os_unix.c, src/testdir/test_channel.vim

Patch 8.0.0046
Problem:    Using NUL instead of NULL.
Solution:   Change to NULL. (Dominique Pelle)
Files:      src/ex_cmds.c, src/json.c

Patch 8.0.0047
Problem:    Crash when using the preview window from an unnamed buffer.
            (lifepillar)
Solution:   Do not clear the wrong buffer. (closes #1200)
Files:      src/popupmnu.c

Patch 8.0.0048
Problem:    On Windows job_stop() stops cmd.exe, not the processes it runs.
            (Linwei)
Solution:   Iterate over all processes and terminate the one where the parent
            is the job process. (Yasuhiro Matsumoto, closes #1184)
Files:      src/os_win32.c, src/structs.h

Patch 8.0.0049
Problem:    When a match ends in part of concealed text highlighting, it might
            mess up concealing by resetting prev_syntax_id.
Solution:   Do not reset prev_syntax_id and add a test to verify. (Christian
            Brabandt, closes #1092)
Files:      src/screen.c, src/testdir/test_matchadd_conceal.vim

Patch 8.0.0050
Problem:    An exiting job is detected with a large latency.
Solution:   Check for pending job more often. (Ozaki Kiichi)  Change the
            double loop in mch_inchar() into one.
Files:      src/channel.c, src/os_unix.c, src/testdir/shared.vim,
            src/testdir/test_channel.vim

Patch 8.0.0051 (after 8.0.0048)
Problem:    New code for job_stop() breaks channel test on AppVeyor.
Solution:   Revert the change.
Files:      src/os_win32.c, src/structs.h

Patch 8.0.0052 (after 8.0.0049)
Problem:    Conceal test passes even without the bug fix.
Solution:   Add a redraw command. (Christian Brabandt)
Files:      src/testdir/test_matchadd_conceal.vim

Patch 8.0.0053 (after 8.0.0047)
Problem:    No test for what 8.0.0047 fixes.
Solution:   Add a test. (Hirohito Higashi)
Files:      src/testdir/test_popup.vim

Patch 8.0.0054 (after 8.0.0051)
Problem:    On Windows job_stop() stops cmd.exe, not the processes it runs.
            (Linwei)
Solution:   Iterate over all processes and terminate the one where the parent
            is the job process. Now only when there is no job object.
            (Yasuhiro Matsumoto, closes #1203)
Files:      src/os_win32.c

Patch 8.0.0055
Problem:    Minor comment and style deficiencies.
Solution:   Update comments and fix style.
Files:      src/buffer.c, src/misc2.c, src/os_unix.c

Patch 8.0.0056
Problem:    When setting 'filetype' there is no check for a valid name.
Solution:   Only allow valid characters in 'filetype', 'syntax' and 'keymap'.
Files:      src/option.c, src/testdir/test_options.vim

Patch 8.0.0057 (after 8.0.0056)
Problem:    Tests fail without the 'keymap' features.
Solution:   Check for feature in test.
Files:      src/testdir/test_options.vim

Patch 8.0.0058
Problem:    Positioning of the popup menu is not good.
Solution:   Position it better. (Hirohito Higashi)
Files:      src/popupmnu.c

Patch 8.0.0059
Problem:    Vim does not build on VMS systems.
Solution:   Various changes for VMS. (Zoltan Arpadffy)
Files:      src/json.c, src/macros.h, src/Make_vms.mms, src/os_unix.c,
            src/os_unix.h, src/os_vms.c, src/os_vms_conf.h,
            src/proto/os_vms.pro, src/testdir/Make_vms.mms

Patch 8.0.0060
Problem:    When using an Ex command for 'keywordprg' it is escaped as with a
            shell command. (Romain Lafourcade)
Solution:   Escape for an Ex command. (closes #1175)
Files:      src/normal.c, src/testdir/test_normal.vim

Patch 8.0.0061 (after 8.0.0058)
Problem:    Compiler warning for unused variable.
Solution:   Add #ifdef. (John Marriott)
Files:      src/popupmnu.c

Patch 8.0.0062
Problem:    No digraph for HORIZONTAL ELLIPSIS.
Solution:   Use ",.". (Hans Ginzel, closes #1226)
Files:      src/digraph.c, runtime/doc/digraph.txt

Patch 8.0.0063
Problem:    Compiler warning for comparing with unsigned. (Zoltan Arpadffy)
Solution:   Change <= to ==.
Files:      src/undo.c

Patch 8.0.0064 (after 8.0.0060)
Problem:    Normal test fails on MS-Windows.
Solution:   Don't try using an illegal file name.
Files:      src/testdir/test_normal.vim

Patch 8.0.0065 (after 8.0.0056)
Problem:    Compiler warning for unused function in tiny build. (Tony
            Mechelynck)
Solution:   Add #ifdef.
Files:      src/option.c

Patch 8.0.0066
Problem:    when calling an operator function when 'linebreak' is set, it is
            internally reset before calling the operator function.
Solution:   Restore 'linebreak' before calling op_function(). (Christian
            Brabandt)
Files:      src/normal.c, src/testdir/test_normal.vim

Patch 8.0.0067
Problem:    VMS has a problem with infinity.
Solution:   Avoid an overflow. (Zoltan Arpadffy)
Files:      src/json.c, src/macros.h

Patch 8.0.0068
Problem:    Checking did_throw after executing autocommands is wrong. (Daniel
            Hahler)
Solution:   Call aborting() instead, and only when autocommands were executed.
Files:      src/quickfix.c, src/if_cscope.c, src/testdir/test_quickfix.vim

Patch 8.0.0069
Problem:    Compiler warning for self-comparison.
Solution:   Define ONE_WINDOW and add #ifdef.
Files:      src/globals.h, src/buffer.c, src/ex_docmd.c, src/move.c,
            src/screen.c, src/quickfix.c, src/window.c

 vim:tw=78:ts=8:ft=help:norl:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      #define DMA2_MODE_REG		0xD6	/* mode register (w) */
#define DMA2_CLEAR_FF_REG	0xD8	/* clear pointer flip-flop (w) */
#define DMA2_TEMP_REG		0xDA    /* Temporary Register (r) */
#define DMA2_RESET_REG		0xDA	/* Master Clear (w) */
#define DMA2_CLR_MASK_REG       0xDC    /* Clear Mask */
#define DMA2_MASK_ALL_REG       0xDE    /* all-channels mask (w) */

#define DMA_ADDR_0		0x00    /* DMA address registers */
#define DMA_ADDR_1		0x02
#define DMA_ADDR_2		0x04
#define DMA_ADDR_3		0x06
#define DMA_ADDR_4		0xC0
#define DMA_ADDR_5		0xC4
#define DMA_ADDR_6		0xC8
#define DMA_ADDR_7		0xCC

#define DMA_CNT_0		0x01    /* DMA count registers */
#define DMA_CNT_1		0x03
#define DMA_CNT_2		0x05
#define DMA_CNT_3		0x07
#define DMA_CNT_4		0xC2
#define DMA_CNT_5		0xC6
#define DMA_CNT_6		0xCA
#define DMA_CNT_7		0xCE

#define DMA_PAGE_0		0x87    /* DMA page registers */
#define DMA_PAGE_1		0x83
#define DMA_PAGE_2		0x81
#define DMA_PAGE_3		0x82
#define DMA_PAGE_5		0x8B
#define DMA_PAGE_6		0x89
#define DMA_PAGE_7		0x8A

/* I/O to memory, no autoinit, increment, single mode */
#define DMA_MODE_READ		0x44
/* memory to I/O, no autoinit, increment, single mode */
#define DMA_MODE_WRITE		0x48
/* pass thru DREQ->HRQ, DACK<-HLDA only */
#define DMA_MODE_CASCADE	0xC0

#define DMA_AUTOINIT		0x10


#ifdef CONFIG_ISA_DMA_API
extern spinlock_t  dma_spin_lock;

static inline unsigned long claim_dma_lock(void)
{
	unsigned long flags;
	spin_lock_irqsave(&dma_spin_lock, flags);
	return flags;
}

static inline void release_dma_lock(unsigned long flags)
{
	spin_unlock_irqrestore(&dma_spin_lock, flags);
}
#endif /* CONFIG_ISA_DMA_API */

/* enable/disable a specific DMA channel */
static inline void enable_dma(unsigned int dmanr)
{
	if (dmanr <= 3)
		dma_outb(dmanr, DMA1_MASK_REG);
	else
		dma_outb(dmanr & 3, DMA2_MASK_REG);
}

static inline void disable_dma(unsigned int dmanr)
{
	if (dmanr <= 3)
		dma_outb(dmanr | 4, DMA1_MASK_REG);
	else
		dma_outb((dmanr & 3) | 4, DMA2_MASK_REG);
}

/* Clear the 'DMA Pointer Flip Flop'.
 * Write 0 for LSB/MSB, 1 for MSB/LSB access.
 * Use this once to initialize the FF to a known state.
 * After that, keep track of it. :-)
 * --- In order to do that, the DMA routines below should ---
 * --- only be used while holding the DMA lock ! ---
 */
static inline void clear_dma_ff(unsigned int dmanr)
{
	if (dmanr <= 3)
		dma_outb(0, DMA1_CLEAR_FF_REG);
	else
		dma_outb(0, DMA2_CLEAR_FF_REG);
}

/* set mode (above) for a specific DMA channel */
static inline void set_dma_mode(unsigned int dmanr, char mode)
{
	if (dmanr <= 3)
		dma_outb(mode | dmanr, DMA1_MODE_REG);
	else
		dma_outb(mode | (dmanr & 3), DMA2_MODE_REG);
}

/* Set only the page register bits of the transfer address.
 * This is used for successive transfers when we know the contents of
 * the lower 16 bits of the DMA current address register, but a 64k boundary
 * may have been crossed.
 */
static inline void set_dma_page(unsigned int dmanr, char pagenr)
{
	switch (dmanr) {
	case 0:
		dma_outb(pagenr, DMA_PAGE_0);
		break;
	case 1:
		dma_outb(pagenr, DMA_PAGE_1);
		break;
	case 2:
		dma_outb(pagenr, DMA_PAGE_2);
		break;
	case 3:
		dma_outb(pagenr, DMA_PAGE_3);
		break;
	case 5:
		dma_outb(pagenr & 0xfe, DMA_PAGE_5);
		break;
	case 6:
		dma_outb(pagenr & 0xfe, DMA_PAGE_6);
		break;
	case 7:
		dma_outb(pagenr & 0xfe, DMA_PAGE_7);
		break;
	}
}


/* Set transfer address & page bits for specific DMA channel.
 * Assumes dma flipflop is clear.
 */
static inline void set_dma_addr(unsigned int dmanr, unsigned int a)
{
	set_dma_page(dmanr, a>>16);
	if (dmanr <= 3)  {
		dma_outb(a & 0xff, ((dmanr & 3) << 1) + IO_DMA1_BASE);
		dma_outb((a >> 8) & 0xff, ((dmanr & 3) << 1) + IO_DMA1_BASE);
	}  else  {
		dma_outb((a >> 1) & 0xff, ((dmanr & 3) << 2) + IO_DMA2_BASE);
		dma_outb((a >> 9) & 0xff, ((dmanr & 3) << 2) + IO_DMA2_BASE);
	}
}


/* Set transfer size (max 64k for DMA0..3, 128k for DMA5..7) for
 * a specific DMA channel.
 * You must ensure the parameters are valid.
 * NOTE: from a manual: "the number of transfers is one more
 * than the initial word count"! This is taken into account.
 * Assumes dma flip-flop is clear.
 * NOTE 2: "count" represents _bytes_ and must be even for channels 5-7.
 */
static inline void set_dma_count(unsigned int dmanr, unsigned int count)
{
	count--;
	if (dmanr <= 3)  {
		dma_outb(count & 0xff, ((dmanr & 3) << 1) + 1 + IO_DMA1_BASE);
		dma_outb((count >> 8) & 0xff,
			 ((dmanr & 3) << 1) + 1 + IO_DMA1_BASE);
	} else {
		dma_outb((count >> 1) & 0xff,
			 ((dmanr & 3) << 2) + 2 + IO_DMA2_BASE);
		dma_outb((count >> 9) & 0xff,
			 ((dmanr & 3) << 2) + 2 + IO_DMA2_BASE);
	}
}


/* Get DMA residue count. After a DMA transfer, this
 * should return zero. Reading this while a DMA transfer is
 * still in progress will return unpredictable results.
 * If called before the channel has been used, it may return 1.
 * Otherwise, it returns the number of _bytes_ left to transfer.
 *
 * Assumes DMA flip-flop is clear.
 */
static inline int get_dma_residue(unsigned int dmanr)
{
	unsigned int io_port;
	/* using short to get 16-bit wrap around */
	unsigned short count;

	io_port = (dmanr <= 3) ? ((dmanr & 3) << 1) + 1 + IO_DMA1_BASE
		: ((dmanr & 3) << 2) + 2 + IO_DMA2_BASE;

	count = 1 + dma_inb(io_port);
	count += dma_inb(io_port) << 8;

	return (dmanr <= 3) ? count : (count << 1);
}


/* These are in kernel/dma.c because x86 uses CONFIG_GENERIC_ISA_DMA */
#ifdef CONFIG_ISA_DMA_API
extern int request_dma(unsigned int dmanr, const char *device_id);
extern void free_dma(unsigned int dmanr);
#endif

/* From PCI */

#ifdef CONFIG_PCI
extern int isa_dma_bridge_buggy;
#else
#define isa_dma_bridge_buggy	(0)
#endif

#endif /* _ASM_X86_DMA_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    #ifndef _ASM_X86_HARDIRQ_H
#define _ASM_X86_HARDIRQ_H

#include <linux/threads.h>
#include <linux/irq.h>

typedef struct {
	unsigned int __softirq_pending;
	unsigned int __nmi_count;	/* arch dependent */
#ifdef CONFIG_X86_LOCAL_APIC
	unsigned int apic_timer_irqs;	/* arch dependent */
	unsigned int irq_spurious_count;
	unsigned int icr_read_retry_count;
#endif
#ifdef CONFIG_HAVE_KVM
	unsigned int kvm_posted_intr_ipis;
	unsigned int kvm_posted_intr_wakeup_ipis;
#endif
	unsigned int x86_platform_ipis;	/* arch dependent */
	unsigned int apic_perf_irqs;
	unsigned int apic_irq_work_irqs;
#ifdef CONFIG_SMP
	unsigned int irq_resched_count;
	unsigned int irq_call_count;
#endif
	unsigned int irq_tlb_count;
#ifdef CONFIG_X86_THERMAL_VECTOR
	unsigned int irq_thermal_count;
#endif
#ifdef CONFIG_X86_MCE_THRESHOLD
	unsigned int irq_threshold_count;
#endif
#ifdef CONFIG_X86_MCE_AMD
	unsigned int irq_deferred_error_count;
#endif
#if IS_ENABLED(CONFIG_HYPERV) || defined(CONFIG_XEN)
	unsigned int irq_hv_callback_count;
#endif
} ____cacheline_aligned irq_cpustat_t;

DECLARE_PER_CPU_SHARED_ALIGNED(irq_cpustat_t, irq_stat);

#define __ARCH_IRQ_STAT

#define inc_irq_stat(member)	this_cpu_inc(irq_stat.member)

#define local_softirq_pending()	this_cpu_read(irq_stat.__softirq_pending)

#define __ARCH_SET_SOFTIRQ_PENDING

#define set_softirq_pending(x)	\
		this_cpu_write(irq_stat.__softirq_pending, (x))
#define or_softirq_pending(x)	this_cpu_or(irq_stat.__softirq_pending, (x))

extern void ack_bad_irq(unsigned int irq);

extern u64 arch_irq_stat_cpu(unsigned int cpu);
#define arch_irq_stat_cpu	arch_irq_stat_cpu

extern u64 arch_irq_stat(void);
#define arch_irq_stat		arch_irq_stat

#endif /* _ASM_X86_HARDIRQ_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             #ifndef _ASM_X86_UV_BIOS_H
#define _ASM_X86_UV_BIOS_H

/*
 * UV BIOS layer definitions.
 *
 *  This program is free software; you can redistribute it and/or modify
 *  it under the terms of the GNU General Public License as published by
 *  the Free Software Foundation; either version 2 of the License, or
 *  (at your option) any later version.
 *
 *  This program is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU General Public License for more details.
 *
 *  You should have received a copy of the GNU General Public License
 *  along with this program; if not, write to the Free Software
 *  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA
 *
 *  Copyright (c) 2008-2009 Silicon Graphics, Inc.  All Rights Reserved.
 *  Copyright (c) Russ Anderson <rja@sgi.com>
 */

#include <linux/rtc.h>

/*
 * Values for the BIOS calls.  It is passed as the first * argument in the
 * BIOS call.  Passing any other value in the first argument will result
 * in a BIOS_STATUS_UNIMPLEMENTED return status.
 */
enum uv_bios_cmd {
	UV_BIOS_COMMON,
	UV_BIOS_GET_SN_INFO,
	UV_BIOS_FREQ_BASE,
	UV_BIOS_WATCHLIST_ALLOC,
	UV_BIOS_WATCHLIST_FREE,
	UV_BIOS_MEMPROTECT,
	UV_BIOS_GET_PARTITION_ADDR,
	UV_BIOS_SET_LEGACY_VGA_TARGET
};

/*
 * Status values returned from a BIOS call.
 */
enum {
	BIOS_STATUS_MORE_PASSES		=  1,
	BIOS_STATUS_SUCCESS		=  0,
	BIOS_STATUS_UNIMPLEMENTED	= -ENOSYS,
	BIOS_STATUS_EINVAL		= -EINVAL,
	BIOS_STATUS_UNAVAIL		= -EBUSY
};

/* Address map parameters */
struct uv_gam_parameters {
	u64	mmr_base;
	u64	gru_base;
	u8	mmr_shift;	/* Convert PNode to MMR space offset */
	u8	gru_shift;	/* Convert PNode to GRU space offset */
	u8	gpa_shift;	/* Size of offset field in GRU phys addr */
	u8	unused1;
};

/* UV_TABLE_GAM_RANGE_ENTRY values */
#define UV_GAM_RANGE_TYPE_UNUSED	0 /* End of table */
#define UV_GAM_RANGE_TYPE_RAM		1 /* Normal RAM */
#define UV_GAM_RANGE_TYPE_NVRAM		2 /* Non-volatile memory */
#define UV_GAM_RANGE_TYPE_NV_WINDOW	3 /* NVMDIMM block window */
#define UV_GAM_RANGE_TYPE_NV_MAILBOX	4 /* NVMDIMM mailbox */
#define UV_GAM_RANGE_TYPE_HOLE		5 /* Unused address range */
#define UV_GAM_RANGE_TYPE_MAX		6

/* The structure stores PA bits 56:26, for 64MB granularity */
#define UV_GAM_RANGE_SHFT		26		/* 64MB */

struct uv_gam_range_entry {
	char	type;		/* Entry type: GAM_RANGE_TYPE_UNUSED, etc. */
	char	unused1;
	u16	nasid;		/* HNasid */
	u16	sockid;		/* Socket ID, high bits of APIC ID */
	u16	pnode;		/* Index to MMR and GRU spaces */
	u32	unused2;
	u32	limit;		/* PA bits 56:26 (UV_GAM_RANGE_SHFT) */
};

#define	UV_SYSTAB_SIG			"UVST"
#define	UV_SYSTAB_VERSION_1		1	/* UV1/2/3 BIOS version */
#define	UV_SYSTAB_VERSION_UV4		0x400	/* UV4 BIOS base version */
#define	UV_SYSTAB_VERSION_UV4_1		0x401	/* + gpa_shift */
#define	UV_SYSTAB_VERSION_UV4_2		0x402	/* + TYPE_NVRAM/WINDOW/MBOX */
#define	UV_SYSTAB_VERSION_UV4_3		0x403	/* - GAM Range PXM Value */
#define	UV_SYSTAB_VERSION_UV4_LATEST	UV_SYSTAB_VERSION_UV4_3

#define	UV_SYSTAB_TYPE_UNUSED		0	/* End of table (offset == 0) */
#define	UV_SYSTAB_TYPE_GAM_PARAMS	1	/* GAM PARAM conversions */
#define	UV_SYSTAB_TYPE_GAM_RNG_TBL	2	/* GAM entry table */
#define	UV_SYSTAB_TYPE_MAX		3

/*
 * The UV system table describes specific firmware
 * capabilities available to the Linux kernel at runtime.
 */
struct uv_systab {
	char signature[4];	/* must be UV_SYSTAB_SIG */
	u32 revision;		/* distinguish different firmware revs */
	u64 function;		/* BIOS runtime callback function ptr */
	u32 size;		/* systab size (starting with _VERSION_UV4) */
	struct {
		u32 type:8;	/* type of entry */
		u32 offset:24;	/* byte offset from struct start to entry */
	} entry[1];		/* additional entries follow */
};
extern struct uv_systab *uv_systab;
/* (... end of definitions from UV BIOS ...) */

enum {
	BIOS_FREQ_BASE_PLATFORM = 0,
	BIOS_FREQ_BASE_INTERVAL_TIMER = 1,
	BIOS_FREQ_BASE_REALTIME_CLOCK = 2
};

union partition_info_u {
	u64	val;
	struct {
		u64	hub_version	:  8,
			partition_id	: 16,
			coherence_id	: 16,
			region_size	: 24;
	};
};

enum uv_memprotect {
	UV_MEMPROT_RESTRICT_ACCESS,
	UV_MEMPROT_ALLOW_AMO,
	UV_MEMPROT_ALLOW_RW
};

/*
 * bios calls have 6 parameters
 */
extern s64 uv_bios_call(enum uv_bios_cmd, u64, u64, u64, u64, u64);
extern s64 uv_bios_call_irqsave(enum uv_bios_cmd, u64, u64, u64, u64, u64);
extern s64 uv_bios_call_reentrant(enum uv_bios_cmd, u64, u64, u64, u64, u64);

extern s64 uv_bios_get_sn_info(int, int *, long *, long *, long *, long *);
extern s64 uv_bios_freq_base(u64, u64 *);
extern int uv_bios_mq_watchlist_alloc(unsigned long, unsigned int,
					unsigned long *);
extern int uv_bios_mq_watchlist_free(int, int);
extern s64 uv_bios_change_memprotect(u64, u64, enum uv_memprotect);
extern s64 uv_bios_reserved_page_pa(u64, u64 *, u64 *, u64 *);
extern int uv_bios_set_legacy_vga_target(bool decode, int domain, int bus);

#ifdef CONFIG_EFI
extern void uv_bios_init(void);
#else
void uv_bios_init(void) { }
#endif

extern unsigned long sn_rtc_cycles_per_second;
extern int uv_type;
extern long sn_partition_id;
extern long sn_coherency_id;
extern long sn_region_size;
extern long system_serial_number;
#define uv_partition_coherence_id()	(sn_coherency_id)

extern struct kobject *sgi_uv_kobj;	/* /sys/firmware/sgi_uv */

#endif /* _ASM_X86_UV_BIOS_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               /*
 * This file is subject to the terms and conditions of the GNU General Public
 * License.  See the file "COPYING" in the main directory of this archive
 * for more details.
 *
 * SGI UV IRQ definitions
 *
 * Copyright (C) 2008 Silicon Graphics, Inc. All rights reserved.
 */

#ifndef _ASM_X86_UV_UV_IRQ_H
#define _ASM_X86_UV_UV_IRQ_H

/* If a generic version of this structure gets defined, eliminate this one. */
struct uv_IO_APIC_route_entry {
	__u64	vector		:  8,
		delivery_mode	:  3,
		dest_mode	:  1,
		delivery_status	:  1,
		polarity	:  1,
		__reserved_1	:  1,
		trigger		:  1,
		mask		:  1,
		__reserved_2	: 15,
		dest		: 32;
};

enum {
	UV_AFFINITY_ALL,
	UV_AFFINITY_NODE,
	UV_AFFINITY_CPU
};

extern int uv_irq_2_mmr_info(int, unsigned long *, int *);
extern int uv_setup_irq(char *, int, int, unsigned long, int);
extern void uv_teardown_irq(unsigned int);

#endif /* _ASM_X86_UV_UV_IRQ_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     /*
 * This file is subject to the terms and conditions of the GNU General Public
 * License.  See the file "COPYING" in the main directory of this archive
 * for more details.
 *
 * SGI UV Broadcast Assist Unit definitions
 *
 * Copyright (C) 2008-2011 Silicon Graphics, Inc. All rights reserved.
 */

#ifndef _ASM_X86_UV_UV_BAU_H
#define _ASM_X86_UV_UV_BAU_H

#include <linux/bitmap.h>
#define BITSPERBYTE 8

/*
 * Broadcast Assist Unit messaging structures
 *
 * Selective Broadcast activations are induced by software action
 * specifying a particular 8-descriptor "set" via a 6-bit index written
 * to an MMR.
 * Thus there are 64 unique 512-byte sets of SB descriptors - one set for
 * each 6-bit index value. These descriptor sets are mapped in sequence
 * starting with set 0 located at the address specified in the
 * BAU_SB_DESCRIPTOR_BASE register, set 1 is located at BASE + 512,
 * set 2 is at BASE + 2*512, set 3 at BASE + 3*512, and so on.
 *
 * We will use one set for sending BAU messages from each of the
 * cpu's on the uvhub.
 *
 * TLB shootdown will use the first of the 8 descriptors of each set.
 * Each of the descriptors is 64 bytes in size (8*64 = 512 bytes in a set).
 */

#define MAX_CPUS_PER_UVHUB		128
#define MAX_CPUS_PER_SOCKET		64
#define ADP_SZ				64 /* hardware-provided max. */
#define UV_CPUS_PER_AS			32 /* hardware-provided max. */
#define ITEMS_PER_DESC			8
/* the 'throttle' to prevent the hardware stay-busy bug */
#define MAX_BAU_CONCURRENT		3
#define UV_ACT_STATUS_MASK		0x3
#define UV_ACT_STATUS_SIZE		2
#define UV_DISTRIBUTION_SIZE		256
#define UV_SW_ACK_NPENDING		8
#define UV1_NET_ENDPOINT_INTD		0x38
#define UV2_NET_ENDPOINT_INTD		0x28
#define UV_NET_ENDPOINT_INTD		(is_uv1_hub() ?			\
			UV1_NET_ENDPOINT_INTD : UV2_NET_ENDPOINT_INTD)
#define UV_DESC_PSHIFT			49
#define UV_PAYLOADQ_GNODE_SHIFT		49
#define UV_PTC_BASENAME			"sgi_uv/ptc_statistics"
#define UV_BAU_BASENAME			"sgi_uv/bau_tunables"
#define UV_BAU_TUNABLES_DIR		"sgi_uv"
#define UV_BAU_TUNABLES_FILE		"bau_tunables"
#define WHITESPACE			" \t\n"
#define cpubit_isset(cpu, bau_local_cpumask) \
	test_bit((cpu), (bau_local_cpumask).bits)

/* [19:16] SOFT_ACK timeout period  19: 1 is urgency 7  17:16 1 is multiplier */
/*
 * UV2: Bit 19 selects between
 *  (0): 10 microsecond timebase and
 *  (1): 80 microseconds
 *  we're using 560us, similar to UV1: 65 units of 10us
 */
#define UV1_INTD_SOFT_ACK_TIMEOUT_PERIOD (9UL)
#define UV2_INTD_SOFT_ACK_TIMEOUT_PERIOD (15UL)

#define UV_INTD_SOFT_ACK_TIMEOUT_PERIOD	(is_uv1_hub() ?			\
		UV1_INTD_SOFT_ACK_TIMEOUT_PERIOD :			\
		UV2_INTD_SOFT_ACK_TIMEOUT_PERIOD)
/* assuming UV3 is the same */

#define BAU_MISC_CONTROL_MULT_MASK	3

#define UVH_AGING_PRESCALE_SEL		0x000000b000UL
/* [30:28] URGENCY_7  an index into a table of times */
#define BAU_URGENCY_7_SHIFT		28
#define BAU_URGENCY_7_MASK		7

#define UVH_TRANSACTION_TIMEOUT		0x000000b200UL
/* [45:40] BAU - BAU transaction timeout select - a multiplier */
#define BAU_TRANS_SHIFT			40
#define BAU_TRANS_MASK			0x3f

/*
 * shorten some awkward names
 */
#define AS_PUSH_SHIFT UVH_LB_BAU_SB_ACTIVATION_CONTROL_PUSH_SHFT
#define SOFTACK_MSHIFT UVH_LB_BAU_MISC_CONTROL_ENABLE_INTD_SOFT_ACK_MODE_SHFT
#define SOFTACK_PSHIFT UVH_LB_BAU_MISC_CONTROL_INTD_SOFT_ACK_TIMEOUT_PERIOD_SHFT
#define SOFTACK_TIMEOUT_PERIOD UV_INTD_SOFT_ACK_TIMEOUT_PERIOD
#define PREFETCH_HINT_SHFT UV3H_LB_BAU_MISC_CONTROL_ENABLE_INTD_PREFETCH_HINT_SHFT
#define SB_STATUS_SHFT UV3H_LB_BAU_MISC_CONTROL_ENABLE_EXTENDED_SB_STATUS_SHFT
#define write_gmmr	uv_write_global_mmr64
#define write_lmmr	uv_write_local_mmr
#define read_lmmr	uv_read_local_mmr
#define read_gmmr	uv_read_global_mmr64

/*
 * bits in UVH_LB_BAU_SB_ACTIVATION_STATUS_0/1
 */
#define DS_IDLE				0
#define DS_ACTIVE			1
#define DS_DESTINATION_TIMEOUT		2
#define DS_SOURCE_TIMEOUT		3
/*
 * bits put together from HRP_LB_BAU_SB_ACTIVATION_STATUS_0/1/2
 * values 1 and 3 will not occur
 *        Decoded meaning              ERROR  BUSY    AUX ERR
 * -------------------------------     ----   -----   -------
 * IDLE                                 0       0        0
 * BUSY (active)                        0       1        0
 * SW Ack Timeout (destination)         1       0        0
 * SW Ack INTD rejected (strong NACK)   1       0        1
 * Source Side Time Out Detected        1       1        0
 * Destination Side PUT Failed          1       1        1
 */
#define UV2H_DESC_IDLE			0
#define UV2H_DESC_BUSY			2
#define UV2H_DESC_DEST_TIMEOUT		4
#define UV2H_DESC_DEST_STRONG_NACK	5
#define UV2H_DESC_SOURCE_TIMEOUT	6
#define UV2H_DESC_DEST_PUT_ERR		7

/*
 * delay for 'plugged' timeout retries, in microseconds
 */
#define PLUGGED_DELAY			10

/*
 * threshholds at which to use IPI to free resources
 */
/* after this # consecutive 'plugged' timeouts, use IPI to release resources */
#define PLUGSB4RESET			100
/* after this many consecutive timeouts, use IPI to release resources */
#define TIMEOUTSB4RESET			1
/* at this number uses of IPI to release resources, giveup the request */
#define IPI_RESET_LIMIT			1
/* after this # consecutive successes, bump up the throttle if it was lowered */
#define COMPLETE_THRESHOLD		5
/* after this # of giveups (fall back to kernel IPI's) disable the use of
   the BAU for a period of time */
#define GIVEUP_LIMIT			100

#define UV_LB_SUBNODEID			0x10

/* these two are the same for UV1 and UV2: */
#define UV_SA_SHFT UVH_LB_BAU_MISC_CONTROL_INTD_SOFT_ACK_TIMEOUT_PERIOD_SHFT
#define UV_SA_MASK UVH_LB_BAU_MISC_CONTROL_INTD_SOFT_ACK_TIMEOUT_PERIOD_MASK
/* 4 bits of software ack period */
#define UV2_ACK_MASK			0x7UL
#define UV2_ACK_UNITS_SHFT		3
#define UV2_EXT_SHFT UV2H_LB_BAU_MISC_CONTROL_ENABLE_EXTENDED_SB_STATUS_SHFT

/*
 * number of entries in the destination side payload queue
 */
#define DEST_Q_SIZE			20
/*
 * number of destination side software ack resources
 */
#define DEST_NUM_RESOURCES		8
/*
 * completion statuses for sending a TLB flush message
 */
#define FLUSH_RETRY_PLUGGED		1
#define FLUSH_RETRY_TIMEOUT		2
#define FLUSH_GIVEUP			3
#define FLUSH_COMPLETE			4

/*
 * tuning the action when the numalink network is extremely delayed
 */
#define CONGESTED_RESPONSE_US		1000	/* 'long' response time, in
						   microseconds */
#define CONGESTED_REPS			10	/* long delays averaged over
						   this many broadcasts */
#define DISABLED_PERIOD			10	/* time for the bau to be
						   disabled, in seconds */
/* see msg_type: */
#define MSG_NOOP			0
#define MSG_REGULAR			1
#define MSG_RETRY			2

/*
 * Distribution: 32 bytes (256 bits) (bytes 0-0x1f of descriptor)
 * If the 'multilevel' flag in the header portion of the descriptor
 * has been set to 0, then endpoint multi-unicast mode is selected.
 * The distribution specification (32 bytes) is interpreted as a 256-bit
 * distribution vector. Adjacent bits correspond to consecutive even numbered
 * nodeIDs. The result of adding the index of a given bit to the 15-bit
 * 'base_dest_nasid' field of the header corresponds to the
 * destination nodeID associated with that specified bit.
 */
struct pnmask {
	unsigned long		bits[BITS_TO_LONGS(UV_DISTRIBUTION_SIZE)];
};

/*
 * mask of cpu's on a uvhub
 * (during initialization we need to check that unsigned long has
 *  enough bits for max. cpu's per uvhub)
 */
struct bau_local_cpumask {
	unsigned long		bits;
};

/*
 * Payload: 16 bytes (128 bits) (bytes 0x20-0x2f of descriptor)
 * only 12 bytes (96 bits) of the payload area are usable.
 * An additional 3 bytes (bits 27:4) of the header address are carried
 * to the next bytes of the destination payload queue.
 * And an additional 2 bytes of the header Suppl_A field are also
 * carried to the destination payload queue.
 * But the first byte of the Suppl_A becomes bits 127:120 (the 16th byte)
 * of the destination payload queue, which is written by the hardware
 * with the s/w ack resource bit vector.
 * [ effective message contents (16 bytes (128 bits) maximum), not counting
 *   the s/w ack bit vector  ]
 */

/*
 * The payload is software-defined for INTD transactions
 */
struct bau_msg_payload {
	unsigned long	address;		/* signifies a page or all
						   TLB's of the cpu */
	/* 64 bits */
	unsigned short	sending_cpu;		/* filled in by sender */
	/* 16 bits */
	unsigned short	acknowledge_count;	/* filled in by destination */
	/* 16 bits */
	unsigned int	reserved1:32;		/* not usable */
};


/*
 * UV1 Message header:  16 bytes (128 bits) (bytes 0x30-0x3f of descriptor)
 * see table 4.2.3.0.1 in broacast_assist spec.
 */
struct uv1_bau_msg_header {
	unsigned int	dest_subnodeid:6;	/* must be 0x10, for the LB */
	/* bits 5:0 */
	unsigned int	base_dest_nasid:15;	/* nasid of the first bit */
	/* bits 20:6 */				/* in uvhub map */
	unsigned int	command:8;		/* message type */
	/* bits 28:21 */
	/* 0x38: SN3net EndPoint Message */
	unsigned int	rsvd_1:3;		/* must be zero */
	/* bits 31:29 */
	/* int will align on 32 bits */
	unsigned int	rsvd_2:9;		/* must be zero */
	/* bits 40:32 */
	/* Suppl_A is 56-41 */
	unsigned int	sequence:16;		/* message sequence number */
	/* bits 56:41 */			/* becomes bytes 16-17 of msg */
						/* Address field (96:57) is
						   never used as an address
						   (these are address bits
						   42:3) */

	unsigned int	rsvd_3:1;		/* must be zero */
	/* bit 57 */
	/* address bits 27:4 are payload */
	/* these next 24  (58-81) bits become bytes 12-14 of msg */
	/* bits 65:58 land in byte 12 */
	unsigned int	replied_to:1;		/* sent as 0 by the source to
						   byte 12 */
	/* bit 58 */
	unsigned int	msg_type:3;		/* software type of the
						   message */
	/* bits 61:59 */
	unsigned int	canceled:1;		/* message canceled, resource
						   is to be freed*/
	/* bit 62 */
	unsigned int	payload_1a:1;		/* not currently used */
	/* bit 63 */
	unsigned int	payload_1b:2;		/* not currently used */
	/* bits 65:64 */

	/* bits 73:66 land in byte 13 */
	unsigned int	payload_1ca:6;		/* not currently used */
	/* bits 71:66 */
	unsigned int	payload_1c:2;		/* not currently used */
	/* bits 73:72 */

	/* bits 81:74 land in byte 14 */
	unsigned int	payload_1d:6;		/* not currently used */
	/* bits 79:74 */
	unsigned int	payload_1e:2;		/* not currently used */
	/* bits 81:80 */

	unsigned int	rsvd_4:7;		/* must be zero */
	/* bits 88:82 */
	unsigned int	swack_flag:1;		/* software acknowledge flag */
	/* bit 89 */
						/* INTD trasactions at
						   destination are to wait for
						   software acknowledge */
	unsigned int	rsvd_5:6;		/* must be zero */
	/* bits 95:90 */
	unsigned int	rsvd_6:5;		/* must be zero */
	/* bits 100:96 */
	unsigned int	int_both:1;		/* if 1, interrupt both sockets
						   on the uvhub */
	/* bit 101*/
	unsigned int	fairness:3;		/* usually zero */
	/* bits 104:102 */
	unsigned int	multilevel:1;		/* multi-level multicast
						   format */
	/* bit 105 */
	/* 0 for TLB: endpoint multi-unicast messages */
	unsigned int	chaining:1;		/* next descriptor is part of
						   this activation*/
	/* bit 106 */
	unsigned int	rsvd_7:21;		/* must be zero */
	/* bits 127:107 */
};

/*
 * UV2 Message header:  16 bytes (128 bits) (bytes 0x30-0x3f of descriptor)
 * see figure 9-2 of harp_sys.pdf
 * assuming UV3 is the same
 */
struct uv2_3_bau_msg_header {
	unsigned int	base_dest_nasid:15;	/* nasid of the first bit */
	/* bits 14:0 */				/* in uvhub map */
	unsigned int	dest_subnodeid:5;	/* must be 0x10, for the LB */
	/* bits 19:15 */
	unsigned int	rsvd_1:1;		/* must be zero */
	/* bit 20 */
	/* Address bits 59:21 */
	/* bits 25:2 of address (44:21) are payload */
	/* these next 24 bits become bytes 12-14 of msg */
	/* bits 28:21 land in byte 12 */
	unsigned int	replied_to:1;		/* sent as 0 by the source to
						   byte 12 */
	/* bit 21 */
	unsigned int	msg_type:3;		/* software type of the
						   message */
	/* bits 24:22 */
	unsigned int	canceled:1;		/* message canceled, resource
						   is to be freed*/
	/* bit 25 */
	unsigned int	payload_1:3;		/* not currently used */
	/* bits 28:26 */

	/* bits 36:29 land in byte 13 */
	unsigned int	payload_2a:3;		/* not currently used */
	unsigned int	payload_2b:5;		/* not currently used */
	/* bits 36:29 */

	/* bits 44:37 land in byte 14 */
	unsigned int	payload_3:8;		/* not currently used */
	/* bits 44:37 */

	unsigned int	rsvd_2:7;		/* reserved */
	/* bits 51:45 */
	unsigned int	swack_flag:1;		/* software acknowledge flag */
	/* bit 52 */
	unsigned int	rsvd_3a:3;		/* must be zero */
	unsigned int	rsvd_3b:8;		/* must be zero */
	unsigned int	rsvd_3c:8;		/* must be zero */
	unsigned int	rsvd_3d:3;		/* must be zero */
	/* bits 74:53 */
	unsigned int	fairness:3;		/* usually zero */
	/* bits 77:75 */

	unsigned int	sequence:16;		/* message sequence number */
	/* bits 93:78  Suppl_A  */
	unsigned int	chaining:1;		/* next descriptor is part of
						   this activation*/
	/* bit 94 */
	unsigned int	multilevel:1;		/* multi-level multicast
						   format */
	/* bit 95 */
	unsigned int	rsvd_4:24;		/* ordered / source node /
						   source subnode / aging
						   must be zero */
	/* bits 119:96 */
	unsigned int	command:8;		/* message type */
	/* bits 127:120 */
};

/* Abstracted BAU functions */
struct bau_operations {
	unsigned long (*read_l_sw_ack)(void);
	unsigned long (*read_g_sw_ack)(int pnode);
	unsigned long (*bau_gpa_to_offset)(unsigned long vaddr);
	void (*write_l_sw_ack)(unsigned long mmr);
	void (*write_g_sw_ack)(int pnode, unsigned long mmr);
	void (*write_payload_first)(int pnode, unsigned long mmr);
	void (*write_payload_last)(int pnode, unsigned long mmr);
};

/*
 * The activation descriptor:
 * The format of the message to send, plus all accompanying control
 * Should be 64 bytes
 */
struct bau_desc {
	struct pnmask				distribution;
	/*
	 * message template, consisting of header and payload:
	 */
	union bau_msg_header {
		struct uv1_bau_msg_header	uv1_hdr;
		struct uv2_3_bau_msg_header	uv2_3_hdr;
	} header;

	struct bau_msg_payload			payload;
};
/* UV1:
 *   -payload--    ---------header------
 *   bytes 0-11    bits 41-56  bits 58-81
 *       A           B  (2)      C (3)
 *
 *            A/B/C are moved to:
 *       A            C          B
 *   bytes 0-11  bytes 12-14  bytes 16-17  (byte 15 filled in by hw as vector)
 *   ------------payload queue-----------
 */
/* UV2:
 *   -payload--    ---------header------
 *   bytes 0-11    bits 70-78  bits 21-44
 *       A           B  (2)      C (3)
 *
 *            A/B/C are moved to:
 *       A            C          B
 *   bytes 0-11  bytes 12-14  bytes 16-17  (byte 15 filled in by hw as vector)
 *   ------------payload queue-----------
 */

/*
 * The payload queue on the destination side is an array of these.
 * With BAU_MISC_CONTROL set for software acknowledge mode, the messages
 * are 32 bytes (2 micropackets) (256 bits) in length, but contain only 17
 * bytes of usable data, including the sw ack vector in byte 15 (bits 127:120)
 * (12 bytes come from bau_msg_payload, 3 from payload_1, 2 from
 *  swack_vec and payload_2)
 * "Enabling Software Acknowledgment mode (see Section 4.3.3 Software
 *  Acknowledge Processing) also selects 32 byte (17 bytes usable) payload
 *  operation."
 */
struct bau_pq_entry {
	unsigned long	address;	/* signifies a page or all TLB's
					   of the cpu */
	/* 64 bits, bytes 0-7 */
	unsigned short	sending_cpu;	/* cpu that sent the message */
	/* 16 bits, bytes 8-9 */
	unsigned short	acknowledge_count; /* filled in by destination */
	/* 16 bits, bytes 10-11 */
	/* these next 3 bytes come from bits 58-81 of the message header */
	unsigned short	replied_to:1;	/* sent as 0 by the source */
	unsigned short	msg_type:3;	/* software message type */
	unsigned short	canceled:1;	/* sent as 0 by the source */
	unsigned short	unused1:3;	/* not currently using */
	/* byte 12 */
	unsigned char	unused2a;	/* not currently using */
	/* byte 13 */
	unsigned char	unused2;	/* not currently using */
	/* byte 14 */
	unsigned char	swack_vec;	/* filled in by the hardware */
	/* byte 15 (bits 127:120) */
	unsigned short	sequence;	/* message sequence number */
	/* bytes 16-17 */
	unsigned char	unused4[2];	/* not currently using bytes 18-19 */
	/* bytes 18-19 */
	int		number_of_cpus;	/* filled in at destination */
	/* 32 bits, bytes 20-23 (aligned) */
	unsigned char	unused5[8];	/* not using */
	/* bytes 24-31 */
};

struct msg_desc {
	struct bau_pq_entry	*msg;
	int			msg_slot;
	struct bau_pq_entry	*queue_first;
	struct bau_pq_entry	*queue_last;
};

struct reset_args {
	int			sender;
};

/*
 * This structure is allocated per_cpu for UV TLB shootdown statistics.
 */
struct ptc_stats {
	/* sender statistics */
	unsigned long	s_giveup;		/* number of fall backs to
						   IPI-style flushes */
	unsigned long	s_requestor;		/* number of shootdown
						   requests */
	unsigned long	s_stimeout;		/* source side timeouts */
	unsigned long	s_dtimeout;		/* destination side timeouts */
	unsigned long	s_strongnacks;		/* number of strong nack's */
	unsigned long	s_time;			/* time spent in sending side */
	unsigned long	s_retriesok;		/* successful retries */
	unsigned long	s_ntargcpu;		/* total number of cpu's
						   targeted */
	unsigned long	s_ntargself;		/* times the sending cpu was
						   targeted */
	unsigned long	s_ntarglocals;		/* targets of cpus on the local
						   blade */
	unsigned long	s_ntargremotes;		/* targets of cpus on remote
						   blades */
	unsigned long	s_ntarglocaluvhub;	/* targets of the local hub */
	unsigned long	s_ntargremoteuvhub;	/* remotes hubs targeted */
	unsigned long	s_ntarguvhub;		/* total number of uvhubs
						   targeted */
	unsigned long	s_ntarguvhub16;		/* number of times target
						   hubs >= 16*/
	unsigned long	s_ntarguvhub8;		/* number of times target
						   hubs >= 8 */
	unsigned long	s_ntarguvhub4;		/* number of times target
						   hubs >= 4 */
	unsigned long	s_ntarguvhub2;		/* number of times target
						   hubs >= 2 */
	unsigned long	s_ntarguvhub1;		/* number of times target
						   hubs == 1 */
	unsigned long	s_resets_plug;		/* ipi-style resets from plug
						   state */
	unsigned long	s_resets_timeout;	/* ipi-style resets from
						   timeouts */
	unsigned long	s_busy;			/* status stayed busy past
						   s/w timer */
	unsigned long	s_throttles;		/* waits in throttle */
	unsigned long	s_retry_messages;	/* retry broadcasts */
	unsigned long	s_bau_reenabled;	/* for bau enable/disable */
	unsigned long	s_bau_disabled;		/* for bau enable/disable */
	unsigned long	s_uv2_wars;		/* uv2 workaround, perm. busy */
	unsigned long	s_uv2_wars_hw;		/* uv2 workaround, hiwater */
	unsigned long	s_uv2_war_waits;	/* uv2 workaround, long waits */
	unsigned long	s_overipilimit;		/* over the ipi reset limit */
	unsigned long	s_giveuplimit;		/* disables, over giveup limit*/
	unsigned long	s_enters;		/* entries to the driver */
	unsigned long	s_ipifordisabled;	/* fall back to IPI; disabled */
	unsigned long	s_plugged;		/* plugged by h/w bug*/
	unsigned long	s_congested;		/* giveup on long wait */
	/* destination statistics */
	unsigned long	d_alltlb;		/* times all tlb's on this
						   cpu were flushed */
	unsigned long	d_onetlb;		/* times just one tlb on this
						   cpu was flushed */
	unsigned long	d_multmsg;		/* interrupts with multiple
						   messages */
	unsigned long	d_nomsg;		/* interrupts with no message */
	unsigned long	d_time;			/* time spent on destination
						   side */
	unsigned long	d_requestee;		/* number of messages
						   processed */
	unsigned long	d_retries;		/* number of retry messages
						   processed */
	unsigned long	d_canceled;		/* number of messages canceled
						   by retries */
	unsigned long	d_nocanceled;		/* retries that found nothing
						   to cancel */
	unsigned long	d_resets;		/* number of ipi-style requests
						   processed */
	unsigned long	d_rcanceled;		/* number of messages canceled
						   by resets */
};

struct tunables {
	int			*tunp;
	int			deflt;
};

struct hub_and_pnode {
	short			uvhub;
	short			pnode;
};

struct socket_desc {
	short			num_cpus;
	short			cpu_number[MAX_CPUS_PER_SOCKET];
};

struct uvhub_desc {
	unsigned short		socket_mask;
	short			num_cpus;
	short			uvhub;
	short			pnode;
	struct socket_desc	socket[2];
};

/*
 * one per-cpu; to locate the software tables
 */
struct bau_control {
	struct bau_desc		*descriptor_base;
	struct bau_pq_entry	*queue_first;
	struct bau_pq_entry	*queue_last;
	struct bau_pq_entry	*bau_msg_head;
	struct bau_control	*uvhub_master;
	struct bau_control	*socket_master;
	struct ptc_stats	*statp;
	cpumask_t		*cpumask;
	unsigned long		timeout_interval;
	unsigned long		set_bau_on_time;
	atomic_t		active_descriptor_count;
	int			plugged_tries;
	int			timeout_tries;
	int			ipi_attempts;
	int			conseccompletes;
	bool			nobau;
	short			baudisabled;
	short			cpu;
	short			osnode;
	short			uvhub_cpu;
	short			uvhub;
	short			uvhub_version;
	short			cpus_in_socket;
	short			cpus_in_uvhub;
	short			partition_base_pnode;
	short			busy;       /* all were busy (war) */
	unsigned short		message_number;
	unsigned short		uvhub_quiesce;
	short			socket_acknowledge_count[DEST_Q_SIZE];
	cycles_t		send_message;
	cycles_t		period_end;
	cycles_t		period_time;
	spinlock_t		uvhub_lock;
	spinlock_t		queue_lock;
	spinlock_t		disable_lock;
	/* tunables */
	int			max_concurr;
	int			max_concurr_const;
	int			plugged_delay;
	int			plugsb4reset;
	int			timeoutsb4reset;
	int			ipi_reset_limit;
	int			complete_threshold;
	int			cong_response_us;
	int			cong_reps;
	cycles_t		disabled_period;
	int			period_giveups;
	int			giveup_limit;
	long			period_requests;
	struct hub_and_pnode	*thp;
};

static inline void write_mmr_data_broadcast(int pnode, unsigned long mmr_image)
{
	write_gmmr(pnode, UVH_BAU_DATA_BROADCAST, mmr_image);
}

static inline void write_mmr_descriptor_base(int pnode, unsigned long mmr_image)
{
	write_gmmr(pnode, UVH_LB_BAU_SB_DESCRIPTOR_BASE, mmr_image);
}

static inline void write_mmr_activation(unsigned long index)
{
	write_lmmr(UVH_LB_BAU_SB_ACTIVATION_CONTROL, index);
}

static inline void write_gmmr_activation(int pnode, unsigned long mmr_image)
{
	write_gmmr(pnode, UVH_LB_BAU_SB_ACTIVATION_CONTROL, mmr_image);
}

static inline void write_mmr_proc_payload_first(int pnode, unsigned long mmr_image)
{
	write_gmmr(pnode, UV4H_LB_PROC_INTD_QUEUE_FIRST, mmr_image);
}

static inline void write_mmr_proc_payload_last(int pnode, unsigned long mmr_image)
{
	write_gmmr(pnode, UV4H_LB_PROC_INTD_QUEUE_LAST, mmr_image);
}

static inline void write_mmr_payload_first(int pnode, unsigned long mmr_image)
{
	write_gmmr(pnode, UVH_LB_BAU_INTD_PAYLOAD_QUEUE_FIRST, mmr_image);
}

static inline void write_mmr_payload_tail(int pnode, unsigned long mmr_image)
{
	write_gmmr(pnode, UVH_LB_BAU_INTD_PAYLOAD_QUEUE_TAIL, mmr_image);
}

static inline void write_mmr_payload_last(int pnode, unsigned long mmr_image)
{
	write_gmmr(pnode, UVH_LB_BAU_INTD_PAYLOAD_QUEUE_LAST, mmr_image);
}

static inline void write_mmr_misc_control(int pnode, unsigned long mmr_image)
{
	write_gmmr(pnode, UVH_LB_BAU_MISC_CONTROL, mmr_image);
}

static inline unsigned long read_mmr_misc_control(int pnode)
{
	return read_gmmr(pnode, UVH_LB_BAU_MISC_CONTROL);
}

static inline void write_mmr_sw_ack(unsigned long mr)
{
	uv_write_local_mmr(UVH_LB_BAU_INTD_SOFTWARE_ACKNOWLEDGE_ALIAS, mr);
}

static inline void write_gmmr_sw_ack(int pnode, unsigned long mr)
{
	write_gmmr(pnode, UVH_LB_BAU_INTD_SOFTWARE_ACKNOWLEDGE_ALIAS, mr);
}

static inline unsigned long read_mmr_sw_ack(void)
{
	return read_lmmr(UVH_LB_BAU_INTD_SOFTWARE_ACKNOWLEDGE);
}

static inline unsigned long read_gmmr_sw_ack(int pnode)
{
	return read_gmmr(pnode, UVH_LB_BAU_INTD_SOFTWARE_ACKNOWLEDGE);
}

static inline void write_mmr_proc_sw_ack(unsigned long mr)
{
	uv_write_local_mmr(UV4H_LB_PROC_INTD_SOFT_ACK_CLEAR, mr);
}

static inline void write_gmmr_proc_sw_ack(int pnode, unsigned long mr)
{
	write_gmmr(pnode, UV4H_LB_PROC_INTD_SOFT_ACK_CLEAR, mr);
}

static inline unsigned long read_mmr_proc_sw_ack(void)
{
	return read_lmmr(UV4H_LB_PROC_INTD_SOFT_ACK_PENDING);
}

static inline unsigned long read_gmmr_proc_sw_ack(int pnode)
{
	return read_gmmr(pnode, UV4H_LB_PROC_INTD_SOFT_ACK_PENDING);
}

static inline void write_mmr_data_config(int pnode, unsigned long mr)
{
	uv_write_global_mmr64(pnode, UVH_BAU_DATA_CONFIG, mr);
}

static inline int bau_uvhub_isset(int uvhub, struct pnmask *dstp)
{
	return constant_test_bit(uvhub, &dstp->bits[0]);
}
static inline void bau_uvhub_set(int pnode, struct pnmask *dstp)
{
	__set_bit(pnode, &dstp->bits[0]);
}
static inline void bau_uvhubs_clear(struct pnmask *dstp,
				    int nbits)
{
	bitmap_zero(&dstp->bits[0], nbits);
}
static inline int bau_uvhub_weight(struct pnmask *dstp)
{
	return bitmap_weight((unsigned long *)&dstp->bits[0],
				UV_DISTRIBUTION_SIZE);
}

static inline void bau_cpubits_clear(struct bau_local_cpumask *dstp, int nbits)
{
	bitmap_zero(&dstp->bits, nbits);
}

extern void uv_bau_message_intr1(void);
#ifdef CONFIG_TRACING
#define trace_uv_bau_message_intr1 uv_bau_message_intr1
#endif
extern void uv_bau_timeout_intr1(void);

struct atomic_short {
	short counter;
};

/*
 * atomic_read_short - read a short atomic variable
 * @v: pointer of type atomic_short
 *
 * Atomically reads the value of @v.
 */
static inline int atomic_read_short(const struct atomic_short *v)
{
	return v->counter;
}

/*
 * atom_asr - add and return a short int
 * @i: short value to add
 * @v: pointer of type atomic_short
 *
 * Atomically adds @i to @v and returns @i + @v
 */
static inline int atom_asr(short i, struct atomic_short *v)
{
	short __i = i;
	asm volatile(LOCK_PREFIX "xaddw %0, %1"
			: "+r" (i), "+m" (v->counter)
			: : "memory");
	return i + __i;
}

/*
 * conditionally add 1 to *v, unless *v is >= u
 * return 0 if we cannot add 1 to *v because it is >= u
 * return 1 if we can add 1 to *v because it is < u
 * the add is atomic
 *
 * This is close to atomic_add_unless(), but this allows the 'u' value
 * to be lowered below the current 'v'.  atomic_add_unless can only stop
 * on equal.
 */
static inline int atomic_inc_unless_ge(spinlock_t *lock, atomic_t *v, int u)
{
	spin_lock(lock);
	if (atomic_read(v) >= u) {
		spin_unlock(lock);
		return 0;
	}
	atomic_inc(v);
	spin_unlock(lock);
	return 1;
}

#endif /* _ASM_X86_UV_UV_BAU_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             /*
 * This file is subject to the terms and conditions of the GNU General Public
 * License.  See the file "COPYING" in the main directory of this archive
 * for more details.
 *
 * SGI UV architectural definitions
 *
 * Copyright (C) 2007-2014 Silicon Graphics, Inc. All rights reserved.
 */

#ifndef _ASM_X86_UV_UV_HUB_H
#define _ASM_X86_UV_UV_HUB_H

#ifdef CONFIG_X86_64
#include <linux/numa.h>
#include <linux/percpu.h>
#include <linux/timer.h>
#include <linux/io.h>
#include <linux/topology.h>
#include <asm/types.h>
#include <asm/percpu.h>
#include <asm/uv/uv_mmrs.h>
#include <asm/uv/bios.h>
#include <asm/irq_vectors.h>
#include <asm/io_apic.h>


/*
 * Addressing Terminology
 *
 *	M       - The low M bits of a physical address represent the offset
 *		  into the blade local memory. RAM memory on a blade is physically
 *		  contiguous (although various IO spaces may punch holes in
 *		  it)..
 *
 *	N	- Number of bits in the node portion of a socket physical
 *		  address.
 *
 *	NASID   - network ID of a router, Mbrick or Cbrick. Nasid values of
 *		  routers always have low bit of 1, C/MBricks have low bit
 *		  equal to 0. Most addressing macros that target UV hub chips
 *		  right shift the NASID by 1 to exclude the always-zero bit.
 *		  NASIDs contain up to 15 bits.
 *
 *	GNODE   - NASID right shifted by 1 bit. Most mmrs contain gnodes instead
 *		  of nasids.
 *
 *	PNODE   - the low N bits of the GNODE. The PNODE is the most useful variant
 *		  of the nasid for socket usage.
 *
 *	GPA	- (global physical address) a socket physical address converted
 *		  so that it can be used by the GRU as a global address. Socket
 *		  physical addresses 1) need additional NASID (node) bits added
 *		  to the high end of the address, and 2) unaliased if the
 *		  partition does not have a physical address 0. In addition, on
 *		  UV2 rev 1, GPAs need the gnode left shifted to bits 39 or 40.
 *
 *
 *  NumaLink Global Physical Address Format:
 *  +--------------------------------+---------------------+
 *  |00..000|      GNODE             |      NodeOffset     |
 *  +--------------------------------+---------------------+
 *          |<-------53 - M bits --->|<--------M bits ----->
 *
 *	M - number of node offset bits (35 .. 40)
 *
 *
 *  Memory/UV-HUB Processor Socket Address Format:
 *  +----------------+---------------+---------------------+
 *  |00..000000000000|   PNODE       |      NodeOffset     |
 *  +----------------+---------------+---------------------+
 *                   <--- N bits --->|<--------M bits ----->
 *
 *	M - number of node offset bits (35 .. 40)
 *	N - number of PNODE bits (0 .. 10)
 *
 *		Note: M + N cannot currently exceed 44 (x86_64) or 46 (IA64).
 *		The actual values are configuration dependent and are set at
 *		boot time. M & N values are set by the hardware/BIOS at boot.
 *
 *
 * APICID format
 *	NOTE!!!!!! This is the current format of the APICID. However, code
 *	should assume that this will change in the future. Use functions
 *	in this file for all APICID bit manipulations and conversion.
 *
 *		1111110000000000
 *		5432109876543210
 *		pppppppppplc0cch	Nehalem-EX (12 bits in hdw reg)
 *		ppppppppplcc0cch	Westmere-EX (12 bits in hdw reg)
 *		pppppppppppcccch	SandyBridge (15 bits in hdw reg)
 *		sssssssssss
 *
 *			p  = pnode bits
 *			l =  socket number on board
 *			c  = core
 *			h  = hyperthread
 *			s  = bits that are in the SOCKET_ID CSR
 *
 *	Note: Processor may support fewer bits in the APICID register. The ACPI
 *	      tables hold all 16 bits. Software needs to be aware of this.
 *
 *	      Unless otherwise specified, all references to APICID refer to
 *	      the FULL value contained in ACPI tables, not the subset in the
 *	      processor APICID register.
 */

/*
 * Maximum number of bricks in all partitions and in all coherency domains.
 * This is the total number of bricks accessible in the numalink fabric. It
 * includes all C & M bricks. Routers are NOT included.
 *
 * This value is also the value of the maximum number of non-router NASIDs
 * in the numalink fabric.
 *
 * NOTE: a brick may contain 1 or 2 OS nodes. Don't get these confused.
 */
#define UV_MAX_NUMALINK_BLADES	16384

/*
 * Maximum number of C/Mbricks within a software SSI (hardware may support
 * more).
 */
#define UV_MAX_SSI_BLADES	256

/*
 * The largest possible NASID of a C or M brick (+ 2)
 */
#define UV_MAX_NASID_VALUE	(UV_MAX_NUMALINK_BLADES * 2)

/* System Controller Interface Reg info */
struct uv_scir_s {
	struct timer_list timer;
	unsigned long	offset;
	unsigned long	last;
	unsigned long	idle_on;
	unsigned long	idle_off;
	unsigned char	state;
	unsigned char	enabled;
};

/* GAM (globally addressed memory) range table */
struct uv_gam_range_s {
	u32	limit;		/* PA bits 56:26 (GAM_RANGE_SHFT) */
	u16	nasid;		/* node's global physical address */
	s8	base;		/* entry index of node's base addr */
	u8	reserved;
};

/*
 * The following defines attributes of the HUB chip. These attributes are
 * frequently referenced and are kept in a common per hub struct.
 * After setup, the struct is read only, so it should be readily
 * available in the L3 cache on the cpu socket for the node.
 */
struct uv_hub_info_s {
	unsigned long		global_mmr_base;
	unsigned long		global_mmr_shift;
	unsigned long		gpa_mask;
	unsigned short		*socket_to_node;
	unsigned short		*socket_to_pnode;
	unsigned short		*pnode_to_socket;
	struct uv_gam_range_s	*gr_table;
	unsigned short		min_socket;
	unsigned short		min_pnode;
	unsigned char		m_val;
	unsigned char		n_val;
	unsigned char		gr_table_len;
	unsigned char		hub_revision;
	unsigned char		apic_pnode_shift;
	unsigned char		gpa_shift;
	unsigned char		m_shift;
	unsigned char		n_lshift;
	unsigned int		gnode_extra;
	unsigned long		gnode_upper;
	unsigned long		lowmem_remap_top;
	unsigned long		lowmem_remap_base;
	unsigned long		global_gru_base;
	unsigned long		global_gru_shift;
	unsigned short		pnode;
	unsigned short		pnode_mask;
	unsigned short		coherency_domain_number;
	unsigned short		numa_blade_id;
	unsigned short		nr_possible_cpus;
	unsigned short		nr_online_cpus;
	short			memory_nid;
};

/* CPU specific info with a pointer to the hub common info struct */
struct uv_cpu_info_s {
	void			*p_uv_hub_info;
	unsigned char		blade_cpu_id;
	struct uv_scir_s	scir;
};
DECLARE_PER_CPU(struct uv_cpu_info_s, __uv_cpu_info);

#define uv_cpu_info		this_cpu_ptr(&__uv_cpu_info)
#define uv_cpu_info_per(cpu)	(&per_cpu(__uv_cpu_info, cpu))

#define	uv_scir_info		(&uv_cpu_info->scir)
#define	uv_cpu_scir_info(cpu)	(&uv_cpu_info_per(cpu)->scir)

/* Node specific hub common info struct */
extern void **__uv_hub_info_list;
static inline struct uv_hub_info_s *uv_hub_info_list(int node)
{
	return (struct uv_hub_info_s *)__uv_hub_info_list[node];
}

static inline struct uv_hub_info_s *_uv_hub_info(void)
{
	return (struct uv_hub_info_s *)uv_cpu_info->p_uv_hub_info;
}
#define	uv_hub_info	_uv_hub_info()

static inline struct uv_hub_info_s *uv_cpu_hub_info(int cpu)
{
	return (struct uv_hub_info_s *)uv_cpu_info_per(cpu)->p_uv_hub_info;
}

#define	UV_HUB_INFO_VERSION	0x7150
extern int uv_hub_info_version(void);
static inline int uv_hub_info_check(int version)
{
	if (uv_hub_info_version() == version)
		return 0;

	pr_crit("UV: uv_hub_info version(%x) mismatch, expecting(%x)\n",
		uv_hub_info_version(), version);

	BUG();	/* Catastrophic - cannot continue on unknown UV system */
}
#define	_uv_hub_info_check()	uv_hub_info_check(UV_HUB_INFO_VERSION)

/*
 * HUB revision ranges for each UV HUB architecture.
 * This is a software convention - NOT the hardware revision numbers in
 * the hub chip.
 */
#define UV1_HUB_REVISION_BASE		1
#define UV2_HUB_REVISION_BASE		3
#define UV3_HUB_REVISION_BASE		5
#define UV4_HUB_REVISION_BASE		7

#ifdef	UV1_HUB_IS_SUPPORTED
static inline int is_uv1_hub(void)
{
	return uv_hub_info->hub_revision < UV2_HUB_REVISION_BASE;
}
#else
static inline int is_uv1_hub(void)
{
	return 0;
}
#endif

#ifdef	UV2_HUB_IS_SUPPORTED
static inline int is_uv2_hub(void)
{
	return ((uv_hub_info->hub_revision >= UV2_HUB_REVISION_BASE) &&
		(uv_hub_info->hub_revision < UV3_HUB_REVISION_BASE));
}
#else
static inline int is_uv2_hub(void)
{
	return 0;
}
#endif

#ifdef	UV3_HUB_IS_SUPPORTED
static inline int is_uv3_hub(void)
{
	return ((uv_hub_info->hub_revision >= UV3_HUB_REVISION_BASE) &&
		(uv_hub_info->hub_revision < UV4_HUB_REVISION_BASE));
}
#else
static inline int is_uv3_hub(void)
{
	return 0;
}
#endif

#ifdef	UV4_HUB_IS_SUPPORTED
static inline int is_uv4_hub(void)
{
	return uv_hub_info->hub_revision >= UV4_HUB_REVISION_BASE;
}
#else
static inline int is_uv4_hub(void)
{
	return 0;
}
#endif

static inline int is_uvx_hub(void)
{
	if (uv_hub_info->hub_revision >= UV2_HUB_REVISION_BASE)
		return uv_hub_info->hub_revision;

	return 0;
}

static inline int is_uv_hub(void)
{
#ifdef	UV1_HUB_IS_SUPPORTED
	return uv_hub_info->hub_revision;
#endif
	return is_uvx_hub();
}

union uvh_apicid {
    unsigned long       v;
    struct uvh_apicid_s {
        unsigned long   local_apic_mask  : 24;
        unsigned long   local_apic_shift :  5;
        unsigned long   unused1          :  3;
        unsigned long   pnode_mask       : 24;
        unsigned long   pnode_shift      :  5;
        unsigned long   unused2          :  3;
    } s;
};

/*
 * Local & Global MMR space macros.
 *	Note: macros are intended to be used ONLY by inline functions
 *	in this file - not by other kernel code.
 *		n -  NASID (full 15-bit global nasid)
 *		g -  GNODE (full 15-bit global nasid, right shifted 1)
 *		p -  PNODE (local part of nsids, right shifted 1)
 */
#define UV_NASID_TO_PNODE(n)		(((n) >> 1) & uv_hub_info->pnode_mask)
#define UV_PNODE_TO_GNODE(p)		((p) |uv_hub_info->gnode_extra)
#define UV_PNODE_TO_NASID(p)		(UV_PNODE_TO_GNODE(p) << 1)

#define UV1_LOCAL_MMR_BASE		0xf4000000UL
#define UV1_GLOBAL_MMR32_BASE		0xf8000000UL
#define UV1_LOCAL_MMR_SIZE		(64UL * 1024 * 1024)
#define UV1_GLOBAL_MMR32_SIZE		(64UL * 1024 * 1024)

#define UV2_LOCAL_MMR_BASE		0xfa000000UL
#define UV2_GLOBAL_MMR32_BASE		0xfc000000UL
#define UV2_LOCAL_MMR_SIZE		(32UL * 1024 * 1024)
#define UV2_GLOBAL_MMR32_SIZE		(32UL * 1024 * 1024)

#define UV3_LOCAL_MMR_BASE		0xfa000000UL
#define UV3_GLOBAL_MMR32_BASE		0xfc000000UL
#define UV3_LOCAL_MMR_SIZE		(32UL * 1024 * 1024)
#define UV3_GLOBAL_MMR32_SIZE		(32UL * 1024 * 1024)

#define UV4_LOCAL_MMR_BASE		0xfa000000UL
#define UV4_GLOBAL_MMR32_BASE		0xfc000000UL
#define UV4_LOCAL_MMR_SIZE		(32UL * 1024 * 1024)
#define UV4_GLOBAL_MMR32_SIZE		(16UL * 1024 * 1024)

#define UV_LOCAL_MMR_BASE		(				\
					is_uv1_hub() ? UV1_LOCAL_MMR_BASE : \
					is_uv2_hub() ? UV2_LOCAL_MMR_BASE : \
					is_uv3_hub() ? UV3_LOCAL_MMR_BASE : \
					/*is_uv4_hub*/ UV4_LOCAL_MMR_BASE)

#define UV_GLOBAL_MMR32_BASE		(				\
					is_uv1_hub() ? UV1_GLOBAL_MMR32_BASE : \
					is_uv2_hub() ? UV2_GLOBAL_MMR32_BASE : \
					is_uv3_hub() ? UV3_GLOBAL_MMR32_BASE : \
					/*is_uv4_hub*/ UV4_GLOBAL_MMR32_BASE)

#define UV_LOCAL_MMR_SIZE		(				\
					is_uv1_hub() ? UV1_LOCAL_MMR_SIZE : \
					is_uv2_hub() ? UV2_LOCAL_MMR_SIZE : \
					is_uv3_hub() ? UV3_LOCAL_MMR_SIZE : \
					/*is_uv4_hub*/ UV4_LOCAL_MMR_SIZE)

#define UV_GLOBAL_MMR32_SIZE		(				\
					is_uv1_hub() ? UV1_GLOBAL_MMR32_SIZE : \
					is_uv2_hub() ? UV2_GLOBAL_MMR32_SIZE : \
					is_uv3_hub() ? UV3_GLOBAL_MMR32_SIZE : \
					/*is_uv4_hub*/ UV4_GLOBAL_MMR32_SIZE)

#define UV_GLOBAL_MMR64_BASE		(uv_hub_info->global_mmr_base)

#define UV_GLOBAL_GRU_MMR_BASE		0x4000000

#define UV_GLOBAL_MMR32_PNODE_SHIFT	15
#define _UV_GLOBAL_MMR64_PNODE_SHIFT	26
#define UV_GLOBAL_MMR64_PNODE_SHIFT	(uv_hub_info->global_mmr_shift)

#define UV_GLOBAL_MMR32_PNODE_BITS(p)	((p) << (UV_GLOBAL_MMR32_PNODE_SHIFT))

#define UV_GLOBAL_MMR64_PNODE_BITS(p)					\
	(((unsigned long)(p)) << UV_GLOBAL_MMR64_PNODE_SHIFT)

#define UVH_APICID		0x002D0E00L
#define UV_APIC_PNODE_SHIFT	6

#define UV_APICID_HIBIT_MASK	0xffff0000

/* Local Bus from cpu's perspective */
#define LOCAL_BUS_BASE		0x1c00000
#define LOCAL_BUS_SIZE		(4 * 1024 * 1024)

/*
 * System Controller Interface Reg
 *
 * Note there are NO leds on a UV system.  This register is only
 * used by the system controller to monitor system-wide operation.
 * There are 64 regs per node.  With Nahelem cpus (2 cores per node,
 * 8 cpus per core, 2 threads per cpu) there are 32 cpu threads on
 * a node.
 *
 * The window is located at top of ACPI MMR space
 */
#define SCIR_WINDOW_COUNT	64
#define SCIR_LOCAL_MMR_BASE	(LOCAL_BUS_BASE + \
				 LOCAL_BUS_SIZE - \
				 SCIR_WINDOW_COUNT)

#define SCIR_CPU_HEARTBEAT	0x01	/* timer interrupt */
#define SCIR_CPU_ACTIVITY	0x02	/* not idle */
#define SCIR_CPU_HB_INTERVAL	(HZ)	/* once per second */

/* Loop through all installed blades */
#define for_each_possible_blade(bid)		\
	for ((bid) = 0; (bid) < uv_num_possible_blades(); (bid)++)

/*
 * Macros for converting between kernel virtual addresses, socket local physical
 * addresses, and UV global physical addresses.
 *	Note: use the standard __pa() & __va() macros for converting
 *	      between socket virtual and socket physical addresses.
 */

/* global bits offset - number of local address bits in gpa for this UV arch */
static inline unsigned int uv_gpa_shift(void)
{
	return uv_hub_info->gpa_shift;
}
#define	_uv_gpa_shift

/* Find node that has the address range that contains global address  */
static inline struct uv_gam_range_s *uv_gam_range(unsigned long pa)
{
	struct uv_gam_range_s *gr = uv_hub_info->gr_table;
	unsigned long pal = (pa & uv_hub_info->gpa_mask) >> UV_GAM_RANGE_SHFT;
	int i, num = uv_hub_info->gr_table_len;

	if (gr) {
		for (i = 0; i < num; i++, gr++) {
			if (pal < gr->limit)
				return gr;
		}
	}
	pr_crit("UV: GAM Range for 0x%lx not found at %p!\n", pa, gr);
	BUG();
}

/* Return base address of node that contains global address  */
static inline unsigned long uv_gam_range_base(unsigned long pa)
{
	struct uv_gam_range_s *gr = uv_gam_range(pa);
	int base = gr->base;

	if (base < 0)
		return 0UL;

	return uv_hub_info->gr_table[base].limit;
}

/* socket phys RAM --> UV global NASID (UV4+) */
static inline unsigned long uv_soc_phys_ram_to_nasid(unsigned long paddr)
{
	return uv_gam_range(paddr)->nasid;
}
#define	_uv_soc_phys_ram_to_nasid

/* socket virtual --> UV global NASID (UV4+) */
static inline unsigned long uv_gpa_nasid(void *v)
{
	return uv_soc_phys_ram_to_nasid(__pa(v));
}

/* socket phys RAM --> UV global physical address */
static inline unsigned long uv_soc_phys_ram_to_gpa(unsigned long paddr)
{
	unsigned int m_val = uv_hub_info->m_val;

	if (paddr < uv_hub_info->lowmem_remap_top)
		paddr |= uv_hub_info->lowmem_remap_base;
	paddr |= uv_hub_info->gnode_upper;
	if (m_val)
		paddr = ((paddr << uv_hub_info->m_shift)
						>> uv_hub_info->m_shift) |
			((paddr >> uv_hub_info->m_val)
						<< uv_hub_info->n_lshift);
	else
		paddr |= uv_soc_phys_ram_to_nasid(paddr)
						<< uv_hub_info->gpa_shift;
	return paddr;
}

/* socket virtual --> UV global physical address */
static inline unsigned long uv_gpa(void *v)
{
	return uv_soc_phys_ram_to_gpa(__pa(v));
}

/* Top two bits indicate the requested address is in MMR space.  */
static inline int
uv_gpa_in_mmr_space(unsigned long gpa)
{
	return (gpa >> 62) == 0x3UL;
}

/* UV global physical address --> socket phys RAM */
static inline unsigned long uv_gpa_to_soc_phys_ram(unsigned long gpa)
{
	unsigned long paddr;
	unsigned long remap_base = uv_hub_info->lowmem_remap_base;
	unsigned long remap_top =  uv_hub_info->lowmem_remap_top;
	unsigned int m_val = uv_hub_info->m_val;

	if (m_val)
		gpa = ((gpa << uv_hub_info->m_shift) >> uv_hub_info->m_shift) |
			((gpa >> uv_hub_info->n_lshift) << uv_hub_info->m_val);

	paddr = gpa & uv_hub_info->gpa_mask;
	if (paddr >= remap_base && paddr < remap_base + remap_top)
		paddr -= remap_base;
	return paddr;
}

/* gpa -> gnode */
static inline unsigned long uv_gpa_to_gnode(unsigned long gpa)
{
	unsigned int n_lshift = uv_hub_info->n_lshift;

	if (n_lshift)
		return gpa >> n_lshift;

	return uv_gam_range(gpa)->nasid >> 1;
}

/* gpa -> pnode */
static inline int uv_gpa_to_pnode(unsigned long gpa)
{
	return uv_gpa_to_gnode(gpa) & uv_hub_info->pnode_mask;
}

/* gpa -> node offset */
static inline unsigned long uv_gpa_to_offset(unsigned long gpa)
{
	unsigned int m_shift = uv_hub_info->m_shift;

	if (m_shift)
		return (gpa << m_shift) >> m_shift;

	return (gpa & uv_hub_info->gpa_mask) - uv_gam_range_base(gpa);
}

/* Convert socket to node */
static inline int _uv_socket_to_node(int socket, unsigned short *s2nid)
{
	return s2nid ? s2nid[socket - uv_hub_info->min_socket] : socket;
}

static inline int uv_socket_to_node(int socket)
{
	return _uv_socket_to_node(socket, uv_hub_info->socket_to_node);
}

/* pnode, offset --> socket virtual */
static inline void *uv_pnode_offset_to_vaddr(int pnode, unsigned long offset)
{
	unsigned int m_val = uv_hub_info->m_val;
	unsigned long base;
	unsigned short sockid, node, *p2s;

	if (m_val)
		return __va(((unsigned long)pnode << m_val) | offset);

	p2s = uv_hub_info->pnode_to_socket;
	sockid = p2s ? p2s[pnode - uv_hub_info->min_pnode] : pnode;
	node = uv_socket_to_node(sockid);

	/* limit address of previous socket is our base, except node 0 is 0 */
	if (!node)
		return __va((unsigned long)offset);

	base = (unsigned long)(uv_hub_info->gr_table[node - 1].limit);
	return __va(base << UV_GAM_RANGE_SHFT | offset);
}

/* Extract/Convert a PNODE from an APICID (full apicid, not processor subset) */
static inline int uv_apicid_to_pnode(int apicid)
{
	int pnode = apicid >> uv_hub_info->apic_pnode_shift;
	unsigned short *s2pn = uv_hub_info->socket_to_pnode;

	return s2pn ? s2pn[pnode - uv_hub_info->min_socket] : pnode;
}

/* Convert an apicid to the socket number on the blade */
static inline int uv_apicid_to_socket(int apicid)
{
	if (is_uv1_hub())
		return (apicid >> (uv_hub_info->apic_pnode_shift - 1)) & 1;
	else
		return 0;
}

/*
 * Access global MMRs using the low memory MMR32 space. This region supports
 * faster MMR access but not all MMRs are accessible in this space.
 */
static inline unsigned long *uv_global_mmr32_address(int pnode, unsigned long offset)
{
	return __va(UV_GLOBAL_MMR32_BASE |
		       UV_GLOBAL_MMR32_PNODE_BITS(pnode) | offset);
}

static inline void uv_write_global_mmr32(int pnode, unsigned long offset, unsigned long val)
{
	writeq(val, uv_global_mmr32_address(pnode, offset));
}

static inline unsigned long uv_read_global_mmr32(int pnode, unsigned long offset)
{
	return readq(uv_global_mmr32_address(pnode, offset));
}

/*
 * Access Global MMR space using the MMR space located at the top of physical
 * memory.
 */
static inline volatile void __iomem *uv_global_mmr64_address(int pnode, unsigned long offset)
{
	return __va(UV_GLOBAL_MMR64_BASE |
		    UV_GLOBAL_MMR64_PNODE_BITS(pnode) | offset);
}

static inline void uv_write_global_mmr64(int pnode, unsigned long offset, unsigned long val)
{
	writeq(val, uv_global_mmr64_address(pnode, offset));
}

static inline unsigned long uv_read_global_mmr64(int pnode, unsigned long offset)
{
	return readq(uv_global_mmr64_address(pnode, offset));
}

static inline void uv_write_global_mmr8(int pnode, unsigned long offset, unsigned char val)
{
	writeb(val, uv_global_mmr64_address(pnode, offset));
}

static inline unsigned char uv_read_global_mmr8(int pnode, unsigned long offset)
{
	return readb(uv_global_mmr64_address(pnode, offset));
}

/*
 * Access hub local MMRs. Faster than using global space but only local MMRs
 * are accessible.
 */
static inline unsigned long *uv_local_mmr_address(unsigned long offset)
{
	return __va(UV_LOCAL_MMR_BASE | offset);
}

static inline unsigned long uv_read_local_mmr(unsigned long offset)
{
	return readq(uv_local_mmr_address(offset));
}

static inline void uv_write_local_mmr(unsigned long offset, unsigned long val)
{
	writeq(val, uv_local_mmr_address(offset));
}

static inline unsigned char uv_read_local_mmr8(unsigned long offset)
{
	return readb(uv_local_mmr_address(offset));
}

static inline void uv_write_local_mmr8(unsigned long offset, unsigned char val)
{
	writeb(val, uv_local_mmr_address(offset));
}

/* Blade-local cpu number of current cpu. Numbered 0 .. <# cpus on the blade> */
static inline int uv_blade_processor_id(void)
{
	return uv_cpu_info->blade_cpu_id;
}

/* Blade-local cpu number of cpu N. Numbered 0 .. <# cpus on the blade> */
static inline int uv_cpu_blade_processor_id(int cpu)
{
	return uv_cpu_info_per(cpu)->blade_cpu_id;
}
#define _uv_cpu_blade_processor_id 1	/* indicate function available */

/* Blade number to Node number (UV1..UV4 is 1:1) */
static inline int uv_blade_to_node(int blade)
{
	return blade;
}

/* Blade number of current cpu. Numnbered 0 .. <#blades -1> */
static inline int uv_numa_blade_id(void)
{
	return uv_hub_info->numa_blade_id;
}

/*
 * Convert linux node number to the UV blade number.
 * .. Currently for UV1 thru UV4 the node and the blade are identical.
 * .. If this changes then you MUST check references to this function!
 */
static inline int uv_node_to_blade_id(int nid)
{
	return nid;
}

/* Convert a cpu number to the the UV blade number */
static inline int uv_cpu_to_blade_id(int cpu)
{
	return uv_node_to_blade_id(cpu_to_node(cpu));
}

/* Convert a blade id to the PNODE of the blade */
static inline int uv_blade_to_pnode(int bid)
{
	return uv_hub_info_list(uv_blade_to_node(bid))->pnode;
}

/* Nid of memory node on blade. -1 if no blade-local memory */
static inline int uv_blade_to_memory_nid(int bid)
{
	return uv_hub_info_list(uv_blade_to_node(bid))->memory_nid;
}

/* Determine the number of possible cpus on a blade */
static inline int uv_blade_nr_possible_cpus(int bid)
{
	return uv_hub_info_list(uv_blade_to_node(bid))->nr_possible_cpus;
}

/* Determine the number of online cpus on a blade */
static inline int uv_blade_nr_online_cpus(int bid)
{
	return uv_hub_info_list(uv_blade_to_node(bid))->nr_online_cpus;
}

/* Convert a cpu id to the PNODE of the blade containing the cpu */
static inline int uv_cpu_to_pnode(int cpu)
{
	return uv_cpu_hub_info(cpu)->pnode;
}

/* Convert a linux node number to the PNODE of the blade */
static inline int uv_node_to_pnode(int nid)
{
	return uv_hub_info_list(nid)->pnode;
}

/* Maximum possible number of blades */
extern short uv_possible_blades;
static inline int uv_num_possible_blades(void)
{
	return uv_possible_blades;
}

/* Per Hub NMI support */
extern void uv_nmi_setup(void);

/* BMC sets a bit this MMR non-zero before sending an NMI */
#define UVH_NMI_MMR		UVH_SCRATCH5
#define UVH_NMI_MMR_CLEAR	UVH_SCRATCH5_ALIAS
#define UVH_NMI_MMR_SHIFT	63
#define	UVH_NMI_MMR_TYPE	"SCRATCH5"

/* Newer SMM NMI handler, not present in all systems */
#define UVH_NMI_MMRX		UVH_EVENT_OCCURRED0
#define UVH_NMI_MMRX_CLEAR	UVH_EVENT_OCCURRED0_ALIAS
#define UVH_NMI_MMRX_SHIFT	UVH_EVENT_OCCURRED0_EXTIO_INT0_SHFT
#define	UVH_NMI_MMRX_TYPE	"EXTIO_INT0"

/* Non-zero indicates newer SMM NMI handler present */
#define UVH_NMI_MMRX_SUPPORTED	UVH_EXTIO_INT0_BROADCAST

/* Indicates to BIOS that we want to use the newer SMM NMI handler */
#define UVH_NMI_MMRX_REQ	UVH_SCRATCH5_ALIAS_2
#define UVH_NMI_MMRX_REQ_SHIFT	62

struct uv_hub_nmi_s {
	raw_spinlock_t	nmi_lock;
	atomic_t	in_nmi;		/* flag this node in UV NMI IRQ */
	atomic_t	cpu_owner;	/* last locker of this struct */
	atomic_t	read_mmr_count;	/* count of MMR reads */
	atomic_t	nmi_count;	/* count of true UV NMIs */
	unsigned long	nmi_value;	/* last value read from NMI MMR */
};

struct uv_cpu_nmi_s {
	struct uv_hub_nmi_s	*hub;
	int			state;
	int			pinging;
	int			queries;
	int			pings;
};

DECLARE_PER_CPU(struct uv_cpu_nmi_s, uv_cpu_nmi);

#define uv_hub_nmi			this_cpu_read(uv_cpu_nmi.hub)
#define uv_cpu_nmi_per(cpu)		(per_cpu(uv_cpu_nmi, cpu))
#define uv_hub_nmi_per(cpu)		(uv_cpu_nmi_per(cpu).hub)

/* uv_cpu_nmi_states */
#define	UV_NMI_STATE_OUT		0
#define	UV_NMI_STATE_IN			1
#define	UV_NMI_STATE_DUMP		2
#define	UV_NMI_STATE_DUMP_DONE		3

/* Update SCIR state */
static inline void uv_set_scir_bits(unsigned char value)
{
	if (uv_scir_info->state != value) {
		uv_scir_info->state = value;
		uv_write_local_mmr8(uv_scir_info->offset, value);
	}
}

static inline unsigned long uv_scir_offset(int apicid)
{
	return SCIR_LOCAL_MMR_BASE | (apicid & 0x3f);
}

static inline void uv_set_cpu_scir_bits(int cpu, unsigned char value)
{
	if (uv_cpu_scir_info(cpu)->state != value) {
		uv_write_global_mmr8(uv_cpu_to_pnode(cpu),
				uv_cpu_scir_info(cpu)->offset, value);
		uv_cpu_scir_info(cpu)->state = value;
	}
}

extern unsigned int uv_apicid_hibits;
static unsigned long uv_hub_ipi_value(int apicid, int vector, int mode)
{
	apicid |= uv_apicid_hibits;
	return (1UL << UVH_IPI_INT_SEND_SHFT) |
			((apicid) << UVH_IPI_INT_APIC_ID_SHFT) |
			(mode << UVH_IPI_INT_DELIVERY_MODE_SHFT) |
			(vector << UVH_IPI_INT_VECTOR_SHFT);
}

static inline void uv_hub_send_ipi(int pnode, int apicid, int vector)
{
	unsigned long val;
	unsigned long dmode = dest_Fixed;

	if (vector == NMI_VECTOR)
		dmode = dest_NMI;

	val = uv_hub_ipi_value(apicid, vector, dmode);
	uv_write_global_mmr64(pnode, UVH_IPI_INT, val);
}

/*
 * Get the minimum revision number of the hub chips within the partition.
 * (See UVx_HUB_REVISION_BASE above for specific values.)
 */
static inline int uv_get_min_hub_revision_id(void)
{
	return uv_hub_info->hub_revision;
}

#endif /* CONFIG_X86_64 */
#endif /* _ASM_X86_UV_UV_HUB_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          #ifndef _ASM_X86_UV_UV_H
#define _ASM_X86_UV_UV_H

enum uv_system_type {UV_NONE, UV_LEGACY_APIC, UV_X2APIC, UV_NON_UNIQUE_APIC};

struct cpumask;
struct mm_struct;

#ifdef CONFIG_X86_UV

extern enum uv_system_type get_uv_system_type(void);
extern int is_uv_system(void);
extern void uv_cpu_init(void);
extern void uv_nmi_init(void);
extern void uv_system_init(void);
extern const struct cpumask *uv_flush_tlb_others(const struct cpumask *cpumask,
						 struct mm_struct *mm,
						 unsigned long start,
						 unsigned long end,
						 unsigned int cpu);

#else	/* X86_UV */

static inline enum uv_system_type get_uv_system_type(void) { return UV_NONE; }
static inline int is_uv_system(void)	{ return 0; }
static inline void uv_cpu_init(void)	{ }
static inline void uv_system_init(void)	{ }
static inline const struct cpumask *
uv_flush_tlb_others(const struct cpumask *cpumask, struct mm_struct *mm,
		    unsigned long start, unsigned long end, unsigned int cpu)
{ return cpumask; }

#endif	/* X86_UV */

#endif	/* _ASM_X86_UV_UV_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  #ifndef _ASM_X86_LINKAGE_H
#define _ASM_X86_LINKAGE_H

#include <linux/stringify.h>

#undef notrace
#define notrace __attribute__((no_instrument_function))

#ifdef CONFIG_X86_32
#define asmlinkage CPP_ASMLINKAGE __attribute__((regparm(0)))
#endif /* CONFIG_X86_32 */

#ifdef __ASSEMBLY__

#define GLOBAL(name)	\
	.globl name;	\
	name:

#if defined(CONFIG_X86_64) || defined(CONFIG_X86_ALIGNMENT_16)
#define __ALIGN		.p2align 4, 0x90
#define __ALIGN_STR	__stringify(__ALIGN)
#endif

#endif /* __ASSEMBLY__ */

#endif /* _ASM_X86_LINKAGE_H */

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           D(    lP      Pk     Qk     gk     xk     k     k  '   k  /   k     k     l     )l  0   ?l     pl  +   xl     l  "   l     l     l  5   m     9m     Vm     sm     m     m  ,   En  ;   rn     n     n     n      o     o      o     3o     Bo     Xo     so     o     o     o  0   o  .   p  /   0p  1   `p     p     p     p     p     p     p  
   
q      q     6q     Eq     Yq  !   tq     q  "   q     q     q     r  @   r     Qr     lr     }r     r  (   r  -   r     r     s     s  /   &s  =   Vs     s     s     s     s     s     s     t  -   1t     _t     t     t     t     t     t  3   t  3   'u  $   [u     u     u     u     u     u     u     v  
   v     )v     8v     Pv     av     tv     v  $   v     v      v     v     w  ;   w     Xw  7   gw  0   w  #   w  	   w     w     x     x     /x  
   8x     Cx     ]x     nx     zx     x     x     x     x  #   x     x  !   x  !    y     By      Jy     ky     sy  !   {y     y     y      y     y     y     y     y      z     6z  	   >z  !   Hz     jz     vz     {z  +   z  	   z  "   z  *   z     {     {     ,{     2{     >{     U{     \{  
   j{     u{  
   ~{     {     {     {     {     {  5   {     |  -   |  1   M|  &   |     |     |     |     |     }     }     *}  $   <}     a}  
   q}     |}     }     }     }     }     }     }     }     ~     !~     1~     I~     Z~     f~     u~     ~  0   ~     ~     ~     ~            +     6   A     x       '     -     %     5     +   D     p       A          1     /   6     f     w       	                  Ɂ     ߁  -        +  $   K     p  
                       ˂  ?     5   "     X  %   u  6     E   ҃  9     I   R  0     6   ̈́  8     3   =  -   q  %        Ņ     م            &     ,   C  #   p        @     -     0   $     U  ;   j       "   Ƈ       >     )   9  >   c  <        ߈  #     :   #  '   ^  9          $   ى  -     4   ,  ;   a        >     '     /   %     U  -   r       .     B   ދ  "   !  /   D  2   t  *        Ҍ  +     %     '   B  (   j  <     E   Ѝ  .     -   E  $   s       <          *     &   3     Z     i     z                         ɏ     ܏                         %     3     <     H     W     o                    Ȑ     ܐ                 $   5  !   Z     |       "     "     1   ݑ  ?        O     `     o     v                    ђ                         7     U  %   m                    Г            $             /  !   E     g     w                         ה  #          *   )     T     g  .   z  .        ؕ     ߕ  Q        K  -   Z                     Ŗ       !        !  /   A     q  ?   ~          ˗     ۗ       
     $        (  .   F     u            "     	   ۘ       !                "   %  E   H       %     #   љ  -        #     @     ^     {  &             К                     1  '   I     q  )     +     @     -   #     Q  2   n               Ԝ       /   
  1   :     l  E        ϝ  -     7     #   R      v  :     5   Ҟ  &     "   /  &   R  $   y  #     !     =     5   "      X  (   y  7     !   ڠ  ,        )     E     Z      t  #     #        ݡ               '     E     _     {       0     $     !         1  (   R  4   {  ,        ݣ               $      9     Z  /   w       !   Ĥ  %     %     $   2     W      p            ?   ȥ  &     !   /     Q     m  A   {  %     %     "   	  9   ,  '   f  (     2     *     !     !   7  )   Y  %     !     4   ˨  :      &   ;  ;   b  ;     )   ک  0        5     T     p            ,     !     8     &   <  #   c       /     "   ϫ       -        1     B     a     z  /     *   ¬  (     #        :     V     q            >   ƭ               9     X     p  "             ɮ     ߮       !        4  #   O     s  9     1   ů  )     1   !  %   S  7   y  2          A     ?   @                 !   α               )     D  0   c  4     !   ɲ  $     (     N   9  ,     L     8        ;  ,   [              #   ʴ          	  7   #  N   [  M                  1  $   L  !   q  3     ,   Ƕ  2     %   '  *   M  9   x  (        ۷  "          #   7     [     z               Ѹ  0     !         >  <   _  (        Ź       +     2   &  $   Y     ~  ,        ɺ  H     ,   -     Z     p  "             л               -  9   L                 0   Ҽ  #     '   '     O     _  ,     &        ӽ       +      2   ,  -   _  (          "   Ͼ  '     '     ,   B     o  .          #   տ  ,     W   &  )   ~  "     ,     %              ;     \  2   u  2     2          !   +     M     f  2   {  5     '     #     )   0  ,   Z  '     $     %     .        )     C     X  $   p  &           '     *     #   0  '   T  %   |  3     !          +        C  *   c  -     $                        ;     N      i        $     $     )     ,        L     d  ,   z            %          =        [     w            '               $   )  #   N  0   r  .     0             #     @     [     s            -                7     )   W       $     (               %     $   ;     `            '          '              ?     W     q        7     0          #   2     V  "   v       -          .      1   /  '   a  "                                      :     O     h     {                      (     +     /   A     q            !     "     B        S     r                 )     '        :     S  '   p       	                              #     6   ?     v            $     .          +     6   H       6     #               
   
          +     D     S     Y  (   `  	     %          
               (        %  
   7     B  
   U     `     u                 %               	             1     N     `     r                      
                                 )     >     N     ^     n                           	          2        :     F     T     b     |       $                    '   
     2     H     _     w                                                  %     6     G     T  !   j                                        .     1     B     _  #                    
          	             6     H     ^     n     z                                9        >     U     ]     i     w                 	                       	          +  
   8  	   C     M     e     }            9                       *  ?   A  	                         "                  &     F     U     g  '   u       E                  $     >     P     h  #   {  $                         2     0   R  ;           -             &     *     >  (   [                                                       )  +   6     b     w                 	               F   n       
               +             1     L     j  %               +     *        0  &   J  9   q  M     >     )   8  5   b  A     6     "        4  ?   <  "   |                           
             /     >     K  
   O     Z     m       	                    
          
     
          	     	             -     :  	   N     X     f     k  5   y       	                         &                  .     ;     A  
   I     T     ]     o     }  :               "     "        0     ?     C  
   \  $   g  "                    <        7     J     Z     m       H     C        !     5     R     e                 	                               -     -   M     {                                =     #   P     t  "     $                             2  	   D     N     `     e     r                                            
   1     <     E     c     p                                     ,     #   #     G     P     c  0   f  7     4     6        ;     Q     h     w  
          
                               	     "         C  $   T  $   y                                             3     O     _     n     v       .     .     .     .     .   M  .   |  .                            %     7  	   @  (   J     s  .                                      )  	   =     G     X     m                 %     "            2     K  
   Y     d  *   }  *                    .   #     R  0   [        /               ?    0   G "   x             I   [ 1        #    "       ;    L    [    m    | &                    $   ( "   M #   p %                           $ 
   5 %   @    f    w     &    #    '           3    B I   O /                *    /   -    ]    j    { @    O    "       @    \    t             -       	    $	    =	 $   P	     u	     	 7   	 <   	 9   ,
    f
    
     
    
    
    
    
        %    9    V    f "   v     +        (           ' =   D     A    :        	   (    2    M    U    e 
   n    y         "    "                &       =    L %   k     $    
        *    "       %    ,    K    T    ]    d $    	    	    #    
            ,    	    !   ) !   K #   m     
                        
               0    @    H -   K 2   y     5    9    /   ,    \    w                      C   !    e    w             /    .        -   -    [    y                             2   ? .   r .                E    M   9         )    *    4    /   + ?   [     %    A       ! J   > H                    #       )    9 #   T -   x     5    )       "    4    A    U !   b 9    )        &    <   . C   k <    D    $   1 ;   V H    5    ,    $   >    c    u #        &    /    #   $ (   H I   q 1    7       % >   A     '        5    5     6   E  7   |  '     *     .   ! *   6! ;   a!    ! -   ! 2   ! :   " 6   X" .   " 6   " "   " :   # "   S# /   v#    # &   # 6   # @   $ 7   U$ 8   $ A   $ /   % (   8%     a% +   % +   % 7   % D   & 6   W& 4   &    &    & @   ' "   B' )   e' 3   '    '    '    '    (    '(    5( ,   <( +   i(    ( +   (    (    (    )    ) 	   <)    F)    \) "   h) "   )     ) #   )    )    *    /* #   M*    q*     * 1   *     *    + 	   +    +     >+ *   _+ 0   +    +    +    +    +    +    ,     ,    :,    Z,    p,    , "   , %   ,    , 6   ,    --    ;-    M-    f-    |-    - $   -    -    - %   -    .    .    &. #   ,.    P. "   `.    . (   . $   . 7   .    "/    :/ 8   O/ >   /    /    / X   /    >0 7   O0    0    0    0 #   0    0    0 !   1 ?   A1    1 A   1    1    1    1 	   2    2 %   2    B2 &   ^2    2    2    2    2    2    2    2    3    3 *   3 G   H3    3 $   3 $   3 ,   3    &4    C4    [4    z4 '   4    4    4    4    4    5    .5 $   G5    l5 *   5 )   5 I   5 ,   $6    Q6 <   q6    6    6    6    6 0   7 3   I7     }7 O   7    7 .   8 2   ;8    n8 ,   8 >   8 ;   8 +   09 %   \9 &   9 .   9 .   9 (   : >   0: <   o:    : ,   : 1   : $   +; .   P; (   ;    ;    ;     ;     ; &   <    <<    T<    l<    <    <    <    < !   < *   = .   I= '   x= (   = .   = 8   = 0   1> !   b>    >    >    > ,   > ,   > 7   ? "   R?    u? )   ? )   ? -   ?    @ !   +@    M@    f@ C   @ 1   @ $   @    A    :A 3   HA -   |A    A "   A C   A '   1B    YB I   xB ,   B -   B "   C (   @C $   iC !   C <   C >   C &   ,D N   SD >   D ,   D ?   E !   NE    pE    E    E    E (   E $   F 6   *F /   aF    F    F <   F 2   
G    =G 1   LG    ~G &   G !   G    G .   G /   H %   OH &   uH    H    H !   H    H -   I E   ;I    I    I     I    I    I "   J    1J    MJ    cJ    J (   J    J    J     K 7   K 7   NK )   K 0   K 0   K /   L /   BL    rL ?   L I   L    M    6M    RM '   pM "   M    M    M    M 6   N ;   EN #   N &   N !   N O   N 0   >O Q   oO G   O    	P &   'P "   NP    qP     P    P    P C   P X   'Q _   Q    Q "   Q    R ,   ;R *   hR =   R +   R 2   R %   0S %   VS ?   |S #   S    S ;   S )   5T A   _T /   T    T    T    U "   "U L   EU +   U (   U -   U )   V +   ?V    kV -   V .   V    V $   V 7   !W    YW K   pW 3   W    W %   X $   2X !   WX #   yX #   X #   X '   X 2   Y    @Y    [Y    xY 8   Y $   Y 1   Y    &Z &   2Z 5   YZ )   Z %   Z    Z -   Z 3   &[ .   Z[ 0   [    [ '   [ ,   [ 5   (\ ?   ^\    \ $   \ #   \ "   ] 8   &] i   _] (   ] %   ] 5   ^ 3   N^ %   ^ +   ^    ^ 7   ^ 7   (_ 5   `_    _ (   _    _    _ -   ` 2   6` 3   i` $   ` )   ` D   ` )   1a +   [a )   a )   a    a    a    b /   -b 5   ]b %   b F   b 6    c .   7c +   fc +   c .   c    c    
d 0   )d %   Zd -   d +   d "   d !   d    e    ;e    Ue    je '   e '   e +   e "   f 3   (f 3   \f    f    f .   f    f !   g #   (g    Lg C   fg    g    g    g    g ,   h    Eh $   eh +   h +   h 1   h 2   i C   Gi    i    i    i    i    i    j    0j /   Oj )   j    j J   j /   k    Ck    Zk 0   yk    k    k     k '   k '   l    Bl    Zl $   xl )   l &   l %   l    m &   4m    [m "   rm 4   m 1   m !   m    n -   =n %   kn    n ;   n    n 3   o :   ?o 2   zo &   o *   o "   o    "p 	   +p    5p ,   Hp    up    p    p    p    p    p $   q    8q '   Pq +   xq +   q '   q    q "   r '   :r &   br 8   r &   r    r    s #   !s %   Es %   ks 5   s    s $   s '   t    .t    6t    Ft    ct    tt    t    t    t ;   t    u    *u    Iu #   bu H   u !   u 3   u @   %v    fv @   lv    v (   v    v    v    w    w    2w    Bw    Jw /   Pw    w ,   w    w 	   w    w    w -   w    'x    :x    Fx    Zx    fx    vx    x    x    x 3   x    	y    #y 	   2y    <y    Ry    ky    y    y    y    y    y    y    z    z    !z 	   -z    7z    Gz    [z    oz    }z    z    z    z '   z    z    {    { 	   .{    8{ ,   P{ 	   }{    {    {    {    {    { (   { $   | "   5|    X| 9   h|    | &   |    |     }    }    :}    T}    j}    }    }    } $   }    }    }    ~    !~    8~ 4   O~ 4   ~    ~    ~    ~    ~        *    C    F     c -    %                       -    M     Z    {                À    Ҁ    ހ                * 5   H #   ~         
       Á    Ё             !   ,    N    _    k                    Ȃ                ( ;   7    s             9   Ã                4    K '   h         "       ڄ          "    -   1 J   _        Ņ    ؅            + -   B .   p            ц     6    !   * 0   L    } /       ͇             +        L    g    l    t                    ψ         )       D    c    o         
        A   ։ P       i 
   r    }     :       ڊ     !       4 '   Q    y #    +    ,   ׋     &     3   G M   { 1   Ɍ 0    6   , ?   c 6    %   ڍ      M   	 +   W                Ɏ                    (    4    8    E    \ 
   l 
   w 
                       ӏ                        '    5    H    Q    _    d 5   v            Ȑ    Ր    ې     '   	 
   1    <    T    a    g    s                 '               
    *    H    ^    `    ~ "           ʒ         1       J    ]    q         H    J       C &   X             
       Ɣ    Ք    ޔ        
    # %   : 5   ` 5       ̕    ݕ            .    D    S 9   e )    #   ɖ !    1    !   A    c    k                ʗ    ܗ                    #    7    D 0   R ,           ǘ 	   Ә    ݘ     #   
    .    I    a    h    ~     
    &    "   ř 
            D   
 ;   O <    K   Ț        )    ?    S    e    y    } )            ʛ             !   &    H -   \ -               ۜ $       	        ; *   N !   y         
   ϝ 
   ڝ     <    6   7 6   n 8    *   ޞ 3   	 9   =    w                ş    ן 	   ޟ +    #    3   8    l !               Ӡ                +    >    U    k -    '    $   ١      O           w    )      ^  A          !  \             u      x      $      4                    H                                 R             V       P    c                             C      ,                     E  T                               "              x      X   *    M            ~        z      
  j      d    j                 A   0                      K        v                           K              m  6                Q                       I     &   P                                    %    ;  `  9  =  +                      s  o                       	   '                     4  6             |             K        @       <          p          }      }   >               m            M                  d         I                    `                     /       r           C                          Z                  #      g           5  Q             o     x    ;  f      2  @           *  A     r                     C           	    K    |  z        h                        s       r              t   8        V  %  6      e                                   O  T                 8    I  f      J  v              b      S              _                 "  -          [            &  }  k    ~    m     Q  g                         /      '  w   I              \             a    ]  L  
      V            \                    k                                 X     (      ,  Y    G                     >             b  R  Y      -                  D       #    _  
     3  v             a    &  >  x   9    R                                         (            e              {                                       e          *        h        4                             z  :        -          ?  2          $      0                        w    g      k        4               4  L   H            l         )    Y          6      c        ?           y      m       |                        
   X  J      i                      -     L              D      V      /         i    d             `    7                          ,        5   x         p        7         h     _                      9   \                                   *       S  3            U  O          K     J         a   ]  i      8  S   0          )     Z    C                        1          n    W      G             E  n               R                    U             T  8    l     	  V  o          J     <            ^                 d        >    &      q           ~  y                        9            .      `        1      @          M           G  ;            S                3           B  5           o  ;  1                            z               W  ^         %                       n                 F    _  E        T                                 ]           /            3  z     D               D              {  $                   2  ~              ;     ?       8       E             7          J   f  [      a    ]        R            |  b       	  I         B               j                               O                   H                    N            ^     }        N     $                 n                  @  !  ]  =     ,           3        e     P           (        U    #  m  5    5      q      i  W       ~   !  <          F                         n    l          i       :         .  .            y   '                  M          "                 =    {           t  <  C      j    U                       |                      l  M  0    Q                   _               P    '                     ?            W  E  O      q  .       X        1  Y          u               k           e                    :                  c       N      H   =      v      s                              g          )               `                            '            [           c                         y                   @       p                    "             [   7                    Z  N        G  ^                                             q      Y   p    2                   (   6                        [    #   F      <                       U                  >        (                      r      -                                               g          .             !  d  B   u         ,  \  L       +  P  2                        f                  w         H               l  s  G  +         q    b        F    N        S        "    u                          F            !   c  h   :  }  D     y  A                                %              b     L    T      {       h  A                      W            :                  Z         r       u                   s                    &  7     #    X        t        0  ?    B      {  =          1  k  f                    +  
            B        o                             v         9  t  Q                         /  Z   	                                  t            w  $                a  %                       j                        *                           +        p  )   			  (Unimplemented)
 
	Last set from  

Arguments:
 

usage: 
          modified:  
         [not usable on this computer] 
         [not usable with this version of Vim] 
         host name:  
         user name:  
        process ID:  
    Name        Args Range Complete  Definition 
   or: 
  # TO tag         FROM line  in file/text 
 jump line  col file/text 
# %s History (newest to oldest):
 
# Buffer list:
 
# File marks:
 
# History of marks within files (newest to oldest):
 
# Jumplist (newest first):
 
# Last Substitute String:
$ 
# Registers:
 
# global variables:
 
(1) Another program may be editing the same file.
    If this is the case, be careful not to end up with two
    different instances of the same file when making changes.
 
(2) An edit session for this file crashed.
 
(You might want to write out this file under another name
 
--- Auto-Commands --- 
--- Global option values --- 
--- Local option values --- 
--- Menus --- 
--- Options --- 
--- Registers --- 
--- Signs --- 
--- Syntax items --- 
--- Syntax sync items --- 
--- Terminal codes --- 
--- Terminal keys --- 
16-bit MS-DOS version 
32-bit MS-DOS version 
Arguments recognised by gvim (Athena version):
 
Arguments recognised by gvim (GTK+ version):
 
Arguments recognised by gvim (Motif version):
 
Arguments recognised by gvim (RISC OS version):
 
Big version  
Cannot create pipes
 
Cannot execute shell  
Cannot execute shell sh
 
Cannot fork
 
Command terminated
 
Compiled  
Found a swap file by the name " 
Huge version  
Included patches:  
MS-Windows 16-bit version 
MS-Windows 16/32-bit GUI version 
MS-Windows 32-bit GUI version 
MS-Windows 32-bit console version 
MacOS X (unix) version 
MacOS X version 
MacOS version 
Maybe no changes were made or Vim did not update the swap file. 
More info with: "vim -h"
 
Normal version  
RISC OS version 
Send failed.
 
Send failed. Trying to execute locally
 
Sending message to terminate child process.
 
Small version  
Tiny version  
Vim: Got X error
 
WARNING: Original file may be lost or damaged
 
[bytes] total alloc-freed %lu-%lu, in use %lu, peak use %lu
 
mark line  col file/text 
shell returned  
syncing on items              dated:            owned by:           [cannot be opened]          [cannot be read]          [does not look like a Vim swap file]          [from Vim version 3.0]          file name:        -- none --
       NEWER than swap file!
       user exrc file: "      user vimrc file: "     If this is the case, use ":recover" or "vim -r      If you did this already, delete the swap file "     Quit, or continue with caution.
     line=%ld  id=%d  name=%s     system menu file: "     user gvimrc file: "    #   line    In current directory:
    In directory     Using specified name:
    dated:     host name:     system vimrc file: "   # pri kind tag   (Already listed)   2nd user exrc file: "   DEBUG BUILD   Features included (+) or not (-):
   NOT FOUND   Using tag with different case!   fall-back for $VIM: "   system gvimrc file: "  # pid    database name                       prepend path
  (Interrupted)  (RET/BS: line, SPACE/b: page, d/u: half page, q: quit)  (RET: line, SPACE: page, d: half page, q: quit)  (includes previously listed match)  (insert)  (insert) Scroll (^E/^Y)  (lang)  (line deleted)  (paste)  (replace)  (replace) Scroll (^E/^Y)  (still running)  (vreplace)  2nd user vimrc file: "  3rd user vimrc file: "  Adding  BLOCK  CONVERSION ERROR  Command-line completion (^V/^N/^P)  Copy %d of %d  Definition completion (^D/^N/^P)  Dictionary completion (^K/^N/^P)  FAILED  File name completion (^F/^N/^P)  Hebrew  INSERT  Keyword Local completion (^N/^P)  Keyword completion (^N/^P)  LINE  Path pattern completion (^N/^P)  REPLACE  REVERSE  SELECT  Tag completion (^]/^N/^P)  Thesaurus completion (^T/^N/^P)  VISUAL  VREPLACE  Whole line completion (^L/^N/^P)  [Modified]  [a]  [w]  ^X mode (^E/^Y/^L/^]/^F/^I/^K/^D/^V/^N/^P)  appended  cannot be used on this computer.
  cannot be used with this version of Vim.
  f-b for $VIMRUNTIME: "  in Win32s mode  info  kind file
  lines before top line  marks  on %ld lines  on 1 line  or more  returned
  vim [arguments]   with OLE support  written "
 "
    to avoid this message.
 "
    to recover the changes (see ":help recovery").
 " already exists! # This viminfo file was generated by Vim %s.
 # Value of 'encoding' when this file was written
 # You may edit it if you're careful!

 %-5s: %-30s (Usage: %s)
 %2d %-5ld  %-34s  <none>
 %3d  %s %s  line %ld %d buffers deleted %d buffers unloaded %d buffers wiped out %d files to edit
 %d more files to edit.  Quit anyway? %d of %d edited %ld Cols;  %ld changes %ld characters %ld fewer lines %ld lines %sed %d times %ld lines %sed 1 time %ld lines --%d%%-- %ld lines changed %ld lines filtered %ld lines indented  %ld lines moved %ld lines to indent...  %ld lines yanked %ld lines,  %ld more lines %ld substitutions %s Auto commands for "%s" %s is not a directory or a valid cscope database %s returning "%s" %s returning #%ld &OK
&Cancel &OK
&Load File &Ok &Open Read-Only
&Edit anyway
&Recover
&Quit &Open Read-Only
&Edit anyway
&Recover
&Quit
&Delete it &Yes
&No &Yes
&No
&Cancel &Yes
&No
Save &All
&Discard All
&Cancel ' not known. Available builtin terminals are: 'backupext' and 'patchmode' are equal 'columns' is not 80, cannot execute external commands 'commentstring' must be empty or contain %s 'dictionary' option is empty 'history' option is zero 'readonly' option is set for "%.*s".
Do you wish to write anyway? 'thesaurus' option is empty 'winheight' cannot be smaller than 'winminheight' 'winwidth' cannot be smaller than 'winminwidth' (%d of %d)%s%s:  (+%ld for BOM) (Interrupted)  (Invalid) +			Start at end of file +-%s%3ld lines:  +--%3ld lines folded  +<lnum>		Start at line <lnum> +reverse		Don't use reverse video (also: +rv) ,
or the file has been damaged. -               read text from stdin --			Only file names after this -- More -- -- Searching... --- Included files  --Deleted-- --No lines in buffer-- --cmd <command>	Execute <command> before loading any vimrc file --columns <number>	Initial width of window in columns --help		Show Gnome arguments --noplugin		Don't load plugin scripts --remote <files>	Edit <files> in a Vim server and exit --remote-expr <expr>	Evaluate <expr> in a Vim server and print result --remote-send <keys>	Send <keys> to a Vim server and exit --remote-wait <files>  As --remote but wait for files to have been edited --rows <number>	Initial height of window in rows --serverlist		List available Vim server names and exit --servername <name>	Send to/become the Vim server <name> --socketid <xid>	Open Vim inside another GTK widget --version		print version information and exit -C			Compatible with Vi: 'compatible' -D			Debugging mode -F			start in Farsi mode -H			start in Hebrew mode -L			Same as -r -M			Modifications in text not allowed -N			Not fully Vi compatible: 'nocompatible' -O[N]		like -o but split vertically -R			Readonly mode (like "view") -S <session>		Source file <session> after loading the first file -T <terminal>	Set terminal type to <terminal> -U <gvimrc>		Use <gvimrc> instead of any .gvimrc -V[N]		Verbose level -W <scriptout>	Write all typed commands to file <scriptout> -X			Do not connect to X server -Z			Restricted mode (like "rvim") -b			Binary mode -background <color>	Use <color> for the background (also: -bg) -boldfont <font>	Use <font> for bold text -borderwidth <width>	Use a border width of <width> (also: -bw) -c <command>		Execute <command> after loading the first file -d			Diff mode (like "vimdiff") -dev <device>		Use <device> for I/O -display <display>	Connect vim to this particular X-server -display <display>	Run vim on <display> -display <display>	Run vim on <display> (also: --display) -e			Ex mode (like "ex") -f			Don't use newcli to open window -f			Foreground: Don't fork when starting GUI -font <font>		Use <font> for normal text (also: -fn) -foreground <color>	Use <color> for normal text (also: -fg) -g			Run using GUI (like "gvim") -geometry <geom>	Use <geom> for initial geometry (also: -geom) -h			print Help (this message) and exit -i <viminfo>		Use <viminfo> instead of .viminfo -iconic		Start vim iconified -italicfont <font>	Use <font> for italic text -l			Lisp mode -m			Modifications (writing files) not allowed -menuheight <height>	Use a menu bar height of <height> (also: -mh) -n			No swap file, use memory only -name <name>		Use resource as if vim was <name> -o[N]		Open N windows (default: one for each file) -q [errorfile]  edit file with first error -r			List swap files and exit -r (with file name)	Recover crashed session -register		Register this gvim for OLE -reverse		Use reverse video (also: -rv) -s			Silent (batch) mode (only for "ex") -s <scriptin>	Read Normal mode commands from file <scriptin> -scrollbarwidth <width>  Use a scrollbar width of <width> (also: -sw) -t tag          edit file where tag is defined -u <vimrc>		Use <vimrc> instead of any .vimrc -unregister		Unregister gvim for OLE -v			Vi mode (like "vi") -w <scriptout>	Append all typed commands to file <scriptout> -x			Edit encrypted files -xrm <resource>	Set the specified resource -y			Easy mode (like "evim", modeless) ...(truncated) 1 buffer deleted 1 buffer unloaded 1 buffer wiped out 1 change 1 character 1 line %sed %d times 1 line %sed 1 time 1 line --%d%%-- 1 line changed 1 line indented  1 line less 1 line moved 1 line yanked 1 line,  1 more line 1 substitution 2nd user gvimrc file: " 3rd user gvimrc file: " :break without :while :continue without :while :else without :if :elseif without :if :endif without :if :endwhile without :while :if nesting too deep :while nesting too deep <%s>%s%s  %d,  Hex %02x,  Octal %03o <buffer object (deleted) at %8lX> <cannot open>  <window %d> <window object (deleted) at %.8lX> <window object (unknown) at %.8lX> ??? from here until ???END lines may be messed up ??? from here until ???END lines may have been inserted/deleted ???BLOCK MISSING ???EMPTY BLOCK ???END ???LINE COUNT WRONG ???LINES MISSING ???MANY LINES MISSING A preview window already exists ANCHOR_BUF_SIZE too small. Add a new database Added cscope database %s All All cscope databases reset All included files were found Already only one window Ambiguous use of user-defined command Append File Argument missing after Argument must be positive Argument required At end-of-file At line Attempt to open script file again: " Back at original Backwards range given Backwards range given, OK to swap Before byte %ld Binary tag search Bot Breakpoint in "%s%s" line %ld Browse class Calling shell to execute: "%s" Can't create file %s Can't find temp file for conversion Can't get temp file name Can't make backup file (use ! to override) Can't open file %s Can't read file %s Can't read file for backup (use ! to override) Can't write to backup file (use ! to override) Cancel Cannot change term in GUI Cannot connect to SNiFF+. Check environment (sniffemacs must be found in $PATH).
 Cannot create  Cannot create backup file (use ! to override) Cannot execute  Cannot open NIL:
 Cannot open for reading: " Cannot open for script output: " Cannot open termcap file Cannot set 'term' to empty string Cannot source a directory: "%s" Close error for backup file (use ! to override) Close failed Col %s of %s; Line %ld of %ld; Word %ld of %ld; Byte %ld of %ld Command Line Command aborted Command failed Compilation:  Compiler:  Conversion with 'charconvert' failed Could not create cscope pipes Could not fix up function pointers to the DLL! Could not load vim32.dll! Cscope tag: %s
 Current %slanguage: "%s" Delete the .swp file afterwards.

 Direction Directories Do you really want to write to it Don't panic! Down E100: No other buffer in diff mode E101: More than two buffers in diff mode, don't know which one to use E102: Can't find buffer "%s" E103: Buffer "%s" is not in diff mode E104: Escape not allowed in digraph E105: Using :loadkeymap not in a sourced file E106: Unknown variable: "%s" E107: Missing parentheses: %s E108: No such variable: "%s" E109: Missing ':' after '?' E10: \ should be followed by /, ? or & E110: Missing ')' E111: Missing ']' E112: Option name missing: %s E113: Unknown option: %s E114: Missing quote: %s E115: Missing quote: %s E116: Invalid arguments for function %s E117: Unknown function: %s E118: Too many arguments for function: %s E119: Not enough arguments for function: %s E11: Invalid in command-line window; <CR> executes, CTRL-C quits E120: Using <SID> not in a script context: %s E121: Undefined variable: %s E122: Function %s already exists, use ! to replace E123: Undefined function: %s E124: Missing '(': %s E125: Illegal argument: %s E126: Missing :endfunction E127: Cannot redefine function %s: It is in use E128: Function name must start with a capital: %s E129: Function name required E12: Command not allowed from exrc/vimrc in current dir or tag search E130: Undefined function: %s E131: Cannot delete function %s: It is in use E132: Function call depth is higher than 'maxfuncdepth' E133: :return not inside a function E134: Move lines into themselves E135: *Filter* Autocommands must not change current buffer E136: viminfo: Too many errors, skipping rest of file E137: Viminfo file is not writable: %s E138: Can't write viminfo file %s! E139: File is loaded in another buffer E13: File exists (add ! to override) E140: Use ! to write partial buffer E141: No file name for buffer %ld E142: File not written: Writing is disabled by 'write' option E143: Autocommands unexpectedly deleted new buffer %s E144: non-numeric argument to :z E145: Shell commands not allowed in rvim E146: Regular expressions can't be delimited by letters E147: Cannot do :global recursive E148: Regular expression missing from global E149: Sorry, no help for %s E14: Invalid address E150: Not a directory: %s E152: Cannot open %s for writing E153: Unable to open %s for reading E154: Duplicate tag "%s" in file %s E155: Unknown sign: %s E156: Missing sign name E157: Invalid sign ID: %ld E158: Invalid buffer name: %s E159: Missing sign number E15: Invalid expression: %s E160: Unknown sign command: %s E161: Breakpoint not found: %s E162: No write since last change for buffer "%s" E163: There is only one file to edit E164: Cannot go before first file E165: Cannot go beyond last file E166: Can't open linked file for writing E167: :scriptencoding used outside of a sourced file E168: :finish used outside of a sourced file E169: Command too recursive E16: Invalid range E170: Missing :endwhile E171: Missing :endif E172: Only one file name allowed E173: %ld more files to edit E174: Command already exists: use ! to redefine E175: No attribute specified E176: Invalid number of arguments E177: Count cannot be specified twice E178: Invalid default value for count E179: argument required for complete E17: "%s" is a directory E180: Invalid complete value: %s E181: Invalid attribute: %s E182: Invalid command name E183: User defined commands must start with an uppercase letter E184: No such user-defined command: %s E185: Cannot find color scheme %s E186: No previous directory E187: Unknown E188: Obtaining window position not implemented for this platform E189: "%s" exists (use ! to override) E18: Unexpected characters before '=' E190: Cannot open "%s" for writing E191: Argument must be a letter or forward/backward quote E192: Recursive use of :normal too deep E193: :endfunction not inside a function E194: No alternate file name to substitute for '#' E195: Cannot open viminfo file for reading E196: No digraphs in this version E197: Cannot set language to "%s" E198: cmd_pchar beyond the command length E199: Active window or buffer deleted E19: Mark has invalid line number E200: *ReadPre autocommands made the file unreadable E201: *ReadPre autocommands must not change current buffer E202: Conversion made file unreadable! E203: Autocommands deleted or unloaded buffer to be written E204: Autocommand changed number of lines in unexpected way E205: Patchmode: can't save original file E206: patchmode: can't touch empty original file E207: Can't delete backup file E208: Error writing to "%s" E209: Error closing "%s" E20: Mark not set E210: Error reading "%s" E211: Warning: File "%s" no longer available E212: Can't open file for writing E213: Cannot convert (use ! to write without conversion) E214: Can't find temp file for writing E215: Illegal character after *: %s E216: No such event: %s E217: Can't execute autocommands for ALL events E218: autocommand nesting too deep E219: Missing {. E21: Cannot make changes, 'modifiable' is off E220: Missing }. E221: 'commentstring' is empty E222: Add to read buffer E223: recursive mapping E224: global abbreviation already exists for %s E225: global mapping already exists for %s E226: abbreviation already exists for %s E227: mapping already exists for %s E228: makemap: Illegal mode E229: Cannot start the GUI E22: Scripts nested too deep E230: Cannot read from "%s" E231: 'guifontwide' invalid E232: Cannot create BalloonEval with both message and callback E233: cannot open display E234: Unknown fontset: %s E235: Can't load Zap font '%s' E235: Can't use font %s E235: Unknown font: %s E236: Font "%s" is not fixed-width E237: Printer selection failed E238: Print error: %s E239: Invalid sign text: %s E23: No alternate file E240: No connection to Vim server E241: Unable to send to %s E242: Color name not recognized: %s E242: Missing color: %s E243: Argument not supported: "-%s"; Use the OLE version. E244: Illegal charset name "%s" in font name "%s" E245: Illegal char '%c' in font name "%s" E246: FileChangedShell autocommand deleted buffer E247: no registered server named "%s" E248: Failed to send command to the destination program E249: couldn't read VIM instance registry property E24: No such abbreviation E250: Fonts for the following charsets are missing in fontset %s: E251: VIM instance registry property is badly formed.  Deleted! E252: Fontset name: %s E253: Fontset name: %s
 E254: Cannot allocate color %s E255: Couldn't read in sign data! E255: Too many signs defined E256: Hangul automata ERROR E257: cstag: tag not found E258: Unable to send to client E259: no matches found for cscope query %s of %s E25: GUI cannot be used: Not enabled at compile time E260: cscope connection not found E261: cscope connection %s not found E262: error reading cscope connection %d E263: Sorry, this command is disabled, the Python library could not be loaded. E264: Python: Error initialising I/O objects E266: Sorry, this command is disabled, the Ruby library could not be loaded. E26: Hebrew cannot be used: Not enabled at compile time
 E273: unknown longjmp status %d E274: Sniff: Error during read. Disconnected E275: Unknown SNiFF+ request: %s E276: Error connecting to SNiFF+ E277: Unable to read a server reply E278: SNiFF+ not connected E279: Not a SNiFF+ buffer E27: Farsi cannot be used: Not enabled at compile time
 E280: TCL FATAL ERROR: reflist corrupt!? Please report this to vim-dev@vim.org E281: TCL ERROR: exit code is not int!? Please report this to vim-dev@vim.org E282: Cannot read from "%s" E283: No marks matching "%s" E284: Cannot set IC values E285: Failed to create input context E286: Failed to open input method E287: Warning: Could not set destroy callback to IM E288: input method doesn't support any style E289: input method doesn't support my preedit type E28: No such highlight group name: %s E290: over-the-spot style requires fontset E291: Your GTK+ is older than 1.2.3. Status area disabled E292: Input Method Server is not running E293: block was not locked E294: Seek error in swap file read E295: Read error in swap file E296: Seek error in swap file write E297: Write error in swap file E298: Didn't get block nr 0? E298: Didn't get block nr 1? E298: Didn't get block nr 2? E29: No inserted text yet E300: Swap file already exists (symlink attack?) E301: Oops, lost the swap file!!! E302: Could not rename swap file E303: Unable to open swap file for "%s", recovery impossible E304: ml_timestamp: Didn't get block 0?? E305: No swap file found for %s E306: Cannot open %s E307: %s does not look like a Vim swap file E308: Warning: Original file may have been changed E309: Unable to read block 1 from %s E30: No previous command line E310: Block 1 ID wrong (%s not a .swp file?) E311: Recovery Interrupted E312: Errors detected while recovering; look for lines starting with ??? E313: Cannot preserve, there is no swap file E314: Preserve failed E315: ml_get: invalid lnum: %ld E316: ml_get: cannot find line %ld E317: pointer block id wrong E317: pointer block id wrong 2 E317: pointer block id wrong 3 E317: pointer block id wrong 4 E318: Updated too many blocks? E319: Sorry, the command is not available in this version E31: No such mapping E320: Cannot find line %ld E321: Could not reload "%s" E322: line number out of range: %ld past the end E323: line count wrong in block %ld E324: Can't open PostScript output file E325: ATTENTION E326: Too many swap files found E327: Part of menu-item path is not sub-menu E328: Menu only exists in another mode E329: No menu of that name E32: No file name E330: Menu path must not lead to a sub-menu E331: Must not add menu items directly to menu bar E332: Separator cannot be part of a menu path E333: Menu path must lead to a menu item E334: Menu not found: %s E335: Menu not defined for %s mode E336: Menu path must lead to a sub-menu E337: Menu not found - check menu names E338: Sorry, no file browser in console mode E339: Pattern too long E33: No previous substitute regular expression E340: Line is becoming too long E341: Internal error: lalloc(%ld, ) E342: Out of memory!  (allocating %lu bytes) E343: Invalid path: '**[number]' must be at the end of the path or be followed by '%s'. E344: Can't find directory "%s" in cdpath E345: Can't find file "%s" in path E346: No more directory "%s" found in cdpath E347: No more file "%s" found in path E348: No string under cursor E349: No identifier under cursor E34: No previous command E350: Cannot create fold with current 'foldmethod' E351: Cannot delete fold with current 'foldmethod' E352: Cannot erase folds with current 'foldmethod' E353: Nothing in register %s E354: Invalid register name: '%s' E355: Unknown option: %s E356: get_varp ERROR E357: 'langmap': Matching character missing for %s E358: 'langmap': Extra characters after semicolon: %s E359: Screen mode setting not supported E35: No previous regular expression E360: Cannot execute shell with -f option E361: Crash intercepted; regexp too complex? E363: pattern caused out-of-stack error E364: Library call failed for "%s()" E365: Failed to print PostScript file E366: Invalid 'osfiletype' option - using Text E367: No such group: "%s" E36: Not enough room E371: Command not found E372: Too many %%%c in format string E373: Unexpected %%%c in format string E374: Missing ] in format string E375: Unsupported %%%c in format string E376: Invalid %%%c in format string prefix E377: Invalid %%%c in format string E378: 'errorformat' contains no pattern E379: Missing or empty directory name E37: No write since last change (use ! to override) E380: At bottom of quickfix stack E381: At top of quickfix stack E382: Cannot write, 'buftype' option is set E383: Invalid search string: %s E384: search hit TOP without match for: %s E385: search hit BOTTOM without match for: %s E386: Expected '?' or '/'  after ';' E387: Match is on current line E388: Couldn't find definition E389: Couldn't find pattern E38: Null argument E390: Illegal argument: %s E391: No such syntax cluster: %s E392: No such syntax cluster: %s E393: group[t]here not accepted here E394: Didn't find region item for %s E395: contains argument not accepted here E396: containedin argument not accepted here E397: Filename required E398: Missing '=': %s E399: Not enough arguments: syntax region %s E39: Number expected E400: No cluster specified E401: Pattern delimiter not found: %s E402: Garbage after pattern: %s E403: syntax sync: line continuations pattern specified twice E404: Illegal arguments: %s E405: Missing equal sign: %s E406: Empty argument: %s E407: %s not allowed here E408: %s must be first in contains list E409: Unknown group name: %s E40: Can't open errorfile %s E410: Invalid :syntax subcommand: %s E411: highlight group not found: %s E412: Not enough arguments: ":highlight link %s" E413: Too many arguments: ":highlight link %s" E414: group has settings, highlight link ignored E415: unexpected equal sign: %s E416: missing equal sign: %s E417: missing argument: %s E418: Illegal value: %s E419: FG color unknown E41: Out of memory! E420: BG color unknown E421: Color name or number not recognized: %s E422: terminal code too long: %s E423: Illegal argument: %s E424: Too many different highlighting attributes in use E425: Cannot go before first matching tag E426: tag not found: %s E427: There is only one matching tag E428: Cannot go beyond last matching tag E429: File "%s" does not exist E42: No Errors E430: Tag file path truncated for %s
 E431: Format error in tags file "%s" E432: Tags file not sorted: %s E433: No tags file E434: Can't find tag pattern E435: Couldn't find tag, just guessing! E436: No "%s" entry in termcap E437: terminal capability "cm" required E438: u_undo: line numbers wrong E439: undo list corrupt E43: Damaged match string E440: undo line missing E441: There is no preview window E442: Can't split topleft and botright at the same time E443: Cannot rotate when another window is split E444: Cannot close last window E445: Other window contains changes E446: No file name under cursor E447: Can't find file "%s" in path E44: Corrupted regexp program E455: Error writing to PostScript output file E456: Can't open file "%s" E457: Can't read PostScript resource file "%s" E45: 'readonly' option is set (use ! to override) E46: Cannot set read-only variable "%s" E47: Error while reading errorfile E48: Not allowed in sandbox E49: Invalid scroll size E61: Nested %s* E62: Nested %s%c E64: %s%c follows nothing E72: Close error on swap file E73: tag stack empty E74: Command too complex E75: Name too long E76: Too many [ E77: Too many file names E78: Unknown mark E79: Cannot expand wildcards E80: Error while writing E81: Using <SID> not in a script context E82: Cannot allocate any buffer, exiting... E83: Cannot allocate buffer, using other one... E84: No modified buffer found E85: There is no listed buffer E86: Cannot go to buffer %ld E87: Cannot go beyond last buffer E88: Cannot go before first buffer E89: No write since last change for buffer %ld (use ! to override) E90: Cannot unload last buffer E91: 'shell' option is empty E92: Buffer %ld not found E93: More than one match for %s E94: No matching buffer for %s E95: Buffer with this name already exists E96: Can not diff more than %ld buffers E97: Cannot create diffs E98: Cannot read diff output E99: Current buffer is not in diff mode ERROR:  Edit File Edit File in new window Edit with &Vim Edit with &multiple Vims Edit with existing Vim - & Edit with single &Vim Edits the selected file(s) with Vim Empty file name for '%' or '#', only works with ":p:h" End of function End of sourced file Enter encryption key:  Enter nr of choice (<CR> to abort):  Enter number of swap file to use (0 to quit):  Enter same key again:  Entering Debug mode.  Type "cont" to leave. Entering Ex mode.  Type "visual" to go to Normal mode. Error Error creating process: Check if gvim is in your path! Error detected while processing %s: Evaluates to an empty string Executing %s Expression External submatches:
 File "%s" does not exist File preserved Files Filter Find & Replace (use '\\' to find  a '\') Find Next Find string (use '\\' to find  a '\') Find symbol Find what: Font '%s' is not fixed-width Font Selection Font%d width is not twice that of font0
 Font0 width: %ld
 Font0: %s
 Font1 width: %ld

 Font1: %s
 Garbage after option Generate docu for Greetings, Vim user! Help Help poor children in Uganda! Hit ENTER or type command to continue Hit ENTER to continue Hit end of paragraph I/O ERROR Illegal character <%s> Illegal character after <%c> Illegal component Illegal file name Illegal mode Illegal mouseshape Illegal percentage Illegal register name Illegal starting char Input Line Internal error Interrupt:  Interrupted Invalid argument Invalid argument for Invalid argument: %s Invalid command Invalid font(s) Invalid fontset Invalid server id used: %s Invalid wide font Keymap file not found Keys don't match! Kill a connection Linear tag search Linking:  Match exact word only Messages maintainer: Bram Moolenaar <Bram@vim.org> Missing '>' Missing colon Missing comma Missing number after <%s> Must specify a ' value Need %s version %ld
 Need Amigados version 2.04 or later
 Need at least %d columns Need at least %d lines No ! allowed No Syntax items defined for this buffer No abbreviation found No breakpoints defined No buffers were deleted No buffers were unloaded No buffers were wiped out No fold found No included files No mapping found No marks set No match No match: %s No matching autocommands No more items No mouse support No range allowed No swap file No text to be printed No undo possible; continue anyway No user-defined commands found Not a valid codepage Not allowed here Not allowed in a modeline Not an editor command Not found in termcap Number required after = OK Open File dialog Opening the X display failed Opening the X display timed out Opening the X display took %ld msec Option not supported Original file "%s" Overwrite existing file "%.*s"? Patch file Path length too long! Pathname: Pattern found in every line: %s Pattern not found Pattern not found: %s Print job sent. Printed: %s Printing '%s' Printing aborted Printing page %d (%d%%) Query for a pattern Question Reading from stdin... Reading viminfo file "%s"%s%s%s Recovery completed. You should check if everything is OK. Reinit all connections Replace Replace All Replace with: Retrieve Retrieve from all projects Retrieve from file Retrieve from project Run Macro Running in Vi compatible mode SNiFF+ is currently  Save As Save File dialog Save Redirection Save Session Save Setup Save View Save changes to "%.*s"? Scanning dictionary: %s Scanning included file: %s Scanning tags. Scanning: %s Scrollbar Widget: Could not get geometry of thumb pixmap. Search String Searching for "%s" Searching for "%s" in "%s" Searching tags file %s Selected %s%ld of %ld Lines; %ld of %ld Words; %ld of %ld Bytes Selection Send expression failed.
 Sending to printer... Show base class of Show class in hierarchy Show class in restricted hierarchy Show connections Show docu of Show overridden member function Show source of Show this message Signs for %s: Sniff: Error during write. Disconnected Sorry, help file "%s" not found Sorry, this command is disabled: the Tcl library could not be loaded. Stack size increases Swap file " Swap file already exists! Swap files found: Syntax error in %s{...} Tear off this menu Terminal entry not found in termcap Terminal entry not found in terminfo Testing the X display failed Thanks for flying Vim The file was created on  The only match The resource fork will be lost (use ! to override) This Vim was not compiled with the diff feature. This cscope command does not support splitting the window.
 Toggle implementation/definition Too many "+command" or "-c command" arguments Too many edit arguments Top Trailing characters Unable to read block 0 from  Unable to register a command server name Unclosed expression sequence Undo Unknown Unknown option Unknown register type %d Untitled Up Usage: cstag <ident> Use ":gui" to start the GUI Use Vim version 3.0.
 Use w or w>> Used CUT_BUFFER0 instead of empty selection Using swap file "%s" VIM - ATTENTION VIM - Search and Replace... VIM - Search... VIM - Vi IMproved VIM Error VIM: Can't open window!
 VIMRUN.EXE not found in your $PATH.
External commands will not pause after completion.
See  :help win32-vimrun  for more information. Vim E458: Cannot allocate colormap entry, some colors may be incorrect Vim Warning Vim dialog Vim dialog... Vim exiting with %d
 Vim is open source and freely distributable Vim: Caught %s event
 Vim: Caught deadly signal
 Vim: Caught deadly signal %s
 Vim: Double signal, exiting
 Vim: Error reading input, exiting...
 Vim: Finished.
 Vim: Reading from stdin...
 Vim: Warning: Input is not from a terminal
 Vim: Warning: Output is not to a terminal
 Vim: preserving files...
 W10: Warning: Changing a readonly file W11: Warning: File "%s" has changed since editing started W12: Warning: File "%s" has changed and the buffer was changed in Vim as well W13: Warning: File "%s" has been created after editing started W14: Warning: List of file names overflow W15: Warning: Wrong line separator, ^M may be missing W16: Warning: Mode of file "%s" has changed since editing started WARNING: The file has been changed since reading it!!! WARNING: Windows 95/98/ME detected Warning Warning: Entered other buffer unexpectedly (check autocommands) Warning: terminal cannot highlight While opening file " Window position: X %d, Y %d Word from other line Write partial file? Writing viminfo file "%s" Xref has a Xref referred by Xref refers to Xref used by YES Zero count Zero length string [CONVERSION ERROR] [CR missing] [Deleted] [Device] [Error List] [Incomplete last line] [NL found] [NOT converted] [New File] [New file] [New] [No File] [No file] [No write since last change]
 [Not edited] [Permission Denied] [Preview] [READ ERRORS] [RO] [Read errors] [calls] total re/malloc()'s %lu, total free()'s %lu

 [converted] [crypted] [dos format] [dos] [fifo/socket] [fifo] [file ..]       edit specified file(s) [help] [long lines split] [mac format] [mac] [noeol] [readonly] [socket] [string too long] [unix format] [unix] and run diff with the original file to check for changes)
 at bottom of tag stack at top of tag stack attempt to refer to deleted buffer attempt to refer to deleted window autocommand %s by  by Bram Moolenaar et al. calling %s can't delete OutputObject attributes can't read output of 'charconvert' can't select fontset can't select wide font cannot change console mode ?!
 cannot create buffer/window command: object is being deleted cannot delete line cannot get line cannot insert line cannot insert/append line cannot open  cannot register callback command: buffer/window is already being deleted cannot register callback command: buffer/window reference not found cannot replace line cannot save undo information cannot set line(s) cannot yank; delete anyway close cmd: %s comma required connected contains unprintable character continuing in %s could not source "%s" couldn't malloc
 cs_create_connection exec failed cs_create_connection: fdopen for fr_fp failed cs_create_connection: fdopen for to_fp failed cscope commands:
 cscope connection %s closed
 cscope connection closed cursor position outside buffer defaulting to ' deleted block 1? digit expected don't quit the editor until the file is successfully written! duplicate cscope database not added error list %d of %d; %d errors error reading cscope connection %d expressions disabled at compile time fatal error in cs_manage_matches file
 filename / context / line
 finished sourcing %s freeing %ld lines function  gvimext.dll error help in path ---
 invalid attribute invalid buffer number invalid expression invalid mark name is a directory is not a file is not a file or writable device is read-only (use ! to override) keyboard interrupt line %4ld: line %ld line %ld of %ld --%d%%-- col  line %ld: %s line %ld: could not source "%s" line %ld: sourcing "%s" line number out of range logoff mark not set match %d match %d of %d maximal  maximum number of cscope connections reached mch_get_shellsize: not a console??
 minimal  new shell started
 no no :source file name to substitute for "<sfile>" no autocommand buffer number to substitute for "<abuf>" no autocommand file name to substitute for "<afile>" no autocommand match name to substitute for "<amatch>" no cscope connections no cscope connections
 no such buffer no such window no syncing not  not found  not found in 'runtimepath': "%s" not implemented yet pe_line_count is zero pre-vimrc command line readonly attribute recording replace with %s (y/n/a/q/l/^E/^Y)? row %d column %d search hit BOTTOM, continuing at TOP search hit TOP, continuing at BOTTOM shell  shell returned %d shutdown softspace must be an integer sourcing "%s" stack_idx should be 0 stat(%s) error: %d string cannot contain newlines syncing on C-style comments syncing starts  tag %d of %d%s tagname to %s on %s too many items type  :help cp-default<Enter> for info on this type  :help iccf<Enter>       for information  type  :help version8<Enter>   for version info type  :help windows95<Enter>  for info on this type  :help<Enter>  or  <F1>  for on-line help type  :q<Enter>               to exit          type  :set nocp<Enter>        for Vim defaults unbalanced groups unknown cscope search type unknown flag:  unknown option unknown vimOption version  vim error vim_SelFile: can't get current directory vim_SelFile: can't get font %s vim_SelFile: can't return to current directory viminfo: %s in line:  with (classic) GUI. with BeOS GUI. with Carbon GUI. with Cocoa GUI. with GTK GUI. with GTK-GNOME GUI. with GUI. with Photon GUI. with X11-Athena GUI. with X11-Motif GUI. without GUI. write error (file system full?) write error, conversion failed writelines() requires list of strings Project-Id-Version: vim-6.0
POT-Creation-Date: 2001-10-08 08:27-0700
PO-Revision-Date: 2002-02-06 22:29+0100
Last-Translator: Ji Pavlovsk <jpavlovsky@mbox.vol.cz>
Language-Team: Czech <cs@li.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=cp1250
Content-Transfer-Encoding: 8bit
 			  (nen implementovno)
 
	Naposledy nastavena z  

Argumenty:
 

pouit: 
          datum zmny:  
         [nepouiteln na tomto potai] 
         [nepouiteln s touto verz Vim] 
         nzev potae:  
         uivatelsk jmno:  
        ID procesu :  
    Jmno       Args Rozsah plnost  Definice 
   nebo 
  # CL tag        START dek  v souboru/textu 
 skok dek sloupec soubor/text 
# Historie %s (ponaje nejnovj polokou):
 
# Seznam buffer:
 
# Souborov znaky:
 
# Historie znaek v souborech (ponaje nejnovj polokou):
 
# Seznam skok (ponaje nejnovj polokou):
 
# Posledn nahrazujc etzec:
$ 
# Registry:
 
# globln promnn:
 
(1) Soubor me bt editovn jinm programem.
    Je-li tomu tak, pak si dejte pozor, aby jste po uloen zmn
    nemli dv rzn verze tho souboru.
 
(2) Editace tohoto souboru byla peruena neekanm ukonenm programu.
 
(Zvate uloen tohoto souboru pod jinm nzvem
 
--- Automatick pkazy --- 
--- Nastaven globlnch voleb --- 
--- Nastaven loklnch voleb --- 
--- Nabdky --- 
--- Volby --- 
--- Registry --- 
--- Znaky --- 
--- Pedmty syntaxe --- 
--- Poloky synchronizace syntaxe --- 
--- Kdy terminlu --- 
--- Klvesy terminlu --- 
16 bitov MS-DOS verze 
32 bitov verze pro MS Windows 
Pepnae pro gvim (Athena verzi):
 
Pepnae pro gvim (GTK+ verzi):
 
Pepnae pro gvim (Motif verzi):
 
Pepnae pro gvim (RISC OS verzi):
 
velk verze  
Nelze vytvoit roury
 
nelze spustit shell  
Nelze spustit sh shell
 
Voln fork selhalo
 
Pkaz ukonen
 
peloil  
Nalezen odkldac soubor se jmnem " 
maximln verze 
Pouit zplaty:  
16 bitov verze pro MS Windows 
16/32 bitov GUI verze pro MS Windows 
32 bitov GUI verze pro MS Windows 
32 bitov verze pro MS Windows konzolu 
MacOS X (unix) verze 
MacOS X verze 
MacOS verze 
Mon nedolo k dnm zmnm, nebo Vim neaktualizoval odkldac soubor. 
Podrobnj informace zskte pomoc "vim -h"
 
normln verze 
RISC OS verze 
Pedn vrazu selhalo.
 
Pedn selhalo. Zkoum provst lokln
 
Poslm signl k ukonen synovskho procesu.
 
mal verze  
minimln verze 
Vim: chyba X11
 
VAROVN: Obsah pvodnho souboru me bt ztracen i pokozen
 
[bajt] celkem uvolnno-alokovno %lu-%lu, vyuito %lu, maximln vyuit %lu
 
znaka dek  sloupec soubor/text 
 nvratov hodnota shellu  
synchronizuji pedmty              datum vytvoen:            vlastnk:           [nelze otevt]          [nelze pest]          [nevypad jako odkldac soubor Vim]          [od Vim verze 3.0]          nzev souboru:        -- dn --
       NOVJ ne odkldac soubor!
       uivatelsk exrc soubor: "      uivatelsk vimrc soubor: "     Je-li tomu tak, pak pouijte ":recover" i "vim -r      Pokud jste tak ji uinil, tak smate odkldac soubor "     Ukonete program, nebo opatrn pokraujte v editaci.
     dek=%ld id=%d jmno=%s     systmov soubor s menu: "     uivatelsk gvimrc soubor: "    #   dek    V aktulnm adresi:
    V adresi     Se zadanm nzvem:
    datum vytvoen:     nzev potae:     systmov vimrc soubor: "   # pri typ tag   (Ji vypsno)   druh uivatelsk exrc soubor: "   PODPORA LADN  Vlastnosti zahrnut (+) a nezahrnut (-):
  NENALEZENY   Pouvm tag s psmeny jin velikosti!   implicitn hodnota $VIM:"   systmov gvimrc soubor: "  # pid    nzev databze                      pedpona cesty
 (Perueno)  (RET/BS: dek, MEZERNK/b: strnka, d/u: 0.5 strnky, q: konec)  (RET: dek, MEZERNK: strnka, d: 0.5 strnky, q: konec)  (vetn ji vypsanch shod)  (insert)  (insert) Rolovn (^E/^Y)  (lang)  (dek smazn)  (paste)  (replace)  (replace) Rolovn (^E/^Y)  (stle aktivn)  (vreplace)  druh uivatelsk vimrc soubor: "  tet uivatelsk vimrc soubor: " Pidvm  BLOK  CHYBA PEVODU  Doplovn pkazov dky (^I/^N/^P)  Kopie %d z %d  Doplovn definic (^D/^N/^P)  Doplovn podle slovnku (^K/^N/^P)  se nezdailo  Doplovn nzv soubor (^F/^N/^P)  hebrejsk  INSERT  Lokln doplovn klovch slov (^N/^P)  Doplovn klovch slov (^N/^P)  DEK  Doplovn vzoru cest (^N/^P)  REPLACE  REVERSE  SHODY  Doplovn tag (^I/^N/^P)  Doplovn podle tezauru (^T/^N/^P)  VIZULN  VREPLACE  Doplovn celch dk (^L/^N/^P)  [Zmnn]  [p]  [u]  ^X reim (^E/^Y/^L/^]/^F/^I/^K/^D/^V/^N/^P)  pipojen  nelze pout na tomto potai.
  nelze pout s touto verz Vim.
   implicitn hodnota $VIMRUNTIME: "  ve Win32s reimu  informace  typ soubor
  dk ped zatkem  znaky  na %ld dcch  na jednom dku  nebo vce  nvratov hodnota shellu
 vim [pepnae]   s OLE podporou  uloen "
 "
    a tato zprva se ji nebude objevovat.
 "
    pro odstrann zmn (viz ":help recovery)".
 " ji existuje! # Tento viminfo soubor byl vytvoen editorem Vim %s.
 # Hodnota volby 'encoding' v dob uloen tohoto souboru
 # Pokud budete opatrn, mete jej upravovat.

 %-5s: %-30s (Pouit: %s)
 %2d %-5ld  %-34s  <dn>
 %3d  %s %s  dek %ld Poet smazanch buffer: %d Poet deaktivovanch buffer: %d Poet zahozench buffer: %d poet soubor pro editaci: %d
 Jet zbvaj soubory k editaci (%d). Chcete pesto ukonit editor? %d z %d editovno dk: %ld; poet zmn: %ld %ld znak,  poet smazanch dk: %ld Poet dk: %ld (posunutch pomoc %s %d-krt) Poet dk: %ld (posunutch jednou pomoc %s) dk: %ld --%d%%-- poet dek se zmnnou velikost psmen: %ld Poet filtrovanch dk: %ld poet odsazench dk: %ld Poet pesunutch dk: %ld poet dk k odsazen: %ld poet zkoprovanch dk: %ld %ld dk,  poet novch dk: %ld %ld nahrazen %s automatick pkazy pro "%s" %s nen ani adresem ani sprvnou cscope databz dokoneno provdn %s. Nvratov hodnota "%s" dokoneno provdn %s. Nvratov hodnota #%ld &OK
&Zruit &OK
&Nahrt soubor &Ok &Otevt pouze pro ten
&Pokraovat v editaci
O&bnovit soubor
&Konec &Otevt pouze pro ten
&Pokraovat v editaci
O&bnovit soubor
&Konec
&Smazat &Ano
&Ne &Ano
&Ne
&Zruit &Ano
&Ne
&Uloit ve
Zahodit &ve
&Zruit ' nen znm. Dostupn vestavn terminly: volby 'backupext' a 'patchmode' maj stejnou hodnotu 'columns' nen 80, nelze spustit extern pkaz volba `commentstring` mus bt bu przdn nebo nastaven na %s volba 'dictionary' je przdn 'volba 'history' je nastavena na nulu Pro "%.*s" je nastavena volba 'readonly'.
Pejete si ji potlait? volba 'thesaurus' je przdn hodnota volby 'winheight' nesm bt men ne hodnota volby 'winminheight' hodnota volby 'winwidth' nesm bt men ne hodnota volby 'winminwidth' (%d/%d)%s%s:  (+%ld pro BOM) (Perueno)  (Chybn) +			Nastav kurzor na konec souboru +-%s%3ld dk: poet dk v zhybu: %3ld +<dek>		Nastav kurzor na <dek> +reverse		Nepouije reverzn barvy (tak +rv) ,
nebo byl soubor pokozen. -                    st text ze standardnho vstupu --			Mohou nsledovat pouze nzvy soubor -- Pokraovn -- -- Hledm... --- Vloen soubory --Vymazno-- --Buffer neobsahuje dn dek-- --cmd <pkaz>	Po nahrn prvnho souboru vykon <pkaz> --columns <poet>	<poet> sloupc na okno --help		Vype Gnome pepnae --noplugin		Nenahraje 'plugin' skripty --remote <soubory>	Edituje <soubory> na Vim serveru a skon --remote-expr <vraz>	Provede <vraz> na serveru a zobraz vsledek --remote-send <klvesy>	Ped <klvesy> Vim serveru a skon --remote-wait <soubory> Jako --remote, ale ek na soubory k editaci --rows <poet>	<poet> dk na okno --serverlist		Vype seznam dostupnch Vim server a skon --servername <jmno>	Zale serveru <jmno>/stane se Vim serverem <jmno> --socketid <xid>	Oteve Vim uvnit jinho GTK widgetu --version		vype informace o verzi a skon -C			Kompatabiln s Vi: 'compatible' -D			Ladc reim -F			nastartuje ve Farsi reimu -H			nastartuje v hebrejskm reimu -L			Stejn jako -r -M			Zmny (ukldn soubor) zakzny -N			Kompatibilita s Vi vypnuta: 'nocompatible' -O[N]		Jako -o but split vertically -R			Reim pouze_pro_ten (jako "view") -S <sezen>		Po nahrn prvnho souboru vykon pkazy v souboru <sezen> -T <terminl>	Nastav typ terminlu na <terminl> -U <gvimrc>		Pouije <gvimrc> msto jakhokoliv .gvimrc -V[N]		rove vpisu hlek -W <skript>		Ulo vechny napsan pkazy do souboru <skript> -X			Nepipoj se k X serveru -Z			Omezen reim (stejn jako "rvim") -b			Binrn reim -background <barva>	Nastav <barvu> pozad (tak -bg) -boldfont <psmo>	Nastav <psmo> pro zvraznn text -borderwidth <ka>	Nastav <ku> okraj (tak -bw) -c <pkaz>		Po nahrn prvnho souboru vykon <pkaz> -d			Diff reim (stejn jako "vimdiff") -dev <zazen>		Pout <zazen> pro I/O -display <display>	Spust vim na dan X-server -display <display>	Spust vim na <display> -display <display>	Spust vim na <display> (tak --display) -v			Ex md (stejn jako "ex") -f			Nebude pouvat newcli pro oteven okna -f			Poped: pi startu GUI se neoddl od shellu -font <psmo>		Nastav <psmo> normlnho textu (tak -fn) -foreground <barva>	Nastav <barvu> poped (tak -fg) -g			spustit v GUI reimu (stejn jako "gvim") -geometry <geometrie>	Nastav <geometrii> (tak -geom) -h			Vype tuto npovdu a skon -i <viminfo>		Pouije <viminfo> msto jakhokoliv .viminfo -iconic		Spust vim minimalizovan -italicfont <psmo>	Nastav <psmo> pro kurzvu -l			Lisp reim -m			Zmny (ukldn soubor) zakzny -menuheight <vka>	Nastav <vku> nabdky (tak -mh) -n			Nebude vytvet odkldac soubor, bude pouvat pouze pam -name <nzev>		Pouije resource jako by vim ml <nzev> -o[N]		Oteve N oken (implicitn jedno pro kad soubor) -q [chybov soubor]  editovat soubor na mst vskytu prvn chyby -r			Vype seznam odkldacch soubor a skon -r nzev souboru	Obnov peruen sezen -register		pihlsit gvim na OLE -reverse		Pouije reverzn barvy (tak -rv) -s			Tich (dvkov) reim (pouze pro "ex") -s <skript>		Nate pkazy normlnho mdu ze <skriptu> -scrollbarwidth <ku> Nastav <ku> posunovac lity (tak: -sw) -t TAG          editovat soubor na mst definice TAGU -u <vimrc>		Pouije <vimrc> msto jakhokoliv .vimrc -register		odhlsit gvim z OLE -v			Vi md (stejn jako "vi") -w <skript>		Pipoj vechny napsan pkazy do souboru <skript> -x			Editace zaifrovanch soubor -xrm <resource>	Nastav zadan <resource> -v			Snadn reim (stejn jako "evim", dn mdy ) ...(krceno) Poet smazanch buffer: 1 Poet deaktivovanch buffer: 1 Poet zahozench buffer: 1 poet zmn: 1 1 znak Poet dk posunutch pomoc %s %d-krt : 1 poet dk posunutch jednou pomoc %s : 1 dk: --%d%%-- poet dek se zmnnou velikost psmen: 1 poet dk k odsazen: 1 poet smazanch dk: 1 poet pesunutch dk: 1 poet zkoprovanch dk: 1 1 dek,  poet novch dk: 1 1 nahrazen druh uivatelsk gvimrc soubor: " tet uivatelsk gvimrc soubor: " :break bez odpovdajcho :while :continue bez odpovdajcho :while :else bez odpovdajcho :if :elseif bez odpovdajcho :if :endif bez odpovdajcho :if :endwhile bez odpovdajcho :while vnoen :if je pli hlubok vnoen :while je pli hlubok <%s>%s%s  %d,  estnctkov %02x,  osmikov %03o <buffer objekt (smazn) na %8lX> <nelze otevt>  <okno %d> <objekt okna (smazn) na %.8lX> <objekt okna (neznm) na %.8lX> od ??? po ???END mohou bt dky pomchan od ??? po ???END mohou bt vloen/smazan dky ???CHYB BLOK ???PRZDN BLOK ???KONEC ???CHYBN POET DK ???CHYBJC DKY ???CHYB MNOHO DK Okno nhledu ji existuje ANCHOR_BUF_SIZE je pli mal. Pidat novou databzi Pidna cscope databze %s Ve Vechny cscope databze resetovny Vechny vloen soubory byly nalezeny Ji existuje pouze jedno okno Nejednoznan pouit uivatelsky definovanho pkazu Uloit soubor Chyb argument po Argument mus bt kladn Je vyadovn argument Konec souboru Na dku Pokus o optovn oteven skriptu: " Vchoz podoba Zadn zptn rozsah Zadn zptn rozsah. Prohodit hranice Ped bajtem %ld Binrn hledn tagu Konec Bod peruen v "%s%s" na dku %ld Prohlet class Spoutm pkaz "%s" pomoc shellu Nelze vytvoit soubor %s Nelze nalzt doasn soubor pro konverzi Nelze zskat nzev doasnho souboru Nelze vytvoit zlon soubor (pouijte ! pro vynucen) Nelze otevt soubor %s Nelze st soubor %s Nelze nast soubor pro zlohu (pouijte ! pro vynucen) Nelze zapisovat do zlonho souboru (pouijte ! pro vynucen) Zruit V GUI nelze mnit term Nelze se pipojit k SNiFF+. Zkontrolujte promnn (sniffemacs mus bt)uvedena v $PATH.
  Nelze vytvoit  Nelze vytvoit zlon soubor (pouijte ! pro vynucen) Nelze spustit  Nelze otevt NIL:
 Nelze otevt pro zpis: " Nelze otevt pro vstup skriptu: " Nelze otevt termcap volba 'term' neme bt przdn nelze interpretovat adres: "%s" Chyba pi uzavrn zlonho souboru (pouijte ! pro vynucen) Voln close selhalo Sloupec %s z %s; dek %ld z %ld; Slovo %ld z %ld; Byte %ld z %ld pkazov dky Pkaz peruen Pkaz selhal Peklad:  Peklada:  Konverze s 'charconvert' se nezdaila nelze vytvoit cscope roury Nelze nastavit ukazatele funkc na DLL Nelze nast vim32.dll! Cscope tag: %s
 Aktuln %sjazyk: "%s" Pot smate odkldac soubor.
 Smr Adrese Chcete jej opravdu uloit Nepanikate! Dol E100: To byl posledn buffer v diff reimu E101: V diff reimu jsou vce ne dva buffery. Nevm, kter mm pout. E102: Nelze nalzt buffer "%s" E103: Buffer "%s" nen v diff reimu E104: digraph nesm obsahovat Escape E105: :loadkeymap mimo interpretovan soubor E106: Neznm promnn: "%s" E107: Chyb zvorky: %s E108: Promnn "%s" neexistuje E109: Po '?' chyb ':' E10: po \ by ml nsledovat /. ? nebo & E110: Chybjc ')' E111: Chybjc ']' E112: Chyb jmno volby: %s E113: Neznm volba: %s E114: Chyb uvozovky: %s E115: Chyb uvozovky: %s E116: Chybn argumenty pro funkci %s E117: Neznm funkce: %s E118: Pli mnoho argument pro funkci %s E119: Pli mlo argument pro funkci %s E11: Chyba v okn pkazov dky; <CR> pro sputn, CTRL-C pro ukonen E120: Pouit <SID> mimo kontext skriptu: %s E121: Nedefinovan promnn: %s E122: Funkce %s ji existuje. Pouijte ! pro jej nahrazen. E123: Nedefinovan funkce: %s E124: Chyb '(': %s E125: Neppustn argument: %s E126: Chyb :endfunction E127: Nelze pedefinovat funkci %s: je pouvna E128: Nzev funkce mus zanat velkm psmenem: %s E129: Je vyadovno jmno funkce E12: Pkaz nen z exrc/vimrc v aktulnm adresi i pi hledn tagu povolen. E130: Nedefinovan funkce: %s E131: Nelze smazat funkci %s: je ji pouvna E132: Zanoen funkce je hlub ne 'maxfuncdepth' E133: :return mimo funkci E134: Nelze pesunout dky na pvodn msto E135: Automatick pkazy *Filter* nesm mnit aktuln buffer E136: viminfo: pli mnoho chyb, peskakuji zbytek souboru E137: do viminfo souboru %s nelze zapisovat E138: Nelze uloit viminfo soubor %s! E139: Soubor je nahrn v jinm bufferu E13: Soubor existuje (pouijte ! pro vynucen) E140: Pouijte ! pro uloen neplnho bufferu E141: dn nzev souboru pro buffer %ld E142: Soubor nebyl uloen: Ukldn je zakzno volbou 'write' E143: Automatick pkazy neoekvan smazaly nov buffer %s E144: neseln argument pro :z E145: rvim nepovoluje pouit pkaz shellu E146: Regulrn vrazy nesm bt oddleny psmeny E147: :global nelze volat rekurzivn E148: U pkazu 'global' chyb regulrn vraz E149: Lituji, pro %s nen dn npovda E14: Chybn adresa E150: %s nen adresem E152: Nelze otevt %s pro zpis E153: Nelze otevt %s pro zpis E154: Duplicitn tag "%s" v souboru %s E155: Neznm volba: %s E156: Chyb jmno volby E157: Chybn ID volby: %ld E158: chybn jmno bufferu: %s E159: Chyb identifiktor volby E15: Chybn vraz: %s E160: Neznm volba pkazu: %s E161: Bod peruen nenalezen: %s E162: Buffer "%s" obsahuje neuloen zmny E163: Pro editaci byl zadn pouze jeden soubor E164: Ped prvn soubor nelze peskoit E165: Za posledn soubor nelze peskoit E166: Nelze otevt pipojen soubor pro zpis E167: :scriptencoding pouito mimo interpretovan soubor E168: :finish pouito mimo interpretovan soubor E169: Pkaz je pli rekurzivn E16: Chybn rozsah E170: Chyb :endwhile E171: Chyb :endif E172: Ppustn je pouze jeden nzev souboru E173: Jet zbvaj soubory k editaci (%ld). E174: Pkaz ji existuje: pouijte ! pro pedefinovn E175: Nebyly zadny dn atributy E176: Chybn poet argument E177: Opakovn neme bt zadno dvakrt E178: Chybn implicitn hodnota pro poet E179: chybn implicitn hodnota pro opakovn E17: "%s" je adresem E180: Chybn hodnota doplnn: %s E181: Chybn atribut: %s E182: Chybn jmno pkazu E183: Uivatelsky definovan pkazy mus zanat velikm psmenem. E184: Uivatelsky definovan pkaz %s neexistuje E185: Nelze nalzt barevn schma %s E186: dn pedchoz adres E187: Neznm E188: Na tto platform nelze umstn okna zjistit E189: "%s" existuje (pouijte ! pro vynucen) E18: Neoekvan znaky ped '=' E190: Nelze otevt "%s" pro zpis E191: Argumentem me bt pouze psmeno nebo prav i lev apostrof E192: Vnoen :normal je pli hlubok E193: :endfunction mimo funkci E194: dn alternativn nzev souboru, kterm by bylo mon nahradit '#' E195: Nelze otevt pro ten viminfo soubor E196: V tto verzi nejsou speky podporovny E197: Nelze nastavit jazyk na "%s" E198: cmd_pchar pekrauje dlku pkazu E199: Smazno aktivn okno i buffer E19: Znaka m chybn slo dku E200: *ReadPre automatick pkazy uinily soubor neitelnm E201: *ReadPre automatick pkazy nesm mnit aktuln buffer E202: Po konverzi je soubor neiteln! E203: Automatick pkazy smazaly i deaktivovaly buffer, kter ml bt uloen E204: Automatick pkaz neekanm zpsobem zmnil poet dk E205: patchmode: nelze uloit pvodn soubor E206: patchmode: nelze zapisovat do przdnho pvodnho souboru E207: Nelze smazat zlon soubor E208: Chyba pi zpisu do "%s" E209: Chyb pi uzavrn "%s" E20: nen nastavena E210: Chyba pi ten "%s" E211: wa1: soubor "%s" ji nen dostupn E212: Nelze otevt soubor pro zpis E213: Nelze pevst (pouijte ! pro zpis bez pevodu) E214: Nelze najt doasn temp soubor pro zpis E215: Neppustn znak po *: %s E216: Udlost %s neexistuje E217: Automatick pkazy nelze spustit pro VECHNY udlosti E218: vnoen automatickho pkazu pli hlubok E219: Chyb {. E21: Nelze mnit, je nastavena volba 'modifiable' E220: Chyb }. E221: volba 'commentstring' je przdn E222: Pidat do bufferu pro ten E223: rekurzivn mapovn E224: pro %s ji globln zkratka ji existuje E225: pro %s ji globln mapovn ji existuje E226: pro %s ji zkratka ji existuje E227: pro %s ji mapovn ji existuje E228: makemap: neppustn md E229: Nelze spustit GUI E22: Skript vnoen pli hluboko E230: Nelze st z "%s" E231: volba 'guifontwide' je chybn nastavena E232: BalloonEval nelze vytvoit se zprvou a zrove zptnm volnm E233: nelze otevt display E234: Neznm sada psem: %s E235: Nelze nast Zap font '%s' E235: Nelze pout font %s E235: Neznm psmo: %s E236: Psmo "%s" nem pevnou ku E237: Nelze zvolit tiskrnu E238: Chyba tisku: %s E239: Neplatn text volby: %s E23: dn alternativn soubor E240: Neexistuje pipojen k Vim serveru E241: Nelze pedat do %s E242: Neznm jmno barvy: %s E242: Chyb barva: %s E243: Argument nepodporovn: "-%s"; Pouijte OLE verzi. E244: Neppustn jmno znakov sady "%s" ve fontu "%s" E245: Neppustn znak '%c' ve fontu "%s" E246: FileChangedShell autocommand zruil buffer E247: Neexistuje registrovan server jmnem "%s" E248: Selhalo zasln pkazu urenmu programu E249: nelze st VIM instanci registry property E24: Takov zkratka neexistuje E250: psma pro nsledujc znakov sady chyb v sad psem %s: E251: VIM instance registry property byla patn vytvoenaa byla smazna! E252: nzev sady psem: %s E253: nzev sady psem: %s
 E254: nelze alokovat barvu %s E255: Chyba -- nelze pest sign data! E255: Nastaveno pli mnoho voleb E256: CYBA Hangul automatu E257: cstag: tag nenalezen E258: Nelze pedat klientovi E259: cscope hledn %s vzorku %s nenalo dnou shodu E25: Nelze pout GUI: nebylo zapnuto pi pekladu programu E260: connection spojen nenalezeno E261: connection spojen %s nenalezeno E262: pi ten cscope spojen %d E263: Lituji, tento pkaz je deaktivovn; knihovnu jazyka Python nelze nahrt. E264: Python: chyba pi inicializaci I/O objekt E266: Lituji, ale tento pkaz je deaktivovn; knihovnu jazyka Ruby nelze nahrt. E26: nelze pout hebrejsk reim:  nebyl zapnut pi pekladu programu
 E273: neznm longjmp stav %d E274: Sniff: Chyba pi ten. Odpojeno E275: Neznm poadavek SNiFF+: %s E276: Chybn pipojen k SNiFF+ E277: Nelze st odpov serveru E278: SNiFF+ nepipojen E279: Nen SNiFF+ buffer E27: Nelze pout farsi reim:  nebyl zapnut pi pekladu programu
 E280: TCL FATAL ERROR: reflist pokozen!? Oznamte, prosm, tuto chybu na vim-dev@vim.org E281: TCL CHYBA: nvratov kd nen cel slo!? Oznamte, prosm, tuto chybu na vim-dev@vim.org E282: Nelze st z "%s" E283: "%s" nevyhovuj dn znaky E284: Nelze nastavit IC hodnoty E285: Nepodailo se vytvoit vstupn kontext E286: Nepodailo se otevt vstupn metodu E287: Varovn: likvidan zptn voln nelze nastavit na IM E288: vstupn metoda nepodporuje dn styl E289: vstupn metoda nepodporuje mj 'preedit' typ E28: Skupina zvraznn %s neexistuje E290: Nadbodov styl vyaduje fontset E291: Mte GTK+ verze star ne 1.2.3. Stavov plocha vypnuta. E292: Server vstupnch metod neb E293: blok nebyl zamknut E294: Chyba posunu ukazovtka pi ten odkldacho souboru E295: Chyba pi ten odkldacho souboru E296: Chyba posunu ukazovtka pi ukldn do odkldacho souboru E297: Chyba pi ukldn do odkldacho souboru E298: Nelze zskat blok 0? E298: Nelze zskat blok 1? E298: nelze zskat blok 2? E29: Zatm nen dn vloen text E300: Odkldac soubor ji existuje! (Nkdo hackujepes nastraen symlink?) E301: Jje, odkldac soubor byl ztracen!!! E302: Nelze pejmenovat odkldac soubor E303: Nelze otevt odkldac soubor pro "%s" E304: ml_timestamp: nelze zskat blok 0?? E305: Odkldac soubor pro %s nebyl nalezen E306: Nelze otevt %s E307: %s se nezd bt odkldacm souborem Vim E308: Varovn: Pvodn soubor mohl bt zmnn E309: Nelze st blok 1 z %s E30: dn pedchoz pkazov dka E310: ID bloku 1 je chybn (je %s odkldacm souborem?) E311: Obnova peruena E312: V prbhu obnovy dolo k chybm; zkontrolujte dky zanajc na ??? E313: Nelze zachovat - odkldac soubor neexistuje. E314: Uchovn se nezdailo E315: ml_get: chybn slo dku: %ld E316: ml_get: nelze nalzt dek %ld E317: chybn id ukazatele na blok E317: chybn id ukazatele na blok 2 E317: chybn id ukazatele na blok 3 E317: chybn id ukazatele na blok 4 E318: Aktualizovno pli mnoho blok? E319: Pkaz nen tto verzi bohuel implementovn E31: dn takov mapovn E320: Nelze nalzt dek %ld E321: Nelze znovuotevt "%s" E322: poet dk mimo rozsah: %ld > celkov poet dk E323: chybn poet dk v bloku %ld E324: Nelze otevt vstupn PostScriptov soubor E325: POZOR E326: Pli mnoho odkldacch soubor E327: sti cesty k pedmtu nabdky nen podnabdkou E328: Nabdka existuje pouze v jinm mdu E329: Nabdka tohoto jmna neexistuje E32: dn nzev souboru E330: Cesta nabdkou nesm vst do podnabdky E331: Poloky nabdky nelze pidvat pmo na litu E332: Oddlova nesm bt st cesty nabdkou E333: Cesta nabdkou mus vst k poloce nabdky E334: Vzor nenalezen: %s E335: V %s mdu nen nabdka definovna E336: Cesta nabdkou mus vst do podnabdky E337: Nabdka nenalezena - zkontrolujte nzvy nabdek E338: Lituji, ale konzolov verze nepodporuje prohle soubor E339: Vzor je pli dlouh E33: dn pedchoz regulrn vraz E340: dek se stv pli dlouhm E341: Vnitn chyba: lalloc(%ld, ) E342: Nedostatek pamti! (potebuji alokovat bajt: %lu) E343: Chybn cesta: '**[slo] mus bt bu na konci cesty, nebo mus bt
nsledovno'%s. Viz :help path. E344: Adres "%s" nelze v cdpath nalzt E345: Soubor "%s" nelze v path nalzt E346: dn dal adres "%s" nebyl v cdpath nalezen E347: dn dal soubor "%s" nebyl v cest nalezen E348: pod kurzorem nen dn etzec E349: pod kurzorem nen dn identifiktor E34: dn pedchoz pkaz E350: pomoc aktuln 'foldmethod' nelze vytvoit zhyb E351: pomoc aktuln 'foldmethod' nelze vytvoit zhyb E352: pomoc aktuln 'foldmethod' nelze mazat zhyby E353: Registr %s je przdn E354: '%s' nen ppustn jmno registru E355: Neznm volba: %s E356: get_varp CHYBA E357: 'langmap': pro %s chyb vyhovujc znak E358: 'langmap': nadbyten znaky po stednku: %s E359: Nastavovn reimu obrazovky nen podporovno E35: dn pedchoz regulrn vraz E360: Nelze spustit shell s parametrem -f E361: Zachyceno peteen zsobnku: pli sloit regulrn vraz? E363: vzorek zpsobil peteen zsobnku E364: Voln knihovn funkce "%s()" selhalo E365: Selhal tisk PostScriptovho souboru E366: Neplatn 'osfiletype' - pouit Text E367: Skupina "%s" neexistuje E36: Nedostatek msta E371: Pkaz nen k dispozici E372: Pli mnoho %%%c ve formtovacm etzci E373: Neoekvan vskyt %%%c ve formtovacm etzci E374: Ve formtovacm etzci chyb ] E375: %%%c Nepodporovan formtov specifikace ve formtovacm etzci E376: Neppustn %%%c v prefixu formtovacho etzce E377: Neppustn %%%c ve formtovacm etzci E378: 'errorformat' neobsahuje dn vzorek E379: Chybjc nebo przdn nzev adrese E37: Neuloen zmny (pouijte ! pro vynucen) E380: Konec quickfix seznamu E381: Zatek quickfix seznamu E382: Nelze uloit, je nastavena volba 'buftype' E383: Neppustn hledan etzec: %s E384: hledan doshlo zatku bez nalezen %s E385: hledan doshlo konce bez nalezen %s E386: Po ';' oekvm '?' nebo '/' E387: Shoda je na aktulnm dku E388: Nelze nalzt definici E389: Nelze nalzt vzorek E38: Nulov argument E390: neppustn argument: %s E391: Syntaktick sestava %s neexistuje E392: Syntaktick sestava %s neexistuje E393: group[t]here nesm bt na tomto mst E394: Pro %s chyb poloka regionu E395: obsahuje argumenty, kter zde nejsou povoleny E396: obsahuje argumenty, kter zde nejsou povoleny E397: Vyadovn nzev souboru E398: Chyb '=': %s E399: Pli mlo argument: oblast syntaxe %s E39: Oekvno slo E400: Nebyla zadna dn sestava E401: Oddlova vzorku %s nenalezen E402: Chyba za vzorkem %s E403: synchronizace syntaxe: vzorek pokraovn dk zadn dvakrt E404: neppustn argument: %s E405: Chyb rovntko: %s E406: Przdn argument: %s E407: %s zde nen povoleno E408: %s mus bt prvn v 'contains' seznamu E409: Neznm nzev skupiny: %s E40: Nelze otevt chybov soubor %s E410: chybn podazen pkaz :syntax : %s  E411: skupina zvraznn %s nebyla nalezena E412: Pli mlo argument: ":highlight link %s" E413: Pli mnoho argument: ":highlight link %s" E414: skupina je nastavena, odkaz na zvrazovac skupinu ignorovn E415: neekan rovntko : %s E416: chybn rovntko: %s E417: chyb argument: %s E418: neppustn hodnota: %s E419: barva poped nen znm E41: Nedostatek pamti! E420: barva poped nen znm E421: nzev i slo barvy %s nebylo rozpoznno E422: terminlov kd %s je pli dlouh E423: neppustn argument: %s E424: Je pouvno pli velk mnostv odlinch zvrazovacch atribut E425: Ped prvn vyhovujc tag nelze peskoit E426: tag %s nenalezen E427: Vyhovuje pouze jeden tag E428: Za posledn vyhovujc tag nelze peskoit E429: "%s" neexistuje E42: dn chyby E430: Soubor tag %s byl oezn
 E431: Chyba formtu v souboru tag "%s" E432: Obsah soubor tag %s nen seazen E433: dn soubor tag E434: Nelze najt vzorek tag E435: Tag nelze nalzt, pouze hdm! E436: Termcap neobsahuje poloku pro "%s" E437: Terminl mus mt schopnost "cm" E438: u_undo: sla dk jsou chybn E439: zznam o zmnch pokozen E43: Pokozen etzec pro vyhledvn E440: chyb undo dek E441: Nen dn preview okno nen E442: Okno nelze rozdlit zrove topleft a botright E443: Nelze rotovat, pokud je jin okno rozdleno E444: Posledn okno nelze uzavt E445: Jin okno obsahuje zmny E446: Pod kurzorem se nenachz nzev souboru E447: Soubor "%s" nelze v path nalzt E44: pokozen regexp program E455: Nelze zapisovat do vstupnho PostScriptovho souboru E456: Nelze otevt soubor "%s" E457: Nelze st zdrojov PostScriptov soubor "%s" E45: 'nastavena volba 'readonly' (pouijte ! pro vynucen) E46: Nelze nastavit pouze_pro_ten promnnou "%s" E47: Chyba pi ten chybovho souboru E48: Nen v bezpenostn schrnce povoleno E49: Chybn hodnota volby 'scroll' E61: %s* E62: %s%c E64: %s%c nic nen E72: Chyba pi uzavrn odkldacho souboru E73: seznam tag je przdn E74: Pkaz je pli sloit E75: Nzev je pli dlouh E76: pli mnoho [ E77: Pli mnoho nzv soubor E78: Neznm znaka E79: Nelze expandovat olkov znaky E80: Chyba pi ukldn E81: Pouit <SID> mimo kontext skriptu E82: Nelze alokovat dn buffer, konm... E83: Nelze alokovat buffer, pouiji jin... E84: Nebyl nalezen dn zmnn buffer E85: Seznam buffer je przdn E86: Nelze peskoit na buffer %ld E87: Za posledn buffer nelze peskoit E88: Ped prvn buffer nelze peskoit E89: Zmny v bufferu %ld nebyly uloeny (! pro vynucen) E90: Posledn buffer nelze deaktivovat E91: volba 'shell' je przdn E92: Buffer %ld nenalezen E93: Vzoru %s vyhovuje vce buffer E94: Vzoru %s nevyhovuje dn buffer E95: Buffer tohoto jmna ji existuje E96: Nelze pekroit maximln poet %ld diff buffer E97: Nelze vytvoit diffy E98: Nelze st vstup programu diff E99: Aktuln buffer nen v diff reimu CHYBA:  Editovat soubor Editovat soubor v novm okn Editace &Vim -em Editace &multiple Vimy Editace existujcm Vimem - & Editace jednm $Vim -em Editace vybranch soubor Vimem Przdn nzev souboru pro '%' i '#' funguje pouze s ":p:h" Konec funkce Konec interpretovanho souboru Zadejte ifrovac kl:  Zadejte slo (<CR> pro ukonen):  Zadejte slo odkldacho souboru, kter se m pout (0 pro ukonen):  Zadejte jet jednou tent kl: Spoutm ladc reim. Pro ukonen napite "cont". Spoutm Ex md. Napite "visual" pro nvrat do normlnho mdu. Chyba Chyba pi spoutn procesu: Zkontrolujte zdali je gvim v $PATH! Chyba pi zpracovn %s: Vsledkem vyhodnocen je przdn etzec spoutm %s vraz Vnj podazen shody:
 Soubor "%s" neexistuje Soubor zachovn Soubory Filtr Najt & Nahradit (pouijte '\\' k nalezen '\') Najt dal Najt etzec (pouijte '\\' k nalezen '\') Najt symbol Vyhledat: Psmo '%s' nem pevnou ku Vbr psma ka psma%d nen dvojnsoblem ky psma0
 ka psma0: %ld
 Psmo0: %s
 ka psma1: %ld

 Psmo1: %s
 Chyby za volbou Generovna dokumentace pro Blahopeji, uivateli Vimu! Npovda Pomozte chudm dtem v Ugand! Pro pokraovn stisknte ENTER nebo zadejte pkaz pokraovn stiskem ENTER Konec odstavce I/O CHYBA Neppustn znak <%s> Neppustn znak po <%c> neppustn soust neppustn nzev souboru neppustn md Chybn tvar myi neppustn procento neppustn nzev registru Neppustn poten znak vstupn dky Vnitn chyba Peruen:  Perueno Chybn argument Chybn argument pro Chybn argument: %s Chybn pkaz Chybn psma chybn sada psem Pouit chybn id serveru: %s Chybn irok psmo Soubor s mapou klvesnice nebyl nalezen Kle se neshoduj Ukonit spojen Linern hledn tagu Linkuji:  hledat pouze cel slova Sprvce zprv: Bram Moolenaar <Bram@vim.org> Chyb '>' Chyb dvojteka Chyb rka Po <%s> chyb slo Je nutn zadat hodnotu ' Vyaduje %s verze %ld
 Vyaduje Amigados verze 2.04 nebo vy
 minimln potebn poet sloupc: %d minimln potebn poet dk: %d ! nen povoleno Pro tento buffer nejsou definovny dn pedmty syntaxe dn zkratka nebyl nalezena Nebyly definovnu dn body peruen dn buffer nebyl smazn dn buffer nebyl deaktivovn dn buffer nebyl zahozen dn zhyb nebyl nalezen dn vloen soubory dn mapovn nebylo nalezeno Nejsou nastaveny dn znaky dn shoda dn shoda: %s dn vyhovujc automatick pkazy dn dal poloky Bez podpory myi Rozsah nen povolen dn odkldac soubor dn text k vytitn odstrann zmn nen mon; chcete pesto pokraovat Nebyly nalezeny dn uivatelsky definovan pkazy Chybn kdov strnka Toto zde nen povoleno Nen v modeline povoleno Nen pkazem editoru Nenalezen v termcapu Po = je vyadovno slo OK Dialog pro otevrn soubor Oteven X displeje se nezdailo Vyprel as pi ekn na oteven X displeje Doba otevrn X displeje (v ms): %ld Volba nen podporovna Pvodn soubor "%s" Pepsat soubor "%.*s"? Soubor se zplatou Nzev (v path) je pli dlouh Nzev cesty: Vzor nalezen na kadm dku: %s Vzor nenalezen Vzor nenalezen: %s Tiskov loha odeslna. Vytitno: %s Vytitno '%s' Tisk zruen Tisknu stranu %d (%d%%) Hledn vzorku Otzka tu ze standardnho vstupu... tu viminfo soubor "%s"%s%s%s Obnova dokonena. Zkontrolujte, zda je ve v podku. Znovu inicializovat vechna spojen Nahradit Nahradit ve Nov text: Znovuzskno Znovzskno ze vech projekt Znovuzskno ze souboru Znovuzskno z projektu Spustit makro Bm v reimu kompatibility s Vi SNiFF+ je prv  Uloit jako Dialog pro ukldn soubor Uloit pesmrovn Uloit sezen Uloit nastaven Uloit pohled Uloit zmny do "%.*s"? Prohledvm slovnk %s Prohledvm vloen soubory: %s Prohledvm tagy Prohledvm %s Ppravek posunovac lity: nelze zjistit geometrii obrzku vyhledvanch etzc Hledm "%s" Hledm "%s" v "%s" Prohledvm soubor tag %s Vybrno %s%ld z %ld dk; %ld z %ld slov; %ld z %ld Byt Vbr Pedn vrazu selhalo.
 Odeslm na tiskrnu... Zobrazen base class z Zobrazen class v hierarchii Zobrazen class v restricted hierarchii Zobrazit spojen Zobrazen documentace Zobrazen overridden member funkce Zobrazen zdroje Zobrazit tuto zprvu Znaky pro %s: Sniff: Chyba pi zpisu. Odpojeno. Lituji, soubor "%s" s npovdou nebyl nalezen Lituji, ale tento pkaz je deaktivovn; knihovnu jazyka Tcl nelze nahrt. Nrst velikosti zsobnku Odkldac soubor " Odkldac soubor ji existuje! Nalezen odkldac soubory: Chyba syntaxe v %s{...} Odtrhnout tuto nabdku Termcap neobsahuje poloku pro tento terminl Terminfo neobsahuje poloku pro tento terminl Test X displeje se nezdail Dkuji za pouit Vim Soubor byl vytvoen  Jedin shoda 'Resource fork' bude ztracen (pouijte ! pro vynucen) VIM nebyl peloen s volbou +diff Tento cscope pkaz nepodporuje rozdlen okna.
 Prohozen implementace/definice Pli mnoho "+pkaz" i "-c pkaz" argument Pli mnoho edit argument Zatek Nadbyten znaky na konci Nelze st blok 0 z  Nen mon zaznamenat jmno command serveru neuzaven sekvence vraz Zpt Neznm Neznm volba %d nen znmm typem registru Nepojmenovno Nahoru Pouit: cstag <odsazen> Pouijte "gui" pro sputn GUI Pouijte Vim verze 3.0.
 Pouijte w i w>> Msto prdn schrnky pouito CUT_BUFFER0 Pouvm odkldac soubor "%s" VIM - POZOR VIM - Nalzt a nahradit... VIM - Nalzt... VIM - Vi IMproved Chyba VIMu VIM: Nelze otevt nov okno!
 VIMRUN.EXE se nevyskytuje ve Va $PATH.
Extern pkazy nebudou  Vim E458: nelze alokovat poloku barevn mapy. Nkter barvy mohou bt nesprvn Varovn Vim dialog Vim dialog.. Vim bude ukonen %d
 Vim je voln iiteln program s otevenm zdrojovm kdem Vim: Zachycen %s signl
 Vim: Zachycen smrteln signl
 Vim: Zachycen smrteln signl %s
 VIm: dvojit signl, konm
 Vim: chyba pi ten vstupu, konm...
 Vim: ukonen
 Vim: tu ze standardnho vstupu...
 Vim: Varovn: vstup nepochz z terminlu
 Vim: Varovn: vstup nesmuje na terminl
 Vim: zachovvm soubory...
 W10: wc1: mnm soubor pouze_pro_ten W11: wc2: soubor "%s" byl po potku editace zmnn W12: Varovn: soubor "%s" byl po potku editace zmnn a buffer ve Vim tak W13: wc4: po potku editace vytvoen soubor "%s" W14: Varovn: peteen seznamu s nzvy soubor W15: Varovn: chybn oddlova dk. Mon chyb ^M. W16: Varovn: Md souboru "%s" byl zmnn od zaponut editace VAROVN: od jeho naten byl obsah souboru zmnn!!!! VAROVN: detekovny Windows 95/98/ME Varovn Varovn: Neekan vstup do jinho bufferu (zkontrolujte automatick pkazy) Varovn: terminl nepodporuje zvrazovn Pi otevrn souboru" Umstn okna: X %d, Y %d Slovo z jinho dku Uloit nepln soubor? Ukldm viminfo souboru "%s" Xref m Xref odkazoval na Xref odkazuje na Xref pouit ANO Nulov poet etzec o nulov dlce [CHYBA PEVODU] [chyb CR] [Vymazno] [zazen] [seznam chyb] [nepln posledn dek] [nalezeno NL] [nezkonvertovn] [nov soubor] [Nov soubor] [Nov] [dn soubor] [dn soubor] [Neuloen zmny]
 [Needitovan] [pstup odmtnut] [nhled] [CHYBY TEN] [RO] [Chyby pi ten] [voln] celkem re/malloc(): %lu, celkem free() %lu

 [zkonvertovn] [zaifrovn] [dos formt] [dos] [pojmenovan roura/soket] [pojmenovan roura] [SOUBOR] ..          editovat SOUBOR(y) [npovda] [dlouh dky zalomeny] [mac formt] [mac] [dn eol] [Pouze pro ten] [soket] [pli dlouh etzec] [unix formt] [unix] a kontrolu zmn pomoc programu diff.)
 konec seznamu tag zatek seznamu tag pokus o odkaz na smazan buffer pokus o odkaz na smazan okno Automatick pkaz %s   Autor: Bram Moolenaar a dal volm %s nelze smazat atributy OutputObject nelze st vstup 'charconvert' nelze vybrat sadu psem nelze vybrat irok font Nelze zmnit md konzole ?!
 nelze vytvoit pkaz bufferu/okna: objekt smazn nelze smazat dek nelze pest dek nelze vloit dek nelze vloit/pipojit dek nelze otevt  nelze zaregistrovat pkaz zptnho voln: buffer/okno ji bylo smazno nelze zaregistrovat pkaz zptnho voln: odkaz na buffer/okno nenalezen nelze nahradit dek nelze uloit informace pro pkaz undo nelze nastavit dky nelze koprovat; pesto smazno zavt pkaz: %s je nutn rka pipojen obsahuje netisknuteln znaky pokrauji v %s nelze interpretovat "%s" voln malloc selhalo
 sputn cs_create_connection selhalo cs_create_connection: voln fdopen pro fr_fp selhalo cs_create_connection: voln fdopen pro to_fp selhalo pkazy cscope:
 cscope spojen %s uzaveno
 closed spojen uzaveno umstn kurzoru mimo buffer implicitn terminl ' smazn blok 1? oekvna slice neukonujte editor dve, ne bude soubor spn uloen! duplicitn cscope databze nebyla pidna seznam chyb %d z %d; poet chyb: %d chyba pi ten cscope spojen %d podpora vraz byla vypnuta pi pekladu programu osudov chyba v cs_manage_matches soubor
 nzev souboru/ kontext/ dek
 dokonena interpretace %s poet uvolovanch dk: %ld funkce  chyba gvimext.dll npovda v cest ---
 chybn atribut chybn nzev bufferu Chybn vraz chybn jmno znaky je adresem nen souborem nen souborem ani zazenm na n lze zapisovat je pouze pro ten (pouijte ! pro vynucen) peruen z klvesnice dek %4ld: dek %ld dek %ld/%ld --%d%%-- sloupec dek %ld: %s dek %ld: nelze interpretovat "%s" dek %ld: interpretuji %s slo dku mimo rozsah logoff znaka nen nastavena shoda %d shoda %d/%d maximln  dosaen maximln poet cscope spojen mch_get_shellsize: neni konzole??
 minimln  sputn nov shell
 ne dn interpretovan soubor, kterm by bylo mon nahradit "<sfile>" dn slo bufferu, kterm by bylo mon nahradit "<abuf>" dn nzev souboru, kterm by bylo mon nahradit "<afile>" dn shoda automatickch pkaz, kterou by bylo mon nahradit "<amatch>" dn cscope spojen dn cscope spojen
 dn takov buffer dn takov okno dn synchronizace ne   nenalezeny soubor "%s" nebyl nalezen v 'runtimepath' nen jet podporovno pe_line_count m nulovou hodnotu pre-vimrc pkazov dek atribut pouze_pro_ten nahrvm nahradit za %s (y/n/a/q/l/^E/^Y)? dek %d sloupec %d hledn doshlo konce, pokraovn od zatku hledn doshlo zatku, pokraovn od konce shell  nvratov hodnota shellu %d shutdown softspace mus bt kladn cel slo interpretuji "%s" stack_idx by mlo mt hodnotu 3 stat(%s) chyba: %d etzec nesm obsahovat znaky novho dku synchronizuji komente v C stylu synchronizace zan  tag %d z celkovho potu %d%s jmno tagu do %s v %s pli mnoho poloek podrobnj informace zskte pomoc :help cp-default<Enter> podrobnj informace zskte pomoc :help iccf<Enter> zadejte :help version8<Enter>  pro informace o verzi 6 zadejte :help windows95<Enter> pro podrobnj informace zadejte :help<Enter>  i <F1> pro npovdu zadejte :q<Enter>             pro ukonen programu zadejte :set nocp<Enter>     pro implicitn nastaven Vim nevyven skupiny neznm typ cscope hledn neznm pznak:  neznm volba neznm vimOption verze  chyba vim vim_SelFile: nelze zjistit aktuln adres vim_SelFile: psmo %s nen dostupn vim_SelFile: nelze se vrtit do aktulnho adrese viminfo: %s na dku:  s (clasickm) grafickm rozhranm s rozhranm BeOS s grafickm rozhranm Carbon s grafickm rozhranm Cocoa s rozhranm GTK s rozhranm GTK-GNOME s grafickm rozhranm s rozhranm Photon S rozhranm X11-Athena s rozhranm X11-Motif bez grafickho rozhran chyba pi ukldn (je voln msto na disku?) chyba pi zpisu, konverze se nezdaila writelines() vyaduje seznam etzc                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   #ifndef _ASM_X86_MPSPEC_H
#define _ASM_X86_MPSPEC_H


#include <asm/mpspec_def.h>
#include <asm/x86_init.h>
#include <asm/apicdef.h>

extern int pic_mode;

#ifdef CONFIG_X86_32

/*
 * Summit or generic (i.e. installer) kernels need lots of bus entries.
 * Maximum 256 PCI busses, plus 1 ISA bus in each of 4 cabinets.
 */
#if CONFIG_BASE_SMALL == 0
# define MAX_MP_BUSSES		260
#else
# define MAX_MP_BUSSES		32
#endif

#define MAX_IRQ_SOURCES		256

extern unsigned int def_to_bigsmp;

#else /* CONFIG_X86_64: */

#define MAX_MP_BUSSES		256
/* Each PCI slot may be a combo card with its own bus.  4 IRQ pins per slot. */
#define MAX_IRQ_SOURCES		(MAX_MP_BUSSES * 4)

#endif /* CONFIG_X86_64 */

#ifdef CONFIG_EISA
extern int mp_bus_id_to_type[MAX_MP_BUSSES];
#endif

extern DECLARE_BITMAP(mp_bus_not_pci, MAX_MP_BUSSES);

extern unsigned int boot_cpu_physical_apicid;
extern u8 boot_cpu_apic_version;
extern unsigned long mp_lapic_addr;

#ifdef CONFIG_X86_LOCAL_APIC
extern int smp_found_config;
#else
# define smp_found_config 0
#endif

static inline void get_smp_config(void)
{
	x86_init.mpparse.get_smp_config(0);
}

static inline void early_get_smp_config(void)
{
	x86_init.mpparse.get_smp_config(1);
}

static inline void find_smp_config(void)
{
	x86_init.mpparse.find_smp_config();
}

#ifdef CONFIG_X86_MPPARSE
extern void early_reserve_e820_mpc_new(void);
extern int enable_update_mptable;
extern int default_mpc_apic_id(struct mpc_cpu *m);
extern void default_smp_read_mpc_oem(struct mpc_table *mpc);
# ifdef CONFIG_X86_IO_APIC
extern void default_mpc_oem_bus_info(struct mpc_bus *m, char *str);
# else
#  define default_mpc_oem_bus_info NULL
# endif
extern void default_find_smp_config(void);
extern void default_get_smp_config(unsigned int early);
#else
static inline void early_reserve_e820_mpc_new(void) { }
#define enable_update_mptable 0
#define default_mpc_apic_id NULL
#define default_smp_read_mpc_oem NULL
#define default_mpc_oem_bus_info NULL
#define default_find_smp_config x86_init_noop
#define default_get_smp_config x86_init_uint_noop
#endif

int generic_processor_info(int apicid, int version);
int __generic_processor_info(int apicid, int version, bool enabled);

#define PHYSID_ARRAY_SIZE	BITS_TO_LONGS(MAX_LOCAL_APIC)

struct physid_mask {
	unsigned long mask[PHYSID_ARRAY_SIZE];
};

typedef struct physid_mask physid_mask_t;

#define physid_set(physid, map)			set_bit(physid, (map).mask)
#define physid_clear(physid, map)		clear_bit(physid, (map).mask)
#define physid_isset(physid, map)		test_bit(physid, (map).mask)
#define physid_test_and_set(physid, map)			\
	test_and_set_bit(physid, (map).mask)

#define physids_and(dst, src1, src2)					\
	bitmap_and((dst).mask, (src1).mask, (src2).mask, MAX_LOCAL_APIC)

#define physids_or(dst, src1, src2)					\
	bitmap_or((dst).mask, (src1).mask, (src2).mask, MAX_LOCAL_APIC)

#define physids_clear(map)					\
	bitmap_zero((map).mask, MAX_LOCAL_APIC)

#define physids_complement(dst, src)				\
	bitmap_complement((dst).mask, (src).mask, MAX_LOCAL_APIC)

#define physids_empty(map)					\
	bitmap_empty((map).mask, MAX_LOCAL_APIC)

#define physids_equal(map1, map2)				\
	bitmap_equal((map1).mask, (map2).mask, MAX_LOCAL_APIC)

#define physids_weight(map)					\
	bitmap_weight((map).mask, MAX_LOCAL_APIC)

#define physids_shift_right(d, s, n)				\
	bitmap_shift_right((d).mask, (s).mask, n, MAX_LOCAL_APIC)

#define physids_shift_left(d, s, n)				\
	bitmap_shift_left((d).mask, (s).mask, n, MAX_LOCAL_APIC)

static inline unsigned long physids_coerce(physid_mask_t *map)
{
	return map->mask[0];
}

static inline void physids_promote(unsigned long physids, physid_mask_t *map)
{
	physids_clear(*map);
	map->mask[0] = physids;
}

static inline void physid_set_mask_of_physid(int physid, physid_mask_t *map)
{
	physids_clear(*map);
	physid_set(physid, *map);
}

#define PHYSID_MASK_ALL		{ {[0 ... PHYSID_ARRAY_SIZE-1] = ~0UL} }
#define PHYSID_MASK_NONE	{ {[0 ... PHYSID_ARRAY_SIZE-1] = 0UL} }

extern physid_mask_t phys_cpu_present_map;

#endif /* _ASM_X86_MPSPEC_H */
                                                                 #ifndef _ASM_X86_KVM_PAGE_TRACK_H
#define _ASM_X86_KVM_PAGE_TRACK_H

enum kvm_page_track_mode {
	KVM_PAGE_TRACK_WRITE,
	KVM_PAGE_TRACK_MAX,
};

/*
 * The notifier represented by @kvm_page_track_notifier_node is linked into
 * the head which will be notified when guest is triggering the track event.
 *
 * Write access on the head is protected by kvm->mmu_lock, read access
 * is protected by track_srcu.
 */
struct kvm_page_track_notifier_head {
	struct srcu_struct track_srcu;
	struct hlist_head track_notifier_list;
};

struct kvm_page_track_notifier_node {
	struct hlist_node node;

	/*
	 * It is called when guest is writing the write-tracked page
	 * and write emulation is finished at that time.
	 *
	 * @vcpu: the vcpu where the write access happened.
	 * @gpa: the physical address written by guest.
	 * @new: the data was written to the address.
	 * @bytes: the written length.
	 */
	void (*track_write)(struct kvm_vcpu *vcpu, gpa_t gpa, const u8 *new,
			    int bytes);
};

void kvm_page_track_init(struct kvm *kvm);
void kvm_page_track_cleanup(struct kvm *kvm);

void kvm_page_track_free_memslot(struct kvm_memory_slot *free,
				 struct kvm_memory_slot *dont);
int kvm_page_track_create_memslot(struct kvm_memory_slot *slot,
				  unsigned long npages);

void kvm_slot_page_track_add_page(struct kvm *kvm,
				  struct kvm_memory_slot *slot, gfn_t gfn,
				  enum kvm_page_track_mode mode);
void kvm_slot_page_track_remove_page(struct kvm *kvm,
				     struct kvm_memory_slot *slot, gfn_t gfn,
				     enum kvm_page_track_mode mode);
bool kvm_page_track_is_active(struct kvm_vcpu *vcpu, gfn_t gfn,
			      enum kvm_page_track_mode mode);

void
kvm_page_track_register_notifier(struct kvm *kvm,
				 struct kvm_page_track_notifier_node *n);
void
kvm_page_track_unregister_notifier(struct kvm *kvm,
				   struct kvm_page_track_notifier_node *n);
void kvm_page_track_write(struct kvm_vcpu *vcpu, gpa_t gpa, const u8 *new,
			  int bytes);
#endif
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       #ifndef _ASM_X86_COMPAT_H
#define _ASM_X86_COMPAT_H

/*
 * Architecture specific compatibility types
 */
#include <linux/types.h>
#include <linux/sched.h>
#include <asm/processor.h>
#include <asm/user32.h>
#include <asm/unistd.h>

#define COMPAT_USER_HZ		100
#define COMPAT_UTS_MACHINE	"i686\0\0"

typedef u32		compat_size_t;
typedef s32		compat_ssize_t;
typedef s32		compat_time_t;
typedef s32		compat_clock_t;
typedef s32		compat_pid_t;
typedef u16		__compat_uid_t;
typedef u16		__compat_gid_t;
typedef u32		__compat_uid32_t;
typedef u32		__compat_gid32_t;
typedef u16		compat_mode_t;
typedef u32		compat_ino_t;
typedef u16		compat_dev_t;
typedef s32		compat_off_t;
typedef s64		compat_loff_t;
typedef u16		compat_nlink_t;
typedef u16		compat_ipc_pid_t;
typedef s32		compat_daddr_t;
typedef u32		compat_caddr_t;
typedef __kernel_fsid_t	compat_fsid_t;
typedef s32		compat_timer_t;
typedef s32		compat_key_t;

typedef s32		compat_int_t;
typedef s32		compat_long_t;
typedef s64 __attribute__((aligned(4))) compat_s64;
typedef u32		compat_uint_t;
typedef u32		compat_ulong_t;
typedef u32		compat_u32;
typedef u64 __attribute__((aligned(4))) compat_u64;
typedef u32		compat_uptr_t;

struct compat_timespec {
	compat_time_t	tv_sec;
	s32		tv_nsec;
};

struct compat_timeval {
	compat_time_t	tv_sec;
	s32		tv_usec;
};

struct compat_stat {
	compat_dev_t	st_dev;
	u16		__pad1;
	compat_ino_t	st_ino;
	compat_mode_t	st_mode;
	compat_nlink_t	st_nlink;
	__compat_uid_t	st_uid;
	__compat_gid_t	st_gid;
	compat_dev_t	st_rdev;
	u16		__pad2;
	u32		st_size;
	u32		st_blksize;
	u32		st_blocks;
	u32		st_atime;
	u32		st_atime_nsec;
	u32		st_mtime;
	u32		st_mtime_nsec;
	u32		st_ctime;
	u32		st_ctime_nsec;
	u32		__unused4;
	u32		__unused5;
};

struct compat_flock {
	short		l_type;
	short		l_whence;
	compat_off_t	l_start;
	compat_off_t	l_len;
	compat_pid_t	l_pid;
};

#define F_GETLK64	12	/*  using 'struct flock64' */
#define F_SETLK64	13
#define F_SETLKW64	14

/*
 * IA32 uses 4 byte alignment for 64 bit quantities,
 * so we need to pack this structure.
 */
struct compat_flock64 {
	short		l_type;
	short		l_whence;
	compat_loff_t	l_start;
	compat_loff_t	l_len;
	compat_pid_t	l_pid;
} __attribute__((packed));

struct compat_statfs {
	int		f_type;
	int		f_bsize;
	int		f_blocks;
	int		f_bfree;
	int		f_bavail;
	int		f_files;
	int		f_ffree;
	compat_fsid_t	f_fsid;
	int		f_namelen;	/* SunOS ignores this field. */
	int		f_frsize;
	int		f_flags;
	int		f_spare[4];
};

#define COMPAT_RLIM_OLD_INFINITY	0x7fffffff
#define COMPAT_RLIM_INFINITY		0xffffffff

typedef u32		compat_old_sigset_t;	/* at least 32 bits */

#define _COMPAT_NSIG		64
#define _COMPAT_NSIG_BPW	32

typedef u32               compat_sigset_word;

typedef union compat_sigval {
	compat_int_t	sival_int;
	compat_uptr_t	sival_ptr;
} compat_sigval_t;

typedef struct compat_siginfo {
	int si_signo;
	int si_errno;
	int si_code;

	union {
		int _pad[128/sizeof(int) - 3];

		/* kill() */
		struct {
			unsigned int _pid;	/* sender's pid */
			unsigned int _uid;	/* sender's uid */
		} _kill;

		/* POSIX.1b timers */
		struct {
			compat_timer_t _tid;	/* timer id */
			int _overrun;		/* overrun count */
			compat_sigval_t _sigval;	/* same as below */
			int _sys_private;	/* not to be passed to user */
			int _overrun_incr;	/* amount to add to overrun */
		} _timer;

		/* POSIX.1b signals */
		struct {
			unsigned int _pid;	/* sender's pid */
			unsigned int _uid;	/* sender's uid */
			compat_sigval_t _sigval;
		} _rt;

		/* SIGCHLD */
		struct {
			unsigned int _pid;	/* which child */
			unsigned int _uid;	/* sender's uid */
			int _status;		/* exit code */
			compat_clock_t _utime;
			compat_clock_t _stime;
		} _sigchld;

		/* SIGCHLD (x32 version) */
		struct {
			unsigned int _pid;	/* which child */
			unsigned int _uid;	/* sender's uid */
			int _status;		/* exit code */
			compat_s64 _utime;
			compat_s64 _stime;
		} _sigchld_x32;

		/* SIGILL, SIGFPE, SIGSEGV, SIGBUS */
		struct {
			unsigned int _addr;	/* faulting insn/memory ref. */
			short int _addr_lsb;	/* Valid LSB of the reported address. */
			union {
				/* used when si_code=SEGV_BNDERR */
				struct {
					compat_uptr_t _lower;
					compat_uptr_t _upper;
				} _addr_bnd;
				/* used when si_code=SEGV_PKUERR */
				compat_u32 _pkey;
			};
		} _sigfault;

		/* SIGPOLL */
		struct {
			int _band;	/* POLL_IN, POLL_OUT, POLL_MSG */
			int _fd;
		} _sigpoll;

		struct {
			unsigned int _call_addr; /* calling insn */
			int _syscall;	/* triggering system call number */
			unsigned int _arch;	/* AUDIT_ARCH_* of syscall */
		} _sigsys;
	} _sifields;
} compat_siginfo_t;

#define COMPAT_OFF_T_MAX	0x7fffffff
#define COMPAT_LOFF_T_MAX	0x7fffffffffffffffL

struct compat_ipc64_perm {
	compat_key_t key;
	__compat_uid32_t uid;
	__compat_gid32_t gid;
	__compat_uid32_t cuid;
	__compat_gid32_t cgid;
	unsigned short mode;
	unsigned short __pad1;
	unsigned short seq;
	unsigned short __pad2;
	compat_ulong_t unused1;
	compat_ulong_t unused2;
};

struct compat_semid64_ds {
	struct compat_ipc64_perm sem_perm;
	compat_time_t  sem_otime;
	compat_ulong_t __unused1;
	compat_time_t  sem_ctime;
	compat_ulong_t __unused2;
	compat_ulong_t sem_nsems;
	compat_ulong_t __unused3;
	compat_ulong_t __unused4;
};

struct compat_msqid64_ds {
	struct compat_ipc64_perm msg_perm;
	compat_time_t  msg_stime;
	compat_ulong_t __unused1;
	compat_time_t  msg_rtime;
	compat_ulong_t __unused2;
	compat_time_t  msg_ctime;
	compat_ulong_t __unused3;
	compat_ulong_t msg_cbytes;
	compat_ulong_t msg_qnum;
	compat_ulong_t msg_qbytes;
	compat_pid_t   msg_lspid;
	compat_pid_t   msg_lrpid;
	compat_ulong_t __unused4;
	compat_ulong_t __unused5;
};

struct compat_shmid64_ds {
	struct compat_ipc64_perm shm_perm;
	compat_size_t  shm_segsz;
	compat_time_t  shm_atime;
	compat_ulong_t __unused1;
	compat_time_t  shm_dtime;
	compat_ulong_t __unused2;
	compat_time_t  shm_ctime;
	compat_ulong_t __unused3;
	compat_pid_t   shm_cpid;
	compat_pid_t   shm_lpid;
	compat_ulong_t shm_nattch;
	compat_ulong_t __unused4;
	compat_ulong_t __unused5;
};

/*
 * The type of struct elf_prstatus.pr_reg in compatible core dumps.
 */
typedef struct user_regs_struct compat_elf_gregset_t;

/* Full regset -- prstatus on x32, otherwise on ia32 */
#define PRSTATUS_SIZE(S, R) (R != sizeof(S.pr_reg) ? 144 : 296)
#define SET_PR_FPVALID(S, V, R) \
  do { *(int *) (((void *) &((S)->pr_reg)) + R) = (V); } \
  while (0)

#ifdef CONFIG_X86_X32_ABI
#define COMPAT_USE_64BIT_TIME \
	(!!(task_pt_regs(current)->orig_ax & __X32_SYSCALL_BIT))
#endif

/*
 * A pointer passed in from user mode. This should not
 * be used for syscall parameters, just declare them
 * as pointers because the syscall entry code will have
 * appropriately converted them already.
 */

static inline void __user *compat_ptr(compat_uptr_t uptr)
{
	return (void __user *)(unsigned long)uptr;
}

static inline compat_uptr_t ptr_to_compat(void __user *uptr)
{
	return (u32)(unsigned long)uptr;
}

static inline void __user *arch_compat_alloc_user_space(long len)
{
	compat_uptr_t sp;

	if (test_thread_flag(TIF_IA32)) {
		sp = task_pt_regs(current)->sp;
	} else {
		/* -128 for the x32 ABI redzone */
		sp = task_pt_regs(current)->sp - 128;
	}

	return (void __user *)round_down(sp - len, 16);
}

static inline bool in_x32_syscall(void)
{
#ifdef CONFIG_X86_X32_ABI
	if (task_pt_regs(current)->orig_ax & __X32_SYSCALL_BIT)
		return true;
#endif
	return false;
}

static inline bool in_compat_syscall(void)
{
	return in_ia32_syscall() || in_x32_syscall();
}
#define in_compat_syscall in_compat_syscall	/* override the generic impl */

#endif /* _ASM_X86_COMPAT_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               #ifndef _ASM_X86_MICROCODE_AMD_H
#define _ASM_X86_MICROCODE_AMD_H

#include <asm/microcode.h>

#define UCODE_MAGIC			0x00414d44
#define UCODE_EQUIV_CPU_TABLE_TYPE	0x00000000
#define UCODE_UCODE_TYPE		0x00000001

#define SECTION_HDR_SIZE		8
#define CONTAINER_HDR_SZ		12

struct equiv_cpu_entry {
	u32	installed_cpu;
	u32	fixed_errata_mask;
	u32	fixed_errata_compare;
	u16	equiv_cpu;
	u16	res;
} __attribute__((packed));

struct microcode_header_amd {
	u32	data_code;
	u32	patch_id;
	u16	mc_patch_data_id;
	u8	mc_patch_data_len;
	u8	init_flag;
	u32	mc_patch_data_checksum;
	u32	nb_dev_id;
	u32	sb_dev_id;
	u16	processor_rev_id;
	u8	nb_rev_id;
	u8	sb_rev_id;
	u8	bios_api_rev;
	u8	reserved1[3];
	u32	match_reg[8];
} __attribute__((packed));

struct microcode_amd {
	struct microcode_header_amd	hdr;
	unsigned int			mpb[0];
};

static inline u16 find_equiv_id(struct equiv_cpu_entry *equiv_cpu_table,
				unsigned int sig)
{
	int i = 0;

	if (!equiv_cpu_table)
		return 0;

	while (equiv_cpu_table[i].installed_cpu != 0) {
		if (sig == equiv_cpu_table[i].installed_cpu)
			return equiv_cpu_table[i].equiv_cpu;

		i++;
	}
	return 0;
}

extern int __apply_microcode_amd(struct microcode_amd *mc_amd);
extern int apply_microcode_amd(int cpu);
extern enum ucode_state load_microcode_amd(int cpu, u8 family, const u8 *data, size_t size);

#define PATCH_MAX_SIZE PAGE_SIZE

#ifdef CONFIG_MICROCODE_AMD
extern void __init load_ucode_amd_bsp(unsigned int family);
extern void load_ucode_amd_ap(void);
extern int __init save_microcode_in_initrd_amd(void);
void reload_ucode_amd(void);
#else
static inline void __init load_ucode_amd_bsp(unsigned int family) {}
static inline void load_ucode_amd_ap(void) {}
static inline int __init save_microcode_in_initrd_amd(void) { return -EINVAL; }
void reload_ucode_amd(void) {}
#endif

extern bool check_current_patch_level(u32 *rev, bool early);
#endif /* _ASM_X86_MICROCODE_AMD_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             }     <  	  w                           	  '     /   G     w            L    :        A     N  +   V       "                    5        7     T     p                 ;             Ԥ                    /     B     Q     g            0     .     /     0   A     r                    Ǧ     զ  
     $     $        ?      P     q  @     D          !        <  "   [     ~  "             ب       @        9     T     e     v            /     8   ة  ,     =   >     |               Ǫ     ت  0     1     1   M                    ū  -   ߫          -     B     Z     l            3     3        !     >     V     n            
             ͭ               	     !  $   /     T  L   `           ή       ;        :     I  #   V  	   z                      
   ǯ     ү               	     !  	   9     C     K     S  !   e                    ְ     ް                     .     I     c                           6                  %  !   D     f     n     |  	                       Ĳ  &   ɲ  	     "     *        H  =   `                         ˳       	          
          
              2     D     M  5   k       -     1     &        :     R     g     y                    е  $               
   +     6     F     ^     t                         ж                               0     B     R  
   l     w            
               7   ͷ       !        4     L     T     ]     e     k     o     {       =     2   ̸                      '   (  -   P  2   ~  5               ?        ]     y       +        ź  	   Ժ     ޺             *   2     ]  -   {       $   ɻ       
             )     =     I  ?   `       2     !     %     @   *  9   k  E     9     C   %  K   i  I     H     ;   H  6     8     3     <   (  -   e  6          %        
          4     M     g  &   w  ,     #     4         $  @   E  -     0     :     ;         \  "   |       >     )     >     <   X            #     :     '      9   H       $     9     4     ;   /      k  >     1     /        -  -   J     x  .     B     "     2     4   O  *          +     %     '     (   G  <   p  E     .     -   "  $   P     u  <          *     &         7  4   X                                                  '     3     @     N     W  "   _                                )        "  $   +     P     _     g       1     ?                  +     2     F     W     m            X     %        3     7     R     p                                $        $  !   5     W     u     {                 "     $          #   2     V     ]     l     |                             4         U  	   g  C   q  V               
   '  .   2     a  -   z       -     $     .     6   I       .     H     (        ;     J  
   c  O   n  O          C     	   `     j     v  !                    3     2   
  !   =  (   _             "     E        +  %   H  #   n  -                    &        >     P     b                 '          )     +   6  @   b  -          5        $     A     W     r  /     9          E        Z  -   u  7     #           :      5   [  &     "     &     $     #   '  !   K  =   m  5           (     7   +  !   c  ,                               #   1  &   U     |                                   9  0   X  $     !           (     4     ,   O     |                                    ,  1   F     x  !     %     %     !     %   %     K  $   d                  ?     &   !  #   H     l       A     %     "     "   !  9   D  '   ~  (     2     *     !   -  !   O  )   q  %     !     4     :     &   S  ;   z  ;     )     0        M     l                 #     !     8     &   K  #   r             /     "        "  -   3     a     r       /     *     (     #   '     K     g                 >             0     J  "   a                      !          9   )  1   c  1     )     1     %   #  7   I       A     ?             4     K  !   j                 0     4     $   H  )   m  N     ,     &     L   :                 8          $        @     Z  #   z  7     N        %     A     ^  $   y  !     3     ,     2   !  %   T     z  "          #                  6     S  B   p       0     !            <   A  +   ~            +     2     $   >     c  ,          H     ,        ?     U  "   u                           9   1     k            0     #     '        4     D  ,   d  &               +     2   	  -   <  (   j       "     '     '     ,        L  .   c       #     ,     W     )   [  "     ,     %                   9  2   R  2     2          !        *     C  2   X  5     '     #     )    3   7 $   k %                       " $   : &   _      '    *    #    '    %   F    l 3    !        +       - *   M -   x $               	    %    8     S     t $    $    )       	    ! ,   7    d    y %        =           4    Q    j '            $    #    0   / .   ` 0                   	    0	    G	    [	 -   r	     	    	 7   	 )   
    >
 $   V
 (   {
    
    
 %   
 $   
        <    O '   l     '                    .     F 7   g 0        #        "   3 (   V !        -    1    6    5   V     .    *    1    9   3    m *    &    +    ,    +   8 4   d <    +    *       -    C    [    p                         "       %    8    O    j                            -    A    ]    y :    =    <    6   B <   y     "        +    )   3 4   ] 5    4    3       1 0   C     t     D    P    %   >    d                            # !   A    c    ~                     '       ;    N !   n         "        1       /    F    c "   x                            &    ?    T    m                                * *   I )   t                          6   0 #   g     )    &    K       D     W    x                         "   , &   O #   v         +    %      7   &  5   ^            ,             !    .! )   D!     n!    !    !    !    !    !    "    1"    M" 0   e"    "    "    "    " 4   # .   =# $   l# )   # 1   # ;   #    )$ .   9$ *   h$    $ $   $    $ %   $ ,   %    F% %   W%    }%    %    % &   % -   % &   &    C&     _&    &    &    & +   &     &    ' ?   2' )   r'    ' 6   ' #   ' 2   ( 9   D( >   ~( 8   ( 1   (    () )   F) )   p)     ) )   )    ) )    * *   ** "   U*    x* #   * "   * "   * )   *    %+    E+ %   c+     + $   +    +    + !   , 0   .,    _,    x,    ,    , "   , !   , 9   - 8   J- /   -    -    -    - +   - %   *. 1   P. )   .    .    . '   . %   /    (/ &   ?/ !   f/ %   / '   / %   / '   / -   $0 2   R0    0    0 $   0    0    0    1 "   /1    R1    r1 !   1 1   1 &   1    2 !   *2 !   L2    n2 (   2    2    2 +   2 8   3    K3 7   j3 E   3 !   3    
4    4 (   64 0   _4 #   4    4 $   4    4 #   5 *   ,5    W5    r5    5 0   5 2   5 0   6    46 +   Q6 )   }6 $   6 /   6    6    7 '   &7 )   N7 ,   x7    7    7     7     8    8 -   58 ,   c8    8 /   8 +   8 '   9 !   -9     O9 0   p9    9 !   9 ,   9    :    : (   0:    Y:    r: 0   : .   :    : 1   ; &   :; :   a;    ; 9   ;    ; :   <    J<    b<    <    < *   <    < 3   
=    >= %   W= 2   }= 0   = !   = ;   > R   ?>    > *   >    >    > (   ?    9? +   U? +   ?    ?     ? "   ? %   @     2@ +   S@ "   @ +   @    @ .   @ 4   A I   RA )   A )   A 6   A 6   'B -   ^B (   B /   B &   B <   C )   IC *   sC    C 7   C    C    D    &D *   ED    pD    D 0   D /   D !   E "   -E *   PE /   {E ;   E    E    F Q   F .   qF    F $   F #   F 0   	G #   :G    ^G 2   }G 6   G    G +   H %   3H X   YH ;   H /   H ;   I    ZI !   zI %   I "   I N   I .   4J $   cJ &   J T   J #   K "   (K $   KK     pK    K    K #   K ]   K     QL B   rL '   L    L /   L 2   *M ,   ]M "   M    M &   M (   M %   N    =N    \N    zN E   N !   N     N 7    O    XO %   nO    O '   O    O '   O    !P    AP <   WP    P "   P '   P    P    Q +   0Q    \Q (   vQ !   Q 5   Q    Q 7   R !   NR    pR    R )   R &   R     S    S '   6S    ^S 	   fS    pS    S    S    S    S #   S 	   T    T    T    2T .   IT    xT .   T 6   T    T    T 6   U #   FU 
   jU &   uU 	   U    U    U    U    U    U     V %   -V !   SV 
   uV    V (   V    V a   jW    W +   W a   X    sX    X    X (   X 
   X 	   X %   X 
   X    X &   Y &   CY    jY (   Y    Y 	   Y    Y 	   Y    Y    Y    Y    Z    -Z    KZ 	   `Z 2   jZ *   Z    Z    Z    Z    [    /[ 
   E[    P[ 	   _[    i[    u[    [    [ #   [ (   [    [    \ 	   "\    ,\    D\ 
   b\    m\    \ 2   \    \    \    \    ]    ]    ] $   +]    P] /   m]    ]    ] '   ]    ]    ] 
   ] $   ^ 
   -^    8^    J^    [^     h^    ^    ^    ^    ^ !   ^    ^    _ @   _ (   ]_    _ '   _    _    _    _    _    _    ` #   '`    K`    ^`    |` .   ` 
   `    ` 	   `    `    `    a    &a '   Aa    ia    ya    a    a    a    a    a    a    a    b    -b    Cb    [b    qb    b 9   b 9   b    c    5c    =c    Jc    Vc    dc (   c    c    c    c    c 
   c 	   c    c    d    %d    @d    Od 9   \d    d    d    d    d    d &   e    +e    Je    ie    e C   e W   e 	   <f    Ff    \f    mf    f    f    f )   f    f    f    g F   #g    jg    |g    g    g    g    g (   g    g    h    )h 1   ;h    mh    yh    h    h    h    h 0   h ;   i >   Ti    i    i    i 1   i "   j    4j    8j    Rj    rj )   j =   j    j (   k    @k    Hk $   `k 0   k    k    k    k +   k 2   l    7l    Ll    \l    xl    l 	   l    l    l    Cm F   Wm    m 
   m 	   m    m    m +   m    n %   $n 0   Jn B   {n (   n    n 1   o +   5o *   ao &   o 9   o M   o >   ;p )   zp 5   p A   p 4   q $   Qq *   vq 6   q "   q    q <   r <   @r ?   }r 7   r /   r     %s "   Fs    is 2   ~s 0   s    s    s    t    2t    Gt    [t    ut    t    t 2   t )   t +   !u ,   Mu -   zu     u !   u #   u    v    (v    @v    Dv 
   Hv    Sv    rv 	   v    v    v    v    v    v    v    v    v 
   
w 
   w     w 	   &w    0w    Nw    [w 	   ow    yw    w    w    w 	   w 5   w    w    w 	   
x    x    !x    'x    5x &   <x    cx    vx    x    x 
   x    x    x    x    x    x    x    x    x    x    x 9   x B   (y D   ky "   y $   y "   y )   z    Ez    Tz    [z    uz    z    z    z 1   z 
   z $   z "   {    @{ <   _{    { '   { !   {    {    	|    |    6|    U|    n| H   {| C   |    }    }    9}    Q}    d}    }    }    }    }    }    }    }     } #   } -   ~ -   K~    y~    ~    ~    ~    ~    ~ (   ~ &   %    L =   [         %        8    F   6 .   } D    M    @   ? 0    &    '   ؁ &     $   '    L    ^ $   y     -                   0    N    Z    `    {                ˃    ݃         
    +    0    > "   K    n %    *    .   ф 8     "   9 #   \ %    #       ʅ            	 /       K    Z     h          
       Ȇ                    4 	   L    V    o 2           ·    ݇     $           %    .    = #   F 1   j 1    1   Έ 1        2    ; 	   D 
   N (   Y                        ҉ 
        
           . (   B '   k             ʊ         	       & "   8    [    n $    $       ɋ    Ћ                    #    9    X    t                 .    .    .    .   F .   u .    .   Ӎ .    .   1 &   `      %       Ύ      :   
    E    U    ]    l    { "    )    )   ڏ     	           4    F    Z    k    {         	           ɐ    ސ         3    @  H                 &   ̒ +           5    K t  a 6   ֔         0   $    U /   u 3       ٕ     B        H    i                 і -           ՗                 /    C    ` $   u         0   Ә .    /   3 0   c                ֙             +   & ,   R     *        M   њ \       | &    #    #    #    #   )    M    g    x P       ؜                +    @ :   W B    $   ՝ X       S &   n            Ğ J   ٞ 8   $ 8   ]                ٟ 6       %    B #   W    { '    "    "   ؠ )    <   %    b "    "       ơ         
        "   .    Q    f "   x     %       Ӣ M   ߢ %   - #   S "   w <       ף     (    	       (    A    U 	   d    n    ~         "   Ĥ "    	   
 
           & %   9    _    o         "       ޥ     (    "       : +   T         	            =   Ŧ              @ '   a                 "    
            )           0 #   P #   t >       ר                    )    1    D    S    _ 	   h    r             :   Ʃ     .    5   @ /   v            Ҫ                &    D /   ]                ƫ    ګ                5    J    f    y                Ǭ    ج            
    $    1    E    R    h    y     1       ɭ %   ׭                (    0    7    =    L    c K   i A                    0   ) &   Z ,    ;    $        G   ) #   q         ,        
        %    "   ? /   b !    .        &       * 	   H    R    b    }     K        A        C *   d H    @   س F    @   ` C    W    Q   = G    @   ׵ @    7   Y 5    O   Ƕ .    8   F     !           ַ            / %   < +   b #    5    %    J    /   Y 3    M    M       Y #   v     D    2    I   % F   o     %   û 7    .   ! )   P A   z     *   ؼ D    >   H G    -   Ͻ B    7   @ .   x     6   ƾ     0    H   @ 0    A    @    0   = ,   n 1    $    +    ,    D   K P    <    0    $   O    t Q        -    -   0 #   ^ 7                               %    6    H    `    p     	    	    +            "    "    "   1    T +   j 
    *        
            4   * A   _                                5    M ]   m +        &    *   #    N    j                 	    +        $   )    N    m    r          !    $    !         /   3    c    k    z %            $    )       9 @   X         F    Z       c    q    } ,        3        '   ! &   I 2   p G        ?    W   F 0                X    X   e     E        
       '    :    Z    b     5    4    "    $       : !   Q 1   s D         4    ,   @ 3   m     !        '           /    @    _    x     *        '    .    H   E 7        A       &    C    X    u 9    =       	 O   (    x 9    7           $ ?   D A    '    *    *    .   D $   s #    B    8       8 (   W /    &    #    *       &    ;    X *   p (    ,            )   )     S    t     "    "    :    &   . .   U ,    3    3    +       E    `    w         #    $        =   &    d #    $    +    "    &       B +   \ '            9    /   " .   R         G    ,    !   # '   E 9   m /    #    6    8   2 %   k )    *    *    +    :   = D   x *    A    ;   * 6   f =    &           !    ?    \ "   y .    :    3       :    Z *   x 7            <   	    F    V    q ,    &    $            ,   = "   j         B       	 $   )    N (   h #        $        "       3 8   N :    :    0    4   . *   c 3        :    J       e    ~ #    )    *           / :   O <    !    /    W    7   q "    R           9    Q 5   j     %        #    (    4   D O   y     #    $   	 +   . *   Z 8    )    8    #   !    E :   c *    <    '    "   . "   Q "   t M    #    F   	 +   P -   | G    +    .       M 4   h 0    "         K       ^ @   { 5             '   . $   V &   { &    &    $    8       N    c     6    ,    4       9    F 1   e (            2    ?     2   ` ,        ,    .    2   6 =   i     /        "    5   / X   e .    /    -    .   K     z %        6    :    7   N     &            ,    3   $ $   X    } *    4    1    0   /  !   `            $          "     &       @ '   ` 0    $    ,    1    '   = @   e )    *    5    "   1 )   T (   ~ "    %               ,    @    ]    | 4    )    0       +    E 1   Z         (    &    F       T    s          6         )   $ '   N     v 2    -    5       .    M    h                 +    +   	    I	 0   f	 4   	    	 #   	 2   
    ?
    ^
 .   o
 .   
 +   
    
 )    +   ? #   k (    )    $           % "   C 9   f 8    (    (    %   + /   Q -        %    3    8   ) =   b <    %    7    )   ; A   e <    #    (    -   1 /   _ 0    /    2    N   # ,   r 0                       2    K    h             $                +   6 #   b         &                      :    [    y D    H    J    >   f B               & 4   @ 2   u =    ;    ;   " ;   ^     ;            J    X   e +    #    "        1    R    g     !        !               #    9    S    q     .        .    2    %   G    m         7               *    A    R    i     &            "           ,    D    Y    o             #    $    +     .   L 0   {         '               , :   H %        .    ,    Q   #     u  .     #                  !    -!    G!    \! '   y! )   ! &   !    !    " .   ," &   [" 9   " 7   " !   " #   # 4   :#    o#    #    # .   #    #    $     "$    C$    ^$    x$    $    $    $ :   $    "% !   <% %   ^% $   % :   % 5   % ,   & 3   G& 1   {& ;   &    & 5   & 4   /'    d' &   ' %   ' 0   ' 9   '    8( $   I(     n(    (    ( 0   ( /   ( &    )    G) /   e)     )    ) &   ) H   )    D*    d* F   |* '   *    * =   + -   I+ :   w+ 3   + H   + =   /, 5   m, +   , %   , /   , *   %- +   P-    |- +   - -   - (   -    . &   5. !   \.    ~. +   .    .    . (   / !   ,/ %   N/    t/    / "   / 2   /    0     0    90 !   T0     v0     0 =   0 <   0 1   31    e1     1    1 /   1 +   1 2   2 1   E2    w2    2 )   2 %   2    2 %   
3    03 '   N3 +   v3 #   3 $   3 -   3 ,   4    F4    \4     v4    4 .   4    4    5 #   $5 #   H5 +   l5 ,   5 "   5    5 '   6 !   06    R6 '   q6    6 $   6 0   6 <   7    L7 ?   k7 Q   7 #   7    !8    68 ,   Q8 :   ~8 )   8    8    8    9 "   49 *   W9    9    9 %   9 9   9 2   : 5   I: %   : (   : )   : #   : ?   ;    \;    t; ,   ; 3   ; 7   ; (   < #   D<    h<    <    < *   < 3   <     = 7   8= 3   p= *   = #   = $   = .   >    G> "   c> '   >    >    > .   > "   ?    )? A   F? 7   ? $   ? 4   ? *   @ =   E@     @ 5   @    @ =   @    0A *   HA (   sA '   A :   A )   A &   )B    PB 4   hB ,   B 6   B 2   C G   4C R   |C -   C .   C !   ,D #   ND -   rD    D 0   D 6   D "   $E $   GE (   lE 4   E (   E ;   E '   /F 5   WF "   F 2   F ?   F C   #G -   gG -   G 3   G 4   G ;   ,H .   hH 1   H *   H =   H 0   2I :   cI    I 7   I    I !   J    2J )   PJ !   zJ     J >   J @   J $   =K #   bK %   K /   K A   K     L    ?L b   ]L 1   L *   L &   M %   DM 9   jM %   M    M <   M P   %N #   vN )   N *   N ]   N F   MO 5   O 9   O #   P )   (P -   RP +   P Q   P 3   P "   2Q -   UQ W   Q +   Q (   R !   0R )   RR '   |R '   R )   R e   R '   \S S   S '   S     T 8    T 6   YT /   T #   T     T 1   U '   7U *   _U (   U    U '   U F   U    AV (   aV ,   V    V (   V #   V (   W $   BW    gW '   W    W >   W    X %   %X (   KX    tX    X 2   X    X &   X $   Y 9   ;Y "   uY %   Y (   Y    Y     Z $   'Z 0   LZ $   }Z 5   Z 6   Z    [    [ !   ([    J[    [[    v[    [ -   [    [    [    [     \ A   0\    r\ 7   \ >   \    ]    ] D    ]     e]    ] !   ]    ]    ]    ]    ]    ^    ^ &   &^ )   M^ #   w^    ^    ^ #   ^    ^ m   _    ` ?   "` _   b`    `    `    ` /   `    a    %a %   5a    [a    ha &   a (   a    a +   a    $b 	   9b    Cb 	   Xb    bb    jb &   wb    b $   b    b    b 1   	c (   ;c (   dc    c !   c    c    c    c    c 
   d    d    %d    2d    Id &   cd *   d    d    d    d    d      e    !e    1e    Me A   Ue 
   e    e    e    e    e    e /   f &   <f 4   cf    f    f .   f    f "   f    g .    g 	   Og    Yg    sg    g .   g    g    g    g    h    "h (   Ah    jh B   sh 2   h    h -   h    )i    .i    Li    ai     vi )   i %   i    i +   i    *j 0   3j    dj    rj 
   j $   j    j    j    j 1   j    1k 
   Lk    Wk    ck    uk    k    k    k "   k    k    l    l    ;l $   Yl "   ~l L   l :   l    )m    Hm    Um    im    }m "   m 2   m    m    m    n    &n    7n    Jn    _n    n $   n    n    n N   n    *o    7o    Ho $   ao "   o %   o $   o $   o $   p    >p G   Zp \   p    p    q    q    .q    Hq    ]q    xq 9   q -   q    q "   r O   )r    yr    r    r    r    r    r ?   r !   )s )   Ks    us ;   s 
   s    s     s    t    &t    Bt /   Rt ;   t >   t    t    u    3u 7   Qu "   u    u    u    u )   u 4   v L   Mv    v *   v    v    v !   w /   'w 
   Ww    bw    iw .   w J   w !   w    x     *x    Kx    Zx    ox "   |x    x    !y T   :y    y    y    y    y    y 0   y    z ,   #z 0   Pz >   z *   z    z ;   { )   @{ )   j{ *   { :   { P   { ?   K| '   | 7   | B   | 8   .} $   g} 1   } C   }     ~    #~ @   *~ @   k~ @   ~ :   ~ -   (    V !   v     4    1           9    U    r     #    %   ƀ        
 :   ( 1   c 3    4   Ɂ 5    )   4 '   ^ #           Ƃ                         "    /    ?    T    \    z                Ń    ԃ         %           ,    ?    L    d    w     	    7       ل     
            !       8 2   J    }         	               ԅ                 	    	           + C   0 C   t >    &    (    )   G ,   q                ч             .   ! 
   P ,   [ (    '    F   و      0   9 *   j         !                $ O   7 P       ؊ &           9    T    s    {                     +   ΋ 3    1   . 1   `                         !    !   @    b G   q !       ۍ *        @     E   a 3    ;   ێ D    ;   \ 5    +   Ώ ,    +   ' #   S    w     .       ڐ -       '    A    ^     x                Б                 %    ;    R $   g             +       ޒ '    ,    5   I 4    &    %   ۓ #    %   %    K    a    z     ;       ޔ     ,    )   ,    V    i    u 	               ƕ                $ :   A    |             %   ˖     
        
   # &   . ;   U C    7   ՗ 7    	   E    O 
   [    f 6   s                ۘ             "   -    P    \    t /    -    #           $    <    [ 
   w     *       Ú    ښ *    *       D    K    _     k     
        #                    ,    ?    O 7   [ 7    7   ˜ 7    7   ; 7   s 8    7    8    #   U !   y %    "    %    ;   
    F    Z    c    t         '    +   ݟ    	     &       E     ]    ~         !   ՠ            * !   H     j !        =   ġ              <           0      y                          ^      S  Y     9            <  ;               7              C         /    
       V                              W        .                    ,                     ^   @          q  l   I      H                      =         #                   J        2         p  (                    h    o                 y        d  :     C    H  b  ,  L  1      F                        \      x                B                  ]  '    a          i        n                            S    f        	          :  =    A  g    H  [  s     B  ~    z                0        %       `  6  ?  8    K     J  (        M        |       g                9      r      .      f  c      ]            `   +      1          g    ~    $     t                     U                D        J        (   X  x  7  "  l        7                     x          [       2  v  W  _      *  G  ?                   ~  E    e  y        6                                s       E    +  =    k                               H     D  I      ,            y            0              _             $      t      3              /  F                    6    g              9                e  8          
    o     1                U        &  0    ]  *       h                  y    #        +  ^    w                                         V           !  |              {  -        k  Y       \  E      "                                  3       X               u    T      w      R               F     8                        '      Q      \        j          \       s      <                ]              	          r      `            V  d      U  U  P                       #  J  |              E       B                G        \  i  t      }                            J      U  j    ?          S            L         m       k  v        *        n                       #  L      \      I  @      `  v       M  5                        b      D    	        K                              9      x  9  a   ;        7      %                      (                     }            j  4        e        a  !        *          9    :  Y  a                               $  W  
        }        ^  >  3      X              #                7      q          P            d  i                                a    ?      	                        n                      K                 '    F                                     d  r  c      A  :    k     %       t  q                       m  S   S                  Y          H      M  y  @                       m       J      y   }     !              w        X                       \  4   n  Z      )    %      1          v        ~       v     j      l       S  z                                  E  :                             T         &                  .  P          &             f         _        T      `  .  y        5                     ]  7          u     l            4              I   2       n     O    '   $           z                a  N              ~                                  ^      8  $      Q     Y      '    Y      2    Z      K  t  .       *                               b    o             g   1           F      "                    '                       w      '  N                          A      ^            
                 >  -  o        8   q        `  O  u          -  $  v  U                M             0  N  ,          c  _  W          j    l        i                             O  1  ]  /  2     :    G          X       ?   !  @  ;  3    ;  q   h    ^      5               o                   /    w                                                    4       K            R  Q  i      N   z      u    m                      T                          k              )                  \        E                      -        h        #  `                     T        j                                   8                   r              G    )        4                                             d  l  -                     M      [  J    -     @      j     @  s  (      }  {          z    e  ^                  C        <             R               }  $      
        F                ,               J  $         L  a        4      !                         p               ,    H      ;  +                        ?  |  w           R                                      =  i    _  {  7           Q  h             x    v  6                  	                  B        P  "      &                K    >        I      G      3                       v        V    V          6        W     +    -    u  r                   h                   t          e  H   .      p        w        1        p  |  m        L  <              &  Z                       <           4  R        l  c     P    F                      z      r    b  Z   {   >  0      h        X      6                                                      o    +                |     a  }  1                        e           =        _  3  !                                            >      P          O      k    n          3  
          n    #      &                      O      :        .     >     6        ;     ?  u  X  E        d    C  C  R              :          G  x  C              [     w  W                +           V  Y             S         `  <  W    [          G        c       D  -    s  c      i  Z                                    g    R          (  I                 &  K  m                                        s          p          F           U      [         >                  =       Q     +     b  )  M      ]         V              u               g  k              @               ?                    *      {  [            /  B                 l                      B      N      0            !  I     k              I  "     Z         p    Q                m  P   2  p       D  N               
           L                  f                                               D      |      L        z    m                8  )                  |  _                    )  f  /    .                                 q  o  o          2     Q  i        q                  5   b  B  r     f  f                  ;  L        U  ;    M              Z    /      %              e           A  =   O                       s  9  (         7                 N  0   Q  B               u      #                        <      n               A  e  "        *        5                     {  H      &              ~     b        s      P                                ]   =  {      	    T          "   D                             5      >     C              f  C    *      A     5      {                      [            t                     	  ~                    )    d  5  "      8      T            z                                   x  3                    h  )   T  _       %             O   K             (     R  Z    6          9   
                @                                  d     %   /                                                            }      b                               j  %  E   O                    r                x   4    t     N                           ,  S  	                        W  Y    2                  g     X          A        c                           D  G   ,    V                    !  M      c       p      A                  q  '   
	Last set from  

Arguments:
 

usage: 
          modified:  
         [not usable on this computer] 
         [not usable with this version of Vim] 
         host name:  
         user name:  
        process ID:  
       a: Find assignments to this symbol
       c: Find functions calling this function
       d: Find functions called by this function
       e: Find this egrep pattern
       f: Find this file
       g: Find this definition
       i: Find files #including this file
       s: Find this C symbol
       t: Find this text string
 
    Name        Args       Address   Complete  Definition 
   #   line 
   or: 
  # TO tag         FROM line  in file/text 
 jump line  col file/text 
# %s History (newest to oldest):
 
# Bar lines, copied verbatim:
 
# Buffer list:
 
# File marks:
 
# History of marks within files (newest to oldest):
 
# Jumplist (newest first):
 
# Last %sSearch Pattern:
~ 
# Last Substitute String:
$ 
# Registers:
 
# global variables:
 
(1) Another program may be editing the same file.  If this is the case,
    be careful not to end up with two different instances of the same
    file when making changes.  Quit, or continue with caution.
 
(You might want to write out this file under another name
 
--- Auto-Commands --- 
--- Global option values --- 
--- Local option values --- 
--- Menus --- 
--- Options --- 
--- Registers --- 
--- Signs --- 
--- Syntax items --- 
--- Syntax sync items --- 
--- Terminal codes --- 
--- Terminal keys --- 
Arguments recognised by gvim (Athena version):
 
Arguments recognised by gvim (GTK+ version):
 
Arguments recognised by gvim (Motif version):
 
Arguments recognised by gvim (neXtaw version):
 
Big version  
Cannot create pipes
 
Cannot execute shell  
Cannot execute shell sh
 
Cannot fork
 
Command terminated
 
Compiled  
Could not get security context for  
Could not set security context for  
Extra patches:  
Found a swap file by the name " 
Huge version  
If you entered a new crypt key but did not write the text file, 
If you wrote the text file after changing the crypt key press enter 
Included patches:  
MS-Windows 16/32-bit GUI version 
MS-Windows 32-bit GUI version 
MS-Windows 32-bit console version 
MS-Windows 64-bit GUI version 
MS-Windows 64-bit console version 
MacOS X (unix) version 
MacOS X version 
MacOS version 
Maybe no changes were made or Vim did not update the swap file. 
More info with: "vim -h"
 
Normal version  
OpenVMS version 
Small version  
Tiny version  
Vim: Got X error
 
WARNING: Original file may be lost or damaged
 
Where case is ignored prepend / to make flag upper case 
You may want to delete the .swp file now.

 
[bytes] total alloc-freed %lu-%lu, in use %lu, peak use %lu
 
change line  col text 
enter the new crypt key. 
mark line  col file/text 
shell returned  
syncing on items 
to use the same key for text file and swap file                               for Vim defaults                                  for two modes                    dated:            owned by:           [cannot be opened]          [cannot be read]          [does not look like a Vim swap file]          [from Vim version 3.0]          file name:         defaults file: "       -- none --
       NEWER than swap file!
       user exrc file: "      user vimrc file: "     If this is the case, use ":recover" or "vim -r      If you did this already, delete the swap file "     line=%ld  id=%d  name=%s     system menu file: "     user gvimrc file: "    In current directory:
    In directory     Using specified name:
    dated:     host name:     system vimrc file: "   # pri kind tag   (Already listed)   2nd user exrc file: "   DEBUG BUILD   Features included (+) or not (-):
   NOT FOUND   TOTAL      COUNT  MATCH   SLOWEST     AVERAGE   NAME               PATTERN   Using tag with different case!   fall-back for $VIM: "   system gvimrc file: "  # pid    database name                       prepend path
  (Interrupted)  (NOT FOUND)  (includes previously listed match)  (insert)  (insert) Scroll (^E/^Y)  (line deleted)  (not supported)  (paste)  (replace)  (replace) Scroll (^E/^Y)  (still running)  (vreplace)  2nd user vimrc file: "  3rd user vimrc file: "  < "%.*s"  Adding  Arabic  CONVERSION ERROR  Command-line completion (^V^N^P)  Copy %d of %d  Definition completion (^D^N^P)  Dictionary completion (^K^N^P)  FAILED  File name completion (^F^N^P)  Hebrew  INSERT  Keyword Local completion (^N^P)  Keyword completion (^N^P)  Omni completion (^O^N^P)  Path pattern completion (^N^P)  REPLACE  REVERSE  SELECT  SELECT BLOCK  SELECT LINE  SPACE/d/j: screen/page/line down, b/u/k: up, q: quit   Spelling suggestion (s^N^P)  Tag completion (^]^N^P)  Thesaurus completion (^T^N^P)  User defined completion (^U^N^P)  VISUAL  VISUAL BLOCK  VISUAL LINE  VREPLACE  Whole line completion (^L^N^P)  [Modified]  [a]  [w]  ^X mode (^]^D^E^F^I^K^L^N^O^Ps^U^V^Y)  appended  cannot be used on this computer.
  cannot be used with this version of Vim.
  f-b for $VIMRUNTIME: "  has been damaged (page size is smaller than minimum value).
  in line %ld;  info  kind file
  line breaks  lines before top line  marks  oldfiles  on %ld lines  on 1 line  or more  returned
  vim [arguments]   with OLE support  written "
    to avoid this message.
 "
    to recover the changes (see ":help recovery").
 " already exists! # This viminfo file was generated by Vim %s.
 # Value of 'encoding' when this file was written
 # You may edit it if you're careful!

 %-5s: %s%*s (Usage: %s) %3d  %s %s  line %ld %<%f%h%m%=Page %N %d buffers deleted %d buffers unloaded %d buffers wiped out %d duplicate word(s) in %s %d files to edit
 %d more files to edit.  Quit anyway? %d of %d edited %ld %s; %s #%ld  %s %ld Cols;  %ld fewer lines %ld lines %sed %d times %ld lines %sed 1 time %ld lines --%d%%-- %ld lines changed %ld lines filtered %ld lines indented  %ld lines moved %ld lines to indent...  %ld lines yanked %ld lines,  %ld matches %ld more lines %ld seconds ago %ld substitutions %lld characters %s Auto commands for "%s" %s aborted %s discarded %s line %ld %s made pending %s resumed %s returning #%ld %s returning %s %s value differs from what is used in another .aff file %s, line %ld %serror list %d of %d; %d errors  %sviminfo: %s in line:  &Cancel &Dismiss &Filter &Help &OK &OK
&Cancel &OK
&Load File &Ok &Open Read-Only
&Edit anyway
&Recover
&Delete it
&Quit
&Abort &Open Read-Only
&Edit anyway
&Recover
&Quit
&Abort &Replace &Undo &Yes
&No &Yes
&No
&Cancel &Yes
&No
Save &All
&Discard All
&Cancel ' not known. Available builtin terminals are: '-nb' cannot be used: not enabled at compile time
 'columns' is not 80, cannot execute external commands 'dictionary' option is empty 'history' option is zero 'readonly' option is set for "%s".
Do you wish to write anyway? 'thesaurus' option is empty (%d of %d)%s%s:  (+%ld for BOM) (2) An edit session for this file crashed.
 (Interrupted)  (Invalid) (NFA) COULD NOT OPEN %s ! +			Start at end of file +-%s%3ld line:  +-%s%3ld lines:  +--%3ld line folded  +--%3ld lines folded  +<lnum>		Start at line <lnum> +reverse		Don't use reverse video (also: +rv) ,
or the file has been damaged. -               read text from stdin --			Only file names after this -- More -- -- Searching... --- Included files  --Deleted-- --No lines in buffer-- --cmd <command>	Execute <command> before loading any vimrc file --cmd argument --echo-wid		Make gvim echo the Window ID on stdout --literal		Don't expand wildcards --noplugin		Don't load plugin scripts --not-a-term		Skip warning for input/output not being a terminal --remote <files>	Edit <files> in a Vim server if possible --remote-expr <expr>	Evaluate <expr> in a Vim server and print result --remote-send <keys>	Send <keys> to a Vim server and exit --remote-silent <files>  Same, don't complain if there is no server --remote-tab[-wait][-silent] <files>  As --remote but use tab page per file --remote-wait <files>  As --remote but wait for files to have been edited --remote-wait-silent <files>  Same, don't complain if there is no server --role <role>	Set a unique role to identify the main window --serverlist		List available Vim server names and exit --servername <name>	Send to/become the Vim server <name> --socketid <xid>	Open Vim inside another GTK widget --startuptime <file>	Write startup timing messages to <file> --version		Print version information and exit --windowid <HWND>	Open Vim inside another win32 widget -A			start in Arabic mode -C			Compatible with Vi: 'compatible' -D			Debugging mode -E			Improved Ex mode -F			Start in Farsi mode -H			Start in Hebrew mode -L			Same as -r -M			Modifications in text not allowed -N			Not fully Vi compatible: 'nocompatible' -O[N]		Like -o but split vertically -P <parent title>	Open Vim inside parent application -R			Readonly mode (like "view") -S <session>		Source file <session> after loading the first file -T <terminal>	Set terminal type to <terminal> -U <gvimrc>		Use <gvimrc> instead of any .gvimrc -V[N][fname]		Be verbose [level N] [log messages to fname] -W <scriptout>	Write all typed commands to file <scriptout> -X			Do not connect to X server -Z			Restricted mode (like "rvim") -b			Binary mode -background <color>	Use <color> for the background (also: -bg) -boldfont <font>	Use <font> for bold text -borderwidth <width>	Use a border width of <width> (also: -bw) -c <command>		Execute <command> after loading the first file -c argument -d			Diff mode (like "vimdiff") -dev <device>		Use <device> for I/O -display <display>	Connect vim to this particular X-server -display <display>	Run vim on <display> -display <display>	Run vim on <display> (also: --display) -e			Ex mode (like "ex") -f			Don't use newcli to open window -f  or  --nofork	Foreground: Don't fork when starting GUI -font <font>		Use <font> for normal text (also: -fn) -foreground <color>	Use <color> for normal text (also: -fg) -g			Run using GUI (like "gvim") -geometry <geom>	Use <geom> for initial geometry (also: -geom) -h  or  --help	Print Help (this message) and exit -i <viminfo>		Use <viminfo> instead of .viminfo -iconic		Start vim iconified -italicfont <font>	Use <font> for italic text -l			Lisp mode -m			Modifications (writing files) not allowed -menuheight <height>	Use a menu bar height of <height> (also: -mh) -n			No swap file, use memory only -o[N]		Open N windows (default: one for each file) -p[N]		Open N tab pages (default: one for each file) -q [errorfile]  edit file with first error -r			List swap files and exit -r (with file name)	Recover crashed session -register		Register this gvim for OLE -reverse		Use reverse video (also: -rv) -s			Silent (batch) mode (only for "ex") -s <scriptin>	Read Normal mode commands from file <scriptin> -scrollbarwidth <width>  Use a scrollbar width of <width> (also: -sw) -t tag          edit file where tag is defined -u <vimrc>		Use <vimrc> instead of any .vimrc -unregister		Unregister gvim for OLE -v			Vi mode (like "vi") -w <scriptout>	Append all typed commands to file <scriptout> -x			Edit encrypted files -xrm <resource>	Set the specified resource -y			Easy mode (like "evim", modeless) / line ignored in %s line %d: %s /encoding= line after word ignored in %s line %d: %s 1 buffer deleted 1 buffer unloaded 1 buffer wiped out 1 character 1 line %sed %d times 1 line %sed 1 time 1 line --%d%%-- 1 line changed 1 line indented  1 line less 1 line moved 1 line yanked 1 line,  1 match 1 more file to edit.  Quit anyway? 1 more line 1 substitution 2nd user gvimrc file: " 3rd user gvimrc file: " : Send expression failed.
 : Send failed.
 : Send failed. Trying to execute locally
 ; match  <%s>%s%s  %d,  Hex %02x,  Octal %03o <cannot open>  <empty> > %d, Hex %04x, Octal %o > %d, Hex %08x, Octal %o ??? from here until ???END lines may be messed up ??? from here until ???END lines may have been inserted/deleted ???BLOCK MISSING ???EMPTY BLOCK ???END ???LINE COUNT WRONG ???LINES MISSING ???MANY LINES MISSING ANCHOR_BUF_SIZE too small. Add a new database Added cscope database %s Affix also used for BAD/RARE/KEEPCASE/NEEDAFFIX/NEEDCOMPOUND/NOSUGGEST in %s line %d: %s Affix name too long in %s line %d: %s All All cscope databases reset All included files were found Already at newest change Already at oldest change Already only one tab page Already only one window Append File Argument missing after At line Attempt to open script file again: " Back at original Backwards range given, OK to swap Become a registered Vim user! Beep! Before byte %ld Bot Both SAL and SOFO lines in %s Breakpoint in "%s%s" line %ld Broken condition in %s line %d: %s COMPOUNDSYLMAX used without SYLLABLE Calling shell to execute: "%s" Can't find temp file for conversion Cancel Cannot create  Cannot execute  Cannot open $VIMRUNTIME/rgb.txt Cannot open NIL:
 Cannot open file "%s" Cannot open for reading: " Cannot open for script output: " Cannot source a directory: "%s" Cannot write undo file in any directory in 'undodir' Change "%.*s" to: Close tab Col %s of %s; Line %ld of %ld; Word %lld of %lld; Byte %lld of %lld Col %s of %s; Line %ld of %ld; Word %lld of %lld; Char %lld of %lld; Byte %lld of %lld Command Line Compilation:  Compiler:  Compressed %d of %d nodes; %d (%d%%) remaining Compressing word tree... Conversion failure for word in %s line %d: %s Conversion in %s not supported Conversion in %s not supported: from %s to %s Conversion with 'charconvert' failed Could not fix up function pointers to the DLL! Could not get security context %s for %s. Removing it! Could not load vim32.dll! Could not open temporary log file for writing  Could not open temporary log file for writing, displaying on stderr ...  Could not set security context %s for %s Cscope tag: %s Current %slanguage: "%s" Debug Line Defining COMPOUNDFORBIDFLAG after PFX item may give wrong results in %s line %d Defining COMPOUNDPERMITFLAG after PFX item may give wrong results in %s line %d Diff with Vim Different combining flag in continued affix block in %s line %d: %s Direction Directories Directory	*.nothing
 Do you really want to write to it Done! Double ; in list of variables Down Duplicate /encoding= line ignored in %s line %d: %s Duplicate /regions= line ignored in %s line %d: %s Duplicate affix in %s line %d: %s Duplicate character in MAP in %s line %d Duplicate field name: %s Duplicate word in %s line %d: %s E100: No other buffer in diff mode E101: More than two buffers in diff mode, don't know which one to use E102: Can't find buffer "%s" E103: Buffer "%s" is not in diff mode E104: Escape not allowed in digraph E105: Using :loadkeymap not in a sourced file E107: Missing parentheses: %s E108: No such variable: "%s" E109: Missing ':' after '?' E10: \ should be followed by /, ? or & E110: Missing ')' E111: Missing ']' E112: Option name missing: %s E113: Unknown option: %s E114: Missing quote: %s E115: Missing quote: %s E116: Invalid arguments for function %s E117: Unknown function: %s E118: Too many arguments for function: %s E119: Not enough arguments for function: %s E11: Invalid in command-line window; <CR> executes, CTRL-C quits E120: Using <SID> not in a script context: %s E121: Undefined variable: %s E122: Function %s already exists, add ! to replace it E123: Undefined function: %s E124: Missing '(': %s E125: Illegal argument: %s E126: Missing :endfunction E127: Cannot redefine function %s: It is in use E128: Function name must start with a capital or "s:": %s E129: Function name required E12: Command not allowed from exrc/vimrc in current dir or tag search E130: Unknown function: %s E131: Cannot delete function %s: It is in use E132: Function call depth is higher than 'maxfuncdepth' E133: :return not inside a function E134: Move lines into themselves E135: *Filter* Autocommands must not change current buffer E136: viminfo: Too many errors, skipping rest of file E137: Viminfo file is not writable: %s E138: Can't write viminfo file %s! E139: File is loaded in another buffer E13: File exists (add ! to override) E140: Use ! to write partial buffer E141: No file name for buffer %ld E142: File not written: Writing is disabled by 'write' option E143: Autocommands unexpectedly deleted new buffer %s E144: non-numeric argument to :z E145: Shell commands not allowed in rvim E146: Regular expressions can't be delimited by letters E147: Cannot do :global recursive E148: Regular expression missing from global E149: Sorry, no help for %s E14: Invalid address E150: Not a directory: %s E151: No match: %s E152: Cannot open %s for writing E153: Unable to open %s for reading E154: Duplicate tag "%s" in file %s/%s E155: Unknown sign: %s E156: Missing sign name E157: Invalid sign ID: %ld E158: Invalid buffer name: %s E159: Missing sign number E15: Invalid expression: %s E160: Unknown sign command: %s E161: Breakpoint not found: %s E162: No write since last change for buffer "%s" E163: There is only one file to edit E164: Cannot go before first file E165: Cannot go beyond last file E166: Can't open linked file for writing E167: :scriptencoding used outside of a sourced file E168: :finish used outside of a sourced file E169: Command too recursive E16: Invalid range E170: Missing :endfor E170: Missing :endwhile E171: Missing :endif E172: Only one file name allowed E173: %ld more files to edit E173: 1 more file to edit E174: Command already exists: add ! to replace it E175: No attribute specified E176: Invalid number of arguments E177: Count cannot be specified twice E178: Invalid default value for count E179: argument required for -addr E179: argument required for -complete E17: "%s" is a directory E180: Invalid address type value: %s E180: Invalid complete value: %s E181: Invalid attribute: %s E182: Invalid command name E183: User defined commands must start with an uppercase letter E184: No such user-defined command: %s E185: Cannot find color scheme '%s' E186: No previous directory E187: Unknown E188: Obtaining window position not implemented for this platform E189: "%s" exists (add ! to override) E18: Unexpected characters in :let E190: Cannot open "%s" for writing E191: Argument must be a letter or forward/backward quote E192: Recursive use of :normal too deep E193: :endfunction not inside a function E194: No alternate file name to substitute for '#' E195: Cannot open viminfo file for reading E196: No digraphs in this version E197: Cannot set language to "%s" E198: cmd_pchar beyond the command length E199: Active window or buffer deleted E19: Mark has invalid line number E200: *ReadPre autocommands made the file unreadable E201: *ReadPre autocommands must not change current buffer E202: Conversion made file unreadable! E203: Autocommands deleted or unloaded buffer to be written E204: Autocommand changed number of lines in unexpected way E205: Patchmode: can't save original file E206: patchmode: can't touch empty original file E207: Can't delete backup file E208: Error writing to "%s" E209: Error closing "%s" E20: Mark not set E210: Error reading "%s" E211: File "%s" no longer available E212: Can't open file for writing E213: Cannot convert (add ! to write without conversion) E214: Can't find temp file for writing E215: Illegal character after *: %s E216: No such event: %s E216: No such group or event: %s E217: Can't execute autocommands for ALL events E218: autocommand nesting too deep E219: Missing {. E21: Cannot make changes, 'modifiable' is off E220: Missing }. E222: Add to read buffer E223: recursive mapping E224: global abbreviation already exists for %s E225: global mapping already exists for %s E226: abbreviation already exists for %s E227: mapping already exists for %s E228: makemap: Illegal mode E229: Cannot start the GUI E22: Scripts nested too deep E230: Cannot read from "%s" E231: 'guifontwide' invalid E232: Cannot create BalloonEval with both message and callback E233: cannot open display E234: Unknown fontset: %s E235: Unknown font: %s E236: Font "%s" is not fixed-width E237: Printer selection failed E238: Print error: %s E239: Invalid sign text: %s E23: No alternate file E240: No connection to Vim server E241: Unable to send to %s E243: Argument not supported: "-%s"; Use the OLE version. E244: Illegal charset name "%s" in font name "%s" E244: Illegal quality name "%s" in font name "%s" E245: Illegal char '%c' in font name "%s" E246: FileChangedShell autocommand deleted buffer E247: no registered server named "%s" E248: Failed to send command to the destination program E24: No such abbreviation E250: Fonts for the following charsets are missing in fontset %s: E251: VIM instance registry property is badly formed.  Deleted! E252: Fontset name: %s E253: Fontset name: %s E254: Cannot allocate color %s E255: Couldn't read in sign data! E256: Hangul automata ERROR E257: cstag: tag not found E258: Unable to send to client E259: no matches found for cscope query %s of %s E25: GUI cannot be used: Not enabled at compile time E261: cscope connection %s not found E262: error reading cscope connection %ld E263: Sorry, this command is disabled, the Python library could not be loaded. E264: Python: Error initialising I/O objects E265: $_ must be an instance of String E266: Sorry, this command is disabled, the Ruby library could not be loaded. E267: unexpected return E268: unexpected next E269: unexpected break E26: Hebrew cannot be used: Not enabled at compile time
 E270: unexpected redo E271: retry outside of rescue clause E272: unhandled exception E273: unknown longjmp status %d E277: Unable to read a server reply E27: Farsi cannot be used: Not enabled at compile time
 E280: TCL FATAL ERROR: reflist corrupt!? Please report this to vim-dev@vim.org E282: Cannot read from "%s" E283: No marks matching "%s" E284: Cannot set IC values E285: Failed to create input context E286: Failed to open input method E287: Warning: Could not set destroy callback to IM E288: input method doesn't support any style E289: input method doesn't support my preedit type E28: No such highlight group name: %s E293: block was not locked E294: Seek error in swap file read E295: Read error in swap file E296: Seek error in swap file write E297: Write error in swap file E298: Didn't get block nr 0? E298: Didn't get block nr 1? E298: Didn't get block nr 2? E299: Perl evaluation forbidden in sandbox without the Safe module E29: No inserted text yet E300: Swap file already exists (symlink attack?) E301: Oops, lost the swap file!!! E302: Could not rename swap file E303: Unable to open swap file for "%s", recovery impossible E304: ml_upd_block0(): Didn't get block 0?? E305: No swap file found for %s E306: Cannot open %s E307: %s does not look like a Vim swap file E308: Warning: Original file may have been changed E309: Unable to read block 1 from %s E30: No previous command line E310: Block 1 ID wrong (%s not a .swp file?) E311: Recovery Interrupted E312: Errors detected while recovering; look for lines starting with ??? E313: Cannot preserve, there is no swap file E314: Preserve failed E315: ml_get: invalid lnum: %ld E316: ml_get: cannot find line %ld E317: pointer block id wrong E317: pointer block id wrong 2 E317: pointer block id wrong 3 E317: pointer block id wrong 4 E318: Updated too many blocks? E319: Sorry, the command is not available in this version E31: No such mapping E320: Cannot find line %ld E321: Could not reload "%s" E322: line number out of range: %ld past the end E323: line count wrong in block %ld E324: Can't open PostScript output file E325: ATTENTION E326: Too many swap files found E327: Part of menu-item path is not sub-menu E328: Menu only exists in another mode E329: No menu "%s" E32: No file name E330: Menu path must not lead to a sub-menu E331: Must not add menu items directly to menu bar E332: Separator cannot be part of a menu path E333: Menu path must lead to a menu item E334: Menu not found: %s E335: Menu not defined for %s mode E336: Menu path must lead to a sub-menu E337: Menu not found - check menu names E338: Sorry, no file browser in console mode E339: Pattern too long E33: No previous substitute regular expression E340: Line is becoming too long E341: Internal error: lalloc(%ld, ) E342: Out of memory!  (allocating %lu bytes) E343: Invalid path: '**[number]' must be at the end of the path or be followed by '%s'. E344: Can't find directory "%s" in cdpath E345: Can't find file "%s" in path E346: No more directory "%s" found in cdpath E347: No more file "%s" found in path E348: No string under cursor E349: No identifier under cursor E34: No previous command E350: Cannot create fold with current 'foldmethod' E351: Cannot delete fold with current 'foldmethod' E352: Cannot erase folds with current 'foldmethod' E353: Nothing in register %s E354: Invalid register name: '%s' E355: Unknown option: %s E356: get_varp ERROR E357: 'langmap': Matching character missing for %s E358: 'langmap': Extra characters after semicolon: %s E359: Screen mode setting not supported E35: No previous regular expression E360: Cannot execute shell with -f option E363: pattern uses more memory than 'maxmempattern' E364: Library call failed for "%s()" E365: Failed to print PostScript file E367: No such group: "%s" E369: invalid item in %s%%[] E36: Not enough room E370: Could not load library %s E371: Command not found E372: Too many %%%c in format string E373: Unexpected %%%c in format string E374: Missing ] in format string E375: Unsupported %%%c in format string E376: Invalid %%%c in format string prefix E377: Invalid %%%c in format string E378: 'errorformat' contains no pattern E379: Missing or empty directory name E37: No write since last change E37: No write since last change (add ! to override) E380: At bottom of quickfix stack E381: At top of quickfix stack E382: Cannot write, 'buftype' option is set E383: Invalid search string: %s E384: search hit TOP without match for: %s E385: search hit BOTTOM without match for: %s E386: Expected '?' or '/'  after ';' E387: Match is on current line E388: Couldn't find definition E389: Couldn't find pattern E38: Null argument E390: Illegal argument: %s E391: No such syntax cluster: %s E392: No such syntax cluster: %s E393: group[t]here not accepted here E394: Didn't find region item for %s E395: contains argument not accepted here E397: Filename required E398: Missing '=': %s E399: Not enough arguments: syntax region %s E39: Number expected E400: No cluster specified E401: Pattern delimiter not found: %s E402: Garbage after pattern: %s E403: syntax sync: line continuations pattern specified twice E404: Illegal arguments: %s E405: Missing equal sign: %s E406: Empty argument: %s E407: %s not allowed here E408: %s must be first in contains list E409: Unknown group name: %s E40: Can't open errorfile %s E410: Invalid :syntax subcommand: %s E411: highlight group not found: %s E412: Not enough arguments: ":highlight link %s" E413: Too many arguments: ":highlight link %s" E414: group has settings, highlight link ignored E415: unexpected equal sign: %s E416: missing equal sign: %s E417: missing argument: %s E418: Illegal value: %s E419: FG color unknown E41: Out of memory! E420: BG color unknown E421: Color name or number not recognized: %s E422: terminal code too long: %s E423: Illegal argument: %s E424: Too many different highlighting attributes in use E425: Cannot go before first matching tag E426: tag not found: %s E427: There is only one matching tag E428: Cannot go beyond last matching tag E429: File "%s" does not exist E42: No Errors E430: Tag file path truncated for %s
 E431: Format error in tags file "%s" E432: Tags file not sorted: %s E433: No tags file E434: Can't find tag pattern E435: Couldn't find tag, just guessing! E436: No "%s" entry in termcap E437: terminal capability "cm" required E438: u_undo: line numbers wrong E439: undo list corrupt E43: Damaged match string E440: undo line missing E441: There is no preview window E442: Can't split topleft and botright at the same time E443: Cannot rotate when another window is split E444: Cannot close last window E445: Other window contains changes E446: No file name under cursor E447: Can't find file "%s" in path E448: Could not load library function %s E449: Invalid expression received E44: Corrupted regexp program E455: Error writing to PostScript output file E456: Can't find PostScript resource file "%s.ps" E456: Can't find PostScript resource file "cidfont.ps" E456: Can't find PostScript resource file "prolog.ps" E456: Can't open file "%s" E457: Can't read PostScript resource file "%s" E459: Cannot go back to previous directory E45: 'readonly' option is set (add ! to override) E460: The resource fork would be lost (add ! to override) E461: Illegal variable name: %s E462: Could not prepare for reloading "%s" E463: Region is guarded, cannot modify E464: Ambiguous use of user-defined command E465: :winsize requires two number arguments E466: :winpos requires two number arguments E467: Custom completion requires a function argument E468: Completion argument only allowed for custom completion E469: invalid cscopequickfix flag %c for %c E46: Cannot change read-only variable "%s" E470: Command aborted E471: Argument required E472: Command failed E473: Internal error E474: Invalid argument E475: Invalid argument: %s E476: Invalid command E477: No ! allowed E478: Don't panic! E479: No match E47: Error while reading errorfile E480: No match: %s E481: No range allowed E482: Can't create file %s E483: Can't get temp file name E484: Can't open file %s E485: Can't read file %s E486: Pattern not found: %s E487: Argument must be positive E488: Trailing characters E48: Not allowed in sandbox E490: No fold found E492: Not an editor command E493: Backwards range given E494: Use w or w>> E495: no autocommand file name to substitute for "<afile>" E496: no autocommand buffer number to substitute for "<abuf>" E497: no autocommand match name to substitute for "<amatch>" E498: no :source file name to substitute for "<sfile>" E499: Empty file name for '%' or '#', only works with ":p:h" E49: Invalid scroll size E500: Evaluates to an empty string E501: At end-of-file E505: "%s" is read-only (add ! to override) E505: %s is read-only (add ! to override) E506: Can't write to backup file (add ! to override) E507: Close error for backup file (add ! to override) E508: Can't read file for backup (add ! to override) E509: Cannot create backup file (add ! to override) E50: Too many \z( E510: Can't make backup file (add ! to override) E511: netbeans already connected E512: Close failed E513: write error, conversion failed (make 'fenc' empty to override) E513: write error, conversion failed in line %ld (make 'fenc' empty to override) E514: write error (file system full?) E515: No buffers were unloaded E516: No buffers were deleted E517: No buffers were wiped out E518: Unknown option E519: Option not supported E51: Too many %s( E520: Not allowed in a modeline E521: Number required after = E521: Number required: &%s = '%s' E522: Not found in termcap E523: Not allowed here E524: Missing colon E525: Zero length string E526: Missing number after <%s> E527: Missing comma E528: Must specify a ' value E529: Cannot set 'term' to empty string E52: Unmatched \z( E530: Cannot change term in GUI E531: Use ":gui" to start the GUI E533: can't select wide font E534: Invalid wide font E535: Illegal character after <%c> E536: comma required E537: 'commentstring' must be empty or contain %s E538: No mouse support E539: Illegal character <%s> E53: Unmatched %s%%( E540: Unclosed expression sequence E541: too many items E542: unbalanced groups E543: Not a valid codepage E544: Keymap file not found E545: Missing colon E546: Illegal mode E547: Illegal mouseshape E548: digit expected E549: Illegal percentage E54: Unmatched %s( E550: Missing colon E551: Illegal component E552: digit expected E553: No more items E554: Syntax error in %s{...} E555: at bottom of tag stack E556: at top of tag stack E557: Cannot open termcap file E558: Terminal entry not found in terminfo E559: Terminal entry not found in termcap E55: Unmatched %s) E560: Usage: cs[cope] %s E561: unknown cscope search type E562: Usage: cstag <ident> E563: stat error E563: stat(%s) error: %d E564: %s is not a directory or a valid cscope database E566: Could not create cscope pipes E567: no cscope connections E568: duplicate cscope database not added E570: fatal error in cs_manage_matches E571: Sorry, this command is disabled: the Tcl library could not be loaded. E572: exit code %d E573: Invalid server id used: %s E574: Unknown register type %d E579: :if nesting too deep E580: :endif without :if E581: :else without :if E582: :elseif without :if E583: multiple :else E584: :elseif after :else E585: :while/:for nesting too deep E586: :continue without :while or :for E587: :break without :while or :for E588: :endfor without :for E588: :endwhile without :while E589: 'backupext' and 'patchmode' are equal E590: A preview window already exists E591: 'winheight' cannot be smaller than 'winminheight' E592: 'winwidth' cannot be smaller than 'winminwidth' E593: Need at least %d lines E594: Need at least %d columns E595: contains unprintable or wide character E596: Invalid font(s) E597: can't select fontset E598: Invalid fontset E599: Value of 'imactivatekey' is invalid E59: invalid character after %s@ E600: Missing :endtry E601: :try nesting too deep E602: :endtry without :try E603: :catch without :try E604: :catch after :finally E605: Exception not caught: %s E606: :finally without :try E607: multiple :finally E608: Cannot :throw exceptions with 'Vim' prefix E609: Cscope error: %s E60: Too many complex %s{...}s E612: Too many signs defined E613: Unknown printer font: %s E614: vim_SelFile: can't return to current directory E615: vim_SelFile: can't get current directory E616: vim_SelFile: can't get font %s E617: Cannot be changed in the GTK+ 2 GUI E618: file "%s" is not a PostScript resource file E619: file "%s" is not a supported PostScript resource file E61: Nested %s* E620: Unable to convert to print encoding "%s" E621: "%s" resource file has wrong version E622: Could not fork for cscope E623: Could not spawn cscope process E624: Can't open file "%s" E625: cannot open cscope database: %s E626: cannot get cscope database information E62: Nested %s%c E630: %s(): write while not connected E631: %s(): write failed E63: invalid use of \_ E64: %s%c follows nothing E655: Too many symbolic links (cycle?) E658: NetBeans connection lost for buffer %ld E659: Cannot invoke Python recursively E65: Illegal back reference E661: Sorry, no '%s' help for %s E662: At start of changelist E663: At end of changelist E664: changelist is empty E665: Cannot start GUI, no valid font found E666: compiler not supported: %s E667: Fsync failed E668: Wrong access mode for NetBeans connection info file: "%s" E669: Unprintable character in group name E66: \z( not allowed here E670: Mix of help file encodings within a language: %s E671: Cannot find window title "%s" E672: Unable to open window inside MDI application E673: Incompatible multi-byte encoding and character set. E674: printmbcharset cannot be empty with multi-byte encoding. E675: No default font specified for multi-byte printing. E676: No matching autocommands for acwrite buffer E677: Error writing temp file E678: Invalid character after %s%%[dxouU] E679: recursive loop loading syncolor.vim E67: \z1 et al. not allowed here E680: <buffer=%d>: invalid buffer number  E681: Buffer is not loaded E682: Invalid search pattern or delimiter E683: File name missing or invalid pattern E684: list index out of range: %ld E685: Internal error: %s E686: Argument of %s must be a List E687: Less targets than List items E688: More targets than List items E689: Can only index a List or Dictionary E68: Invalid character after \z E690: Missing "in" after :for E691: Can only compare List with List E692: Invalid operation for List E694: Invalid operation for Funcrefs E695: Cannot index a Funcref E696: Missing comma in List: %s E697: Missing end of List ']': %s E698: variable nested too deep for making a copy E699: Too many arguments E69: Missing ] after %s%%[ E700: Unknown function: %s E701: Invalid type for len() E702: Sort compare function failed E703: Using a Funcref as a Number E704: Funcref variable name must start with a capital: %s E705: Variable name conflicts with existing function: %s E707: Function name conflicts with variable: %s E708: [:] must come last E709: [:] requires a List value E70: Empty %s%%[] E710: List value has more items than target E711: List value has not enough items E712: Argument of %s must be a List or Dictionary E713: Cannot use empty key for Dictionary E714: List required E715: Dictionary required E716: Key not present in Dictionary: %s E717: Dictionary entry already exists E718: Funcref required E719: Cannot use [:] with a Dictionary E71: Invalid character after %s%% E720: Missing colon in Dictionary: %s E721: Duplicate key in Dictionary: "%s" E722: Missing comma in Dictionary: %s E723: Missing end of Dictionary '}': %s E724: variable nested too deep for displaying E725: Calling dict function without Dictionary: %s E726: Stride is zero E727: Start past end E728: Using a Dictionary as a Number E729: using Funcref as a String E72: Close error on swap file E730: using List as a String E731: using Dictionary as a String E732: Using :endfor with :while E733: Using :endwhile with :for E734: Wrong variable type for %s= E735: Can only compare Dictionary with Dictionary E736: Invalid operation for Dictionary E737: Key already exists: %s E738: Can't list variables for %s E739: Cannot create directory: %s E73: tag stack empty E740: Too many arguments for function %s E741: Value is locked: %s E742: Cannot change value of %s E743: variable nested too deep for (un)lock E744: NetBeans does not allow changes in read-only files E745: Using a List as a Number E746: Function name does not match script file name: %s E747: Cannot change directory, buffer is modified (add ! to override) E748: No previously used register E749: empty buffer E74: Command too complex E750: First use ":profile start {fname}" E751: Output file name must not have region name E752: No previous spell replacement E753: Not found: %s E754: Only up to 8 regions supported E755: Invalid region in %s E756: Spell checking is not enabled E757: This does not look like a spell file E758: Truncated spell file E75: Name too long E760: No word count in %s E761: Format error in affix file FOL, LOW or UPP E762: Character in FOL, LOW or UPP is out of range E763: Word characters differ between spell files E764: Option '%s' is not set E765: 'spellfile' does not have %ld entries E766: Insufficient arguments for printf() E767: Too many arguments to printf() E768: Swap file exists: %s (:silent! overrides) E769: Missing ] after %s[ E76: Too many [ E770: Unsupported section in spell file E771: Old spell file, needs to be updated E772: Spell file is for newer version of Vim E773: Symlink loop for "%s" E774: 'operatorfunc' is empty E775: Eval feature not available E776: No location list E777: String or List expected E778: This does not look like a .sug file: %s E779: Old .sug file, needs to be updated: %s E77: Too many file names E780: .sug file is for newer version of Vim: %s E781: .sug file doesn't match .spl file: %s E782: error while reading .sug file: %s E783: duplicate char in MAP entry E784: Cannot close last tab page E785: complete() can only be used in Insert mode E786: Range not allowed E787: Buffer changed unexpectedly E788: Not allowed to edit another buffer now E789: Missing ']': %s E78: Unknown mark E790: undojoin is not allowed after undo E791: Empty keymap entry E792: Empty menu name E793: No other buffer in diff mode is modifiable E794: Cannot set variable in the sandbox: "%s" E795: Cannot delete variable %s E797: SpellFileMissing autocommand deleted buffer E798: ID is reserved for ":match": %ld E799: Invalid ID: %ld (must be greater than or equal to 1) E79: Cannot expand wildcards E800: Arabic cannot be used: Not enabled at compile time
 E801: ID already taken: %ld E802: Invalid ID: %ld (must be greater than or equal to 1) E803: ID not found: %ld E804: Cannot use '%' with Float E805: Using a Float as a Number E806: using Float as a String E807: Expected Float argument for printf() E808: Number or Float required E809: #< is not available without the +eval feature E80: Error while writing E810: Cannot read or write temp files E811: Not allowed to change buffer information now E812: Autocommands changed buffer or buffer name E813: Cannot close autocmd window E814: Cannot close window, only autocmd window would remain E815: Sorry, this command is disabled, the MzScheme libraries could not be loaded. E816: Cannot read patch output E817: Blowfish big/little endian use wrong E818: sha256 test failed E819: Blowfish test failed E81: Using <SID> not in a script context E820: sizeof(uint32_t) != 4 E821: File is encrypted with unknown method E822: Cannot open undo file for reading: %s E823: Not an undo file: %s E824: Incompatible undo file: %s E825: Corrupted undo file (%s): %s E826: Undo file decryption failed: %s E827: Undo file is encrypted: %s E828: Cannot open undo file for writing: %s E829: write error in undo file: %s E82: Cannot allocate any buffer, exiting... E830: Undo number %ld not found E831: bf_key_init() called with empty password E832: Non-encrypted file has encrypted undo file: %s E833: %s is encrypted and this version of Vim does not support encryption E834: Conflicts with value of 'listchars' E835: Conflicts with value of 'fillchars' E836: This Vim cannot execute :python after using :py3 E837: This Vim cannot execute :py3 after using :python E838: netbeans is not supported with this GUI E839: Completion function changed window E83: Cannot allocate buffer, using other one... E840: Completion function deleted text E841: Reserved name, cannot be used for user defined command E842: no line number to use for "<slnum>" E843: Error while updating swap file crypt E844: invalid cchar value E845: Insufficient memory, word list will be incomplete E846: Key code not set E847: Too many syntax includes E848: Too many syntax clusters E849: Too many highlight and syntax groups E84: No modified buffer found E850: Invalid register name E851: Failed to create a new process for the GUI E852: The child process failed to start the GUI E853: Duplicate argument name: %s E854: path too long for completion E855: Autocommands caused command to abort E858: Eval did not return a valid python object E859: Failed to convert returned python object to vim value E85: There is no listed buffer E862: Cannot use g: here E864: \%#= can only be followed by 0, 1, or 2. The automatic engine will be used  E865: (NFA) Regexp end encountered prematurely E866: (NFA regexp) Misplaced %c E867: (NFA) Unknown operator '\%%%c' E867: (NFA) Unknown operator '\z%c' E868: Error building NFA with equivalence class! E869: (NFA) Unknown operator '\@%c' E86: Buffer %ld does not exist E870: (NFA regexp) Error reading repetition limits E871: (NFA regexp) Can't have a multi follow a multi ! E872: (NFA regexp) Too many '(' E873: (NFA regexp) proper termination error E874: (NFA) Could not pop the stack ! E875: (NFA regexp) (While converting from postfix to NFA), too many states left on stack E876: (NFA regexp) Not enough space to store the whole NFA  E877: (NFA regexp) Invalid character class: %ld E878: (NFA) Could not allocate memory for branch traversal! E879: (NFA regexp) Too many \z( E87: Cannot go beyond last buffer E881: Line count changed unexpectedly E882: Uniq compare function failed E883: search pattern and expression register may not contain two or more lines E884: Function name cannot contain a colon: %s E885: Not possible to change sign %s E886: Can't rename viminfo file to %s! E887: Sorry, this command is disabled, the Python's site module could not be loaded. E888: (NFA regexp) cannot repeat %s E88: Cannot go before first buffer E890: trailing char after ']': %s]%s E891: Using a Funcref as a Float E892: Using a String as a Float E893: Using a List as a Float E894: Using a Dictionary as a Float E895: Sorry, this command is disabled, the MzScheme's racket/base module could not be loaded. E898: socket() in channel_open() E89: No write since last change for buffer %ld (add ! to override) E901: gethostbyname() in channel_open() E902: Cannot connect to port E903: received command with non-string argument E904: last argument for expr/call must be a number E904: third argument for call must be a list E905: received unknown command: %s E906: not an open channel E907: Using a special value as a Float E908: using an invalid value as a String E909: Cannot index a special variable E90: Cannot unload last buffer E910: Using a Job as a Number E911: Using a Job as a Float E912: cannot use ch_evalexpr()/ch_sendexpr() with a raw or nl channel E913: Using a Channel as a Number E914: Using a Channel as a Float E915: in_io buffer requires in_buf or in_name to be set E916: not a valid job E917: Cannot use a callback with %s() E918: buffer must be loaded: %s E919: Directory not found in '%s': "%s" E91: 'shell' option is empty E920: _io file requires _name to be set E921: Invalid callback argument E922: expected a dict E923: Second argument of function() must be a list or a dict E924: Current window was closed E925: Current quickfix was changed E926: Current location list was changed E927: Invalid action: '%s' E928: String required E929: Too many viminfo temp files, like %s! E92: Buffer %ld not found E930: Cannot use :redir inside execute() E931: Buffer cannot be registered E932: Closure function should not be at top level: %s E933: Function was deleted: %s E934: Cannot jump to a buffer that does not have a name E935: invalid submatch number: %d E93: More than one match for %s E94: No matching buffer for %s E95: Buffer with this name already exists E96: Cannot diff more than %ld buffers E97: Cannot create diffs E98: Cannot read diff output E99: Current buffer is not in diff mode ERROR:  Edit File Edit File in new window Edit with &Vim Edit with &multiple Vims Edit with existing Vim -  Edit with single &Vim Edits the selected file(s) with Vim Encoding: End of function End of sourced file Enter encryption key:  Enter number of swap file to use (0 to quit):  Enter same key again:  Entering Debug mode.  Type "cont" to continue. Entering Ex mode.  Type "visual" to go to Normal mode. Error Error and interrupt Error creating process: Check if gvim is in your path! Error detected while processing %s: Error file Estimated runtime memory use: %d bytes Exception Exception caught: %s Exception discarded: %s Exception finished: %s Exception thrown: %s Executing %s Expected MAP count in %s line %d Expected REP(SAL) count in %s line %d Expected Y or N in %s line %d: %s Expression External submatches:
 FLAG after using flags in %s line %d: %s Failed to set path hook: sys.path_hooks is not a list
You should now do the following:
- append vim.path_hook to sys.path_hooks
- append vim.VIM_SPECIAL_PATH to sys.path
 Failed to set path: sys.path is not a list
You should now append vim.VIM_SPECIAL_PATH to sys.path File "%s" does not exist File contents changed, cannot use undo info File permissions of "%s" are read-only.
It may still be possible to write it.
Do you wish to try? File preserved Files Filter Find & Replace (use '\\' to find  a '\') Find &Next Find Next Find string (use '\\' to find  a '\') Find what: Finished reading undo file %s First duplicate word in %s line %d: %s Flag is not a number in %s line %d: %s Font '%s' is not fixed-width Font%ld width is not twice that of font0 Font0 width: %ld Font0: %s Font1 width: %ld Font1: %s Font: For option %s Garbage after option argument Greetings, Vim user! Help poor children in Uganda! Hit end of paragraph I/O ERROR Ignored %d word(s) with non-ASCII characters in %s Ignored %d words with non-ASCII characters Ignoring long line in tags file Illegal file name Illegal flag in %s line %d: %s Illegal register name Illegal starting char Input Line Input _Methods Interrupt Interrupt:  Interrupted Invalid argument for Invalid font specification Invalid region nr in %s line %d: %s Invalid value for FLAG in %s line %d: %s Keys don't match! Kill a connection Linking:  List or number required Lua library cannot be loaded. Match case Match whole word only Message Messages maintainer: Bram Moolenaar <Bram@vim.org> Missing '>' Missing FOL/LOW/UPP line in %s Missing SOFO%s line in %s Modified by  Name: Need %s version %ld
 Need Amigados version 2.04 or later
 Need encryption key for "%s" NetBeans disallows writes of unmodified buffers New tab No No Syntax items defined for this buffer No abbreviation found No breakpoints defined No display No display: Send expression failed.
 No entries No included files No mapping found No marks set No match at cursor, finding next No matching autocommands No old files No swap file No text to be printed No undo possible; continue anyway No user-defined commands found Not Used Not enough memory to set references, garbage collection aborted! Not reading undo file, owner differs: %s Nothing to undo Number of words after soundfolding: %ld OK Open File dialog Open Tab... Open tab... Opening the X display failed Opening the X display timed out Opening the X display took %ld msec Original file "%s" Overwrite existing file "%s"? Page %d Partial writes disallowed for NetBeans buffers Patch file Path length too long! Pathname: Pattern found in every line: %s Pattern not found Pattern not found: %s Performing soundfolding... Press ENTER or type command to continue Print job sent. Printed: %s Printing '%s' Printing aborted Printing page %d (%d%%) Query for a pattern Question Reading affix file %s ... Reading back spell file... Reading dictionary file %s ... Reading from stdin... Reading spell file "%s" Reading undo file: %s Reading viminfo file "%s"%s%s%s Reading word file %s ... Recovery completed. Buffer contents equals file contents. Recovery completed. You should check if everything is OK. Reinit all connections Replace Replace &All Replace All Replace with: Running in Vi compatible mode Running modeless, typed text is inserted Save As Save File dialog Save Redirection Save Session Save Setup Save View Save changes to "%s"? Scanning dictionary: %s Scanning included file: %s Scanning tags. Scanning: %s Scrollbar Widget: Could not get geometry of thumb pixmap. Search String Searching for "%s" Searching for "%s" in "%s" Searching included file %s Searching tags file %s See ":help E312" for more information. See ":help W11" for more info. See ":help W12" for more info. See ":help W16" for more info. Select Directory dialog Selected %s%ld of %ld Lines; %lld of %lld Words; %lld of %lld Bytes Selected %s%ld of %ld Lines; %lld of %lld Words; %lld of %lld Chars; %lld of %lld Bytes Selection Sending to printer... Show connections Show size in Points Show this message Signs for %s: Size: Skipping undo file write, nothing to undo Sorry, help file "%s" not found Sorry, no suggestions Sorry, only %ld suggestions Sorry, this command is disabled: the Perl library could not be loaded. Source Vim script Sponsor Vim development! Stack size increases Style: Substitute  Swap file " Swap file "%s" exists, overwrite anyway? Swap file already exists! Swap file is encrypted: "%s" Swap files found: Switching to backtracking RE engine for pattern:  Tab page %d Tear off this menu Testing the X display failed Thanks for flying Vim The file was created on  The only match This Vim was not compiled with the diff feature. This cscope command does not support splitting the window.
 Too many "+command", "-c command" or "--cmd command" arguments Too many compound flags Too many edit arguments Too many postponed prefixes Too many postponed prefixes and/or compound flags Too many regions in %s line %d: %s Top Total number of words: %d Trailing text in %s line %d: %s Type  :quit<Enter>  to exit Vim Type number and <Enter> (empty cancels):  Type number and <Enter> or click with mouse (empty cancels):  Unable to read block 0 from  Unable to register a command server name Unknown Unknown option argument Unrecognized flags in %s line %d: %s Unrecognized or duplicate item in %s line %d: %s Untitled Up Use Vim version 3.0.
 Used CUT_BUFFER0 instead of empty selection Using crypt key from swap file for the text file.
 Using swap file "%s" VIM - ATTENTION VIM - Search and Replace... VIM - Search... VIM - Vi IMproved VIM Error VIM: Can't open window!
 VIMRUN.EXE not found in your $PATH.
External commands will not pause after completion.
See  :help win32-vimrun  for more information. Vim - Font Selector Vim E458: Cannot allocate colormap entry, some colors may be incorrect Vim Warning Vim dialog Vim error Vim error: ~a Vim exiting with %d
 Vim is open source and freely distributable Vim: Caught %s event
 Vim: Error reading input, exiting...
 Vim: Error: Failure to start gvim from NetBeans
 Vim: Error: This version of Vim does not run in a Cygwin terminal
 Vim: Main window unexpectedly destroyed
 Vim: Reading from stdin...
 Vim: Received "die" request from session manager
 Vim: Warning: Input is not from a terminal
 Vim: Warning: Output is not to a terminal
 W10: Warning: Changing a readonly file W11: Warning: File "%s" has changed since editing started W12: Warning: File "%s" has changed and the buffer was changed in Vim as well W13: Warning: File "%s" has been created after editing started W14: Warning: List of file names overflow W15: Warning: Wrong line separator, ^M may be missing W16: Warning: Mode of file "%s" has changed since editing started W17: Arabic requires UTF-8, do ':set encoding=utf-8' W18: Invalid character in group name W19: Deleting augroup that is still in use WARNING: The file has been changed since reading it!!! WARNING: Windows 95/98/ME detected Warning Warning: Cannot find word list "%s.%s.spl" or "%s.ascii.spl" Warning: Cannot find word list "%s_%s.spl" or "%s_ascii.spl" Warning: Entered other buffer unexpectedly (check autocommands) Warning: Using a weak encryption method; see :help 'cm' Warning: both compounding and NOBREAK specified Warning: region %s not supported Warning: terminal cannot highlight While opening file " Will not overwrite with undo file, cannot read: %s Will not overwrite, this is not an undo file: %s Window position: X %d, Y %d Word '%.*s' added to %s Word '%.*s' removed from %s Word from other line Write partial file? Writing spell file %s ... Writing suggestion file %s ... Writing undo file: %s Writing viminfo file "%s" Wrong CHECKCOMPOUNDPATTERN value in %s line %d: %s Wrong COMPOUNDMIN value in %s line %d: %s Wrong COMPOUNDRULES value in %s line %d: %s Wrong COMPOUNDSYLMAX value in %s line %d: %s Wrong COMPOUNDWORDMAX value in %s line %d: %s XSMP ICE connection watch failed XSMP SmcOpenConnection failed: %s XSMP handling save-yourself request XSMP lost ICE connection XSMP opening connection YES Yes Zero count [CONVERSION ERROR in line %ld] [CR missing] [Deleted] [Device] [File too big] [Help] [ILLEGAL BYTE in line %ld] [Incomplete last line] [Location List] [NOT converted] [New DIRECTORY] [New File] [New file] [New] [No Name] [No write since last change]
 [Not edited] [Permission Denied] [Preview] [Quickfix List] [READ ERRORS] [RO] [Read errors] [Scratch] [calls] total re/malloc()'s %lu, total free()'s %lu

 [character special] [converted] [crypted] [dos format] [dos] [fifo/socket] [fifo] [file ..]       edit specified file(s) [long lines split] [mac format] [mac] [noeol] [readonly] [socket] [unix format] [unix] _Cancel _Close _OK _Open _Save add() argument after and run diff with the original file to check for changes) attempt to assign sequence of size %d to extended slice of size %d attempt to assign sequence of size greater than %d to extended slice attempt to refer to deleted buffer attempt to refer to deleted tab page attempt to refer to deleted window auto-removing autocommand: %s <buffer=%d> autocommand %s before block of %ld lines yanked block of 1 line yanked buffer is invalid by  by Bram Moolenaar et al. called inputrestore() more often than inputsave() calling %s can't delete OutputObject attributes can't read output of 'charconvert' cannot change console mode ?!
 cannot create buffer/window command: object is being deleted cannot delete line cannot delete vim.Dictionary attributes cannot delete vim.List attributes cannot get line cannot insert line cannot insert/append line cannot modify fixed dictionary cannot modify fixed list cannot open  cannot register callback command: buffer/window is already being deleted cannot register callback command: buffer/window reference not found cannot replace line cannot save undo information cannot set attribute %s cannot set line(s) cannot yank; delete anyway change changes close cmd: %s continuing in %s could not source "%s" couldn't open buffer cs_create_connection exec failed cs_create_connection setpgid failed cs_create_connection: fdopen for fr_fp failed cs_create_connection: fdopen for to_fp failed cscope commands:
 cscope connection %s closed cursor position outside buffer defaulting to ' deleted block 1? dictionary is locked did not switch to the specified tab page did not switch to the specified window dlerror = "%s" don't quit the editor until the file is successfully written! empty keys are not allowed environment variable error converting Scheme values to Vim error handler expected 3-tuple as imp.find_module() result, but got %s expected 3-tuple as imp.find_module() result, but got tuple of size %d expected bytes() or str() instance, but got %s expected int() or something supporting coercing to int(), but got %s expected int(), long() or something supporting coercing to long(), but got %s expected sequence element of size 2, but got sequence of size %d expected str() or unicode() instance, but got %s expected vim.Buffer object, but got %s expected vim.TabPage object, but got %s expected vim.Window object, but got %s expressions disabled at compile time extend() argument failed to add item to list failed to add key '%s' to dictionary failed to change directory failed to find window in the current tab page failed to rename buffer failed to run function %s failed to run the code failed to switch to buffer %d fewer lines file
 filename / context / line
 filter() argument finished sourcing %s frame at highest level: %d frame is zero freeing %ld lines function %s does not exist gvimext.dll error hashtab changed during iteration help hidden option in path ---
 index must be int or slice, not %s insert() argument internal error: NULL reference passed internal error: failed to add item to list internal error: failed to get vim list item %d internal error: imp.find_module returned tuple with NULL internal error: invalid value type internal error: no vim list item %d internal error: not enough list items internal error: unknown option type invalid attribute: %s invalid buffer number invalid expression invalid mark name is a device (disabled with 'opendevice' option) is a directory is not a file is not a file or writable device is read-only (add ! to override) keyboard interrupt line %4ld: line %6d, word %6d - %s line %ld line %ld of %ld --%d%%-- col  line %ld: %s line %ld: could not source "%s" line %ld: sourcing "%s" line less line number out of range linenr out of range list constructor does not accept keyword arguments list index out of range list is locked logoff map() argument mark name must be a single character mark not set match %d match %d of %d maximal  mch_get_shellsize: not a console??
 menu  Edit->Global Settings->Toggle Insert Mode   menu  Edit->Global Settings->Toggle Vi Compatible menu  Help->Orphans           for information     menu  Help->Sponsor/Register  for information     minimal  modeline more line more lines netbeans is not supported with this GUI
 new shell started
 no no cscope connections
 no specific match no such tab page no such window no syncing not allowed in the Vim sandbox not found  not found in '%s': "%s" not implemented yet number changes  when               saved number must be greater or equal to zero number must be greater than zero pe_line_count is zero pre-vimrc command line problem while switching windows readonly attribute: buffer recording remove() argument replace with %s (y/n/a/q/l/^E/^Y)? reverse() argument row %d column %d search hit BOTTOM, continuing at TOP search hit TOP, continuing at BOTTOM shell  shell returned %d shutdown slice step cannot be zero sort() argument sourcing "%s" stack_idx should be 0 string cannot contain newlines syncing on C-style comments syncing starts  syntax iskeyword  tag %d of %d%s tagname to %s on %s type  :help cp-default<Enter> for info on this type  :help iccf<Enter>       for information  type  :help register<Enter>   for information  type  :help sponsor<Enter>    for information  type  :help version8<Enter>   for version info type  :help windows95<Enter>  for info on this type  :help<Enter>  or  <F1>  for on-line help type  :q<Enter>               to exit          type  :set nocp<Enter>        for Vim defaults unable to convert %s to vim dictionary unable to convert %s to vim list unable to convert %s to vim structure unable to get option value unable to unset global option %s unable to unset option %s which does not have global value uniq() argument unknown unknown flag:  unknown option unknown vimOption unnamed function %s does not exist value is too large to fit into C int type value is too small to fit into C int type version  vim error window index is out of range window is invalid with (classic) GUI. with Carbon GUI. with Cocoa GUI. with GTK2 GUI. with GTK2-GNOME GUI. with GTK3 GUI. with GUI. with Photon GUI. with X11-Athena GUI. with X11-Motif GUI. with X11-neXtaw GUI. without GUI. writing to device disabled with 'opendevice' option Project-Id-Version: Vim(Esperanto)
Report-Msgid-Bugs-To: 
POT-Creation-Date: 2016-08-26 20:54+0200
PO-Revision-Date: 2016-08-26 20:30+0200
Last-Translator: Dominique PELLÉ <dominique.pelle@gmail.com>
Language-Team: 
Language: eo
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit
 
	Laste ŝaltita de  

Argumentoj:
 

  uzo: 
          modifita:  
         [neuzebla per tiu komputilo] 
         [ne uzebla per tiu versio de Vim] 
    komputila nomo:  
        uzantonomo:  
        proceza ID:  
       a: Trovi valirizojn al tiu simbolo
       c: Trovi funkciojn, kiuj alvokas tiun funkcion
       d: Trovi funkciojn alvokataj de tiu funkcio
       e: Trovi tiun egrep-ŝablonon
       f: Trovi tiun dosieron
       g: Trovi tiun difinon
       i: Trovi dosierojn, kiuj inkluzivas (#include) tiun dosieron
       s: Trovi tiun C-simbolon
       t: Trovi tiun ĉenon
 
    Nomo        Argumentoj Adreso    Kompleto  Difino 
 nro   linio 
   aŭ: 
nro AL etikedo     DE   linio en dosiero/teksto 
 salt linio kol dosiero/teksto 
# Historio %s (de plej nova al plej malnova):
 
# Linioj komencantaj per |, kopiitaj sen ŝanĝo:
 
# Listo de bufroj:
 
# Markoj de dosiero:
 
# Historio de markoj en dosieroj (de plej nova al plej malnova):
 
# Saltlisto (plej novaj unue):
 
# Lasta serĉa ŝablono %s:
~ 
# Lasta anstataŭigita ĉeno:
$ 
# Reĝistroj:
 
# mallokaj variabloj:
 
(1) Alia programo eble redaktas la saman dosieron. Se jes, estu singarda
    por ne havi du malsamajn aperojn de la sama dosiero, kiam vi faros
    ŝanĝojn. Eliru aŭ daŭrigu singarde.
 
(Indas konservi tiun dosieron per alia nomo
 
--- Aŭto-Komandoj --- 
--- Mallokaj opcioj --- 
--- Valoroj de lokaj opcioj --- 
--- Menuoj --- 
--- Opcioj --- 
--- Reĝistroj --- 
--- Emfazaj simbolaĵoj --- 
--- Sintakseroj --- 
--- Eroj de sintaksa sinkronigo --- 
--- Kodoj de terminalo --- 
--- Klavoj de terminalo --- 
Argumentoj agnoskitaj de gvim (versio Athena):
 
Argumentoj agnoskitaj de gvim (versio GTK+):
 
Argumentoj agnoskitaj de gvim (versio Motif):
 
Argumentoj agnoskitaj de gvim (versio neXtaw):
 
Granda versio  
Ne eblas krei duktojn
 
Ne eblas plenumi ŝelon  
Ne eblas plenumi ŝelon sh
 
Ne eblas forki
 
Komando terminigita
 
Kompilita  
Ne povis akiri kuntekston de sekureco por  
Ne povis ŝalti kuntekston de sekureco por  
Ekstraj flikaĵoj:  
Trovis permutodosieron .swp kun la nomo " 
Grandega versio  
Se vi tajpis novan ŝlosilon de ĉifrado sed ne skribis la tekstan dosieron, 
Se vi skribis la tekstan dosieron post ŝanĝo de la ŝlosilo de ĉifrado, premu enenklavon 
Flikaĵoj inkluzivitaj:  
Grafika versio MS-Vindozo 16/32-bitoj 
Grafika versio MS-Vindozo 32-bitoj 
Versio konzola MS-Vindozo 32-bitoj 
Grafika versio MS-Vindozo 64-bitoj 
Versio konzola MS-Vindozo 64-bitoj 
Versio Mak OS X (unikso) 
Versio Mak OS X 
Versio Mak OS 
Eble neniu ŝanĝo estis farita aŭ Vim ne ĝisdatigis la permutodosieron .swp. 
Pliaj informoj per: "vim -h"
 
Normala versio  
Versio OpenVMS 
Malgranda versio  
Malgrandega versio  
Vim: Alvenis X eraro
 
AVERTO: Originala dosiero estas eble perdita aŭ difekta
 
Kie uskleco estas ignorita antaŭaldonu / por igi flagon majuskla 
La dosiero .swp nun forviŝindas.

 
[bajtoj] totalaj disponigitaj/maldisponigitaj %lu-%lu, nun uzataj %lu, kulmina uzo %lu
 
ŝanĝo  linio kol teksto 
tajpu la novan ŝlosilon de ĉifrado. 
mark linio kol dosiero/teksto 
ŝelo liveris  
sinkronigo per eroj 
por uzi la saman ŝlosilon por la teksta dosiero kaj permuto dosiero .swp                                   por defaŭltoj de Vim                                    por du reĝimoj                      dato:         posedata de:           [nemalfermebla]          [nelegebla]          [ne aspektas kiel permutodosiero .swp de Vim]          [de Vim versio 3.0]         dosiernomo:             dosiero de defaŭltoj: "      -- nenio --
       PLI NOVA ol permutodosiero .swp!
          dosiero exrc de uzanto: "         dosiero vimrc de uzanto: "     Se veras, uzu ":recover" aŭ "vim -r      Se vi jam faris ĝin, forviŝu la permutodosieron .swp "     linio=%ld  id=%d  nomo=%s        dosiero de sistema menuo: "        dosiero gvimrc de uzanto: "    En la aktuala dosierujo:
    En dosierujo     Uzado de specifita nomo:
     dato:   komputila nomo:            sistema dosiero vimrc: " nro pri tipo etikedo   (Jam listigita)      2-a dosiero exrc de uzanto: "   SENCIMIGA MUNTO   Ebloj inkluzivitaj (+) aŭ ne (-):
   NETROVITA   TOTALO    NOMBRO  KONGRUO PLEJ MALRAPID  MEZA   NOMO               ŜABLONO   Uzo de etikedo kun malsama uskleco!                defaŭlto de $VIM: "          sistema dosiero gvimrc: "  # pid    nomo de datumbazo                   prefiksa vojo
  (Interrompita)   (NETROVITA)  (enhavas antaŭe listigitajn kongruojn)  (enmeto)  (enmeto) Rulumo (^E/^Y)  (forviŝita linio)  (nesubtenata)  (algluo)  (anstataŭigo)  (anstataŭigo) Rulumo (^E/^Y)  (ankoraŭ ruliĝas)  (v-anstataŭigo)     2-a dosiero vimrc de uzanto: "     3-a dosiero vimrc de uzanto: "  < "%.*s"  Aldonanta  araba  ERARO DE KONVERTO  Kompletigo de komanda linio (^V^N^P)  Kopio %d de %d  Kompletigo de difino (^D^N^P)  Kompletigo de vortaro (^K^N^P)  MALSUKCESIS  Kompletigo de dosiernomo (^F^N^P)  hebrea  ENMETO  Kompletigo loka de ŝlosilvorto (^N/^P)  Kompletigo de ŝlosilvorto (^N^P)  Kompletigo Omni (^O^N^P)  Kompletigo de ŝablona dosierindiko (^N^P)  ANSTATAŬIGO  INVERSI  APARTIGO  APARTIGITA BLOKO  APARTIGITA LINIO  SPACETO/d/j: ekrano/paĝo/sub linio, b/u/k: supre, q: eliri   Sugesto de literumo (s^N^P)  Kompletigo de etikedo (^]^N^P)  Kompletigo de tezaŭro (^T^N^P)  Kompletigo difinita de uzanto (^U^N^P)  VIDUMA  VIDUMA BLOKO  VIDUMA LINIO  V-ANSTATAŬIGO  Kompletigo de tuta linio (^L^N^P) [Modifita]  [a]  [s]  Reĝimo ^X (^]^D^E^F^I^K^L^N^O^Ps^U^V^Y)  postaldonita(j)  ne uzeblas per tiu komputilo.
  ne uzeblas per tiu versio de vim.
          defaŭlto de VIMRUNTIME: "  difektiĝis (paĝa grando pli malgranda ol minimuma valoro).
  en linio %ld;  informo  tipo de dosiero
  liniavancoj  linioj antaŭ supra linio  markoj  malnovaj dosieroj  en %ld linioj  en 1 linio  aŭ pli  liveris
  vim [argumentoj]   kun subteno de OLE  skribita(j) "
    por eviti tiun mesaĝon.
 "
    por restaŭri la ŝanĝojn (vidu ":help recovery").
 " jam ekzistas! # Tiu dosiero viminfo estis kreita de Vim %s.
 # Valoro de 'encoding' kiam tiu dosiero estis kreita
 # Vi povas redakti ĝin se vi estas singarda.

 %-5s: %s%*s (Uzo: %s) %3d  %s %s  linio %ld %<%f%h%m%=Folio %N %d bufroj forviŝitaj %d bufroj malŝargitaj %d bufroj detruitaj %d ripetita(j) vorto(j) en %s %d redaktendaj dosieroj
 %d pliaj redaktendaj dosieroj. Ĉu tamen eliri? %d de %d redaktita(j) %ld %s; %s #%ld  %s %ld Kolumnoj;  %ld malpliaj linioj %ld linioj %sitaj %d foje %ld linio %sita 1 foje %ld linioj --%d%%-- %ld linioj ŝanĝitaj %ld linioj filtritaj %ld linioj krommarĝenitaj  %ld linioj movitaj %ld krommarĝenendaj linioj...  %ld linioj kopiitaj %ld linioj,  %ld kongruoj %ld pliaj linioj antaŭ %ld sekundoj %ld anstataŭigoj %lld signoj %s Aŭtokomandoj por "%s" %s ĉesigita %s ne konservita(j) %s linio %ld %s iĝis atendanta(j) %s daŭrigita(j) %s liveras #%ld %s liveras %s Valoro de %s malsamas ol tiu en alia dosiero .aff %s, linio %ld %slisto de eraroj %d de %d; %d eraroj %sviminfo: %s en linio:  &Rezigni &Forlasi &Filtri &Helpo &Bone &Bone
&Rezigni &Bone
Ŝ&argi Dosieron &Bone &Malfermi nurlegreĝime
Tamen &redakti
Res&taŭri
&Forviŝi
&Eliri
Ĉe&sigi &Malfermi nurlegreĝime
Tamen &redakti
Res&taŭri
&Eliri
Ĉe&sigi &Anstataŭigi &Malfari &Jes
&Ne &Jes
&Ne
&Rezigni &Jes
&Ne
&Konservi Ĉion
&Forlasi Ĉion
&Rezigni ' nekonata. Haveblaj terminaloj estas: '-nb' ne uzeblas: malŝaltita dum kompilado
 'columns' ne estas 80, ne eblas plenumi eksterajn komandojn La opcio 'dictionary' estas malplena opcio 'history' estas nul La opcio 'readonly' estas ŝaltita por "%s".
Ĉu vi tamen volas skribi? La opcio 'thesaurus' estas malplena (%d de %d)%s%s:  (+%ld por BOM) (2) Redakta seanco de tiu dosiero kolapsis.
 (Interrompita)  (Nevalida) (NFA) NE POVIS MALFERMI %s! +			Komenci ĉe la fino de la dosiero +-%s%3ld linio:  +-%s%3ld linioj:  +--%3ld linio faldita  +--%3ld linioj falditaj  +<numL>		Komenci ĉe linio <numL> +reverse		Ne uzi inversan videon (ankaŭ: +rv) ,
aŭ la dosiero estas difekta. -                legi tekston el stdin --			Nur dosiernomoj post tio -- Pli -- -- Serĉanta... --- Inkluzivitaj dosieroj  --Forviŝita-- --Neniu linio en bufro-- --cmd <komando>	Plenumi <komando>-n antaŭ ol ŝargi iun ajn dosieron vimrc --cmd argumento --echo-wid		Igas gvim afiŝi la identigilon de vindozo sur stdout --literal		Ne malvolvi ĵokerojn --noplugin		Ne ŝargi kromaĵajn skriptojn --not-a-term		Preterpasi averton por enigo/eligo, kiu ne estas terminalo --remote <dosieroj>	Redakti <dosieroj>-n en Vim-servilo se eblas --remote-expr <espr>	Komputi <espr> en Vim-servilo kaj afiŝi rezulton --remote-send <klavoj> Sendi <klavoj>-n al Vim-servilo kaj eliri --remote-silent <dosieroj>  Same, sed ne plendi se ne estas servilo --remote-tab[-wait][-silent] <dosieroj> Kiel --remote sed uzi langeton por ĉiu dosiero --remote-wait <dosieroj>  Kiel --remote sed atendi ĝis dosieroj estas redaktitaj --remote-wait-silent <dosieroj> Same, sed ne plendi se ne estas servilo --role <rolo>	Doni unikan rolon por identigi la ĉefan fenestron --serverlist		Listigi haveblajn nomojn de Vim-serviloj kaj eliri --servername <nomo>	Sendu al/iĝi la Vim-servilo <nomo> --socketid <xid>	Malfermi Vim en alia GTK fenestraĵo --startuptime <dosiero>  Skribi mesaĝojn de komenca tempomezurado al <dosiero> --version		Afiŝi informon de versio kaj eliri --windowid <HWND>	Malfermi Vim en alia win32 fenestraĵo -A			Komenci en araba reĝimo -C			Kongrua kun Vi: 'compatible' -D			Sencimiga reĝimo -E			Plibonigita Ex-reĝimo -F			Komenci en persa reĝimo -H			Komenci en hebrea reĝimo -L			Kiel -r -M			Ŝanĝoj al teksto nepermeseblaj -N			Ne tute kongrua kun Vi: 'nocompatible' -O[N]		Kiel -o sed dividi vertikale -P <gepatra titolo>	Malfermi Vim en gepatra aplikaĵo -R			Nurlegebla reĝimo (kiel "view") -S <seanco>		Ruli dosieron <seanco>-n post kiam la unua dosiero ŝargiĝis -T <terminalo>	Agordi terminalon al <terminalo> -U <gvimrc>		Uzi <gvimrc> anstataŭ iun ajn .gvimrc -V[N][dosiernomo]	Esti babilema [nivelo N] [konservi mesaĝojn al dosiernomo] -W <eligaskripto>	Skribi ĉiujn tajpitajn komandojn al dosiero <eligaskripto> -X			Ne konekti al X-servilo -Z			Limigita reĝimo (kiel "rvim") -b			Duuma reĝimo -background <koloro>	Uzi <koloro>-n por la fona koloro (ankaŭ: -bg) -boldfont <tiparo>	Uzi <tiparo>-n por grasa teksto -borderwidth <larĝo>	Uzi <larĝo>-n kiel larĝo de bordero (ankaŭ: -bw) -c <komando>		Plenumi <komando>-n post kiam la unua dosiero ŝargiĝis -c argumento -d			Kompara reĝimo (kiel "vimdiff") -dev <aparatdosiero>		Uzi <aparatdosiero>-n por eneligo -display <ekrano>	Konekti Vim al tiu X-servilo -display <ekrano>	Lanĉi vim sur <ekrano> -display <ekrano>	Lanĉi Vim sur tiu <ekrano> (ankaŭ: --display) -e			Reĝimo Ex (kiel "ex") -f			Ne uzi newcli por malfermi fenestrojn -f  aŭ  --nofork	Malfono: ne forki kiam lanĉas grafikan interfacon -font <tiparo>	Uzi <tiparo>-n por normala teksto (ankaŭ: -fn) -foreground <koloro>	Uzi <koloro>-n por la malfona koloro (ankaŭ: -fg) -g			Ruli per grafika interfaco (kiel "gvim") -geometry <geom>	Uzi <geom> kiel komenca geometrio (ankaŭ: -geom) -h  aŭ  --help	Afiŝi Helpon (tiun mesaĝon) kaj eliri -i <viminfo>		Uzi <viminfo> anstataŭ .viminfo -iconic		Lanĉi vim piktograme -italicfont <tiparo>	Uzi <tiparo>-n por kursiva teksto -l			Reĝimo Lisp -m			Ŝanĝoj (skribo al dosieroj) nepermeseblaj -menuheight <alto>	Uzi <alto>-n kiel alto de menuzona alto (ankaŭ: -mh) -n			Neniu permutodosiero .swp, uzas nur memoron -o[N]		Malfermi N fenestrojn (defaŭlto: po unu por ĉiu dosiero) -p[N]		Malfermi N langetojn (defaŭlto: po unu por ĉiu dosiero) -q [erardosiero] redakti dosieron kun unua eraro -r			Listigi permutodosierojn .swp kaj eliri -r (kun dosiernomo)	Restaŭri kolapsintan seancon -register		Registri tiun gvim al OLE -reverse		Uzi inversan videon (ankaŭ: -rv) -s			Silenta (stapla) reĝimo (nur por "ex") -s <skripto>		Legi komandojn en Normala reĝimo el dosiero <skripto> -scrollbarwidth <larĝo>  Uzi <larĝo>-n kiel larĝo de rulumskalo (ankaŭ: -sw) -t etikedo       redakti dosieron kie etikedo estas difinata -u <vimrc>		Uzi <vimrc> anstataŭ iun ajn .vimrc -unregister		Malregistri gvim de OLE -v			Reĝimo Vi (kiel "vi") -w <eligaskripto>	Postaldoni ĉiujn tajpitajn komandojn al dosiero <eligaskripto> -x			Redakti ĉifradan dosieron -xrm <rimedo>	Agordi la specifitan <rimedo>-n -y			Facila reĝimo (kiel "evim", senreĝima) Linio / ignorita en %s linio %d: %s Linio /encoding= post vorto ignorita en %s linio %d: %s 1 bufro forviŝita 1 bufro malŝargita 1 bufro detruita 1 signo 1 linio %sita %d foje 1 linio %sita 1 foje 1 linio --%d%%-- 1 linio ŝanĝita 1 linio krommarĝenita  1 malplia linio 1 linio movita 1 linio kopiita 1 linio,  1 kongruo 1 plia redaktenda dosiero. Ĉu tamen eliri? 1 plia linio 1 anstataŭigo    2-a dosiero gvimrc de uzanto: "    3-a dosiero gvimrc de uzanto: " : Sendado de esprimo malsukcesis.
 : Sendo malsukcesis.
 : Sendo malsukcesis. Provo de loka plenumo
 ; kongruo  <%s>%s%s  %d,  Deksesuma %02x,  Okuma %03o <ne eblas malfermi>  <malplena> > %d, Deksesuma %04x, Okuma %o > %d, Deksesuma %08x, Okuma %o ??? ekde tie ĝis ???FINO linioj estas eble difektaj ??? ekde tie ĝis ???FINO linioj estas eble enmetitaj/forviŝitaj ???MANKAS BLOKO ???MALPLENA BLOKO ???FINO ???NOMBRO DE LINIOJ NE ĜUSTAS ???LINIOJ MANKANTAJ ???MULTAJ LINIOJ MANKAS ANCHOR_BUF_SIZE tro malgranda. Aldoni novan datumbazon Aldonis datumbazon de cscope %s Afikso ankaŭ uzata por BAD/RARE/KEEPCASE/NEEDAFFIX/NEEDCOMPOUND/NOSUGGEST en %s linio %d: %s Nomo de afikso tro longa en %s linio %d: %s Ĉio Reŝargo de ĉiuj datumbazoj de cscope Ĉiuj inkluzivitaj dosieroj estis trovitaj Jam al la plej nova ŝanĝo Jam al la plej malnova ŝanĝo Jam nur unu langeto Jam nur unu fenestro Postaldoni dosieron Argumento mankas post Ĉe linio Provas malfermi skriptan dosieron denove: " Reveninta al originalo Inversa amplekso donita, permuteblas Iĝu registrita uzanto de Vim! Bip! Antaŭ bajto %ld Subo Ambaŭ SAL kaj SOFO linioj en %s Kontrolpunkto en "%s%s" linio %ld Nevalida kondiĉo en %s linio %d: %s COMPOUNDSYLMAX uzita sen SYLLABLE Alvokas ŝelon por plenumi: "%s" Ne eblas trovi provizoran dosieron por konverti Rezigni Ne eblas krei  Ne eblas plenumi  Ne povas malfermi $VIMRUNTIME/rgb.txt Ne eblas malfermi NIL:
 Ne eblas malfermi dosieron "%s" Ne eblas malfermi en lega reĝimo: " Ne eblas malfermi por eligo de skripto: " Ne eblas ruli dosierujon: "%s" Ne eblis skribi malfaran dosieron en iu dosiero ajn de 'undodir' Anstataŭigi "%.*s" per: Fermi langeton Kol %s de %s; Linio %ld de %ld; Vorto %lld de %lld; Bajto %lld de %lld Kol %s de %s; Linio %ld de %ld; Vorto %lld de %lld; Signo %lld de %lld; Bajto %lld de %lld Komanda linio Kompilado:  Kompililo:  Densigis %d de %d nodoj; %d (%d%%) restantaj Densigas arbon de vortoj... Malsukceso dum konverto de vorto en %s linio %d: %s Konverto en %s nesubtenata Konverto en %s nesubtenata: de %s al %s Konverto kun 'charconvert' malsukcesis Ne eblis ripari referencojn de funkcioj al la DLL! Ne povis akiri kuntekston de sekureco %s por %s. Gi nun estas forigata! Ne eblis ŝargi vim32.dll! Ne povis malfermi la provizoran protokolan dosieron por skribi  Ne povis malfermi provizoran protokolan dosieron por skribi, nun montras sur stderr ... Ne povis ŝalti kuntekston de sekureco %s por %s Etikedo de cscope: %s Aktuala %slingvo: "%s" Sencimiga linio Difino de COMPOUNDFORBIDFLAG post ano PFX povas doni neĝustajn rezultojn en %s linio %d Difino de COMPOUNDPERMITFLAG post ano PFX povas doni neĝustajn rezultojn en %s linio %d Kompari per Vim Malsama flago de kombino en daŭra bloko de afikso en %s linio %d: %s Direkto Dosierujoj Dosierujo	*.nenio
 Ĉu vi vere volas skribi al ĝi Farita! Duobla ; en listo de variabloj Suben Ripetita linio /encoding= ignorita en %s linio %d: %s Ripetita linio /regions= ignorita en %s linio %d: %s Ripetita afikso en %s linio %d: %s Ripetita signo en MAP en %s linio %d Ripetita kamponomo: %s Ripetita vorto en %s linio %d: %s E100: Neniu alia bufro en dosierdiferenca reĝimo E101: Pli ol du bufroj en dosierdiferenca reĝimo, ne scias kiun uzi E102: Ne eblas trovi bufron "%s" E103: Bufro "%s" ne estas en dosierdiferenca reĝimo E104: Eskapsigno nepermesebla en duliteraĵo E105: Uzo de ":loadkeymap" nur eblas en vim-skripto E107: Mankas krampoj: %s E108: Ne estas tia variablo: "%s" E109: Mankas ':' post '?' E10: \ devus esti sekvita de /, ? aŭ & E110: Mankas ')' E111: Mankas ']' E112: Mankas nomo de opcio: %s E113: Nekonata opcio: %s E114: Mankas citilo: %s E115: Mankas citilo: %s E116: Nevalidaj argumentoj por funkcio: %s E117: Nekonata funkcio: %s E118: Tro da argumentoj por funkcio: %s E119: Ne sufiĉe da argumentoj por funkcio: %s E11: Nevalida en fenestro de komanda linio; <CR> plenumas, CTRL-C eliras E120: <SID> estas uzata ekster kunteksto de skripto: %s E121: Nedifinita variablo: %s E122: La funkcio %s jam ekzistas (aldonu ! por anstataŭigi ĝin) E123: Nedifinita funkcio: %s E124: Mankas '(': %s E125: Nevalida argumento: %s E126: Mankas ":endfunction" E127: Ne eblas redifini funkcion %s: Estas nuntempe uzata E128: Nomo de funkcio devas eki per majusklo aŭ per "s:": %s E129: Nomo de funkcio bezonata E12: Nepermesebla komando el exrc/vimrc en aktuala dosierujo aŭ etikeda serĉo E130: Nekonata funkcio: %s E131: Ne eblas forviŝi funkcion %s: Estas nuntempe uzata E132: Profundo de funkcia alvoko superas 'maxfuncdepth' E133: ":return" ekster funkcio E134: Movas liniojn en ilin mem E135: *Filtraj* Aŭtokomandoj ne rajtas ŝanĝi aktualan bufron E136: viminfo: Tro da eraroj, nun ignoras la reston de la dosiero E137: Dosiero viminfo ne skribeblas: %s E138: Ne eblas skribi dosieron viminfo %s! E139: Dosiero estas ŝargita en alia bufro E13: Dosiero ekzistas (aldonu ! por transpasi) E140: Uzu ! por skribi partan bufron E141: Neniu dosiernomo de bufro %ld E142: Dosiero ne skribita: Skribo malŝaltita per la opcio 'write' E143: Aŭtokomandoj neatendite forviŝis novan bufron %s E144: nenumera argumento de :z E145: Ŝelkomandoj nepermeseblaj en rvim E146: Ne eblas limigi regulesprimon per literoj E147: Ne eblas fari ":global" rekursie E148: Regulesprimo mankas el global E149: Bedaŭrinde estas neniu helpo por %s E14: Nevalida adreso E150: Ne estas dosierujo: %s E151: Neniu kongruo: %s E152: Ne eblas malfermi %s en skribreĝimo E153: Ne eblas malfermi %s en legreĝimo E154: Ripetita etikedo "%s" en dosiero %s/%s E155: Nekonata simbolo: %s E156: Mankas nomo de simbolo E157: Nevalida identigilo de simbolo: %ld E158: Nevalida nomo de bufro: %s E159: Mankas numero de simbolo E15: Nevalida esprimo: %s E160: Nekonata simbola komando: %s E161: Kontrolpunkto ne trovita: %s E162: Neniu skribo de post la lasta ŝanĝo por bufro "%s" E163: Estas nur unu redaktenda dosiero E164: Ne eblas iri antaŭ ol la unuan dosieron E165: Ne eblas iri preter la lastan dosieron E166: Ne eblas malfermi ligitan dosieron por skribi E167: ":scriptencoding" uzita ekster rulita dosiero E168: ":finish" uzita ekster rulita dosiero E169: Komando tro rekursia E16: Nevalida amplekso E170: Mankas ":endfor" E170: Mankas ":endwhile" E171: Mankas ":endif" E172: Nur unu dosiernomo permesebla E173: %ld pliaj redaktendaj dosieroj E173: 1 plia redaktenda dosiero E174: La komando jam ekzistas: aldonu ! por anstataŭigi ĝin E175: Neniu atributo specifita E176: Nevalida nombro de argumentoj E177: Kvantoro ne povas aperi dufoje E178: Nevalida defaŭlta valoro de kvantoro E179: argumento bezonata por -addr E179: argumento bezonata por -complete E17: "%s" estas dosierujo E180: Nevalida valoro de tipo de adreso: %s E180: Nevalida valoro de kompletigo: %s E181: Nevalida atributo: %s E182: Nevalida komanda nomo E183: Komandoj difinataj de uzanto devas eki per majusklo E184: Neniu komando-difinita-de-uzanto kiel: %s E185: Ne eblas trovi agordaron de koloroj '%s' E186: Neniu antaŭa dosierujo E187: Nekonata E188: Akiro de pozicio de fenestro ne estas realigita por tiu platformo E189: "%s" ekzistas (aldonu ! por transpasi) E18: Neatenditaj signoj en ":let" E190: Ne eblas malfermi "%s" por skribi E191: Argumento devas esti litero, citilo aŭ retrocitilo E192: Tro profunda rekursia alvoko de ":normal" E193: ":endfunction" ekster funkcio E194: Neniu alterna dosiernomo por anstataŭigi al '#' E195: Ne eblas malfermi dosieron viminfo en lega reĝimo E196: Neniu duliteraĵo en tiu versio E197: Ne eblas ŝanĝi la lingvon al "%s" E198: cmd_pchar preter la longo de komando E199: Aktiva fenestro aŭ bufro forviŝita E19: Marko havas nevalidan numeron de linio E200: La aŭtokomandoj *ReadPre igis la dosieron nelegebla E201: La aŭtokomandoj *ReadPre ne rajtas ŝanĝi la aktualan bufron E202: Konverto igis la dosieron nelegebla! E203: Aŭtokomandoj forviŝis aŭ malŝargis la skribendan bufron E204: Aŭtokomando ŝanĝis la nombron de linioj neatendite E205: Patchmode: ne eblas konservi originalan dosieron E206: patchmode: ne eblas tuŝi malplenan originalan dosieron E207: Ne eblas forviŝi restaŭrkopion E208: Eraro dum skribo de "%s" E209: Eraro dum fermo de "%s" E20: Marko ne estas agordita E210: Eraro dum lego de "%s" E211: Dosiero "%s" ne plu haveblas E212: Ne eblas malfermi la dosieron por skribi E213: Ne eblas konverti (aldonu ! por skribi sen konverto) E214: Ne eblas trovi provizoran dosieron por skribi E215: Nevalida signo post *: %s E216: Ne estas tia evento: %s E216: Ne ekzistas tia grupo aŭ evento: %s E217: Ne eblas plenumi aŭtokomandojn por ĈIUJ eventoj E218: aŭtokomando tro ingita E219: Mankas {. E21: Ne eblas fari ŝanĝojn, 'modifiable' estas malŝaltita E220: Mankas }. E222: Aldoni al lega bufro E223: rekursia mapo E224: malloka mallongigo jam ekzistas por %s E225: malloka mapo jam ekzistas por %s E226: mallongigo jam ekzistas por %s E227: mapo jam ekzistas por %s E228: makemap: Nevalida reĝimo E229: Ne eblas lanĉi la grafikan interfacon E22: Tro profunde ingitaj skriptoj E230: Ne eblas legi el "%s" E231: 'guifontwide' nevalida E232: Ne eblas krei BalloonEval kun ambaŭ mesaĝo kaj reagfunkcio E233: ne eblas malfermi vidigon E234: Nekonata familio de tiparo: %s E235: Nekonata tiparo: %s E236: La tiparo "%s" ne estas egallarĝa E237: Elekto de presilo malsukcesis E238: Eraro de presado: %s E239: Nevalida teksto de simbolo: %s E23: Neniu alterna dosiero E240: Neniu konekto al Vim-servilo E241: Ne eblas sendi al %s E243: Ne subtenata argumento: "-%s"; Uzu la version OLE. E244: Nevalida nomo de signaro "%s" en nomo de tiparo "%s" E244: Nevalida nomo de kvalito "%s" en nomo de tiparo "%s" E245: Nevalida signo '%c' en nomo de tiparo "%s" E246: Aŭtokomando FileChangedShell forviŝis bufron E247: neniu registrita servilo nomita "%s" E248: Sendo de komando al cela programo malsukcesis E24: Ne estas tia mallongigo E250: Tiparoj de tiuj signaroj mankas en aro de tiparo %s: E251: Ecoj de registro de apero de VIM estas nevalide formata. Forviŝita! E252: Nomo de tiparo: %s E253: Nomo de tiparo: %s E254: Ne eblas disponigi koloron %s E255: Ne eblis legi datumojn de simboloj! E256: ERARO en aŭtomato de korea alfabeto E257: cstag: etikedo netrovita E258: Ne eblas sendi al kliento E259: neniu kongruo trovita por serĉo per cscope %s de %s E25: Grafika interfaco ne uzeblas: Malŝaltita dum kompilado E261: konekto cscope %s netrovita E262: eraro dum legado de konekto de cscope %ld E263: Bedaŭrinde tiu komando estas malŝaltita: la biblioteko de Pitono ne ŝargeblis. E264: Pitono: Eraro de pravalorizo de eneligaj objektoj E265: $_ devas esti apero de Ĉeno E266: Bedaŭrinde tiu komando estas malŝaltita, la biblioteko Ruby ne ŝargeblis. E267: "return" neatendita E268: "next" neatendita E269: "break" neatendita E26: La hebrea ne uzeblas: Malŝaltita dum kompilado
 E270: "redo" neatendita E271: "retry" ekster klaŭzo "rescue" E272: netraktita escepto E273: nekonata stato de longjmp: %d E277: Ne eblas legi respondon de servilo E27: La persa ne uzeblas: Malŝaltita dum kompilado
 E280: NERIPAREBLA TCL-ERARO: reflist difekta!? Bv. retpoŝti al vim-dev@vim.org E282: Ne eblas legi el "%s" E283: Neniu marko kongruas kun "%s" E284: Ne eblas agordi valorojn de IC E285: Kreado de eniga kunteksto malsukcesis E286: Malfermo de eniga metodo malsukcesis E287: Averto: Ne eblis agordi detruan reagfunkcion al IM E288: eniga metodo subtenas neniun stilon E289: eniga metodo ne subtenas mian antaŭredaktan tipon E28: Neniu grupo de emfazo kiel: %s E293: bloko ne estis ŝlosita E294: Eraro de enpoziciigo dum lego de permutodosiero .swp E295: Eraro de lego en permutodosiero .swp E296: Eraro de enpoziciigo dum skribo de permutodosiero .swp E297: Skriberaro en permutodosiero .swp E298: Ĉu ne akiris blokon n-ro 0? E298: Ĉu ne akiris blokon n-ro 1? E298: Ĉu ne akiris blokon n-ro 2? E299: Plenumo de Perl esprimoj malpermesata en sabloludejo sen la modulo Safe E29: Ankoraŭ neniu enmetita teksto E300: Permutodosiero .swp jam ekzistas (ĉu atako per simbola ligilo?) E301: Ve, perdis la permutodosieron .swp!!! E302: Ne eblis renomi la permutodosieron .swp E303: Ne eblas malfermi permutodosieron .swp de "%s", restaŭro neeblas E304: ml_upd_block0(): Ne akiris blokon 0?? E305: Neniu permutodosiero .swp trovita por %s E306: Ne eblas malfermi %s E307: %s ne aspektas kiel permutodosiero .swp de Vim E308: Averto: Originala dosiero eble ŝanĝiĝis E309: Ne eblas legi blokon 1 de %s E30: Neniu antaŭa komanda linio E310: Nevalida identigilo de bloko 1 (ĉu %s ne estas permutodosiero .swp?) E311: Restaŭro interrompita E312: Eraroj dum restaŭro; rigardu liniojn komencantajn per ??? E313: Ne eblas konservi, ne estas permutodosiero .swp E314: Konservo malsukcesis E315: ml_get: nevalida lnum: %ld E316: ml_get: ne eblas trovi linion %ld E317: nevalida referenco de bloko id E317: nevalida referenco de bloko id 2 E317: nevalida referenco de bloko id 3 E317: nevalida referenco de bloko id 4 E318: Ĉu ĝisdatigis tro da blokoj? E319: Bedaŭrinde, tiu komando ne haveblas en tiu versio E31: Neniu tiel mapo E320: Ne eblas trovi linion %ld E321: Ne eblis reŝargi "%s" E322: numero de linio ekster limoj: %ld preter la fino E323: nevalida nombro de linioj en bloko %ld E324: Ne eblas malfermi eligan PostSkriptan dosieron E325: ATENTO E326: Tro da dosieroj trovitaj E327: Parto de vojo de menuero ne estas sub-menuo E328: Menuo nur ekzistas en alia reĝimo E329: Neniu menuo "%s" E32: Neniu dosiernomo E330: Vojo de menuo ne rajtas konduki al sub-menuo E331: Aldono de menueroj direkte al menuzono estas malpermesita E332: Disigilo ne rajtas esti ero de vojo de menuo E333: Vojo de menuo devas konduki al menuero E334: Menuo netrovita: %s E335: Menuo ne estas difinita por reĝimo %s E336: Vojo de menuo devas konduki al sub-menuo E337: Menuo ne trovita - kontrolu nomojn de menuoj E338: Bedaŭrinde ne estas dosierfoliumilo en konzola reĝimo E339: Ŝablono tro longa E33: Neniu antaŭa regulesprimo de anstataŭigo E340: Linio iĝas tro longa E341: Interna eraro: lalloc(%ld, ) E342: Ne plu restas memoro! (disponigo de %lu bajtoj) E343: Nevalida vojo: '**[nombro]' devas esti ĉe la fino de la vojo aŭ sekvita de '%s'. E344: Ne eblas trovi dosierujon "%s" en cdpath E345: Ne eblas trovi dosieron "%s" en serĉvojo E346: Ne plu trovis dosierujon "%s" en cdpath E347: Ne plu trovis dosieron "%s" en serĉvojo E348: Neniu ĉeno sub la kursoro E349: Neniu identigilo sub la kursoro E34: Neniu antaŭa komando E350: Ne eblas krei faldon per la aktuala 'foldmethod' E351: Ne eblas forviŝi faldon per la aktuala 'foldmethod' E352: Ne eblas forviŝi faldon per aktuala 'foldmethod' E353: Nenio en reĝistro %s E354: Nevalida nomo de reĝistro: '%s' E355: Nekonata opcio: %s E356: ERARO get_varp E357: 'langmap': Kongrua signo mankas por %s E358: 'langmap': Ekstraj signoj post punktokomo: %s E359: Reĝimo de ekrano ne subtenata E35: Neniu antaŭa regulesprimo E360: Ne eblas plenumi ŝelon kun opcio -f E363: ŝablono uzas pli da memoro ol 'maxmempattern' E364: Alvoko al biblioteko malsukcesis por "%s()" E365: Presado de PostSkripta dosiero malsukcesis E367: Ne ekzistas tia grupo: "%s" E369: nevalida ano en %s%%[] E36: Ne sufiĉe da spaco E370: Ne eblis ŝargi bibliotekon %s E371: Netrovebla komando E372: Tro da %%%c en formata ĉeno E373: Neatendita %%%c en formata ĉeno E374: Mankas ] en formata ĉeno E375: Nesubtenata %%%c en formata ĉeno E376: Nevalida %%%c en prefikso de formata ĉeno E377: Nevalida %%%c en formata ĉeno E378: 'errorformat' enhavas neniun ŝablonon E379: Nomo de dosierujo mankas aŭ estas malplena E37: Neniu skribo de post lasta ŝanĝo E37: Neniu skribo de post lasta ŝanĝo (aldonu ! por transpasi) E380: Ĉe la subo de stako de rapidriparo E381: Ĉe la supro de stako de rapidriparo E382: Ne eblas skribi, opcio 'buftype' estas ŝaltita E383: Nevalida serĉenda ĉeno: %s E384: serĉo atingis SUPRON sen trovi: %s E385: serĉo atingis SUBON sen trovi: %s E386: Atendis '?' aŭ '/' post ';' E387: Kongruo estas ĉe aktuala linio E388: Ne eblis trovi difinon E389: Ne eblis trovi ŝablonon E38: Nula argumento E390: Nevalida argumento: %s E391: Nenia sintaksa fasko: %s E392: Nenia sintaksa fasko: %s E393: La argumento "group[t]here" ne akcepteblas tie E394: Ne trovis regionan elementon por %s E395: La argumento "contains" ne akcepteblas tie E397: Dosiernomo bezonata E398: Mankas '=': %s E399: Ne sufiĉaj argumentoj: sintaksa regiono %s E39: Nombro atendita E400: Neniu fasko specifita E401: Disigilo de ŝablono netrovita: %s E402: Forĵetindaĵo post ŝablono: %s E403: sintaksa sinkronigo: ŝablono de linia daŭrigo specifita dufoje E404: Nevalidaj argumentoj: %s E405: Mankas egalsigno: %s E406: Malplena argumento: %s E407: %s ne estas permesebla tie E408: %s devas esti la unua ano de la listo "contains" E409: Nekonata nomo de grupo: %s E40: Ne eblas malfermi eraran dosieron %s E410: Nevalida ":syntax" subkomando: %s E411: emfaza grupo netrovita: %s E412: Ne sufiĉaj argumentoj: ":highlight link %s" E413: Tro da argumentoj: ":highlight link %s" E414: grupo havas agordojn, ligilo de emfazo ignorita E415: neatendita egalsigno: %s E416: mankas egalsigno: %s E417: mankas argumento: %s E418: Nevalida valoro: %s E419: Nekonata malfona koloro E41: Ne plu restas memoro! E420: Nekonata fona koloro E421: Kolora nomo aŭ nombro nerekonita: %s E422: kodo de terminalo estas tro longa: %s E423: Nevalida argumento: %s E424: Tro da malsamaj atributoj de emfazo uzataj E425: Ne eblas iri antaŭ la unuan kongruan etikedon E426: etikedo netrovita: %s E427: Estas nur unu kongrua etikedo E428: Ne eblas iri preter lastan kongruan etikedon E429: Dosiero "%s" ne ekzistas E42: Neniu eraro E430: Vojo de etikeda dosiero trunkita por %s
 E431: Eraro de formato en etikeda dosiero "%s" E432: Etikeda dosiero ne estas ordigita: %s E433: Neniu etikeda dosiero E434: Ne eblas trovi ŝablonon de etikedo E435: Ne eblis trovi etikedon, nur divenas! E436: Neniu rikordo "%s" en termcap E437: kapablo de terminalo "cm" bezonata E438: u_undo: nevalidaj numeroj de linioj E439: listo de malfaro estas difekta E43: Difekta kongruenda ĉeno E440: linio de malfaro mankas E441: Ne estas antaŭvida fenestro E442: Ne eblas dividi supralivan kaj subdekstran samtempe E443: Ne eblas rotacii kiam alia fenestro estas dividita E444: Ne eblas fermi la lastan fenestron E445: La alia fenestro enhavas ŝanĝojn E446: Neniu dosiernomo sub la kursoro E447: Ne eblas trovi dosieron "%s" en serĉvojo E448: Ne eblis ŝargi bibliotekan funkcion %s E449: Nevalida esprimo ricevita E44: Difekta programo de regulesprimo E455: Eraro dum skribo de PostSkripta eliga dosiero E456: Dosiero de PostSkripta rimedo "%s.ps" ne troveblas E456: Dosiero de PostSkripta rimedo "cidfont.ps" ne troveblas E456: Dosiero de PostSkripta rimedo "prolog.ps" ne troveblas E456: Ne eblas malfermi dosieron "%s" E457: Ne eblas legi dosieron de PostSkripta rimedo "%s" E459: Ne eblas reiri al antaŭa dosierujo E45: La opcio 'readonly' estas ŝaltita '(aldonu ! por transpasi) E460: La rimeda forko estus perdita (aldonu ! por transpasi) E461: Nevalida nomo de variablo: %s E462: Ne eblis prepari por reŝargi "%s" E463: Regiono estas gardita, ne eblas ŝanĝi E464: Ambigua uzo de komando difinita de uzanto E465: ":winsize" bezonas du numerajn argumentojn E466: ":winpos" bezonas du numerajn argumentojn E467: Uzula kompletigo bezonas funkcian argumenton E468: Argumento de kompletigo nur permesebla por kompletigo difinita de uzanto E469: nevalida flago cscopequickfix %c de %c E46: Ne eblas ŝanĝi nurlegeblan variablon "%s" E470: komando ĉesigita E471: Argumento bezonata E472: La komando malsukcesis E473: Interna eraro E474: Nevalida argumento E475: Nevalida argumento: %s E476: Nevalida komando E477: Neniu ! permesebla E478: Ne paniku! E479: Neniu kongruo E47: Eraro dum legado de erardosiero E480: Neniu kongruo: %s E481: Amplekso nepermesebla E482: Ne eblas krei dosieron %s E483: Ne eblas akiri provizoran dosiernomon E484: Ne eblas malfermi dosieron %s E485: Ne eblas legi dosieron %s E486: Ŝablono ne trovita: %s E487: La argumento devas esti pozitiva E488: Vostaj signoj E48: Nepermesebla en sabloludejo E490: Neniu faldo trovita E492: Ne estas redaktila komando E493: Inversa amplekso donita E494: Uzu w aŭ w>> E495: neniu dosiernomo de aŭtokomando por anstataŭigi al "<afile>" E496: neniu numero de bufro de aŭtokomando por anstataŭigi al "<abuf>" E497: neniu nomo de kongruo de aŭtokomando por anstataŭigi al "<amatch>" E498: neniu dosiernomo ":source" por anstataŭigi al "<sfile>" E499: Malplena dosiernomo por '%' aŭ '#', nur funkcias kun ":p:h" E49: Nevalida grando de rulumo E500: Liveras malplenan ĉenon E501: Ĉe fino-de-dosiero E505: "%s" estas nurlegebla (aldonu ! por transpasi) E505: %s estas nurlegebla (aldonu ! por transpasi) E506: Ne eblas skribi restaŭrkopion (aldonu ! por transpasi) E507: Eraro dum fermo de restaŭrkopio (aldonu ! transpasi) E508: Ne eblas legi restaŭrkopion (aldonu ! por transpasi) E509: Ne eblas krei restaŭrkopion (aldonu ! por transpasi) E50: Tro da \z( E510: Ne eblas krei restaŭrkopion (aldonu ! por transpasi) E511: nebeans jam konektata E512: Fermo malsukcesis E513: skriberaro, konverto malsukcesis (igu 'fenc' malplena por transpasi) E513: skriberaro, konverto malsukcesis en linio %ld (igu 'fenc' malplena  por transpasi) E514: skriberaro (ĉu plena dosiersistemo?) E515: Neniu bufro estis malŝargita E516: Neniu bufro estis forviŝita E517: Neniu bufro estis detruita E518: Nekonata opcio E519: Opcio ne subtenata E51: Tro da %s( E520: Nepermesebla en reĝimlinio E521: Nombro bezonata post = E521: Nombro bezonata: &%s = '%s' E522: Netrovita en termcap E523: Nepermesebla tie E524: Mankas dupunkto E525: Ĉeno de nula longo E526: Mankas nombro post <%s> E527: Mankas komo E528: Devas specifi ' valoron E529: Ne eblas agordi 'term' al malplena ĉeno E52: Neekvilibra \z( E530: term ne ŝanĝeblas en grafika interfaco E531: Uzu ":gui" por lanĉi la grafikan interfacon E533: ne eblas elekti larĝan tiparon E534: Nevalida larĝa tiparo E535: Nevalida signo post <%c> E536: komo bezonata E537: 'commentstring' devas esti malplena aŭ enhavi %s E538: Neniu muso subtenata E539: Nevalida signo <%s> E53: Neekvilibra %s%%( E540: '}' mankas E541: tro da elementoj E542: misekvilibraj grupoj E543: Nevalida kodpaĝo E544: Dosiero de klavmapo ne troveblas E545: Mankas dupunkto E546: Reĝimo nepermesata E547: Nevalida formo de muskursoro E548: cifero atendata E549: Nevalida procento E54: Neekvilibra %s( E550: Mankas dupunkto E551: Nevalida komponento E552: cifero atendita E553: Ne plu estas eroj E554: Sintaksa eraro en %s{...} E555: ĉe subo de stako de etikedoj E556: ĉe supro de stako de etikedoj E557: Ne eblas malfermi la dosieron termcap E558: Ne trovis rikordon de terminalo terminfo E559: Ne trovis rikordon de terminalo en termcap E55: Neekvilibra %s E560: Uzo: cs[cope] %s E561: nekonata tipo de serĉo de cscope E562: Uzo: cstag <ident> E563: Eraro de stat E563: Eraro de stat(%s): %d E564: %s ne estas dosierujo aŭ valida datumbazo de cscope E566: Ne eblis krei duktojn de cscope E567: neniu konekto al cscope E568: ripetita datumbazo de cscope ne aldonita E570: neriparebla eraro en cs_manage_matches E571: Bedaŭrinde tiu komando estas malŝaltita: la biblioteko Tcl ne ŝargeblis. E572: elira kodo %d E573: Nevalida identigilo de servilo uzita: %s E574: Nekonata tipo de reĝistro %d E579: ":if" tro profunde ingita E580: ":endif" sen ":if" E581: ":else" sen ":if" E582: ":elseif" sen ":if" E583: pluraj ":else" E584: ":elseif" post ":else" E585: ":while/:for" ingita tro profunde E586: ":continue" sen ":while" aŭ ":for" E587: ":break" sen ":while" aŭ ":for" E588: ":endfor" sen ":for" E588: ":endwhile" sen ":while" E589: 'backupext' kaj 'patchmode' estas egalaj E590: Antaŭvida fenestro jam ekzistas E591: 'winheight' ne rajtas esti malpli ol 'winminheight' E592: 'winwidth' ne rajtas esti malpli ol 'winminwidth' E593: Bezonas almenaŭ %d liniojn E594: Bezonas almenaŭ %d kolumnojn E595: enhavas nepreseblan aŭ plurĉellarĝan signon E596: Nevalida(j) tiparo(j) E597: ne eblas elekti tiparon E598: Nevalida tiparo E599: Valoro de 'imactivatekey' estas nevalida E59: nevalida signo post %s@ E600: Mankas ":endtry" E601: ":try" ingita tro profunde E602: ":endtry" sen ":try" E603: ":catch" sen ":try" E604: ":catch" post ":finally" E605: Escepto nekaptita: %s E606: ":finally" sen ":try" E607: pluraj ":finally" E608: Ne eblas lanĉi (:throw) escepton kun prefikso 'Vim' E609: Eraro de cscope: %s E60: Tro da kompleksaj %s{...}-oj E612: Tro da simboloj estas difinitaj E613: Nekonata tiparo de presilo: %s E614: vim_SelFile: ne eblas reveni al la aktuala dosierujo E615: vim_SelFile: ne eblas akiri aktualan dosierujon E616: vim_SelFile: ne eblas akiri tiparon %s E617: Ne ŝanĝeblas en la grafika interfaco GTK+ 2 E618: "%s" ne estas dosiero de PostSkripta rimedo E619: "%s" ne estas subtenata dosiero de PostSkripta rimedo E61: Ingita %s* E620: Ne eblas konverti al la presa kodoprezento "%s" E621: "%s" dosiero de rimedo havas neĝustan version E622: Ne eblis forki cscope E623: Ne eblis naskigi procezon cscope E624: Ne eblas malfermi dosieron "%s" E625: ne eblas malfermi datumbazon de cscope: %s E626: ne eblas akiri informojn pri la datumbazo de cscope E62: Ingita %s%c E630: %s(): konservo dum nekonektita E631: %s(): Konservo malsukcesis E63: nevalida uzo de \_ E64: %s%c sekvas nenion E655: Tro da simbolaj ligiloj (ĉu estas ciklo?) E658: Konekto de NetBeans perdita por bufro %ld E659: Ne eblas alvoki Pitonon rekursie E65: Nevalida retro-referenco E661: Bedaŭrinde estas neniu helpo '%s' por %s E662: Ĉe komenco de ŝanĝlisto E663: Ĉe fino de ŝanĝlisto E664: Listo de ŝanĝoj estas malplena E665: Ne eblas startigi grafikan interfacon, neniu valida tiparo trovita E666: kompililo nesubtenata: %s E667: Fsync malsukcesis E668: Nevalida permeso de dosiero de informo de konekto NetBeans: "%s" E669: Nepresebla signo en nomo de grupo E66: \z( estas nepermesebla tie E670: Miksaĵo de kodoprezento de helpa dosiero en lingvo: %s E671: Ne eblas trovi titolon de fenestro "%s" E672: Ne eblas malfermi fenestron interne de aplikaĵo MDI E673: Nekongrua plurbajta kodoprezento kaj signaro. E674: printmbcharset ne rajtas esti malplena kun plurbajta kodoprezento. E675: Neniu defaŭlta tiparo specifita por plurbajta presado. E676: Neniu kongrua aŭtokomando por la bufro acwrite E677: Eraro dum skribo de provizora dosiero E678: Nevalida signo post %s%%[dxouU] E679: rekursia buklo dum ŝargo de syncolor.vim E67: \z1 kaj aliaj estas nepermeseblaj tie E680: <bufro=%d>: nevalida numero de bufro  E681: Bufro ne estas ŝargita E682: Nevalida serĉa ŝablono aŭ disigilo E683: Dosiernomo mankas aŭ nevalida ŝablono E684: indekso de listo ekster limoj: %ld E685: Interna eraro: %s E686: Argumento de %s devas esti Listo E687: Malpli da celoj ol Listeroj E688: Pli da celoj ol Listeroj E689: Nur eblas indeksi Liston aŭ Vortaron E68: Nevalida signo post \z E690: "in" mankas post ":for" E691: Eblas nur kompari Liston kun Listo E692: Nevalida operacio de Listoj E694: Nevalida operacio de Funcref-oj E695: Ne eblas indeksi Funcref E696: Mankas komo en Listo: %s E697: Mankas fino de Listo ']': %s E698: variablo ingita tro profunde por fari kopion E699: Tro da argumentoj E69: Mankas ] post %s%%[ E700: Nekonata funkcio: %s E701: Nevalida datumtipo de len() E702: Ordiga funkcio malsukcesis E703: Uzo de Funcref kiel Nombro E704: Nomo de variablo Funcref devas finiĝi per majusklo: %s E705: Nomo de variablo konfliktas kun ekzistanta funkcio: %s E707: Nomo de funkcio konfliktas kun variablo: %s E708: [:] devas esti laste E709: [:] bezonas listan valoron E70: Malplena %s%%[] E710: Lista valoro havas pli da eroj ol la celo E711: Lista valoro ne havas sufiĉe da eroj E712: Argumento de %s devas esti Listo aŭ Vortaro E713: Ne eblas uzi malplenan ŝlosilon de Vortaro E714: Listo bezonata E715: Vortaro bezonata E716: Ŝlosilo malekzistas en Vortaro: %s E717: Rikordo de vortaro jam ekzistas E718: Funcref bezonata E719: Uzo de [:] ne eblas kun Vortaro E71: Nevalida signo post %s%% E720: Mankas dupunkto en la vortaro: %s E721: Ripetita ŝlosilo en la vortaro: "%s" E722: Mankas komo en la vortaro: %s E723: Mankas fino de vortaro '}': %s E724: variablo ingita tro profunde por vidigi E725: Alvoko de funkcio dict sen Vortaro: %s E726: Paŝo estas nul E727: Komenco preter fino E728: Uzo de Vortaro kiel Nombro E729: uzo de Funcref kiel Ĉeno E72: Eraro dum malfermo de permutodosiero .swp E730: uzo de Listo kiel Ĉeno E731: uzo de Vortaro kiel Ĉeno E732: Uzo de ":endfor" kun ":while" E733: Uzo de ":endwhile" kun ":for" E734: Nevalida datumtipo de variablo de %s= E735: Eblas nur kompari Vortaron kun Vortaro E736: Nevalida operacio de Vortaro E737: Ŝlosilo jam ekzistas: %s E738: Ne eblas listigi variablojn de %s E739: Ne eblas krei dosierujon %s E73: malplena stako de etikedo E740: Tro da argumentoj por funkcio: %s E741: Valoro estas ŝlosita: %s E742: Ne eblas ŝanĝi valoron de %s E743: variablo ingita tro profunde por malŝlosi E744: NetBeans ne permesas ŝanĝojn en nurlegeblaj dosieroj E745: Uzo de Listo kiel Nombro E746: Nomo de funkcio ne kongruas kun dosiernomo de skripto: %s E747: Ne eblas ŝanĝi dosierujon, bufro estas ŝanĝita (aldonu ! por transpasi) E748: Neniu reĝistro antaŭe uzata E749: malplena bufro E74: Komando tro kompleksa E750: Uzu unue ":profile start {dosiernomo}" E751: Nomo de eliga dosiero ne devas havi nomon de regiono E752: Neniu antaŭa literuma anstataŭigo E753: Netrovita: %s E754: Nur 8 regionoj subtenataj E755: Nevalida regiono en %s E756: Literumilo ne estas ŝaltita E757: Tio ne ŝajnas esti literuma dosiero E758: Trunkita literuma dosiero E75: Nomo tro longa E760: Ne estas nombro de vortoj en %s E761: Eraro de formato en afiksa dosiero FOL, LOW aŭ UPP E762: Signo en FOL, LOW aŭ UPP estas ekster limoj E763: Signoj de vorto malsamas tra literumaj dosieroj E764: La opcio '%s' ne estas ŝaltita E765: 'spellfile' ne havas %ld rikordojn E766: Ne sufiĉaj argumentoj por printf() E767: Tro da argumentoj al printf() E768: Permutodosiero .swp ekzistas: %s (:silent! por transpasi) E769: Mankas ] post %s[ E76: Tro da [ E770: Nesubtenata sekcio en literuma dosiero E771: Malnova literuma dosiero, ĝisdatigo bezonata E772: Literuma dosiero estas por pli nova versio de Vim E773: Buklo de simbolaj ligiloj por "%s" E774: 'operatorfunc' estas malplena E775: Eval eblo ne disponeblas E776: Neniu listo de lokoj E777: Ĉeno aŭ Listo atendita E778: Tio ne ŝajnas esti dosiero .sug: %s E779: Malnova dosiero .sug, bezonas ĝisdatigon: %s E77: Tro da dosiernomoj E780: Dosiero .sug estas por pli nova versio de Vim: %s E781: Dosiero .sug ne kongruas kun dosiero .spl: %s E782: eraro dum legado de dosiero .sug: %s E783: ripetita signo en rikordo MAP E784: Ne eblas fermi lastan langeton E785: complete() uzeblas nur en Enmeta reĝimo E786: Amplekso nepermesebla E787: Bufro ŝanĝiĝis neatendite E788: Ne eblas redakti alian bufron nun E789: Mankas ']': %s E78: Nekonata marko E790: undojoin estas nepermesebla post malfaro E791: Malplena rikordo en klavmapo E792: Malplena nomo de menuo E793: Neniu alia bufro en dosierdiferenca reĝimo estas modifebla E794: Ne eblas agordi variablon en la sabloludejo: "%s" E795: Ne eblas forviŝi variablon %s E797: Aŭtokomando SpellFileMissing forviŝis bufron E798: ID estas rezervita por ":match": %ld E799: Nevalida ID: %ld (devas esti egala aŭ pli granda ol 1) E79: Ne eblas malvolvi ĵokerojn E800: La araba ne uzeblas: Malŝaltita dum kompilado
 E801: ID jam uzata: %ld E802: Nevalida ID: %ld (devas esti egala aŭ pli granda ol 1) E803: ID netrovita: %ld E804: Ne eblas uzi '%' kun Glitpunktnombro E805: Uzo de Glitpunktnombro kiel Nombro E806: uzo de Glitpunktnombro kiel Ĉeno E807: Atendis Glitpunktnombron kiel argumenton de printf() E808: Nombro aŭ Glitpunktnombro bezonata E809: #< ne haveblas sen la eblo +eval E80: Eraro dum skribado E810: Ne eblas legi aŭ skribi provizorajn dosierojn E811: Ne eblas ŝanĝi informon de bufro nun E812: Aŭtokomandoj ŝanĝis bufron aŭ nomon de bufro E813: Ne eblas fermi la fenestron de aŭtokomandoj E814: Ne eblas fermi fenestron, nur la fenestro de aŭtokomandoj restus E815: Bedaŭrinde, tiu komando estas malŝaltita, ne eblis ŝargi la bibliotekojn. E816: Ne eblas legi eliron de flikilo "patch" E817: Misuzo de pezkomenca/pezfina en blowfish E818: Testo de sha256 malsukcesis E819: Testo de blowfish malsukcesis E81: Uzo de <SID> ekster kunteksto de skripto E820: sizeof(uint32_t) != 4 E821: Dosiero estas ĉifrata per nekonata metodo E822: Ne eblas malfermi malfaran dosieron por legi: %s E823: Ne estas malfara dosiero: %s E824: Malkongrua malfara dosiero: %s E825: Difektita malfara dosiero (%s): %s E826: Malĉifrado de malfara dosiero malsukcesis: %s E827: Malfara dosiero estas ĉifrata: %s E828: Ne eblas malfermi la malfaran dosieron por skribi: %s E829: Skriberaro en malfara dosiero: %s E82: Ne eblas disponigi iun ajn bufron, nun eliras... E830: Malfara numero %ld netrovita E831: bf_key_init() alvokita kun malplena pasvorto E832: Ne ĉifrata dosiero havas ĉifratan malfaran dosieron: %s E833: %s estas ĉifrata kaj tiu versio de Vim ne subtenas ĉifradon E834: Konfliktoj kun la valoro de 'listchars' E835: Konfliktoj kun la valoro de 'fillchars' E836: Vim ne povas plenumi :python post uzo de :py3 E837: Vim ne povas plenumi :py3  post uzo de :python E838: netbeans ne estas subtenata kun tiu grafika interfaco E839: Kompletiga funkcio ŝanĝis la fenestron E83: Ne eblas disponigi bufron, nun uzas alian... E840: Kompletiga funkcio forviŝis tekston E841: Rezervita nomo, neuzebla por komando difinita de uzanto E842: neniu uzebla numero de linio por "<slnum>" E843: Eraro dum ĝisdatigo de ĉifrada permutodosiero .swp E844: nevalida valoro de cchar E845: Ne sufiĉe da memoro, vortlisto estos nekompleta. E846: Klavkodo ne agordita E847: Tro da sintaksaj inkluzivoj E848: Tro da sintaksaj grupoj E849: Tro da emfazaj kaj sintaksaj grupoj E84: Neniu modifita bufro trovita E850: Nevalida nomo de reĝistro E851: Malsukcesis krei novan procezon por la grafika interfaco E852: La ida procezo malsukcesis startigi la grafikan interfacon E853: Ripetita nomo de argumento: %s E854: tro longa vojo por kompletigo E855: Aŭtokomandoj haltigis komandon E858: Eval ne revenis kun valida python-objekto E859: Konverto de revena python-objekto al vim-valoro malsukcesis E85: Estas neniu listigita bufro E862: Ne eblas uzi g: ĉi tie E864: \%#= povas nur esti sekvita de 0, 1, aŭ 2. La aŭtomata motoro de regulesprimo estos uzata  E865: (NFA) Trovis finon de regulesprimo tro frue E866: (NFA-regulesprimo) Mispoziciigita %c E867: (NFA) Nekonata operatoro '\%%%c' E867: (NFA) Nekonata operatoro '\z%c' E868: Eraro dum prekomputado de NFA kun ekvivalentoklaso! E869: (NFA) Nekonata operatoro '\@%c' E86: La bufro %ld ne ekzistas E870: (NFS-regulesprimo) Eraro dum legado de limoj de ripeto E871: (NFA-regulesprimo) Ne povas havi mult-selekton tuj post alia mult-selekto! E872: (NFA-regulesprimo) tro da '(' E873: (NFA-regulesprimo) propra end-eraro E874: (NFA) Ne povis elpreni de la staplo! E875: (NFA-regulesprimo) (dum konverto de postmeto al NFA), restas tro da statoj en la staplo E876: (NFA-regulesprimo) ne sufiĉa spaco por enmomorigi la tutan NFA  E877: (NFA-regulesprimo) Nevalida klaso de signo: %ld E878: (NFA) Ne povis asigni memoron por traigi branĉojn! E879: (NFA-regulesprimo) tro da \z( E87: Ne eblas iri preter la lastan bufron E881: Nombro de linioj ŝanĝiĝis neatendite E882: kompara funkcio de uniq() malsukcesis E883: serĉa ŝablono kaj esprima reĝistro ne povas enhavi du aŭ pliajn liniojn E884: Nomo de funkcio ne povas enhavi dupunkton: %s E885: Ne eblas ŝanĝi simbolon %s E886: Ne eblas renomi dosieron viminfo al %s! E887` Bedaŭrinde tiu komando estas malŝaltita: la biblioteko de Pitono ne ŝargeblis. E888: (NFA-regulesprimo) ne eblas ripeti %s E88: Ne eblas iri antaŭ la unuan bufron E890: vosta signo post ']': %s]%s E891: Uzo de Funcref kiel Glitpunktnombro E892: Uzo de Ĉeno kiel Glitpunktnombro E893: Uzo de Listo kiel Glitpunktnombro E894: Uzo de Vortaro kiel Glitpunktnombro E895: Bedaŭrinde, tiu komando estas malŝaltita, ne eblis ŝargi la modulon de MzScheme racket/base. E898: gethostbyname() en channel_open() E89: Neniu skribo de post la lasta ŝanĝo de la bufro %ld (aldonu ! por transpasi) E901: gethostbyname() en channel_open() E902: Ne eblas konekti al pordo E903: ricevis komandon kun argumento, kiu ne estas ĉeno E904: lasta argumento de "expr/call" devas esti nombro E904: tria argumento de "call" devas esti listo E905: nekonata komando ricevita: %s E906: ne estas malfermita kanalo E907: Uzo de speciala valoro kiel Glitpunktnombro E908: uzo de nevalida valoro kiel Ĉeno E909: Ne eblas indeksi specialan variablon E90: Ne eblas malŝargi la lastan bufron E910: Uzo de Tasko kiel Nombro E911: Uzo de Tasko kiel Glitpunktnombro E912: ne eblas uzi ch_evalexpr()/ch_sendexpr() kun kruda aŭ nl kanalo E913: Uzo de Kanalo kiel Nombro E914: Uzo de Kanalo kiel Glitpunktnombro E915: bufro in_io bezonas in_buf aŭ in_name E916: nevalida tasko E917: Ne eblas uzi reagfunkcion kun %s() E918: bufro devas esti ŝargita: %s E919: Dosierujo ne trovita en '%s': "%s" E91: La opcio 'shell' estas malplena E920: dosiero _io bezonas _name E921: Nevalida argumento de reagfunctio E922: vortaro atendita E923: Dua argumento de function() devas esti listo aŭ Vortaro E924: Aktuala vindozo fermiĝis E925: Aktuala rapidriparo ŝanĝiĝis E926: Aktuala listo de lokoj ŝanĝiĝis E927: Nevalida ago: '%s' E928: Ĉeno bezonata E929: Tro da provizoraj dosieroj viminfo, kiel %s! E92: Bufro %ld ne trovita E930: Ne eblas uzi :redir en execute() E931: Bufro ne povas esti registrita E932: Fermo-funkcio devus esti je la plej alta nivelo: %s E933: funkcio estis forviŝita: %s E934: Ne eblas salti al sennoma bufro E935: nevalida indekso de "submatch": %d E93: Pli ol unu kongruo kun %s E94: Neniu bufro kongruas kun %s E95: Bufro kun tiu nomo jam ekzistas E96: Ne eblas dosierdiferenci pli ol %ld bufrojn E97: Ne eblas krei dosierdiferencojn E98: Ne eblas legi eliron de dosierdiferencilo "diff" E99: Aktuala bufro ne estas en dosierdiferenca reĝimo ERARO:  Redakti dosieron Redakti Dosieron en nova fenestro Redakti per &Vim Redakti per &pluraj Vim-oj Redakti per ekzistanta Vim -  Redakti per unuopa &Vim Redakti la apartigita(j)n dosiero(j)n per Vim Kodoprezento: Fino de funkcio Fino de rulita dosiero Tajpu la ŝlosilon de ĉifrado:  Entajpu la uzendan numeron de permutodosiero .swp (0 por eliri):  Tajpu la ŝlosilon denove:  Eniras sencimigan reĝimon.  Tajpu "cont" por daŭrigi. Eniras reĝimon Ex. Tajpu "visual" por iri al reĝimo Normala. Eraro Eraro kaj interrompo Eraro dum kreo de procezo: Kontrolu ĉu gvim estas en via serĉvojo! Eraro okazis dum traktado de %s: Erara Dosiero Evaluo de memoro uzata: %d bajtoj Escepto Kaptis escepton: %s Escepto ne konservita: %s Escepto finiĝis: %s Escepto lanĉita: %s Plenumado de %s Neatendita nombro de MAPen %s linio %d Neatendita nombro REP(SAL) en %s linio %d Y aŭ N atendita en %s linio %d: %s Esprimo Eksteraj subkongruoj:
 FLAG post flagoj en %s linio %d: %s Valorizo de sys.path_hooks malsukcesis: sys.path_hooks ne estas listo
Vi nun devas fari tion:
- postaldoni vim.path_hook al sys.path_hooks
- postaldoni vim.VIM_SPECIAL_PATH al sys.path
 Agordo de serĉvojo malsukcesis: sys.path ne estas listo
Vi nun devas aldoni vim.VIM_SPECIAL_PATH al sys.path La dosiero "%s" ne ekzistas Enhavo de dosiero ŝanĝiĝis, ne eblas uzi malfarajn informojn Permesoj de dosiero "%s" estas nur-legeblaj.
Bonŝance ĝi eble skribeblus.
Ĉu vi volas provi? Dosiero konservita Dosieroj Filtri Trovi kaj anstataŭigi (uzu '\\' por trovi '\') Trovi &Sekvanta Trovi sekvantan Trovi ĉenon (uzu '\\' por trovi '\') Serĉi kion: Finis legi malfaran dosieron %s Unua ripetita vorto en %s linio %d: %s Flago ne estas nombro en %s linio %d: %s Tiparo '%s' ne estas egallarĝa Font%ld ne estas duoble pli larĝa ol font0 Larĝo de font0: %ld Font0: %s Larĝo de Font1: %ld Font1: %s Tiparo: Por opcio %s Forĵetindaĵo post argumento de opcio Bonvenon, uzanto de Vim! Helpu malriĉajn infanojn en Ugando! Atingis finon de alineo ERARO DE ENIGO/ELIGO %d ignorita(j) vorto(j) kun neaskiaj signoj en %s Ignoris %d vorto(j)n kun neaskiaj signoj Ignoro de longa linio en etikeda dosiero Nevalida dosiernomo Nevalida flago en %s linio %d: %s Nevalida nomo de reĝistro Nevalida eka signo Eniga linio Enigaj _metodoj Interrompo Interrompo:  Interrompita Nevalida argumento por Nevalida tiparo specifita Nevalida regiono nr en %s linio %d: %s Nevalida valoro de FLAG en %s linio %d: %s Ŝlosiloj ne kongruas! Ĉesigi konekton Ligado:  Listo aŭ nombro bezonata La biblioteko Lua no ŝargeblis. Uskleca kongruo Kongrui kun nur plena vorto Mesaĝo Flegado de mesaĝoj: Dominique PELLÉ <dominique.pelle@gmail.com> Mankas '>' Mankas linio FOL/LOW/UPP en %s Mankas SOFO%s-aj linioj en %s Modifita de  Nomo: Bezonas %s-on versio %ld
 Bezonas version 2.04 de Amigados aŭ pli novan
 Ŝlosilo de ĉifrado bezonata por "%s" NetBeans malpermesas skribojn de neŝanĝitaj bufroj Nova langeto Ne Neniu sintaksa elemento difinita por tiu bufro Neniu mallongigo trovita Neniu kontrolpunkto estas difinita Neniu ekrano Neniu ekrano: Sendado de esprimo malsukcesis.
 Neniu ano Neniu inkluzivita dosiero Neniu mapo trovita Neniu marko Neniu kongruo ĉe kursorpozicio, trovas sekvan Neniu kongrua aŭtokomando Neniu malnova dosiero Neniu permutodosiero .swp Neniu presenda teksto Malfaro neebla; tamen daŭrigi Neniu komando difinita de uzanto trovita Ne uzata Ne sufiĉa memoro por valorigi referencojn, senrubigado ĉesigita! Ne legas malfaran dosieron, posedanto malsamas: %s Nenio por malfari Nombro de vortoj post fonetika analizado: %ld Bone Dialogujo de dosiera malfermo Malfermi langeton... Malfermi langeton... Malfermo de vidigo X malsukcesis Tempolimo okazis dum malfermo de vidigo X Malfermo de vidigo X daŭris %ld msek Originala dosiero "%s" Ĉu anstataŭigi ekzistantan dosieron "%s"? Paĝo %d Partaj skriboj malpermesitaj ĉe bufroj NetBeans Flika dosiero Serĉvojo estas tro longa! Serĉvojo: Ŝablono trovita en ĉiuj linioj: %s Ŝablono ne trovita Ŝablono ne trovita: %s Fonetika analizado... Premu ENEN-KLAVON aŭ tajpu komandon por daŭrigi Laboro de presado sendita. Presis: %s Presas '%s' Presado ĉesigita Presas paĝon %d (%d%%) Serĉi ŝablonon Demando Legado de afiksa dosiero %s ... Relegas la dosieron de literumo... Legado de vortardosiero %s ... Legado el stdin... Legado de literuma dosiero "%s" Legado de malfara dosiero: %s Legado de dosiero viminfo "%s"%s%s%s Legado de dosiero de vortoj %s ... Restaŭro finiĝis. La enhavo de la bufro samas kun la enhavo de la dosiero. Restaŭro finiĝis. Indus kontroli ĉu ĉio estas en ordo. Repravalorizi ĉiujn konektojn Anstataŭigi Anstataŭigi ĉi&on Anstataŭigi ĉiujn Anstataŭigi per: Ruliĝas en reĝimo kongrua kun Vi Ruliĝas senreĝime, tajpita teksto estas enmetita Konservi kiel Dialogujo de dosiera konservo Konservi alidirekton Konservi seancon Konservi agordaron Konservi superflugon Ĉu konservi ŝanĝojn al "%s"? Analizas vortaron: %s Skanado de inkluzivitaj dosieroj: %s Analizas etikedojn. Analizas: %s Fenestraĵo de rulumskalo: Ne eblis akiri geometrion de reduktita rastrumbildo Serĉa ĉeno Serĉado de "%s" Serĉado de "%s" en "%s" Serĉado de inkluzivitaj dosieroj %s Serĉado de dosiero de etikedoj %s Vidu ":help E312" por pliaj informoj. Vidu ":help W11" por pliaj informoj. Vidu ":help W12" por pliaj informoj. Vidu ":help W16" por pliaj informoj. Dialogujo de dosiera elekto Apartigis %s%ld de %ld Linioj; %lld de %lld Vortoj; %lld de %lld Bajtoj Apartigis %s%ld de %ld Linioj; %lld de %lld Vortoj; %lld de %lld Signoj; %lld de %lld Bajtoj Apartigo Sendas al presilo... Montri konektojn Montri grandon en punktoj Montri tiun mesaĝon Emfazaj simbolaĵoj de %s: Grando: Preterpasas skribon de malfara dosiero, nenio por malfari Bedaŭrinde, la helpdosiero "%s" ne troveblas Bedaŭrinde ne estas sugestoj Bedaŭrinde estas nur %ld sugestoj Bedaŭrinde tiu komando estas malŝaltita: la biblioteko de Perl ne ŝargeblis. Ruli Vim-skripton Subtenu la programadon de Vim! Stako pligrandiĝas Stilo: Anstataŭigi  Permutodosiero .swp " Permutodosiero .swp "%s" ekzistas, ĉu tamen anstataŭigi ĝin? Permutodosiero .swp jam ekzistas! Perumutodosiero .swp estas ĉifrata: "%s" Permutodosiero .swp trovita: Ŝangota al malavanca motoro de regulesprimo por ŝablono:  Langeto %d Disigi tiun menuon Testo de la vidigo X malsukcesis Dankon pro flugi per Vim La dosiero estas kreita je  La sola kongruo Tiu Vim ne estis kompilita kun la kompara eblo. Tiu ĉi komando de cscope ne subtenas dividon de fenestro.
 Tro da argumentoj "+komando", "-c komando" aŭ "--cmd komando" Tro da kunmetitaj flagoj Tro da argumentoj de redakto Tro da prokrastitaj prefiksoj Tro da prokrastitaj prefiksoj kaj/aŭ kunmetitaj flagoj Tro da regionoj en %s linio %d: %s Supro Totala nombro de vortoj: %d Vosta teksto en %s linio %d: %s Tajpu ":quit<Enenklavo>" por eliri el Vim Tajpu nombron kaj <Enenklavon> (malpleno rezignas):  Tajpu nombron kaj <Enenklavon> aŭ alklaku per la muso (malpleno rezignas):  Ne eblas legi blokon 0 de  Ne eblas registri nomon de komanda servilo Nekonata Nekonata argumento de opcio Nekonata flago en %s linio %d: %s Neagnoskita aŭ ripetita ano en %s linio %d: %s Sen titolo Supren Uzu version 3.0 de Vim
 Uzis CUT_BUFFER0 anstataŭ malplenan apartigon Uzas ŝlosilon de ĉifrado el permuto dosiero .swp por la teksta dosiero.
 Uzado de permutodosiero .swp "%s" VIM - ATENTO VIM - Serĉi kaj anstataŭigi... VIM- Serĉi... VIM - Vi plibonigita Eraro de VIM VIM: Ne eblas malfermi fenestron!
 VIMRUN.EXE ne troveblas en via $PATH.
Eksteraj komandoj ne paŭzos post kompletigo.
Vidu  :help win32-vimrun  por pliaj informoj. Vim - Elektilo de tiparo Vim E458: Ne eblas disponigi rikordon de kolormapo, iuj koloroj estas eble neĝustaj Averto de Vim Vim dialogo Eraro de Vim Eraro de Vim: ~a Vim eliras kun %d
 Vim estas libera programo kaj disdoneblas libere Vim: Kaptis eventon %s
 Vim: Eraro dum legado de eniro, elironta...
 Vim: Eraro: malsukcesis lanĉi gvim el NetBeans
 Vim: Eraro: Tiu versio de Vim ne ruliĝas en terminalo Cygwin
 Vim: Ĉefa fenestro neatendite detruiĝis
 Vim: Legado el stdin...
 Vim: Ricevis peton "die" (morti) el la seanca administrilo
 Vim: Averto: Enigo ne estas el terminalo
 Vim: Averto: Eligo ne estas al terminalo
 W10: Averto: Ŝanĝo de nurlegebla dosiero W11: Averto: La dosiero "%s" ŝanĝiĝis ekde redakti ĝin W12: Averto: Dosiero "%s" ŝanĝiĝis kaj la bufro estis ŝanĝita ankaŭ en Vim W13: Averto: Dosiero "%s" kreiĝis post la komenco de redaktado W14: Averto: Listo de dosiernomoj troas W15: Averto: Neĝusta disigilo de linio, ^M eble mankas W16: Averto: Permeso de dosiero "%s" ŝanĝiĝis ekde redakti ĝin W17: La araba bezonas UTF-8, tajpu ":set encoding=utf-8" W18: Nevalida signo en nomo de grupo W19: Forviŝo de augroup kiu estas ankoraŭ uzata AVERTO: La dosiero estas ŝanĝita de post kiam ĝi estis legita!!! AVERTO: Trovis Vindozon 95/98/ME Averto Averto: Ne eblas trovi vortliston "%s.%s.spl" aŭ "%s.ascii.spl" Averto: Ne eblas trovi vortliston "%s_%s.spl" aŭ "%s_ascii.spl" Averto: Eniris neatendite alian bufron (kontrolu aŭtokomandojn) Averto: uzo de malfortika ĉifrada metodo; vidu :help 'cm' Averto: ambaŭ NOBREAK kaj NOBREAK specifitaj Averto: regiono %s ne subtenata Averto: terminalo ne povas emfazi Dum malfermo de dosiero " Ne superskribos malfaran dosieron, ne eblis legi: %s Ne superskribos, tio ne estas malfara dosiero: %s Pozicio de fenestro: X %d, Y %d Vorto '%.*s' aldonita al %s Vorto '%.*s' fortirita el %s Vorto el alia linio Ĉu skribi partan dosieron? Skribado de literuma dosiero %s ... Skribado de dosiero de sugesto %s ... Skribas malfaran dosieron: %s Skribas dosieron viminfo "%s" Nevalida valoro de CHECKCOMPOUNDPATTERN en %s linio %d: %s Nevalida valoro de COMPOUNDMIN en %s linio %d: %s Nevalida valoro de COMPOUNDRULES en %s linio %d: %s Nevalida valoro de COMPOUNDSYLMAX en %s linio %d: %s Nevalida valoro de COMPOUNDWORDMAX en %s linio %d: %s XSMP: kontrolo de konekto ICE malsukcesis XSMP: SmcOpenConnection malsukcesis: %s XSMP: traktado de peto konservi-mem XSMP perdis la konekton ICE XSMP: malfermo de konekto JES Jes Nul kvantoro [ERARO DE KONVERTO en linio %ld] [CR mankas] [Forviŝita] [Aparatdosiero] [Dosiero tro granda] [Helpo] [NEVALIDA BAJTO en linio %ld] [Nekompleta lasta linio] [Listo de lokoj] [NE konvertita] [Nova DOSIERUJO] [Nova dosiero] [Nova dosiero] [Nova] [Neniu nomo] [Neniu skribo de post lasta ŝanĝo]
 [Ne redaktita] [Permeso rifuzita] [Antaŭvido] [Listo de rapidriparoj] [ERAROJ DE LEGADO] [Nurlegebla] [Eraroj de legado] [Malneto] [alvokoj] totalaj re/malloc() %lu, totalaj free() %lu

 [speciala signo] [konvertita] [ĉifrita] [formato dos] [dos] [rektvica memoro/kontaktoskatolo] [rektvica memoro] [dosiero...]     redakti specifita(j)n dosiero(j)n [divido de longaj linioj] [formato mac] [mac] [sen EOL] [nurlegebla] [kontaktoskatolo] [formato unikso] [unikso] _Rezigni _Fermi _Bone _Malfermi _Konservi argumento de add() post kaj lanĉi diff kun la originala dosiero por kontroli la ŝanĝojn) provis valorizi sekvencon kun %d eroj al etendita sekco kun %d eroj provis valorizi sekvencon kun pli ol %d eroj en etendita sekco provo de referenco al forviŝita bufro provo de referenco al forviŝita langeto provo de referenco al forviŝita fenestro aŭto-forviŝas aŭtokomandon: %s <bufro=%d> aŭtokomando %s antaŭ bloko de %ld linioj kopiita bloko de 1 linio kopiita bufro estas nevalida de  de Bram Moolenaar kaj aliuloj alvokis inputrestore() pli ofte ol inputsave() alvokas %s ne eblas forviŝi atributojn de OutputObject ne eblas legi la eligon de 'charconvert' ne eblas ŝanĝi reĝimon de konzolo?!
 ne eblas krei komandon de bufro/fenestro: objekto estas forviŝiĝanta ne eblas forviŝi linion ne eblas forviŝi atributojn de 'vim.Dictionary' ne eblas forviŝi atributojn de 'vim.List' ne eblas akiri linion ne eblas enmeti linion ne eblas enmeti/postaldoni linion ne eblas ŝanĝi fiksan vortaron ne eblas ŝanĝi fiksan liston ne eblas malfermi  ne eblas registri postalvokan komandon: bufro/fenestro estas jam forviŝiĝanta ne eblas registri postalvokan komandon: referenco de bufro/fenestro ne troveblas ne eblas anstataŭigi linion ne eblas konservi informojn de malfaro ne eblas agordi atributon %s ne eblas meti la linio(j)n ne eblas kopii; tamen forviŝi ŝanĝo ŝanĝoj fermo kmd: %s daŭrigas en %s ne eblis ruli "%s" ne eblis malfermi bufron plenumo de cs_create_connection malsukcesis plenumo de cs_create_connection-setgpid malsukcesis cs_create_connection: fdopen de fr_fp malsukcesis cs_create_connection: fdopen de to_fp malsukcesis komandoj de cscope:
 konekto cscope %s fermita kursoro poziciita ekster bufro defaŭlto al ' ĉu forviŝita bloko 1? vortaro estas ŝlosita ne saltis al la specifita langeto ne saltis al la specifita vindozo dlerror = "%s" ne eliru el la redaktilo ĝis kiam la dosiero estas sukcese konservita! malplenaj ŝlosiloj nepermeseblaj medivariablo eraro dum konverto de Scheme-valoro al Vim erartraktilo atendis 3-opon kiel rezulto de imp.find_module(), sed ricevis %s atendis 3-opon kiel rezulto de imp.find_module(), sed ricevis %d-opon atendis aperon de bytes() aŭ str(), sed ricevis %s atendis int() aŭ ion konverteblan al int(), sed ricevis %s atendis int(), long() aŭ ion konverteblan al long(), sed ricevis %s atendis 2-longan sekvencon, sed ricevis %d-longan sekvencon atendis aperon de str() aŭ unicode(), sed ricevis %s atendis objekton vim.Buffer, sed ricevis %s atendis objekton vim.TabPage, sed ricevis %s atendis objekton vim.window, sed ricevis %s esprimoj malŝaltitaj dum kompilado argumento de extend() aldono de listero malsukcesis aldono de ŝlosilo '%s' al vortaro malsukcesis malsukcesis ŝanĝi dosierujon malsukcesis trovi vindozon en la nuna langeto malsukcesis renomi bufron malsukcesis ruli funkcion %s malsukcesis ruli la kodon salto al la bufro %d malsukcesis malpli linioj dosiero
 dosiernomo / kunteksto / linio
 argumento de filter() finis ruli %s kadro je la plej alta nivelo: %d kadro estas nul malokupas %ld liniojn funkcio %s ne ekzistas Eraro de gvimext.dll hakettabelo ŝanĝiĝis dum iteracio helpo kaŝita opcio en serĉvojo ---
 indekso devas esti 'int' aŭ 'slice', ne %s argumento de insert() interna eraro: NULL-referenco argumento interna eraro: aldono de listero malsukcesis interna eraro: obteno de vim-a listero %d malsukcesis interna eraro: imp.find_module liveris opon kun NULL interna eraro: nevalida tipo de valoro interna eraro: neniu vim-a listero %d interna eraro: ne sufiĉaj listeroj interna eraro: nekonata tipo de opcio nevalida atributo: %s nevalida numero de bufro nevalida esprimo nevalida nomo de marko estas aparatdosiero (malŝaltita per la opcio 'opendevice') estas dosierujo ne estas dosiero ne estas dosiero aŭ skribebla aparatdosiero estas nurlegebla (aldonu ! por transpasi) klavara interrompo linio %4ld: linio %6d, vorto %6d - %s linio %ld linio %ld de %ld --%d%%-- kol  linio %ld: %s linio %ld: ne eblis ruli "%s" linio %ld: rulas "%s" malpli linio numero de linio ekster limoj numero de linio ekster limoj konstruilo de listo ne akceptas ŝlosilvortajn argumentojn indekso de listo ekster limoj listo estas ŝlosita elsaluto argumento de map() nomo de marko devas esti unuopa signo marko ne estas metita kongruo %d kongruo %d de %d maksimuma  mch_get_shellsize: ne estas konzolo??
 menuo Redakti->Mallokaj Agordoj->Baskuligi Enmetan Reĝimon menuo Redakti->Mallokaj Agordoj->Baskuligi Reĝimon Kongruan kun Vi menuo  Help->Orfinoj              por pliaj informoj    menuo Helpo->Subteni/Registri     por pliaj informoj    minimuma  reĝimlinio plia linio pliaj linioj netbeans ne estas subtenata kun tiu grafika interfaco
 nova ŝelo lanĉita
 ne neniu konekto de cscope
 Neniu specifa kongruo ne estas tia langeto ne estas tia fenestro neniu sinkronigo nepermesebla en sabloludejo de Vim netrovitaj  ne trovita en '%s: "%s" ankoraŭ ne realigita numero ŝanĝoj   tempo              konservita nombro devas esti egala aŭ pli granda ol nul nombro devas esti pli granda ol nul pe_line_count estas nul komanda linio pre-vimrc problemo dum salto al vindozoj nurlegebla atributo: buffer registrado argumento de remove() ĉu anstataŭigi per %s (y/n/a/q/l/^E/^Y)? argumento de reverse() linio %d kolumno %d serĉo atingis SUBON, daŭrigonte al SUPRO serĉo atingis SUPRON, daŭrigonte al SUBO ŝelo  la ŝelo liveris %d sistemfermo paŝo de sekco ne povas esti nul argumento de sort() rulas "%s" stack_idx devus esti 0 ĉeno ne rajtas enhavi liniavancojn sinkronigo per C-stilaj komentoj sinkronigo ekas  sintakso iskeyword  etikedo %d de %d%s nomo de etikedo al %s de %s tajpu :help cp-default<Enenklavo> por pliaj informoj    tajpu  :help iccf<Enenklavo>      por pliaj informoj    tajpu  :help register<Enenklavo>  por pliaj informoj    tajpu  :help sponsor<Enenklavo>   por pliaj informoj    tajpu  :help version8<Enenklavo>  por informo de versio tajpu  :help windows95<Enenklavo> por pliaj informoj    tajpu  :help<Enenklavo>  aŭ  <F1> por aliri la helpon   tajpu  :q<Enenklavo>              por eliri             tajpu :set nocp<Enenklavo>        por Vim defaŭltoj     ne povis konverti %s al vim-vortaro ne povis konverti %s al vim-listo ne povis konverti %s al vim-strukturo malsukcesis akiri valoron de opcio ne povis malŝalti mallokan opcion %s ne povis malŝalti opcion %s, kiu ne havas mallokan valoron argumento de uniq() nekonata nekonata flago:  nekonata opcio nekonata vimOption sennoma funkcio %s ne ekzistas valoro estas tro grada por C-tipo 'int' valoro estas tro malgranda por C-tipo 'int' versio  eraro de Vim indekso de fenestro estas ekster limoj fenestro estas nevalida kun (klasika) grafika interfaco. kun grafika interfaco Carbon. kun grafika interfaco Cocoa. kun grafika interfaco GTK2. kun grafika interfaco GTK2-GNOME. kun grafika interfaco GTK3. sen grafika interfaco. kun grafika interfaco Photon. kun grafika interfaco X11-Athena. kun grafika interfaco X11-Motif. kun grafika interfaco X11-neXtaw. sen grafika interfaco. skribo al aparatdosiero malŝaltita per la opcio 'opendevice'                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               /* Written 2000 by Andi Kleen */
#ifndef _ASM_X86_DESC_DEFS_H
#define _ASM_X86_DESC_DEFS_H

/*
 * Segment descriptor structure definitions, usable from both x86_64 and i386
 * archs.
 */

#ifndef __ASSEMBLY__

#include <linux/types.h>

/*
 * FIXME: Accessing the desc_struct through its fields is more elegant,
 * and should be the one valid thing to do. However, a lot of open code
 * still touches the a and b accessors, and doing this allow us to do it
 * incrementally. We keep the signature as a struct, rather than an union,
 * so we can get rid of it transparently in the future -- glommer
 */
/* 8 byte segment descriptor */
struct desc_struct {
	union {
		struct {
			unsigned int a;
			unsigned int b;
		};
		struct {
			u16 limit0;
			u16 base0;
			unsigned base1: 8, type: 4, s: 1, dpl: 2, p: 1;
			unsigned limit: 4, avl: 1, l: 1, d: 1, g: 1, base2: 8;
		};
	};
} __attribute__((packed));

#define GDT_ENTRY_INIT(flags, base, limit) { { { \
		.a = ((limit) & 0xffff) | (((base) & 0xffff) << 16), \
		.b = (((base) & 0xff0000) >> 16) | (((flags) & 0xf0ff) << 8) | \
			((limit) & 0xf0000) | ((base) & 0xff000000), \
	} } }

enum {
	GATE_INTERRUPT = 0xE,
	GATE_TRAP = 0xF,
	GATE_CALL = 0xC,
	GATE_TASK = 0x5,
};

/* 16byte gate */
struct gate_struct64 {
	u16 offset_low;
	u16 segment;
	unsigned ist : 3, zero0 : 5, type : 5, dpl : 2, p : 1;
	u16 offset_middle;
	u32 offset_high;
	u32 zero1;
} __attribute__((packed));

#define PTR_LOW(x) ((unsigned long long)(x) & 0xFFFF)
#define PTR_MIDDLE(x) (((unsigned long long)(x) >> 16) & 0xFFFF)
#define PTR_HIGH(x) ((unsigned long long)(x) >> 32)

enum {
	DESC_TSS = 0x9,
	DESC_LDT = 0x2,
	DESCTYPE_S = 0x10,	/* !system */
};

/* LDT or TSS descriptor in the GDT. 16 bytes. */
struct ldttss_desc64 {
	u16 limit0;
	u16 base0;
	unsigned base1 : 8, type : 5, dpl : 2, p : 1;
	unsigned limit1 : 4, zero0 : 3, g : 1, base2 : 8;
	u32 base3;
	u32 zero1;
} __attribute__((packed));

#ifdef CONFIG_X86_64
typedef struct gate_struct64 gate_desc;
typedef struct ldttss_desc64 ldt_desc;
typedef struct ldttss_desc64 tss_desc;
#define gate_offset(g) ((g).offset_low | ((unsigned long)(g).offset_middle << 16) | ((unsigned long)(g).offset_high << 32))
#define gate_segment(g) ((g).segment)
#else
typedef struct desc_struct gate_desc;
typedef struct desc_struct ldt_desc;
typedef struct desc_struct tss_desc;
#define gate_offset(g)		(((g).b & 0xffff0000) | ((g).a & 0x0000ffff))
#define gate_segment(g)		((g).a >> 16)
#endif

struct desc_ptr {
	unsigned short size;
	unsigned long address;
} __attribute__((packed)) ;

#endif /* !__ASSEMBLY__ */

/* Access rights as returned by LAR */
#define AR_TYPE_RODATA		(0 * (1 << 9))
#define AR_TYPE_RWDATA		(1 * (1 << 9))
#define AR_TYPE_RODATA_EXPDOWN	(2 * (1 << 9))
#define AR_TYPE_RWDATA_EXPDOWN	(3 * (1 << 9))
#define AR_TYPE_XOCODE		(4 * (1 << 9))
#define AR_TYPE_XRCODE		(5 * (1 << 9))
#define AR_TYPE_XOCODE_CONF	(6 * (1 << 9))
#define AR_TYPE_XRCODE_CONF	(7 * (1 << 9))
#define AR_TYPE_MASK		(7 * (1 << 9))

#define AR_DPL0			(0 * (1 << 13))
#define AR_DPL3			(3 * (1 << 13))
#define AR_DPL_MASK		(3 * (1 << 13))

#define AR_A			(1 << 8)   /* "Accessed" */
#define AR_S			(1 << 12)  /* If clear, "System" segment */
#define AR_P			(1 << 15)  /* "Present" */
#define AR_AVL			(1 << 20)  /* "AVaiLable" (no HW effect) */
#define AR_L			(1 << 21)  /* "Long mode" for code segments */
#define AR_DB			(1 << 22)  /* D/B, effect depends on type */
#define AR_G			(1 << 23)  /* "Granularity" (limit in pages) */

#endif /* _ASM_X86_DESC_DEFS_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       #ifndef _ASM_X86_EMERGENCY_RESTART_H
#define _ASM_X86_EMERGENCY_RESTART_H

extern void machine_emergency_restart(void);

#endif /* _ASM_X86_EMERGENCY_RESTART_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             #ifndef _ASM_X86_INTEL_PT_H
#define _ASM_X86_INTEL_PT_H

#if defined(CONFIG_PERF_EVENTS) && defined(CONFIG_CPU_SUP_INTEL)
void cpu_emergency_stop_pt(void);
#else
static inline void cpu_emergency_stop_pt(void) {}
#endif

#endif /* _ASM_X86_INTEL_PT_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   #ifndef _ASM_X86_PVCLOCK_ABI_H
#define _ASM_X86_PVCLOCK_ABI_H
#ifndef __ASSEMBLY__

/*
 * These structs MUST NOT be changed.
 * They are the ABI between hypervisor and guest OS.
 * Both Xen and KVM are using this.
 *
 * pvclock_vcpu_time_info holds the system time and the tsc timestamp
 * of the last update. So the guest can use the tsc delta to get a
 * more precise system time.  There is one per virtual cpu.
 *
 * pvclock_wall_clock references the point in time when the system
 * time was zero (usually boot time), thus the guest calculates the
 * current wall clock by adding the system time.
 *
 * Protocol for the "version" fields is: hypervisor raises it (making
 * it uneven) before it starts updating the fields and raises it again
 * (making it even) when it is done.  Thus the guest can make sure the
 * time values it got are consistent by checking the version before
 * and after reading them.
 */

struct pvclock_vcpu_time_info {
	u32   version;
	u32   pad0;
	u64   tsc_timestamp;
	u64   system_time;
	u32   tsc_to_system_mul;
	s8    tsc_shift;
	u8    flags;
	u8    pad[2];
} __attribute__((__packed__)); /* 32 bytes */

struct pvclock_wall_clock {
	u32   version;
	u32   sec;
	u32   nsec;
} __attribute__((__packed__));

#define PVCLOCK_TSC_STABLE_BIT	(1 << 0)
#define PVCLOCK_GUEST_STOPPED	(1 << 1)
/* PVCLOCK_COUNTS_FROM_ZERO broke ABI and can't be used anymore. */
#define PVCLOCK_COUNTS_FROM_ZERO (1 << 2)
#endif /* __ASSEMBLY__ */
#endif /* _ASM_X86_PVCLOCK_ABI_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             #ifndef _ASM_X86_OLPC_OFW_H
#define _ASM_X86_OLPC_OFW_H

/* index into the page table containing the entry OFW occupies */
#define OLPC_OFW_PDE_NR 1022

#define OLPC_OFW_SIG 0x2057464F	/* aka "OFW " */

#ifdef CONFIG_OLPC

extern bool olpc_ofw_is_installed(void);

/* run an OFW command by calling into the firmware */
#define olpc_ofw(name, args, res) \
	__olpc_ofw((name), ARRAY_SIZE(args), args, ARRAY_SIZE(res), res)

extern int __olpc_ofw(const char *name, int nr_args, const void **args, int nr_res,
		void **res);

/* determine whether OFW is available and lives in the proper memory */
extern void olpc_ofw_detect(void);

/* install OFW's pde permanently into the kernel's pgtable */
extern void setup_olpc_ofw_pgd(void);

/* check if OFW was detected during boot */
extern bool olpc_ofw_present(void);

extern void olpc_dt_build_devicetree(void);

#else /* !CONFIG_OLPC */
static inline void olpc_ofw_detect(void) { }
static inline void setup_olpc_ofw_pgd(void) { }
static inline void olpc_dt_build_devicetree(void) { }
#endif /* !CONFIG_OLPC */

#endif /* _ASM_X86_OLPC_OFW_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               #ifndef _ASM_X86_IO_H
#define _ASM_X86_IO_H

/*
 * This file contains the definitions for the x86 IO instructions
 * inb/inw/inl/outb/outw/outl and the "string versions" of the same
 * (insb/insw/insl/outsb/outsw/outsl). You can also use "pausing"
 * versions of the single-IO instructions (inb_p/inw_p/..).
 *
 * This file is not meant to be obfuscating: it's just complicated
 * to (a) handle it all in a way that makes gcc able to optimize it
 * as well as possible and (b) trying to avoid writing the same thing
 * over and over again with slight variations and possibly making a
 * mistake somewhere.
 */

/*
 * Thanks to James van Artsdalen for a better timing-fix than
 * the two short jumps: using outb's to a nonexistent port seems
 * to guarantee better timings even on fast machines.
 *
 * On the other hand, I'd like to be sure of a non-existent port:
 * I feel a bit unsafe about using 0x80 (should be safe, though)
 *
 *		Linus
 */

 /*
  *  Bit simplified and optimized by Jan Hubicka
  *  Support of BIGMEM added by Gerhard Wichert, Siemens AG, July 1999.
  *
  *  isa_memset_io, isa_memcpy_fromio, isa_memcpy_toio added,
  *  isa_read[wl] and isa_write[wl] fixed
  *  - Arnaldo Carvalho de Melo <acme@conectiva.com.br>
  */

#define ARCH_HAS_IOREMAP_WC
#define ARCH_HAS_IOREMAP_WT

#include <linux/string.h>
#include <linux/compiler.h>
#include <asm/page.h>
#include <asm/early_ioremap.h>
#include <asm/pgtable_types.h>

#define build_mmio_read(name, size, type, reg, barrier) \
static inline type name(const volatile void __iomem *addr) \
{ type ret; asm volatile("mov" size " %1,%0":reg (ret) \
:"m" (*(volatile type __force *)addr) barrier); return ret; }

#define build_mmio_write(name, size, type, reg, barrier) \
static inline void name(type val, volatile void __iomem *addr) \
{ asm volatile("mov" size " %0,%1": :reg (val), \
"m" (*(volatile type __force *)addr) barrier); }

build_mmio_read(readb, "b", unsigned char, "=q", :"memory")
build_mmio_read(readw, "w", unsigned short, "=r", :"memory")
build_mmio_read(readl, "l", unsigned int, "=r", :"memory")

build_mmio_read(__readb, "b", unsigned char, "=q", )
build_mmio_read(__readw, "w", unsigned short, "=r", )
build_mmio_read(__readl, "l", unsigned int, "=r", )

build_mmio_write(writeb, "b", unsigned char, "q", :"memory")
build_mmio_write(writew, "w", unsigned short, "r", :"memory")
build_mmio_write(writel, "l", unsigned int, "r", :"memory")

build_mmio_write(__writeb, "b", unsigned char, "q", )
build_mmio_write(__writew, "w", unsigned short, "r", )
build_mmio_write(__writel, "l", unsigned int, "r", )

#define readb_relaxed(a) __readb(a)
#define readw_relaxed(a) __readw(a)
#define readl_relaxed(a) __readl(a)
#define __raw_readb __readb
#define __raw_readw __readw
#define __raw_readl __readl

#define writeb_relaxed(v, a) __writeb(v, a)
#define writew_relaxed(v, a) __writew(v, a)
#define writel_relaxed(v, a) __writel(v, a)
#define __raw_writeb __writeb
#define __raw_writew __writew
#define __raw_writel __writel

#define mmiowb() barrier()

#ifdef CONFIG_X86_64

build_mmio_read(readq, "q", unsigned long, "=r", :"memory")
build_mmio_write(writeq, "q", unsigned long, "r", :"memory")

#define readq_relaxed(a)	readq(a)
#define writeq_relaxed(v, a)	writeq(v, a)

#define __raw_readq(a)		readq(a)
#define __raw_writeq(val, addr)	writeq(val, addr)

/* Let people know that we have them */
#define readq			readq
#define writeq			writeq

#endif

/**
 *	virt_to_phys	-	map virtual addresses to physical
 *	@address: address to remap
 *
 *	The returned physical address is the physical (CPU) mapping for
 *	the memory address given. It is only valid to use this function on
 *	addresses directly mapped or allocated via kmalloc.
 *
 *	This function does not give bus mappings for DMA transfers. In
 *	almost all conceivable cases a device driver should not be using
 *	this function
 */

static inline phys_addr_t virt_to_phys(volatile void *address)
{
	return __pa(address);
}

/**
 *	phys_to_virt	-	map physical address to virtual
 *	@address: address to remap
 *
 *	The returned virtual address is a current CPU mapping for
 *	the memory address given. It is only valid to use this function on
 *	addresses that have a kernel mapping
 *
 *	This function does not handle bus mappings for DMA transfers. In
 *	almost all conceivable cases a device driver should not be using
 *	this function
 */

static inline void *phys_to_virt(phys_addr_t address)
{
	return __va(address);
}

/*
 * Change "struct page" to physical address.
 */
#define page_to_phys(page)    ((dma_addr_t)page_to_pfn(page) << PAGE_SHIFT)

/*
 * ISA I/O bus memory addresses are 1:1 with the physical address.
 * However, we truncate the address to unsigned int to avoid undesirable
 * promitions in legacy drivers.
 */
static inline unsigned int isa_virt_to_bus(volatile void *address)
{
	return (unsigned int)virt_to_phys(address);
}
#define isa_page_to_bus(page)	((unsigned int)page_to_phys(page))
#define isa_bus_to_virt		phys_to_virt

/*
 * However PCI ones are not necessarily 1:1 and therefore these interfaces
 * are forbidden in portable PCI drivers.
 *
 * Allow them on x86 for legacy drivers, though.
 */
#define virt_to_bus virt_to_phys
#define bus_to_virt phys_to_virt

/**
 * ioremap     -   map bus memory into CPU space
 * @offset:    bus address of the memory
 * @size:      size of the resource to map
 *
 * ioremap performs a platform specific sequence of operations to
 * make bus memory CPU accessible via the readb/readw/readl/writeb/
 * writew/writel functions and the other mmio helpers. The returned
 * address is not guaranteed to be usable directly as a virtual
 * address.
 *
 * If the area you are trying to map is a PCI BAR you should have a
 * look at pci_iomap().
 */
extern void __iomem *ioremap_nocache(resource_size_t offset, unsigned long size);
extern void __iomem *ioremap_uc(resource_size_t offset, unsigned long size);
#define ioremap_uc ioremap_uc

extern void __iomem *ioremap_cache(resource_size_t offset, unsigned long size);
extern void __iomem *ioremap_prot(resource_size_t offset, unsigned long size,
				unsigned long prot_val);

/*
 * The default ioremap() behavior is non-cached:
 */
static inline void __iomem *ioremap(resource_size_t offset, unsigned long size)
{
	return ioremap_nocache(offset, size);
}

extern void iounmap(volatile void __iomem *addr);

extern void set_iounmap_nonlazy(void);

#ifdef __KERNEL__

#include <asm-generic/iomap.h>

/*
 * Convert a virtual cached pointer to an uncached pointer
 */
#define xlate_dev_kmem_ptr(p)	p

static inline void
memset_io(volatile void __iomem *addr, unsigned char val, size_t count)
{
	memset((void __force *)addr, val, count);
}

static inline void
memcpy_fromio(void *dst, const volatile void __iomem *src, size_t count)
{
	memcpy(dst, (const void __force *)src, count);
}

static inline void
memcpy_toio(volatile void __iomem *dst, const void *src, size_t count)
{
	memcpy((void __force *)dst, src, count);
}

/*
 * ISA space is 'always mapped' on a typical x86 system, no need to
 * explicitly ioremap() it. The fact that the ISA IO space is mapped
 * to PAGE_OFFSET is pure coincidence - it does not mean ISA values
 * are physical addresses. The following constant pointer can be
 * used as the IO-area pointer (it can be iounmapped as well, so the
 * analogy with PCI is quite large):
 */
#define __ISA_IO_base ((char __iomem *)(PAGE_OFFSET))

/*
 *	Cache management
 *
 *	This needed for two cases
 *	1. Out of order aware processors
 *	2. Accidentally out of order processors (PPro errata #51)
 */

static inline void flush_write_buffers(void)
{
#if defined(CONFIG_X86_PPRO_FENCE)
	asm volatile("lock; addl $0,0(%%esp)": : :"memory");
#endif
}

#endif /* __KERNEL__ */

extern void native_io_delay(void);

extern int io_delay_type;
extern void io_delay_init(void);

#if defined(CONFIG_PARAVIRT)
#include <asm/paravirt.h>
#else

static inline void slow_down_io(void)
{
	native_io_delay();
#ifdef REALLY_SLOW_IO
	native_io_delay();
	native_io_delay();
	native_io_delay();
#endif
}

#endif

#define BUILDIO(bwl, bw, type)						\
static inline void out##bwl(unsigned type value, int port)		\
{									\
	asm volatile("out" #bwl " %" #bw "0, %w1"			\
		     : : "a"(value), "Nd"(port));			\
}									\
									\
static inline unsigned type in##bwl(int port)				\
{									\
	unsigned type value;						\
	asm volatile("in" #bwl " %w1, %" #bw "0"			\
		     : "=a"(value) : "Nd"(port));			\
	return value;							\
}									\
									\
static inline void out##bwl##_p(unsigned type value, int port)		\
{									\
	out##bwl(value, port);						\
	slow_down_io();							\
}									\
									\
static inline unsigned type in##bwl##_p(int port)			\
{									\
	unsigned type value = in##bwl(port);				\
	slow_down_io();							\
	return value;							\
}									\
									\
static inline void outs##bwl(int port, const void *addr, unsigned long count) \
{									\
	asm volatile("rep; outs" #bwl					\
		     : "+S"(addr), "+c"(count) : "d"(port) : "memory");	\
}									\
									\
static inline void ins##bwl(int port, void *addr, unsigned long count)	\
{									\
	asm volatile("rep; ins" #bwl					\
		     : "+D"(addr), "+c"(count) : "d"(port) : "memory");	\
}

BUILDIO(b, b, char)
BUILDIO(w, w, short)
BUILDIO(l, , int)

extern void *xlate_dev_mem_ptr(phys_addr_t phys);
extern void unxlate_dev_mem_ptr(phys_addr_t phys, void *addr);

extern int ioremap_change_attr(unsigned long vaddr, unsigned long size,
				enum page_cache_mode pcm);
extern void __iomem *ioremap_wc(resource_size_t offset, unsigned long size);
extern void __iomem *ioremap_wt(resource_size_t offset, unsigned long size);

extern bool is_early_ioremap_ptep(pte_t *ptep);

#ifdef CONFIG_XEN
#include <xen/xen.h>
struct bio_vec;

extern bool xen_biovec_phys_mergeable(const struct bio_vec *vec1,
				      const struct bio_vec *vec2);

#define BIOVEC_PHYS_MERGEABLE(vec1, vec2)				\
	(__BIOVEC_PHYS_MERGEABLE(vec1, vec2) &&				\
	 (!xen_domain() || xen_biovec_phys_mergeable(vec1, vec2)))
#endif	/* CONFIG_XEN */

#define IO_SPACE_LIMIT 0xffff

#ifdef CONFIG_MTRR
extern int __must_check arch_phys_wc_index(int handle);
#define arch_phys_wc_index arch_phys_wc_index

extern int __must_check arch_phys_wc_add(unsigned long base,
					 unsigned long size);
extern void arch_phys_wc_del(int handle);
#define arch_phys_wc_add arch_phys_wc_add
#endif

#ifdef CONFIG_X86_PAT
extern int arch_io_reserve_memtype_wc(resource_size_t start, resource_size_t size);
extern void arch_io_free_memtype_wc(resource_size_t start, resource_size_t size);
#define arch_io_reserve_memtype_wc arch_io_reserve_memtype_wc
#endif

#endif /* _ASM_X86_IO_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            #ifndef _ASM_X86_USER_32_H
#define _ASM_X86_USER_32_H

#include <asm/page.h>
/* Core file format: The core file is written in such a way that gdb
   can understand it and provide useful information to the user (under
   linux we use the 'trad-core' bfd).  There are quite a number of
   obstacles to being able to view the contents of the floating point
   registers, and until these are solved you will not be able to view the
   contents of them.  Actually, you can read in the core file and look at
   the contents of the user struct to find out what the floating point
   registers contain.
   The actual file contents are as follows:
   UPAGE: 1 page consisting of a user struct that tells gdb what is present
   in the file.  Directly after this is a copy of the task_struct, which
   is currently not used by gdb, but it may come in useful at some point.
   All of the registers are stored as part of the upage.  The upage should
   always be only one page.
   DATA: The data area is stored.  We use current->end_text to
   current->brk to pick up all of the user variables, plus any memory
   that may have been malloced.  No attempt is made to determine if a page
   is demand-zero or if a page is totally unused, we just cover the entire
   range.  All of the addresses are rounded in such a way that an integral
   number of pages is written.
   STACK: We need the stack information in order to get a meaningful
   backtrace.  We need to write the data from (esp) to
   current->start_stack, so we round each of these off in order to be able
   to write an integer number of pages.
   The minimum core file size is 3 pages, or 12288 bytes.
*/

/*
 * Pentium III FXSR, SSE support
 *	Gareth Hughes <gareth@valinux.com>, May 2000
 *
 * Provide support for the GDB 5.0+ PTRACE_{GET|SET}FPXREGS requests for
 * interacting with the FXSR-format floating point environment.  Floating
 * point data can be accessed in the regular format in the usual manner,
 * and both the standard and SIMD floating point data can be accessed via
 * the new ptrace requests.  In either case, changes to the FPU environment
 * will be reflected in the task's state as expected.
 */

struct user_i387_struct {
	long	cwd;
	long	swd;
	long	twd;
	long	fip;
	long	fcs;
	long	foo;
	long	fos;
	long	st_space[20];	/* 8*10 bytes for each FP-reg = 80 bytes */
};

struct user_fxsr_struct {
	unsigned short	cwd;
	unsigned short	swd;
	unsigned short	twd;
	unsigned short	fop;
	long	fip;
	long	fcs;
	long	foo;
	long	fos;
	long	mxcsr;
	long	reserved;
	long	st_space[32];	/* 8*16 bytes for each FP-reg = 128 bytes */
	long	xmm_space[32];	/* 8*16 bytes for each XMM-reg = 128 bytes */
	long	padding[56];
};

/*
 * This is the old layout of "struct pt_regs", and
 * is still the layout used by user mode (the new
 * pt_regs doesn't have all registers as the kernel
 * doesn't use the extra segment registers)
 */
struct user_regs_struct {
	unsigned long	bx;
	unsigned long	cx;
	unsigned long	dx;
	unsigned long	si;
	unsigned long	di;
	unsigned long	bp;
	unsigned long	ax;
	unsigned long	ds;
	unsigned long	es;
	unsigned long	fs;
	unsigned long	gs;
	unsigned long	orig_ax;
	unsigned long	ip;
	unsigned long	cs;
	unsigned long	flags;
	unsigned long	sp;
	unsigned long	ss;
};

/* When the kernel dumps core, it starts by dumping the user struct -
   this will be used by gdb to figure out where the data and stack segments
   are within the file, and what virtual addresses to use. */
struct user{
/* We start with the registers, to mimic the way that "memory" is returned
   from the ptrace(3,...) function.  */
  struct user_regs_struct regs;	/* Where the registers are actually stored */
/* ptrace does not yet supply these.  Someday.... */
  int u_fpvalid;		/* True if math co-processor being used. */
				/* for this mess. Not yet used. */
  struct user_i387_struct i387;	/* Math Co-processor registers. */
/* The rest of this junk is to help gdb figure out what goes where */
  unsigned long int u_tsize;	/* Text segment size (pages). */
  unsigned long int u_dsize;	/* Data segment size (pages). */
  unsigned long int u_ssize;	/* Stack segment size (pages). */
  unsigned long start_code;     /* Starting virtual address of text. */
  unsigned long start_stack;	/* Starting virtual address of stack area.
				   This is actually the bottom of the stack,
				   the top of the stack is always found in the
				   esp register.  */
  long int signal;     		/* Signal that caused the core dump. */
  int reserved;			/* No longer used */
  unsigned long u_ar0;		/* Used by gdb to help find the values for */
				/* the registers. */
  struct user_i387_struct *u_fpstate;	/* Math Co-processor pointer. */
  unsigned long magic;		/* To uniquely identify a core file */
  char u_comm[32];		/* User command that was responsible */
  int u_debugreg[8];
};
#define NBPG PAGE_SIZE
#define UPAGES 1
#define HOST_TEXT_START_ADDR (u.start_code)
#define HOST_STACK_END_ADDR (u.start_stack + u.u_ssize * NBPG)

#endif /* _ASM_X86_USER_32_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     #ifndef __SVM_H
#define __SVM_H

#include <uapi/asm/svm.h>


enum {
	INTERCEPT_INTR,
	INTERCEPT_NMI,
	INTERCEPT_SMI,
	INTERCEPT_INIT,
	INTERCEPT_VINTR,
	INTERCEPT_SELECTIVE_CR0,
	INTERCEPT_STORE_IDTR,
	INTERCEPT_STORE_GDTR,
	INTERCEPT_STORE_LDTR,
	INTERCEPT_STORE_TR,
	INTERCEPT_LOAD_IDTR,
	INTERCEPT_LOAD_GDTR,
	INTERCEPT_LOAD_LDTR,
	INTERCEPT_LOAD_TR,
	INTERCEPT_RDTSC,
	INTERCEPT_RDPMC,
	INTERCEPT_PUSHF,
	INTERCEPT_POPF,
	INTERCEPT_CPUID,
	INTERCEPT_RSM,
	INTERCEPT_IRET,
	INTERCEPT_INTn,
	INTERCEPT_INVD,
	INTERCEPT_PAUSE,
	INTERCEPT_HLT,
	INTERCEPT_INVLPG,
	INTERCEPT_INVLPGA,
	INTERCEPT_IOIO_PROT,
	INTERCEPT_MSR_PROT,
	INTERCEPT_TASK_SWITCH,
	INTERCEPT_FERR_FREEZE,
	INTERCEPT_SHUTDOWN,
	INTERCEPT_VMRUN,
	INTERCEPT_VMMCALL,
	INTERCEPT_VMLOAD,
	INTERCEPT_VMSAVE,
	INTERCEPT_STGI,
	INTERCEPT_CLGI,
	INTERCEPT_SKINIT,
	INTERCEPT_RDTSCP,
	INTERCEPT_ICEBP,
	INTERCEPT_WBINVD,
	INTERCEPT_MONITOR,
	INTERCEPT_MWAIT,
	INTERCEPT_MWAIT_COND,
	INTERCEPT_XSETBV,
};


struct __attribute__ ((__packed__)) vmcb_control_area {
	u32 intercept_cr;
	u32 intercept_dr;
	u32 intercept_exceptions;
	u64 intercept;
	u8 reserved_1[42];
	u16 pause_filter_count;
	u64 iopm_base_pa;
	u64 msrpm_base_pa;
	u64 tsc_offset;
	u32 asid;
	u8 tlb_ctl;
	u8 reserved_2[3];
	u32 int_ctl;
	u32 int_vector;
	u32 int_state;
	u8 reserved_3[4];
	u32 exit_code;
	u32 exit_code_hi;
	u64 exit_info_1;
	u64 exit_info_2;
	u32 exit_int_info;
	u32 exit_int_info_err;
	u64 nested_ctl;
	u64 avic_vapic_bar;
	u8 reserved_4[8];
	u32 event_inj;
	u32 event_inj_err;
	u64 nested_cr3;
	u64 lbr_ctl;
	u32 clean;
	u32 reserved_5;
	u64 next_rip;
	u8 insn_len;
	u8 insn_bytes[15];
	u64 avic_backing_page;	/* Offset 0xe0 */
	u8 reserved_6[8];	/* Offset 0xe8 */
	u64 avic_logical_id;	/* Offset 0xf0 */
	u64 avic_physical_id;	/* Offset 0xf8 */
	u8 reserved_7[768];
};


#define TLB_CONTROL_DO_NOTHING 0
#define TLB_CONTROL_FLUSH_ALL_ASID 1
#define TLB_CONTROL_FLUSH_ASID 3
#define TLB_CONTROL_FLUSH_ASID_LOCAL 7

#define V_TPR_MASK 0x0f

#define V_IRQ_SHIFT 8
#define V_IRQ_MASK (1 << V_IRQ_SHIFT)

#define V_INTR_PRIO_SHIFT 16
#define V_INTR_PRIO_MASK (0x0f << V_INTR_PRIO_SHIFT)

#define V_IGN_TPR_SHIFT 20
#define V_IGN_TPR_MASK (1 << V_IGN_TPR_SHIFT)

#define V_INTR_MASKING_SHIFT 24
#define V_INTR_MASKING_MASK (1 << V_INTR_MASKING_SHIFT)

#define AVIC_ENABLE_SHIFT 31
#define AVIC_ENABLE_MASK (1 << AVIC_ENABLE_SHIFT)

#define SVM_INTERRUPT_SHADOW_MASK 1

#define SVM_IOIO_STR_SHIFT 2
#define SVM_IOIO_REP_SHIFT 3
#define SVM_IOIO_SIZE_SHIFT 4
#define SVM_IOIO_ASIZE_SHIFT 7

#define SVM_IOIO_TYPE_MASK 1
#define SVM_IOIO_STR_MASK (1 << SVM_IOIO_STR_SHIFT)
#define SVM_IOIO_REP_MASK (1 << SVM_IOIO_REP_SHIFT)
#define SVM_IOIO_SIZE_MASK (7 << SVM_IOIO_SIZE_SHIFT)
#define SVM_IOIO_ASIZE_MASK (7 << SVM_IOIO_ASIZE_SHIFT)

#define SVM_VM_CR_VALID_MASK	0x001fULL
#define SVM_VM_CR_SVM_LOCK_MASK 0x0008ULL
#define SVM_VM_CR_SVM_DIS_MASK  0x0010ULL

struct __attribute__ ((__packed__)) vmcb_seg {
	u16 selector;
	u16 attrib;
	u32 limit;
	u64 base;
};

struct __attribute__ ((__packed__)) vmcb_save_area {
	struct vmcb_seg es;
	struct vmcb_seg cs;
	struct vmcb_seg ss;
	struct vmcb_seg ds;
	struct vmcb_seg fs;
	struct vmcb_seg gs;
	struct vmcb_seg gdtr;
	struct vmcb_seg ldtr;
	struct vmcb_seg idtr;
	struct vmcb_seg tr;
	u8 reserved_1[43];
	u8 cpl;
	u8 reserved_2[4];
	u64 efer;
	u8 reserved_3[112];
	u64 cr4;
	u64 cr3;
	u64 cr0;
	u64 dr7;
	u64 dr6;
	u64 rflags;
	u64 rip;
	u8 reserved_4[88];
	u64 rsp;
	u8 reserved_5[24];
	u64 rax;
	u64 star;
	u64 lstar;
	u64 cstar;
	u64 sfmask;
	u64 kernel_gs_base;
	u64 sysenter_cs;
	u64 sysenter_esp;
	u64 sysenter_eip;
	u64 cr2;
	u8 reserved_6[32];
	u64 g_pat;
	u64 dbgctl;
	u64 br_from;
	u64 br_to;
	u64 last_excp_from;
	u64 last_excp_to;
};

struct __attribute__ ((__packed__)) vmcb {
	struct vmcb_control_area control;
	struct vmcb_save_area save;
};

#define SVM_CPUID_FUNC 0x8000000a

#define SVM_VM_CR_SVM_DISABLE 4

#define SVM_SELECTOR_S_SHIFT 4
#define SVM_SELECTOR_DPL_SHIFT 5
#define SVM_SELECTOR_P_SHIFT 7
#define SVM_SELECTOR_AVL_SHIFT 8
#define SVM_SELECTOR_L_SHIFT 9
#define SVM_SELECTOR_DB_SHIFT 10
#define SVM_SELECTOR_G_SHIFT 11

#define SVM_SELECTOR_TYPE_MASK (0xf)
#define SVM_SELECTOR_S_MASK (1 << SVM_SELECTOR_S_SHIFT)
#define SVM_SELECTOR_DPL_MASK (3 << SVM_SELECTOR_DPL_SHIFT)
#define SVM_SELECTOR_P_MASK (1 << SVM_SELECTOR_P_SHIFT)
#define SVM_SELECTOR_AVL_MASK (1 << SVM_SELECTOR_AVL_SHIFT)
#define SVM_SELECTOR_L_MASK (1 << SVM_SELECTOR_L_SHIFT)
#define SVM_SELECTOR_DB_MASK (1 << SVM_SELECTOR_DB_SHIFT)
#define SVM_SELECTOR_G_MASK (1 << SVM_SELECTOR_G_SHIFT)

#define SVM_SELECTOR_WRITE_MASK (1 << 1)
#define SVM_SELECTOR_READ_MASK SVM_SELECTOR_WRITE_MASK
#define SVM_SELECTOR_CODE_MASK (1 << 3)

#define INTERCEPT_CR0_READ	0
#define INTERCEPT_CR3_READ	3
#define INTERCEPT_CR4_READ	4
#define INTERCEPT_CR8_READ	8
#define INTERCEPT_CR0_WRITE	(16 + 0)
#define INTERCEPT_CR3_WRITE	(16 + 3)
#define INTERCEPT_CR4_WRITE	(16 + 4)
#define INTERCEPT_CR8_WRITE	(16 + 8)

#define INTERCEPT_DR0_READ	0
#define INTERCEPT_DR1_READ	1
#define INTERCEPT_DR2_READ	2
#define INTERCEPT_DR3_READ	3
#define INTERCEPT_DR4_READ	4
#define INTERCEPT_DR5_READ	5
#define INTERCEPT_DR6_READ	6
#define INTERCEPT_DR7_READ	7
#define INTERCEPT_DR0_WRITE	(16 + 0)
#define INTERCEPT_DR1_WRITE	(16 + 1)
#define INTERCEPT_DR2_WRITE	(16 + 2)
#define INTERCEPT_DR3_WRITE	(16 + 3)
#define INTERCEPT_DR4_WRITE	(16 + 4)
#define INTERCEPT_DR5_WRITE	(16 + 5)
#define INTERCEPT_DR6_WRITE	(16 + 6)
#define INTERCEPT_DR7_WRITE	(16 + 7)

#define SVM_EVTINJ_VEC_MASK 0xff

#define SVM_EVTINJ_TYPE_SHIFT 8
#define SVM_EVTINJ_TYPE_MASK (7 << SVM_EVTINJ_TYPE_SHIFT)

#define SVM_EVTINJ_TYPE_INTR (0 << SVM_EVTINJ_TYPE_SHIFT)
#define SVM_EVTINJ_TYPE_NMI (2 << SVM_EVTINJ_TYPE_SHIFT)
#define SVM_EVTINJ_TYPE_EXEPT (3 << SVM_EVTINJ_TYPE_SHIFT)
#define SVM_EVTINJ_TYPE_SOFT (4 << SVM_EVTINJ_TYPE_SHIFT)

#define SVM_EVTINJ_VALID (1 << 31)
#define SVM_EVTINJ_VALID_ERR (1 << 11)

#define SVM_EXITINTINFO_VEC_MASK SVM_EVTINJ_VEC_MASK
#define SVM_EXITINTINFO_TYPE_MASK SVM_EVTINJ_TYPE_MASK

#define	SVM_EXITINTINFO_TYPE_INTR SVM_EVTINJ_TYPE_INTR
#define	SVM_EXITINTINFO_TYPE_NMI SVM_EVTINJ_TYPE_NMI
#define	SVM_EXITINTINFO_TYPE_EXEPT SVM_EVTINJ_TYPE_EXEPT
#define	SVM_EXITINTINFO_TYPE_SOFT SVM_EVTINJ_TYPE_SOFT

#define SVM_EXITINTINFO_VALID SVM_EVTINJ_VALID
#define SVM_EXITINTINFO_VALID_ERR SVM_EVTINJ_VALID_ERR

#define SVM_EXITINFOSHIFT_TS_REASON_IRET 36
#define SVM_EXITINFOSHIFT_TS_REASON_JMP 38
#define SVM_EXITINFOSHIFT_TS_HAS_ERROR_CODE 44

#define SVM_EXITINFO_REG_MASK 0x0F

#define SVM_CR0_SELECTIVE_MASK (X86_CR0_TS | X86_CR0_MP)

#define SVM_VMLOAD ".byte 0x0f, 0x01, 0xda"
#define SVM_VMRUN  ".byte 0x0f, 0x01, 0xd8"
#define SVM_VMSAVE ".byte 0x0f, 0x01, 0xdb"
#define SVM_CLGI   ".byte 0x0f, 0x01, 0xdd"
#define SVM_STGI   ".byte 0x0f, 0x01, 0xdc"
#define SVM_INVLPGA ".byte 0x0f, 0x01, 0xdf"

#endif
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        #ifndef _ASM_X86_FUTEX_H
#define _ASM_X86_FUTEX_H

#ifdef __KERNEL__

#include <linux/futex.h>
#include <linux/uaccess.h>

#include <asm/asm.h>
#include <asm/errno.h>
#include <asm/processor.h>
#include <asm/smap.h>

#define __futex_atomic_op1(insn, ret, oldval, uaddr, oparg)	\
	asm volatile("\t" ASM_STAC "\n"				\
		     "1:\t" insn "\n"				\
		     "2:\t" ASM_CLAC "\n"			\
		     "\t.section .fixup,\"ax\"\n"		\
		     "3:\tmov\t%3, %1\n"			\
		     "\tjmp\t2b\n"				\
		     "\t.previous\n"				\
		     _ASM_EXTABLE(1b, 3b)			\
		     : "=r" (oldval), "=r" (ret), "+m" (*uaddr)	\
		     : "i" (-EFAULT), "0" (oparg), "1" (0))

#define __futex_atomic_op2(insn, ret, oldval, uaddr, oparg)	\
	asm volatile("\t" ASM_STAC "\n"				\
		     "1:\tmovl	%2, %0\n"			\
		     "\tmovl\t%0, %3\n"				\
		     "\t" insn "\n"				\
		     "2:\t" LOCK_PREFIX "cmpxchgl %3, %2\n"	\
		     "\tjnz\t1b\n"				\
		     "3:\t" ASM_CLAC "\n"			\
		     "\t.section .fixup,\"ax\"\n"		\
		     "4:\tmov\t%5, %1\n"			\
		     "\tjmp\t3b\n"				\
		     "\t.previous\n"				\
		     _ASM_EXTABLE(1b, 4b)			\
		     _ASM_EXTABLE(2b, 4b)			\
		     : "=&a" (oldval), "=&r" (ret),		\
		       "+m" (*uaddr), "=&r" (tem)		\
		     : "r" (oparg), "i" (-EFAULT), "1" (0))

static inline int futex_atomic_op_inuser(int encoded_op, u32 __user *uaddr)
{
	int op = (encoded_op >> 28) & 7;
	int cmp = (encoded_op >> 24) & 15;
	int oparg = (encoded_op << 8) >> 20;
	int cmparg = (encoded_op << 20) >> 20;
	int oldval = 0, ret, tem;

	if (encoded_op & (FUTEX_OP_OPARG_SHIFT << 28))
		oparg = 1 << oparg;

	if (!access_ok(VERIFY_WRITE, uaddr, sizeof(u32)))
		return -EFAULT;

	pagefault_disable();

	switch (op) {
	case FUTEX_OP_SET:
		__futex_atomic_op1("xchgl %0, %2", ret, oldval, uaddr, oparg);
		break;
	case FUTEX_OP_ADD:
		__futex_atomic_op1(LOCK_PREFIX "xaddl %0, %2", ret, oldval,
				   uaddr, oparg);
		break;
	case FUTEX_OP_OR:
		__futex_atomic_op2("orl %4, %3", ret, oldval, uaddr, oparg);
		break;
	case FUTEX_OP_ANDN:
		__futex_atomic_op2("andl %4, %3", ret, oldval, uaddr, ~oparg);
		break;
	case FUTEX_OP_XOR:
		__futex_atomic_op2("xorl %4, %3", ret, oldval, uaddr, oparg);
		break;
	default:
		ret = -ENOSYS;
	}

	pagefault_enable();

	if (!ret) {
		switch (cmp) {
		case FUTEX_OP_CMP_EQ:
			ret = (oldval == cmparg);
			break;
		case FUTEX_OP_CMP_NE:
			ret = (oldval != cmparg);
			break;
		case FUTEX_OP_CMP_LT:
			ret = (oldval < cmparg);
			break;
		case FUTEX_OP_CMP_GE:
			ret = (oldval >= cmparg);
			break;
		case FUTEX_OP_CMP_LE:
			ret = (oldval <= cmparg);
			break;
		case FUTEX_OP_CMP_GT:
			ret = (oldval > cmparg);
			break;
		default:
			ret = -ENOSYS;
		}
	}
	return ret;
}

static inline int futex_atomic_cmpxchg_inatomic(u32 *uval, u32 __user *uaddr,
						u32 oldval, u32 newval)
{
	return user_atomic_cmpxchg_inatomic(uval, uaddr, oldval, newval);
}

#endif
#endif /* _ASM_X86_FUTEX_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      #ifndef _ASM_X86_DELAY_H
#define _ASM_X86_DELAY_H

#include <asm-generic/delay.h>

void use_tsc_delay(void);
void use_mwaitx_delay(void);

#endif /* _ASM_X86_DELAY_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       #ifndef _ASM_X86_HW_IRQ_H
#define _ASM_X86_HW_IRQ_H

/*
 * (C) 1992, 1993 Linus Torvalds, (C) 1997 Ingo Molnar
 *
 * moved some of the old arch/i386/kernel/irq.h to here. VY
 *
 * IRQ/IPI changes taken from work by Thomas Radke
 * <tomsoft@informatik.tu-chemnitz.de>
 *
 * hacked by Andi Kleen for x86-64.
 * unified by tglx
 */

#include <asm/irq_vectors.h>

#ifndef __ASSEMBLY__

#include <linux/percpu.h>
#include <linux/profile.h>
#include <linux/smp.h>

#include <linux/atomic.h>
#include <asm/irq.h>
#include <asm/sections.h>

/* Interrupt handlers registered during init_IRQ */
extern asmlinkage void apic_timer_interrupt(void);
extern asmlinkage void x86_platform_ipi(void);
extern asmlinkage void kvm_posted_intr_ipi(void);
extern asmlinkage void kvm_posted_intr_wakeup_ipi(void);
extern asmlinkage void error_interrupt(void);
extern asmlinkage void irq_work_interrupt(void);

extern asmlinkage void spurious_interrupt(void);
extern asmlinkage void thermal_interrupt(void);
extern asmlinkage void reschedule_interrupt(void);

extern asmlinkage void irq_move_cleanup_interrupt(void);
extern asmlinkage void reboot_interrupt(void);
extern asmlinkage void threshold_interrupt(void);
extern asmlinkage void deferred_error_interrupt(void);

extern asmlinkage void call_function_interrupt(void);
extern asmlinkage void call_function_single_interrupt(void);

#ifdef CONFIG_TRACING
/* Interrupt handlers registered during init_IRQ */
extern void trace_apic_timer_interrupt(void);
extern void trace_x86_platform_ipi(void);
extern void trace_error_interrupt(void);
extern void trace_irq_work_interrupt(void);
extern void trace_spurious_interrupt(void);
extern void trace_thermal_interrupt(void);
extern void trace_reschedule_interrupt(void);
extern void trace_threshold_interrupt(void);
extern void trace_deferred_error_interrupt(void);
extern void trace_call_function_interrupt(void);
extern void trace_call_function_single_interrupt(void);
#define trace_irq_move_cleanup_interrupt  irq_move_cleanup_interrupt
#define trace_reboot_interrupt  reboot_interrupt
#define trace_kvm_posted_intr_ipi kvm_posted_intr_ipi
#define trace_kvm_posted_intr_wakeup_ipi kvm_posted_intr_wakeup_ipi
#endif /* CONFIG_TRACING */

#ifdef	CONFIG_X86_LOCAL_APIC
struct irq_data;
struct pci_dev;
struct msi_desc;

enum irq_alloc_type {
	X86_IRQ_ALLOC_TYPE_IOAPIC = 1,
	X86_IRQ_ALLOC_TYPE_HPET,
	X86_IRQ_ALLOC_TYPE_MSI,
	X86_IRQ_ALLOC_TYPE_MSIX,
	X86_IRQ_ALLOC_TYPE_DMAR,
	X86_IRQ_ALLOC_TYPE_UV,
};

struct irq_alloc_info {
	enum irq_alloc_type	type;
	u32			flags;
	const struct cpumask	*mask;	/* CPU mask for vector allocation */
	union {
		int		unused;
#ifdef	CONFIG_HPET_TIMER
		struct {
			int		hpet_id;
			int		hpet_index;
			void		*hpet_data;
		};
#endif
#ifdef	CONFIG_PCI_MSI
		struct {
			struct pci_dev	*msi_dev;
			irq_hw_number_t	msi_hwirq;
		};
#endif
#ifdef	CONFIG_X86_IO_APIC
		struct {
			int		ioapic_id;
			int		ioapic_pin;
			int		ioapic_node;
			u32		ioapic_trigger : 1;
			u32		ioapic_polarity : 1;
			u32		ioapic_valid : 1;
			struct IO_APIC_route_entry *ioapic_entry;
		};
#endif
#ifdef	CONFIG_DMAR_TABLE
		struct {
			int		dmar_id;
			void		*dmar_data;
		};
#endif
#ifdef	CONFIG_HT_IRQ
		struct {
			int		ht_pos;
			int		ht_idx;
			struct pci_dev	*ht_dev;
			void		*ht_update;
		};
#endif
#ifdef	CONFIG_X86_UV
		struct {
			int		uv_limit;
			int		uv_blade;
			unsigned long	uv_offset;
			char		*uv_name;
		};
#endif
#if IS_ENABLED(CONFIG_VMD)
		struct {
			struct msi_desc *desc;
		};
#endif
	};
};

struct irq_cfg {
	unsigned int		dest_apicid;
	u8			vector;
	u8			old_vector;
};

extern struct irq_cfg *irq_cfg(unsigned int irq);
extern struct irq_cfg *irqd_cfg(struct irq_data *irq_data);
extern void lock_vector_lock(void);
extern void unlock_vector_lock(void);
extern void setup_vector_irq(int cpu);
#ifdef CONFIG_SMP
extern void send_cleanup_vector(struct irq_cfg *);
extern void irq_complete_move(struct irq_cfg *cfg);
#else
static inline void send_cleanup_vector(struct irq_cfg *c) { }
static inline void irq_complete_move(struct irq_cfg *c) { }
#endif

extern void apic_ack_edge(struct irq_data *data);
#else	/*  CONFIG_X86_LOCAL_APIC */
static inline void lock_vector_lock(void) {}
static inline void unlock_vector_lock(void) {}
#endif	/* CONFIG_X86_LOCAL_APIC */

/* Statistics */
extern atomic_t irq_err_count;
extern atomic_t irq_mis_count;

extern void elcr_set_level_irq(unsigned int irq);

extern char irq_entries_start[];
#ifdef CONFIG_TRACING
#define trace_irq_entries_start irq_entries_start
#endif

#define VECTOR_UNUSED		NULL
#define VECTOR_RETRIGGERED	((void *)~0UL)

typedef struct irq_desc* vector_irq_t[NR_VECTORS];
DECLARE_PER_CPU_USER_MAPPED(vector_irq_t, vector_irq);

#endif /* !ASSEMBLY_ */

#endif /* _ASM_X86_HW_IRQ_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   #ifndef _ASM_X86_MCE_H
#define _ASM_X86_MCE_H

#include <uapi/asm/mce.h>

/*
 * Machine Check support for x86
 */

/* MCG_CAP register defines */
#define MCG_BANKCNT_MASK	0xff         /* Number of Banks */
#define MCG_CTL_P		(1ULL<<8)    /* MCG_CTL register available */
#define MCG_EXT_P		(1ULL<<9)    /* Extended registers available */
#define MCG_CMCI_P		(1ULL<<10)   /* CMCI supported */
#define MCG_EXT_CNT_MASK	0xff0000     /* Number of Extended registers */
#define MCG_EXT_CNT_SHIFT	16
#define MCG_EXT_CNT(c)		(((c) & MCG_EXT_CNT_MASK) >> MCG_EXT_CNT_SHIFT)
#define MCG_SER_P		(1ULL<<24)   /* MCA recovery/new status bits */
#define MCG_ELOG_P		(1ULL<<26)   /* Extended error log supported */
#define MCG_LMCE_P		(1ULL<<27)   /* Local machine check supported */

/* MCG_STATUS register defines */
#define MCG_STATUS_RIPV  (1ULL<<0)   /* restart ip valid */
#define MCG_STATUS_EIPV  (1ULL<<1)   /* ip points to correct instruction */
#define MCG_STATUS_MCIP  (1ULL<<2)   /* machine check in progress */
#define MCG_STATUS_LMCES (1ULL<<3)   /* LMCE signaled */

/* MCG_EXT_CTL register defines */
#define MCG_EXT_CTL_LMCE_EN (1ULL<<0) /* Enable LMCE */

/* MCi_STATUS register defines */
#define MCI_STATUS_VAL   (1ULL<<63)  /* valid error */
#define MCI_STATUS_OVER  (1ULL<<62)  /* previous errors lost */
#define MCI_STATUS_UC    (1ULL<<61)  /* uncorrected error */
#define MCI_STATUS_EN    (1ULL<<60)  /* error enabled */
#define MCI_STATUS_MISCV (1ULL<<59)  /* misc error reg. valid */
#define MCI_STATUS_ADDRV (1ULL<<58)  /* addr reg. valid */
#define MCI_STATUS_PCC   (1ULL<<57)  /* processor context corrupt */
#define MCI_STATUS_S	 (1ULL<<56)  /* Signaled machine check */
#define MCI_STATUS_AR	 (1ULL<<55)  /* Action required */

/* AMD-specific bits */
#define MCI_STATUS_TCC		(1ULL<<55)  /* Task context corrupt */
#define MCI_STATUS_SYNDV	(1ULL<<53)  /* synd reg. valid */
#define MCI_STATUS_DEFERRED	(1ULL<<44)  /* uncorrected error, deferred exception */
#define MCI_STATUS_POISON	(1ULL<<43)  /* access poisonous data */

/*
 * McaX field if set indicates a given bank supports MCA extensions:
 *  - Deferred error interrupt type is specifiable by bank.
 *  - MCx_MISC0[BlkPtr] field indicates presence of extended MISC registers,
 *    But should not be used to determine MSR numbers.
 *  - TCC bit is present in MCx_STATUS.
 */
#define MCI_CONFIG_MCAX		0x1
#define MCI_IPID_MCATYPE	0xFFFF0000
#define MCI_IPID_HWID		0xFFF

/*
 * Note that the full MCACOD field of IA32_MCi_STATUS MSR is
 * bits 15:0.  But bit 12 is the 'F' bit, defined for corrected
 * errors to indicate that errors are being filtered by hardware.
 * We should mask out bit 12 when looking for specific signatures
 * of uncorrected errors - so the F bit is deliberately skipped
 * in this #define.
 */
#define MCACOD		  0xefff     /* MCA Error Code */

/* Architecturally defined codes from SDM Vol. 3B Chapter 15 */
#define MCACOD_SCRUB	0x00C0	/* 0xC0-0xCF Memory Scrubbing */
#define MCACOD_SCRUBMSK	0xeff0	/* Skip bit 12 ('F' bit) */
#define MCACOD_L3WB	0x017A	/* L3 Explicit Writeback */
#define MCACOD_DATA	0x0134	/* Data Load */
#define MCACOD_INSTR	0x0150	/* Instruction Fetch */

/* MCi_MISC register defines */
#define MCI_MISC_ADDR_LSB(m)	((m) & 0x3f)
#define MCI_MISC_ADDR_MODE(m)	(((m) >> 6) & 7)
#define  MCI_MISC_ADDR_SEGOFF	0	/* segment offset */
#define  MCI_MISC_ADDR_LINEAR	1	/* linear address */
#define  MCI_MISC_ADDR_PHYS	2	/* physical address */
#define  MCI_MISC_ADDR_MEM	3	/* memory address */
#define  MCI_MISC_ADDR_GENERIC	7	/* generic */

/* CTL2 register defines */
#define MCI_CTL2_CMCI_EN		(1ULL << 30)
#define MCI_CTL2_CMCI_THRESHOLD_MASK	0x7fffULL

#define MCJ_CTX_MASK		3
#define MCJ_CTX(flags)		((flags) & MCJ_CTX_MASK)
#define MCJ_CTX_RANDOM		0    /* inject context: random */
#define MCJ_CTX_PROCESS		0x1  /* inject context: process */
#define MCJ_CTX_IRQ		0x2  /* inject context: IRQ */
#define MCJ_NMI_BROADCAST	0x4  /* do NMI broadcasting */
#define MCJ_EXCEPTION		0x8  /* raise as exception */
#define MCJ_IRQ_BROADCAST	0x10 /* do IRQ broadcasting */

#define MCE_OVERFLOW 0		/* bit 0 in flags means overflow */

/* Software defined banks */
#define MCE_EXTENDED_BANK	128
#define MCE_THERMAL_BANK	(MCE_EXTENDED_BANK + 0)

#define MCE_LOG_LEN 32
#define MCE_LOG_SIGNATURE	"MACHINECHECK"

/* AMD Scalable MCA */
#define MSR_AMD64_SMCA_MC0_CTL		0xc0002000
#define MSR_AMD64_SMCA_MC0_STATUS	0xc0002001
#define MSR_AMD64_SMCA_MC0_ADDR		0xc0002002
#define MSR_AMD64_SMCA_MC0_MISC0	0xc0002003
#define MSR_AMD64_SMCA_MC0_CONFIG	0xc0002004
#define MSR_AMD64_SMCA_MC0_IPID		0xc0002005
#define MSR_AMD64_SMCA_MC0_SYND		0xc0002006
#define MSR_AMD64_SMCA_MC0_DESTAT	0xc0002008
#define MSR_AMD64_SMCA_MC0_DEADDR	0xc0002009
#define MSR_AMD64_SMCA_MC0_MISC1	0xc000200a
#define MSR_AMD64_SMCA_MCx_CTL(x)	(MSR_AMD64_SMCA_MC0_CTL + 0x10*(x))
#define MSR_AMD64_SMCA_MCx_STATUS(x)	(MSR_AMD64_SMCA_MC0_STATUS + 0x10*(x))
#define MSR_AMD64_SMCA_MCx_ADDR(x)	(MSR_AMD64_SMCA_MC0_ADDR + 0x10*(x))
#define MSR_AMD64_SMCA_MCx_MISC(x)	(MSR_AMD64_SMCA_MC0_MISC0 + 0x10*(x))
#define MSR_AMD64_SMCA_MCx_CONFIG(x)	(MSR_AMD64_SMCA_MC0_CONFIG + 0x10*(x))
#define MSR_AMD64_SMCA_MCx_IPID(x)	(MSR_AMD64_SMCA_MC0_IPID + 0x10*(x))
#define MSR_AMD64_SMCA_MCx_SYND(x)	(MSR_AMD64_SMCA_MC0_SYND + 0x10*(x))
#define MSR_AMD64_SMCA_MCx_DESTAT(x)	(MSR_AMD64_SMCA_MC0_DESTAT + 0x10*(x))
#define MSR_AMD64_SMCA_MCx_DEADDR(x)	(MSR_AMD64_SMCA_MC0_DEADDR + 0x10*(x))
#define MSR_AMD64_SMCA_MCx_MISCy(x, y)	((MSR_AMD64_SMCA_MC0_MISC1 + y) + (0x10*(x)))

/*
 * This structure contains all data related to the MCE log.  Also
 * carries a signature to make it easier to find from external
 * debugging tools.  Each entry is only valid when its finished flag
 * is set.
 */
struct mce_log {
	char signature[12]; /* "MACHINECHECK" */
	unsigned len;	    /* = MCE_LOG_LEN */
	unsigned next;
	unsigned flags;
	unsigned recordlen;	/* length of struct mce */
	struct mce entry[MCE_LOG_LEN];
};

struct mca_config {
	bool dont_log_ce;
	bool cmci_disabled;
	bool lmce_disabled;
	bool ignore_ce;
	bool disabled;
	bool ser;
	bool recovery;
	bool bios_cmci_threshold;
	u8 banks;
	s8 bootlog;
	int tolerant;
	int monarch_timeout;
	int panic_timeout;
	u32 rip_msr;
};

struct mce_vendor_flags {
	/*
	 * Indicates that overflow conditions are not fatal, when set.
	 */
	__u64 overflow_recov	: 1,

	/*
	 * (AMD) SUCCOR stands for S/W UnCorrectable error COntainment and
	 * Recovery. It indicates support for data poisoning in HW and deferred
	 * error interrupts.
	 */
	      succor		: 1,

	/*
	 * (AMD) SMCA: This bit indicates support for Scalable MCA which expands
	 * the register space for each MCA bank and also increases number of
	 * banks. Also, to accommodate the new banks and registers, the MCA
	 * register space is moved to a new MSR range.
	 */
	      smca		: 1,

	      __reserved_0	: 61;
};

struct mca_msr_regs {
	u32 (*ctl)	(int bank);
	u32 (*status)	(int bank);
	u32 (*addr)	(int bank);
	u32 (*misc)	(int bank);
};

extern struct mce_vendor_flags mce_flags;

extern struct mca_config mca_cfg;
extern struct mca_msr_regs msr_ops;
extern void mce_register_decode_chain(struct notifier_block *nb);
extern void mce_unregister_decode_chain(struct notifier_block *nb);

#include <linux/percpu.h>
#include <linux/atomic.h>

extern int mce_p5_enabled;

#ifdef CONFIG_X86_MCE
int mcheck_init(void);
void mcheck_cpu_init(struct cpuinfo_x86 *c);
void mcheck_cpu_clear(struct cpuinfo_x86 *c);
void mcheck_vendor_init_severity(void);
#else
static inline int mcheck_init(void) { return 0; }
static inline void mcheck_cpu_init(struct cpuinfo_x86 *c) {}
static inline void mcheck_cpu_clear(struct cpuinfo_x86 *c) {}
static inline void mcheck_vendor_init_severity(void) {}
#endif

#ifdef CONFIG_X86_ANCIENT_MCE
void intel_p5_mcheck_init(struct cpuinfo_x86 *c);
void winchip_mcheck_init(struct cpuinfo_x86 *c);
static inline void enable_p5_mce(void) { mce_p5_enabled = 1; }
#else
static inline void intel_p5_mcheck_init(struct cpuinfo_x86 *c) {}
static inline void winchip_mcheck_init(struct cpuinfo_x86 *c) {}
static inline void enable_p5_mce(void) {}
#endif

void mce_setup(struct mce *m);
void mce_log(struct mce *m);
DECLARE_PER_CPU(struct device *, mce_device);

/*
 * Maximum banks number.
 * This is the limit of the current register layout on
 * Intel CPUs.
 */
#define MAX_NR_BANKS 32

#ifdef CONFIG_X86_MCE_INTEL
void mce_intel_feature_init(struct cpuinfo_x86 *c);
void mce_intel_feature_clear(struct cpuinfo_x86 *c);
void cmci_clear(void);
void cmci_reenable(void);
void cmci_rediscover(void);
void cmci_recheck(void);
#else
static inline void mce_intel_feature_init(struct cpuinfo_x86 *c) { }
static inline void mce_intel_feature_clear(struct cpuinfo_x86 *c) { }
static inline void cmci_clear(void) {}
static inline void cmci_reenable(void) {}
static inline void cmci_rediscover(void) {}
static inline void cmci_recheck(void) {}
#endif

#ifdef CONFIG_X86_MCE_AMD
void mce_amd_feature_init(struct cpuinfo_x86 *c);
#else
static inline void mce_amd_feature_init(struct cpuinfo_x86 *c) { }
#endif

int mce_available(struct cpuinfo_x86 *c);
bool mce_is_memory_error(struct mce *m);

DECLARE_PER_CPU(unsigned, mce_exception_count);
DECLARE_PER_CPU(unsigned, mce_poll_count);

typedef DECLARE_BITMAP(mce_banks_t, MAX_NR_BANKS);
DECLARE_PER_CPU(mce_banks_t, mce_poll_banks);

enum mcp_flags {
	MCP_TIMESTAMP	= BIT(0),	/* log time stamp */
	MCP_UC		= BIT(1),	/* log uncorrected errors */
	MCP_DONTLOG	= BIT(2),	/* only clear, don't log */
};
bool machine_check_poll(enum mcp_flags flags, mce_banks_t *b);

int mce_notify_irq(void);

DECLARE_PER_CPU(struct mce, injectm);

extern void register_mce_write_callback(ssize_t (*)(struct file *filp,
				    const char __user *ubuf,
				    size_t usize, loff_t *off));

/* Disable CMCI/polling for MCA bank claimed by firmware */
extern void mce_disable_bank(int bank);

/*
 * Exception handler
 */

/* Call the installed machine check handler for this CPU setup. */
extern void (*machine_check_vector)(struct pt_regs *, long error_code);
void do_machine_check(struct pt_regs *, long);

/*
 * Threshold handler
 */

extern void (*mce_threshold_vector)(void);
extern void (*threshold_cpu_callback)(unsigned long action, unsigned int cpu);

/* Deferred error interrupt handler */
extern void (*deferred_error_int_vector)(void);

/*
 * Thermal handler
 */

void intel_init_thermal(struct cpuinfo_x86 *c);

void mce_log_therm_throt_event(__u64 status);

/* Interrupt Handler for core thermal thresholds */
extern int (*platform_thermal_notify)(__u64 msr_val);

/* Interrupt Handler for package thermal thresholds */
extern int (*platform_thermal_package_notify)(__u64 msr_val);

/* Callback support of rate control, return true, if
 * callback has rate control */
extern bool (*platform_thermal_package_rate_control)(void);

#ifdef CONFIG_X86_THERMAL_VECTOR
extern void mcheck_intel_therm_init(void);
#else
static inline void mcheck_intel_therm_init(void) { }
#endif

/*
 * Used by APEI to report memory error via /dev/mcelog
 */

struct cper_sec_mem_err;
extern void apei_mce_report_mem_error(int corrected,
				      struct cper_sec_mem_err *mem_err);

/*
 * Enumerate new IP types and HWID values in AMD processors which support
 * Scalable MCA.
 */
#ifdef CONFIG_X86_MCE_AMD

/* These may be used by multiple smca_hwid_mcatypes */
enum smca_bank_types {
	SMCA_LS = 0,	/* Load Store */
	SMCA_IF,	/* Instruction Fetch */
	SMCA_L2_CACHE,	/* L2 Cache */
	SMCA_DE,	/* Decoder Unit */
	SMCA_EX,	/* Execution Unit */
	SMCA_FP,	/* Floating Point */
	SMCA_L3_CACHE,	/* L3 Cache */
	SMCA_CS,	/* Coherent Slave */
	SMCA_PIE,	/* Power, Interrupts, etc. */
	SMCA_UMC,	/* Unified Memory Controller */
	SMCA_PB,	/* Parameter Block */
	SMCA_PSP,	/* Platform Security Processor */
	SMCA_SMU,	/* System Management Unit */
	N_SMCA_BANK_TYPES
};

struct smca_bank_name {
	const char *name;	/* Short name for sysfs */
	const char *long_name;	/* Long name for pretty-printing */
};

extern struct smca_bank_name smca_bank_names[N_SMCA_BANK_TYPES];

#define HWID_MCATYPE(hwid, mcatype) ((hwid << 16) | mcatype)

struct smca_hwid_mcatype {
	unsigned int bank_type;	/* Use with smca_bank_types for easy indexing. */
	u32 hwid_mcatype;	/* (hwid,mcatype) tuple */
	u32 xec_bitmap;		/* Bitmap of valid ExtErrorCodes; current max is 21. */
};

struct smca_bank_info {
	struct smca_hwid_mcatype *type;
	u32 type_instance;
};

extern struct smca_bank_info smca_banks[MAX_NR_BANKS];

#endif

#endif /* _ASM_X86_MCE_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              #ifndef _ASM_X86_KBDLEDS_H
#define _ASM_X86_KBDLEDS_H

/*
 * Some laptops take the 789uiojklm,. keys as number pad when NumLock is on.
 * This seems a good reason to start with NumLock off. That's why on X86 we
 * ask the bios for the correct state.
 */

#include <asm/setup.h>

static inline int kbd_defleds(void)
{
	return boot_params.kbd_status & 0x20 ? (1 << VC_NUMLOCK) : 0;
}

#endif /* _ASM_X86_KBDLEDS_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 