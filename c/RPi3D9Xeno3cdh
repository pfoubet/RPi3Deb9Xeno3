extension,
		# otherwise source it.  It's important not to try to load
		# files that aren't shared libraries, because on some systems
		# (like SunOS) the loader will abort the whole application
		# when it gets an error.

		if {[::tcl::Pkg::CompareExtension $::tcl::file [info sharedlibextension]]} {
		    # The "file join ." command below is necessary.  Without
		    # it, if the file name has no \'s and we're on UNIX, the
		    # load command will invoke the LD_LIBRARY_PATH search
		    # mechanism, which could cause the wrong file to be used.

		    set ::tcl::debug loading
		    load [file join $::tcl::dir $::tcl::file]
		    set ::tcl::type load
		} else {
		    set ::tcl::debug sourcing
		    source [file join $::tcl::dir $::tcl::file]
		    set ::tcl::type source
		}

		# As a performance optimization, if we are creating direct
		# load packages, don't bother figuring out the set of commands
		# created by the new packages.  We only need that list for
		# setting up the autoloading used in the non-direct case.
		if {!$::tcl::direct} {
		    # See what new namespaces appeared, and import commands
		    # from them.  Only exported commands go into the index.

		    foreach ::tcl::x [::tcl::GetAllNamespaces] {
			if {![info exists ::tcl::namespaces($::tcl::x)]} {
			    namespace import -force ${::tcl::x}::*
			}

			# Figure out what commands appeared

			foreach ::tcl::x [info commands] {
			    set ::tcl::newCmds($::tcl::x) 1
			}
			foreach ::tcl::x $::tcl::origCmds {
			    unset -nocomplain ::tcl::newCmds($::tcl::x)
			}
			foreach ::tcl::x [array names ::tcl::newCmds] {
			    # determine which namespace a command comes from

			    set ::tcl::abs [namespace origin $::tcl::x]

			    # special case so that global names have no
			    # leading ::, this is required by the unknown
			    # command

			    set ::tcl::abs \
				    [lindex [auto_qualify $::tcl::abs ::] 0]

			    if {$::tcl::x ne $::tcl::abs} {
				# Name changed during qualification

				set ::tcl::newCmds($::tcl::abs) 1
				unset ::tcl::newCmds($::tcl::x)
			    }
			}
		    }
		}

		# Look through the packages that appeared, and if there is a
		# version provided, then record it

		foreach ::tcl::x [package names] {
		    if {[package provide $::tcl::x] ne ""
			    && ![info exists ::tcl::packages($::tcl::x)]} {
			lappend ::tcl::newPkgs \
			    [list $::tcl::x [package provide $::tcl::x]]
		    }
		}
	    }
	} on error msg {
	    set what [$c eval set ::tcl::debug]
	    if {$doVerbose} {
		tclLog "warning: error while $what $file: $msg"
	    }
	} on ok {} {
	    set what [$c eval set ::tcl::debug]
	    if {$doVerbose} {
		tclLog "successful $what of $file"
	    }
	    set type [$c eval set ::tcl::type]
	    set cmds [lsort [$c eval array names ::tcl::newCmds]]
	    set pkgs [$c eval set ::tcl::newPkgs]
	    if {$doVerbose} {
		if {!$direct} {
		    tclLog "commands provided were $cmds"
		}
		tclLog "packages provided were $pkgs"
	    }
	    if {[llength $pkgs] > 1} {
		tclLog "warning: \"$file\" provides more than one package ($pkgs)"
	    }
	    foreach pkg $pkgs {
		# cmds is empty/not used in the direct case
		lappend files($pkg) [list $file $type $cmds]
	    }

	    if {$doVerbose} {
		tclLog "processed $file"
	    }
	}
	interp delete $c
    }

    append index "# Tcl package index file, version 1.1\n"
    append index "# This file is generated by the \"pkg_mkIndex$more\" command\n"
    append index "# and sourced either when an application starts up or\n"
    append index "# by a \"package unknown\" script.  It invokes the\n"
    append index "# \"package ifneeded\" command to set up package-related\n"
    append index "# information so that packages will be loaded automatically\n"
    append index "# in response to \"package require\" commands.  When this\n"
    append index "# script is sourced, the variable \$dir must contain the\n"
    append index "# full path name of this file's directory.\n"

    foreach pkg [lsort [array names files]] {
	set cmd {}
	lassign $pkg name version
	lappend cmd ::tcl::Pkg::Create -name $name -version $version
	foreach spec [lsort -index 0 $files($pkg)] {
	    foreach {file type procs} $spec {
		if {$direct} {
		    set procs {}
		}
		lappend cmd "-$type" [list $file $procs]
	    }
	}
	append index "\n[eval $cmd]"
    }

    set f [open [file join $dir pkgIndex.tcl] w]
    puts $f $index
    close $f
}

# tclPkgSetup --
# This is a utility procedure use by pkgIndex.tcl files.  It is invoked as
# part of a "package ifneeded" script.  It calls "package provide" to indicate
# that a package is available, then sets entries in the auto_index array so
# that the package's files will be auto-loaded when the commands are used.
#
# Arguments:
# dir -			Directory containing all the files for this package.
# pkg -			Name of the package (no version number).
# version -		Version number for the package, such as 2.1.3.
# files -		List of files that constitute the package.  Each
#			element is a sub-list with three elements.  The first
#			is the name of a file relative to $dir, the second is
#			"load" or "source", indicating whether the file is a
#			loadable binary or a script to source, and the third
#			is a list of commands defined by this file.

proc tclPkgSetup {dir pkg version files} {
    global auto_index

    package provide $pkg $version
    foreach fileInfo $files {
	set f [lindex $fileInfo 0]
	set type [lindex $fileInfo 1]
	foreach cmd [lindex $fileInfo 2] {
	    if {$type eq "load"} {
		set auto_index($cmd) [list load [file join $dir $f] $pkg]
	    } else {
		set auto_index($cmd) [list source [file join $dir $f]]
	    }
	}
    }
}

# tclPkgUnknown --
# This procedure provides the default for the "package unknown" function.  It
# is invoked when a package that's needed can't be found.  It scans the
# auto_path directories and their immediate children looking for pkgIndex.tcl
# files and sources any such files that are found to setup the package
# database. As it searches, it will recognize changes to the auto_path and
# scan any new directories.
#
# Arguments:
# name -		Name of desired package.  Not used.
# version -		Version of desired package.  Not used.
# exact -		Either "-exact" or omitted.  Not used.

proc tclPkgUnknown {name args} {
    global auto_path env

    if {![info exists auto_path]} {
	return
    }
    # Cache the auto_path, because it may change while we run through the
    # first set of pkgIndex.tcl files
    set old_path [set use_path $auto_path]
    while {[llength $use_path]} {
	set dir [lindex $use_path end]

	# Make sure we only scan each directory one time.
	if {[info exists tclSeenPath($dir)]} {
	    set use_path [lrange $use_path 0 end-1]
	    continue
	}
	set tclSeenPath($dir) 1

	# we can't use glob in safe interps, so enclose the following in a
	# catch statement, where we get the pkgIndex files out of the
	# subdirectories
	catch {
	    foreach file [glob -directory $dir -join -nocomplain \
		    * pkgIndex.tcl] {
		set dir [file dirname $file]
		if {![info exists procdDirs($dir)]} {
		    try {
			source $file
		    } trap {POSIX EACCES} {} {
			# $file was not readable; silently ignore
			continue
		    } on error msg {
			tclLog "error reading package index file $file: $msg"
		    } on ok {} {
			set procdDirs($dir) 1
		    }
		}
	    }
	}
	set dir [lindex $use_path end]
	if {![info exists procdDirs($dir)]} {
	    set file [file join $dir pkgIndex.tcl]
	    # safe interps usually don't have "file exists",
	    if {([interp issafe] || [file exists $file])} {
		try {
		    source $file
		} trap {POSIX EACCES} {} {
		    # $file was not readable; silently ignore
		    continue
		} on error msg {
		    tclLog "error reading package index file $file: $msg"
		} on ok {} {
		    set procdDirs($dir) 1
		}
	    }
	}

	set use_path [lrange $use_path 0 end-1]

	# Check whether any of the index scripts we [source]d above set a new
	# value for $::auto_path.  If so, then find any new directories on the
	# $::auto_path, and lappend them to the $use_path we are working from.
	# This gives index scripts the (arguably unwise) power to expand the
	# index script search path while the search is in progress.
	set index 0
	if {[llength $old_path] == [llength $auto_path]} {
	    foreach dir $auto_path old $old_path {
		if {$dir ne $old} {
		    # This entry in $::auto_path has changed.
		    break
		}
		incr index
	    }
	}

	# $index now points to the first element of $auto_path that has
	# changed, or the beginning if $auto_path has changed length Scan the
	# new elements of $auto_path for directories to add to $use_path.
	# Don't add directories we've already seen, or ones already on the
	# $use_path.
	foreach dir [lrange $auto_path $index end] {
	    if {![info exists tclSeenPath($dir)] && ($dir ni $use_path)} {
		lappend use_path $dir
	    }
	}
	set old_path $auto_path
    }
}

# tcl::MacOSXPkgUnknown --
# This procedure extends the "package unknown" function for MacOSX.  It scans
# the Resources/Scripts directories of the immediate children of the auto_path
# directories for pkgIndex files.
#
# Arguments:
# original -		original [package unknown] procedure
# name -		Name of desired package.  Not used.
# version -		Version of desired package.  Not used.
# exact -		Either "-exact" or omitted.  Not used.

proc tcl::MacOSXPkgUnknown {original name args} {
    #  First do the cross-platform default search
    uplevel 1 $original [linsert $args 0 $name]

    # Now do MacOSX specific searching
    global auto_path

    if {![info exists auto_path]} {
	return
    }
    # Cache the auto_path, because it may change while we run through the
    # first set of pkgIndex.tcl files
    set old_path [set use_path $auto_path]
    while {[llength $use_path]} {
	set dir [lindex $use_path end]

	# Make sure we only scan each directory one time.
	if {[info exists tclSeenPath($dir)]} {
	    set use_path [lrange $use_path 0 end-1]
	    continue
	}
	set tclSeenPath($dir) 1

	# get the pkgIndex files out of the subdirectories
	foreach file [glob -directory $dir -join -nocomplain \
		* Resources Scripts pkgIndex.tcl] {
	    set dir [file dirname $file]
	    if {![info exists procdDirs($dir)]} {
		try {
		    source $file
		} trap {POSIX EACCES} {} {
		    # $file was not readable; silently ignore
		    continue
		} on error msg {
		    tclLog "error reading package index file $file: $msg"
		} on ok {} {
		    set procdDirs($dir) 1
		}
	    }
	}
	set use_path [lrange $use_path 0 end-1]

	# Check whether any of the index scripts we [source]d above set a new
	# value for $::auto_path.  If so, then find any new directories on the
	# $::auto_path, and lappend them to the $use_path we are working from.
	# This gives index scripts the (arguably unwise) power to expand the
	# index script search path while the search is in progress.
	set index 0
	if {[llength $old_path] == [llength $auto_path]} {
	    foreach dir $auto_path old $old_path {
		if {$dir ne $old} {
		    # This entry in $::auto_path has changed.
		    break
		}
		incr index
	    }
	}

	# $index now points to the first element of $auto_path that has
	# changed, or the beginning if $auto_path has changed length Scan the
	# new elements of $auto_path for directories to add to $use_path.
	# Don't add directories we've already seen, or ones already on the
	# $use_path.
	foreach dir [lrange $auto_path $index end] {
	    if {![info exists tclSeenPath($dir)] && ($dir ni $use_path)} {
		lappend use_path $dir
	    }
	}
	set old_path $auto_path
    }
}

# ::tcl::Pkg::Create --
#
#	Given a package specification generate a "package ifneeded" statement
#	for the package, suitable for inclusion in a pkgIndex.tcl file.
#
# Arguments:
#	args		arguments used by the Create function:
#			-name		packageName
#			-version	packageVersion
#			-load		{filename ?{procs}?}
#			...
#			-source		{filename ?{procs}?}
#			...
#
#			Any number of -load and -source parameters may be
#			specified, so long as there is at least one -load or
#			-source parameter.  If the procs component of a module
#			specifier is left off, that module will be set up for
#			direct loading; otherwise, it will be set up for lazy
#			loading.  If both -source and -load are specified, the
#			-load'ed files will be loaded first, followed by the
#			-source'd files.
#
# Results:
#	An appropriate "package ifneeded" statement for the package.

proc ::tcl::Pkg::Create {args} {
    append err(usage) "[lindex [info level 0] 0] "
    append err(usage) "-name packageName -version packageVersion"
    append err(usage) "?-load {filename ?{procs}?}? ... "
    append err(usage) "?-source {filename ?{procs}?}? ..."

    set err(wrongNumArgs) "wrong # args: should be \"$err(usage)\""
    set err(valueMissing) "value for \"%s\" missing: should be \"$err(usage)\""
    set err(unknownOpt)   "unknown option \"%s\": should be \"$err(usage)\""
    set err(noLoadOrSource) "at least one of -load and -source must be given"

    # process arguments
    set len [llength $args]
    if {$len < 6} {
	error $err(wrongNumArgs)
    }

    # Initialize parameters
    array set opts {-name {} -version {} -source {} -load {}}

    # process parameters
    for {set i 0} {$i < $len} {incr i} {
	set flag [lindex $args $i]
	incr i
	switch -glob -- $flag {
	    "-name"		-
	    "-version"		{
		if {$i >= $len} {
		    error [format $err(valueMissing) $flag]
		}
		set opts($flag) [lindex $args $i]
	    }
	    "-source"		-
	    "-load"		{
		if {$i >= $len} {
		    error [format $err(valueMissing) $flag]
		}
		lappend opts($flag) [lindex $args $i]
	    }
	    default {
		error [format $err(unknownOpt) [lindex $args $i]]
	    }
	}
    }

    # Validate the parameters
    if {![llength $opts(-name)]} {
	error [format $err(valueMissing) "-name"]
    }
    if {![llength $opts(-version)]} {
	error [format $err(valueMissing) "-version"]
    }

    if {!([llength $opts(-source)] || [llength $opts(-load)])} {
	error $err(noLoadOrSource)
    }

    # OK, now everything is good.  Generate the package ifneeded statment.
    set cmdline "package ifneeded $opts(-name) $opts(-version) "

    set cmdList {}
    set lazyFileList {}

    # Handle -load and -source specs
    foreach key {load source} {
	foreach filespec $opts(-$key) {
	    lassign $filespec filename proclist

	    if { [llength $proclist] == 0 } {
		set cmd "\[list $key \[file join \$dir [list $filename]\]\]"
		lappend cmdList $cmd
	    } else {
		lappend lazyFileList [list $filename $key $proclist]
	    }
	}
    }

    if {[llength $lazyFileList]} {
	lappend cmdList "\[list tclPkgSetup \$dir $opts(-name)\
		$opts(-version) [list $lazyFileList]\]"
    }
    append cmdline [join $cmdList "\\n"]
    return $cmdline
}

interp alias {} ::pkg::create {} ::tcl::Pkg::Create
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 # parray:
# Print the contents of a global array on stdout.
#
# Copyright (c) 1991-1993 The Regents of the University of California.
# Copyright (c) 1994 Sun Microsystems, Inc.
#
# See the file "license.terms" for information on usage and redistribution
# of this file, and for a DISCLAIMER OF ALL WARRANTIES.
#

proc parray {a {pattern *}} {
    upvar 1 $a array
    if {![array exists array]} {
	return -code error "\"$a\" isn't an array"
    }
    set maxl 0
    set names [lsort [array names array $pattern]]
    foreach name $names {
	if {[string length $name] > $maxl} {
	    set maxl [string length $name]
	}
    }
    set maxl [expr {$maxl + [string length $a] + 2}]
    foreach name $names {
	set nameString [format %s(%s) $a $name]
	puts stdout [format "%-*s = %s" $maxl $nameString $array($name)]
    }
}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                # safe.tcl --
#
# This file provide a safe loading/sourcing mechanism for safe interpreters.
# It implements a virtual path mecanism to hide the real pathnames from the
# slave. It runs in a master interpreter and sets up data structure and
# aliases that will be invoked when used from a slave interpreter.
#
# See the safe.n man page for details.
#
# Copyright (c) 1996-1997 Sun Microsystems, Inc.
#
# See the file "license.terms" for information on usage and redistribution of
# this file, and for a DISCLAIMER OF ALL WARRANTIES.

#
# The implementation is based on namespaces. These naming conventions are
# followed:
# Private procs starts with uppercase.
# Public  procs are exported and starts with lowercase
#

# Needed utilities package
package require opt 0.4.1

# Create the safe namespace
namespace eval ::safe {
    # Exported API:
    namespace export interpCreate interpInit interpConfigure interpDelete \
	interpAddToAccessPath interpFindInAccessPath setLogCmd
}

# Helper function to resolve the dual way of specifying staticsok (either
# by -noStatics or -statics 0)
proc ::safe::InterpStatics {} {
    foreach v {Args statics noStatics} {
	upvar $v $v
    }
    set flag [::tcl::OptProcArgGiven -noStatics]
    if {$flag && (!$noStatics == !$statics)
	&& ([::tcl::OptProcArgGiven -statics])} {
	return -code error\
	    "conflicting values given for -statics and -noStatics"
    }
    if {$flag} {
	return [expr {!$noStatics}]
    } else {
	return $statics
    }
}

# Helper function to resolve the dual way of specifying nested loading
# (either by -nestedLoadOk or -nested 1)
proc ::safe::InterpNested {} {
    foreach v {Args nested nestedLoadOk} {
	upvar $v $v
    }
    set flag [::tcl::OptProcArgGiven -nestedLoadOk]
    # note that the test here is the opposite of the "InterpStatics" one
    # (it is not -noNested... because of the wanted default value)
    if {$flag && (!$nestedLoadOk != !$nested)
	&& ([::tcl::OptProcArgGiven -nested])} {
	return -code error\
	    "conflicting values given for -nested and -nestedLoadOk"
    }
    if {$flag} {
	# another difference with "InterpStatics"
	return $nestedLoadOk
    } else {
	return $nested
    }
}

####
#
#  API entry points that needs argument parsing :
#
####

# Interface/entry point function and front end for "Create"
proc ::safe::interpCreate {args} {
    set Args [::tcl::OptKeyParse ::safe::interpCreate $args]
    InterpCreate $slave $accessPath \
	[InterpStatics] [InterpNested] $deleteHook
}

proc ::safe::interpInit {args} {
    set Args [::tcl::OptKeyParse ::safe::interpIC $args]
    if {![::interp exists $slave]} {
	return -code error "\"$slave\" is not an interpreter"
    }
    InterpInit $slave $accessPath \
	[InterpStatics] [InterpNested] $deleteHook
}

# Check that the given slave is "one of us"
proc ::safe::CheckInterp {slave} {
    namespace upvar ::safe S$slave state
    if {![info exists state] || ![::interp exists $slave]} {
	return -code error \
	    "\"$slave\" is not an interpreter managed by ::safe::"
    }
}

# Interface/entry point function and front end for "Configure".  This code
# is awfully pedestrian because it would need more coupling and support
# between the way we store the configuration values in safe::interp's and
# the Opt package. Obviously we would like an OptConfigure to avoid
# duplicating all this code everywhere.
# -> TODO (the app should share or access easily the program/value stored
# by opt)

# This is even more complicated by the boolean flags with no values that
# we had the bad idea to support for the sake of user simplicity in
# create/init but which makes life hard in configure...
# So this will be hopefully written and some integrated with opt1.0
# (hopefully for tcl8.1 ?)
proc ::safe::interpConfigure {args} {
    switch [llength $args] {
	1 {
	    # If we have exactly 1 argument the semantic is to return all
	    # the current configuration. We still call OptKeyParse though
	    # we know that "slave" is our given argument because it also
	    # checks for the "-help" option.
	    set Args [::tcl::OptKeyParse ::safe::interpIC $args]
	    CheckInterp $slave
	    namespace upvar ::safe S$slave state

	    return [join [list \
		[list -accessPath $state(access_path)] \
		[list -statics    $state(staticsok)]   \
		[list -nested     $state(nestedok)]    \
	        [list -deleteHook $state(cleanupHook)]]]
	}
	2 {
	    # If we have exactly 2 arguments the semantic is a "configure
	    # get"
	    lassign $args slave arg

	    # get the flag sub program (we 'know' about Opt's internal
	    # representation of data)
	    set desc [lindex [::tcl::OptKeyGetDesc ::safe::interpIC] 2]
	    set hits [::tcl::OptHits desc $arg]
	    if {$hits > 1} {
		return -code error [::tcl::OptAmbigous $desc $arg]
	    } elseif {$hits == 0} {
		return -code error [::tcl::OptFlagUsage $desc $arg]
	    }
	    CheckInterp $slave
	    namespace upvar ::safe S$slave state

	    set item [::tcl::OptCurDesc $desc]
	    set name [::tcl::OptName $item]
	    switch -exact -- $name {
		-accessPath {
		    return [list -accessPath $state(access_path)]
		}
		-statics    {
		    return [list -statics $state(staticsok)]
		}
		-nested     {
		    return [list -nested $state(nestedok)]
		}
		-deleteHook {
		    return [list -deleteHook $state(cleanupHook)]
		}
		-noStatics {
		    # it is most probably a set in fact but we would need
		    # then to jump to the set part and it is not *sure*
		    # that it is a set action that the user want, so force
		    # it to use the unambigous -statics ?value? instead:
		    return -code error\
			"ambigous query (get or set -noStatics ?)\
				use -statics instead"
		}
		-nestedLoadOk {
		    return -code error\
			"ambigous query (get or set -nestedLoadOk ?)\
				use -nested instead"
		}
		default {
		    return -code error "unknown flag $name (bug)"
		}
	    }
	}
	default {
	    # Otherwise we want to parse the arguments like init and
	    # create did
	    set Args [::tcl::OptKeyParse ::safe::interpIC $args]
	    CheckInterp $slave
	    namespace upvar ::safe S$slave state

	    # Get the current (and not the default) values of whatever has
	    # not been given:
	    if {![::tcl::OptProcArgGiven -accessPath]} {
		set doreset 1
		set accessPath $state(access_path)
	    } else {
		set doreset 0
	    }
	    if {
		![::tcl::OptProcArgGiven -statics]
		&& ![::tcl::OptProcArgGiven -noStatics]
	    } then {
		set statics    $state(staticsok)
	    } else {
		set statics    [InterpStatics]
	    }
	    if {
		[::tcl::OptProcArgGiven -nested] ||
		[::tcl::OptProcArgGiven -nestedLoadOk]
	    } then {
		set nested     [InterpNested]
	    } else {
		set nested     $state(nestedok)
	    }
	    if {![::tcl::OptProcArgGiven -deleteHook]} {
		set deleteHook $state(cleanupHook)
	    }
	    # we can now reconfigure :
	    InterpSetConfig $slave $accessPath $statics $nested $deleteHook
	    # auto_reset the slave (to completly synch the new access_path)
	    if {$doreset} {
		if {[catch {::interp eval $slave {auto_reset}} msg]} {
		    Log $slave "auto_reset failed: $msg"
		} else {
		    Log $slave "successful auto_reset" NOTICE
		}
	    }
	}
    }
}

####
#
#  Functions that actually implements the exported APIs
#
####

#
# safe::InterpCreate : doing the real job
#
# This procedure creates a safe slave and initializes it with the safe
# base aliases.
# NB: slave name must be simple alphanumeric string, no spaces, no (), no
# {},...  {because the state array is stored as part of the name}
#
# Returns the slave name.
#
# Optional Arguments :
# + slave name : if empty, generated name will be used
# + access_path: path list controlling where load/source can occur,
#                if empty: the master auto_path will be used.
# + staticsok  : flag, if 0 :no static package can be loaded (load {} Xxx)
#                      if 1 :static packages are ok.
# + nestedok: flag, if 0 :no loading to sub-sub interps (load xx xx sub)
#                      if 1 : multiple levels are ok.

# use the full name and no indent so auto_mkIndex can find us
proc ::safe::InterpCreate {
			   slave
			   access_path
			   staticsok
			   nestedok
			   deletehook
		       } {
    # Create the slave.
    if {$slave ne ""} {
	::interp create -safe $slave
    } else {
	# empty argument: generate slave name
	set slave [::interp create -safe]
    }
    Log $slave "Created" NOTICE

    # Initialize it. (returns slave name)
    InterpInit $slave $access_path $staticsok $nestedok $deletehook
}

#
# InterpSetConfig (was setAccessPath) :
#    Sets up slave virtual auto_path and corresponding structure within
#    the master. Also sets the tcl_library in the slave to be the first
#    directory in the path.
#    NB: If you change the path after the slave has been initialized you
#    probably need to call "auto_reset" in the slave in order that it gets
#    the right auto_index() array values.

proc ::safe::InterpSetConfig {slave access_path staticsok nestedok deletehook} {
    global auto_path

    # determine and store the access path if empty
    if {$access_path eq ""} {
	set access_path $auto_path

	# Make sure that tcl_library is in auto_path and at the first
	# position (needed by setAccessPath)
	set where [lsearch -exact $access_path [info library]]
	if {$where == -1} {
	    # not found, add it.
	    set access_path [linsert $access_path 0 [info library]]
	    Log $slave "tcl_library was not in auto_path,\
			added it to slave's access_path" NOTICE
	} elseif {$where != 0} {
	    # not first, move it first
	    set access_path [linsert \
				 [lreplace $access_path $where $where] \
				 0 [info library]]
	    Log $slave "tcl_libray was not in first in auto_path,\
			moved it to front of slave's access_path" NOTICE
	}

	# Add 1st level sub dirs (will searched by auto loading from tcl
	# code in the slave using glob and thus fail, so we add them here
	# so by default it works the same).
	set access_path [AddSubDirs $access_path]
    }

    Log $slave "Setting accessPath=($access_path) staticsok=$staticsok\
		nestedok=$nestedok deletehook=($deletehook)" NOTICE

    namespace upvar ::safe S$slave state

    # clear old autopath if it existed
    # build new one
    # Extend the access list with the paths used to look for Tcl Modules.
    # We save the virtual form separately as well, as syncing it with the
    # slave has to be defered until the necessary commands are present for
    # setup.

    set norm_access_path  {}
    set slave_access_path {}
    set map_access_path   {}
    set remap_access_path {}
    set slave_tm_path     {}

    set i 0
    foreach dir $access_path {
	set token [PathToken $i]
	lappend slave_access_path  $token
	lappend map_access_path    $token $dir
	lappend remap_access_path  $dir $token
	lappend norm_access_path   [file normalize $dir]
	incr i
    }

    set morepaths [::tcl::tm::list]
    while {[llength $morepaths]} {
	set addpaths $morepaths
	set morepaths {}

	foreach dir $addpaths {
	    # Prevent the addition of dirs on the tm list to the
	    # result if they are already known.
	    if {[dict exists $remap_access_path $dir]} {
		continue
	    }

	    set token [PathToken $i]
	    lappend access_path        $dir
	    lappend slave_access_path  $token
	    lappend map_access_path    $token $dir
	    lappend remap_access_path  $dir $token
	    lappend norm_access_path   [file normalize $dir]
	    lappend slave_tm_path $token
	    incr i

	    # [Bug 2854929]
	    # Recursively find deeper paths which may contain
	    # modules. Required to handle modules with names like
	    # 'platform::shell', which translate into
	    # 'platform/shell-X.tm', i.e arbitrarily deep
	    # subdirectories.
	    lappend morepaths {*}[glob -nocomplain -directory $dir -type d *]
	}
    }

    set state(access_path)       $access_path
    set state(access_path,map)   $map_access_path
    set state(access_path,remap) $remap_access_path
    set state(access_path,norm)  $norm_access_path
    set state(access_path,slave) $slave_access_path
    set state(tm_path_slave)     $slave_tm_path
    set state(staticsok)         $staticsok
    set state(nestedok)          $nestedok
    set state(cleanupHook)       $deletehook

    SyncAccessPath $slave
}

#
#
# FindInAccessPath:
#    Search for a real directory and returns its virtual Id (including the
#    "$")
proc ::safe::interpFindInAccessPath {slave path} {
    namespace upvar ::safe S$slave state

    if {![dict exists $state(access_path,remap) $path]} {
	return -code error "$path not found in access path $access_path"
    }

    return [dict get $state(access_path,remap) $path]
}

#
# addToAccessPath:
#    add (if needed) a real directory to access path and return its
#    virtual token (including the "$").
proc ::safe::interpAddToAccessPath {slave path} {
    # first check if the directory is already in there
    # (inlined interpFindInAccessPath).
    namespace upvar ::safe S$slave state

    if {[dict exists $state(access_path,remap) $path]} {
	return [dict get $state(access_path,remap) $path]
    }

    # new one, add it:
    set token [PathToken [llength $state(access_path)]]

    lappend state(access_path)       $path
    lappend state(access_path,slave) $token
    lappend state(access_path,map)   $token $path
    lappend state(access_path,remap) $path $token
    lappend state(access_path,norm)  [file normalize $path]

    SyncAccessPath $slave
    return $token
}

# This procedure applies the initializations to an already existing
# interpreter. It is useful when you want to install the safe base aliases
# into a preexisting safe interpreter.
proc ::safe::InterpInit {
			 slave
			 access_path
			 staticsok
			 nestedok
			 deletehook
		     } {
    # Configure will generate an access_path when access_path is empty.
    InterpSetConfig $slave $access_path $staticsok $nestedok $deletehook

    # NB we need to add [namespace current], aliases are always absolute
    # paths.

    # These aliases let the slave load files to define new commands
    # This alias lets the slave use the encoding names, convertfrom,
    # convertto, and system, but not "encoding system <name>" to set the
    # system encoding.
    # Handling Tcl Modules, we need a restricted form of Glob.
    # This alias interposes on the 'exit' command and cleanly terminates
    # the slave.

    foreach {command alias} {
	source   AliasSource
	load     AliasLoad
	encoding AliasEncoding
	exit     interpDelete
	glob     AliasGlob
    } {
	::interp alias $slave $command {} [namespace current]::$alias $slave
    }

    # This alias lets the slave have access to a subset of the 'file'
    # command functionality.

    ::interp expose $slave file
    foreach subcommand {dirname extension rootname tail} {
	::interp alias $slave ::tcl::file::$subcommand {} \
	    ::safe::AliasFileSubcommand $slave $subcommand
    }
    foreach subcommand {
	atime attributes copy delete executable exists isdirectory isfile
	link lstat mtime mkdir nativename normalize owned readable readlink
	rename size stat tempfile type volumes writable
    } {
	::interp alias $slave ::tcl::file::$subcommand {} \
	    ::safe::BadSubcommand $slave file $subcommand
    }

    # Subcommands of info
    foreach {subcommand alias} {
	nameofexecutable   AliasExeName
    } {
	::interp alias $slave ::tcl::info::$subcommand \
	    {} [namespace current]::$alias $slave
    }

    # The allowed slave variables already have been set by Tcl_MakeSafe(3)

    # Source init.tcl and tm.tcl into the slave, to get auto_load and
    # other procedures defined:

    if {[catch {::interp eval $slave {
	source [file join $tcl_library init.tcl]
    }} msg opt]} {
	Log $slave "can't source init.tcl ($msg)"
	return -options $opt "can't source init.tcl into slave $slave ($msg)"
    }

    if {[catch {::interp eval $slave {
	source [file join $tcl_library tm.tcl]
    }} msg opt]} {
	Log $slave "can't source tm.tcl ($msg)"
	return -options $opt "can't source tm.tcl into slave $slave ($msg)"
    }

    # Sync the paths used to search for Tcl modules. This can be done only
    # now, after tm.tcl was loaded.
    namespace upvar ::safe S$slave state
    if {[llength $state(tm_path_slave)] > 0} {
	::interp eval $slave [list \
		::tcl::tm::add {*}[lreverse $state(tm_path_slave)]]
    }
    return $slave
}

# Add (only if needed, avoid duplicates) 1 level of sub directories to an
# existing path list.  Also removes non directories from the returned
# list.
proc ::safe::AddSubDirs {pathList} {
    set res {}
    foreach dir $pathList {
	if {[file isdirectory $dir]} {
	    # check that we don't have it yet as a children of a previous
	    # dir
	    if {$dir ni $res} {
		lappend res $dir
	    }
	    foreach sub [glob -directory $dir -nocomplain *] {
		if {[file isdirectory $sub] && ($sub ni $res)} {
		    # new sub dir, add it !
		    lappend res $sub
		}
	    }
	}
    }
    return $res
}

# This procedure deletes a safe slave managed by Safe Tcl and cleans up
# associated state:

proc ::safe::interpDelete {slave} {
    Log $slave "About to delete" NOTICE

    namespace upvar ::safe S$slave state

    # If the slave has a cleanup hook registered, call it.  Check the
    # existance because we might be called to delete an interp which has
    # not been registered with us at all

    if {[info exists state(cleanupHook)]} {
	set hook $state(cleanupHook)
	if {[llength $hook]} {
	    # remove the hook now, otherwise if the hook calls us somehow,
	    # we'll loop
	    unset state(cleanupHook)
	    try {
		{*}$hook $slave
	    } on error err {
		Log $slave "Delete hook error ($err)"
	    }
	}
    }

    # Discard the global array of state associated with the slave, and
    # delete the interpreter.

    if {[info exists state]} {
	unset state
    }

    # if we have been called twice, the interp might have been deleted
    # already
    if {[::interp exists $slave]} {
	::interp delete $slave
	Log $slave "Deleted" NOTICE
    }

    return
}

# Set (or get) the logging mecanism

proc ::safe::setLogCmd {args} {
    variable Log
    set la [llength $args]
    if {$la == 0} {
	return $Log
    } elseif {$la == 1} {
	set Log [lindex $args 0]
    } else {
	set Log $args
    }

    if {$Log eq ""} {
	# Disable logging completely. Calls to it will be compiled out
	# of all users.
	proc ::safe::Log {args} {}
    } else {
	# Activate logging, define proper command.

	proc ::safe::Log {slave msg {type ERROR}} {
	    variable Log
	    {*}$Log "$type for slave $slave : $msg"
	    return
	}
    }
}

# ------------------- END OF PUBLIC METHODS ------------

#
# Sets the slave auto_path to the master recorded value.  Also sets
# tcl_library to the first token of the virtual path.
#
proc ::safe::SyncAccessPath {slave} {
    namespace upvar ::safe S$slave state

    set slave_access_path $state(access_path,slave)
    ::interp eval $slave [list set auto_path $slave_access_path]

    Log $slave "auto_path in $slave has been set to $slave_access_path"\
	NOTICE

    # This code assumes that info library is the first element in the
    # list of auto_path's. See -> InterpSetConfig for the code which
    # ensures this condition.

    ::interp eval $slave [list \
	      set tcl_library [lindex $slave_access_path 0]]
}

# Returns the virtual token for directory number N.
proc ::safe::PathToken {n} {
    # We need to have a ":" in the token string so [file join] on the
    # mac won't turn it into a relative path.
    return "\$p(:$n:)" ;# Form tested by case 7.2
}

#
# translate virtual path into real path
#
proc ::safe::TranslatePath {slave path} {
    namespace upvar ::safe S$slave state

    # somehow strip the namespaces 'functionality' out (the danger is that
    # we would strip valid macintosh "../" queries... :
    if {[string match "*::*" $path] || [string match "*..*" $path]} {
	return -code error "invalid characters in path $path"
    }

    # Use a cached map instead of computed local vars and subst.

    return [string map $state(access_path,map) $path]
}

# file name control (limit access to files/resources that should be a
# valid tcl source file)
proc ::safe::CheckFileName {slave file} {
    # This used to limit what can be sourced to ".tcl" and forbid files
    # with more than 1 dot and longer than 14 chars, but I changed that
    # for 8.4 as a safe interp has enough internal protection already to
    # allow sourcing anything. - hobbs

    if {![file exists $file]} {
	# don't tell the file path
	return -code error "no such file or directory"
    }

    if {![file readable $file]} {
	# don't tell the file path
	return -code error "not readable"
    }
}

# AliasFileSubcommand handles selected subcommands of [file] in safe
# interpreters that are *almost* safe. In particular, it just acts to
# prevent discovery of what home directories exist.

proc ::safe::AliasFileSubcommand {slave subcommand name} {
    if {[string match ~* $name]} {
	set name ./$name
    }
    tailcall ::interp invokehidden $slave tcl:file:$subcommand $name
}

# AliasGlob is the target of the "glob" alias in safe interpreters.

proc ::safe::AliasGlob {slave args} {
    Log $slave "GLOB ! $args" NOTICE
    set cmd {}
    set at 0
    array set got {
	-directory 0
	-nocomplain 0
	-join 0
	-tails 0
	-- 0
    }

    if {$::tcl_platform(platform) eq "windows"} {
	set dirPartRE {^(.*)[\\/]([^\\/]*)$}
    } else {
	set dirPartRE {^(.*)/([^/]*)$}
    }

    set dir        {}
    set virtualdir {}

    while {$at < [llength $args]} {
	switch -glob -- [set opt [lindex $args $at]] {
	    -nocomplain - -- - -join - -tails {
		lappend cmd $opt
		set got($opt) 1
		incr at
	    }
	    -types - -type {
		lappend cmd -types [lindex $args [incr at]]
		incr at
	    }
	    -directory {
		if {$got($opt)} {
		    return -code error \
			{"-directory" cannot be used with "-path"}
		}
		set got($opt) 1
		set virtualdir [lindex $args [incr at]]
		incr at
	    }
	    pkgIndex.tcl {
		# Oops, this is globbing a subdirectory in regular package
		# search. That is not wanted. Abort, handler does catch
		# already (because glob was not defined before). See
		# package.tcl, lines 484ff in tclPkgUnknown.
		return -code error "unknown command glob"
	    }
	    -* {
		Log $slave "Safe base rejecting glob option '$opt'"
		return -code error "Safe base rejecting glob option '$opt'"
	    }
	    default {
		break
	    }
	}
	if {$got(--)} break
    }

    # Get the real path from the virtual one and check that the path is in the
    # access path of that slave. Done after basic argument processing so that
    # we know if -nocomplain is set.
    if {$got(-directory)} {
	try {
	    set dir [TranslatePath $slave $virtualdir]
	    DirInAccessPath $slave $dir
	} on error msg {
	    Log $slave $msg
	    if {$got(-nocomplain)} return
	    return -code error "permission denied"
	}
	lappend cmd -directory $dir
    }

    # Apply the -join semantics ourselves
    if {$got(-join)} {
	set args [lreplace $args $at end [join [lrange $args $at end] "/"]]
    }

    # Process remaining pattern arguments
    set firstPattern [llength $cmd]
    foreach opt [lrange $args $at end] {
	if {![regexp $dirPartRE $opt -> thedir thefile]} {
	    set thedir .
	} elseif {[string match ~* $thedir]} {
	    set thedir ./$thedir
	}
	if {$thedir eq "*" &&
		($thefile eq "pkgIndex.tcl" || $thefile eq "*.tm")} {
	    set mapped 0
	    foreach d [glob -directory [TranslatePath $slave $virtualdir] \
			   -types d -tails *] {
		catch {
		    DirInAccessPath $slave \
			[TranslatePath $slave [file join $virtualdir $d]]
		    lappend cmd [file join $d $thefile]
		    set mapped 1
		}
	    }
	    if {$mapped} continue
	}
	try {
	    DirInAccessPath $slave [TranslatePath $slave \
		    [file join $virtualdir $thedir]]
	} on error msg {
	    Log $slave $msg
	    if {$got(-nocomplain)} continue
	    return -code error "permission denied"
	}
	lappend cmd $opt
    }

    Log $slave "GLOB = $cmd" NOTICE

    if {$got(-nocomplain) && [llength $cmd] eq $firstPattern} {
	return
    }
    try {
	set entries [::interp invokehidden $slave glob {*}$cmd]
    } on error msg {
	Log $slave $msg
	return -code error "script error"
    }

    Log $slave "GLOB < $entries" NOTICE

    # Translate path back to what the slave should see.
    set res {}
    set l [string length $dir]
    foreach p $entries {
	if {[string equal -length $l $dir $p]} {
	    set p [string replace $p 0 [expr {$l-1}] $virtualdir]
	}
	lappend res $p
    }

    Log $slave "GLOB > $res" NOTICE
    return $res
}

# AliasSource is the target of the "source" alias in safe interpreters.

proc ::safe::AliasSource {slave args} {
    set argc [llength $args]
    # Extended for handling of Tcl Modules to allow not only "source
    # filename", but "source -encoding E filename" as well.
    if {[lindex $args 0] eq "-encoding"} {
	incr argc -2
	set encoding [lindex $args 1]
	set at 2
	if {$encoding eq "identity"} {
	    Log $slave "attempt to use the identity encoding"
	    return -code error "permission denied"
	}
    } else {
	set at 0
	set encoding {}
    }
    if {$argc != 1} {
	set msg "wrong # args: should be \"source ?-encoding E? fileName\""
	Log $slave "$msg ($args)"
	return -code error $msg
    }
    set file [lindex $args $at]

    # get the real path from the virtual one.
    if {[catch {
	set realfile [TranslatePath $slave $file]
    } msg]} {
	Log $slave $msg
	return -code error "permission denied"
    }

    # check that the path is in the access path of that slave
    if {[catch {
	FileInAccessPath $slave $realfile
    } msg]} {
	Log $slave $msg
	return -code error "permission denied"
    }

    # do the checks on the filename :
    if {[catch {
	CheckFileName $slave $realfile
    } msg]} {
	Log $slave "$realfile:$msg"
	return -code error $msg
    }

    # Passed all the tests, lets source it. Note that we do this all manually
    # because we want to control [info script] in the slave so information
    # doesn't leak so much. [Bug 2913625]
    set old [::interp eval $slave {info script}]
    set replacementMsg "script error"
    set code [catch {
	set f [open $realfile]
	fconfigure $f -eofchar \032
	if {$encoding ne ""} {
	    fconfigure $f -encoding $encoding
	}
	set contents [read $f]
	close $f
	::interp eval $slave [list info script $file]
    } msg opt]
    if {$code == 0} {
	set code [catch {::interp eval $slave $contents} msg opt]
	set replacementMsg $msg
    }
    catch {interp eval $slave [list info script $old]}
    # Note that all non-errors are fine result codes from [source], so we must
    # take a little care to do it properly. [Bug 2923613]
    if {$code == 1} {
	Log $slave $msg
	return -code error $replacementMsg
    }
    return -code $code -options $opt $msg
}

# AliasLoad is the target of the "load" alias in safe interpreters.

proc ::safe::AliasLoad {slave file args} {
    set argc [llength $args]
    if {$argc > 2} {
	set msg "load error: too many arguments"
	Log $slave "$msg ($argc) {$file $args}"
	return -code error $msg
    }

    # package name (can be empty if file is not).
    set package [lindex $args 0]

    namespace upvar ::safe S$slave state

    # Determine where to load. load use a relative interp path and {}
    # means self, so we can directly and safely use passed arg.
    set target [lindex $args 1]
    if {$target ne ""} {
	# we will try to load into a sub sub interp; check that we want to
	# authorize that.
	if {!$state(nestedok)} {
	    Log $slave "loading to a sub interp (nestedok)\
			disabled (trying to load $package to $target)"
	    return -code error "permission denied (nested load)"
	}
    }

    # Determine what kind of load is requested
    if {$file eq ""} {
	# static package loading
	if {$package eq ""} {
	    set msg "load error: empty filename and no package name"
	    Log $slave $msg
	    return -code error $msg
	}
	if {!$state(staticsok)} {
	    Log $slave "static packages loading disabled\
			(trying to load $package to $target)"
	    return -code error "permission denied (static package)"
	}
    } else {
	# file loading

	# get the real path from the virtual one.
	try {
	    set file [TranslatePath $slave $file]
	} on error msg {
	    Log $slave $msg
	    return -code error "permission denied"
	}

	# check the translated path
	try {
	    FileInAccessPath $slave $file
	} on error msg {
	    Log $slave $msg
	    return -code error "permission denied (path)"
	}
    }

    try {
	return [::interp invokehidden $slave load $file $package $target]
    } on error msg {
	Log $slave $msg
	return -code error $msg
    }
}

# FileInAccessPath raises an error if the file is not found in the list of
# directories contained in the (master side recorded) slave's access path.

# the security here relies on "file dirname" answering the proper
# result... needs checking ?
proc ::safe::FileInAccessPath {slave file} {
    namespace upvar ::safe S$slave state
    set access_path $state(access_path)

    if {[file isdirectory $file]} {
	return -code error "\"$file\": is a directory"
    }
    set parent [file dirname $file]

    # Normalize paths for comparison since lsearch knows nothing of
    # potential pathname anomalies.
    set norm_parent [file normalize $parent]

    namespace upvar ::safe S$slave state
    if {$norm_parent ni $state(access_path,norm)} {
	return -code error "\"$file\": not in access_path"
    }
}

proc ::safe::DirInAccessPath {slave dir} {
    namespace upvar ::safe S$slave state
    set access_path $state(access_path)

    if {[file isfile $dir]} {
	return -code error "\"$dir\": is a file"
    }

    # Normalize paths for comparison since lsearch knows nothing of
    # potential pathname anomalies.
    set norm_dir [file normalize $dir]

    namespace upvar ::safe S$slave state
    if {$norm_dir ni $state(access_path,norm)} {
	return -code error "\"$dir\": not in access_path"
    }
}

# This procedure is used to report an attempt to use an unsafe member of an
# ensemble command.

proc ::safe::BadSubcommand {slave command subcommand args} {
    set msg "not allowed to invoke subcommand $subcommand of $command"
    Log $slave $msg
    return -code error -errorcode {TCL SAFE SUBCOMMAND} $msg
}

# AliasEncoding is the target of the "encoding" alias in safe interpreters.

proc ::safe::AliasEncoding {slave option args} {
    # Note that [encoding dirs] is not supported in safe slaves at all
    set subcommands {convertfrom convertto names system}
    try {
	set option [tcl::prefix match -error [list -level 1 -errorcode \
		[list TCL LOOKUP INDEX option $option]] $subcommands $option]
	# Special case: [encoding system] ok, but [encoding system foo] not
	if {$option eq "system" && [llength $args]} {
	    return -code error -errorcode {TCL WRONGARGS} \
		"wrong # args: should be \"encoding system\""
	}
    } on error {msg options} {
	Log $slave $msg
	return -options $options $msg
    }
    tailcall ::interp invokehidden $slave encoding $option {*}$args
}

# Various minor hiding of platform features. [Bug 2913625]

proc ::safe::AliasExeName {slave} {
    return ""
}

proc ::safe::Setup {} {
    ####
    #
    # Setup the arguments parsing
    #
    ####

    # Share the descriptions
    set temp [::tcl::OptKeyRegister {
	{-accessPath -list {} "access path for the slave"}
	{-noStatics "prevent loading of statically linked pkgs"}
	{-statics true "loading of statically linked pkgs"}
	{-nestedLoadOk "allow nested loading"}
	{-nested false "nested loading"}
	{-deleteHook -script {} "delete hook"}
    }]

    # create case (slave is optional)
    ::tcl::OptKeyRegister {
	{?slave? -name {} "name of the slave (optional)"}
    } ::safe::interpCreate

    # adding the flags sub programs to the command program (relying on Opt's
    # internal implementation details)
    lappend ::tcl::OptDesc(::safe::interpCreate) $::tcl::OptDesc($temp)

    # init and configure (slave is needed)
    ::tcl::OptKeyRegister {
	{slave -name {} "name of the slave"}
    } ::safe::interpIC

    # adding the flags sub programs to the command program (relying on Opt's
    # internal implementation details)
    lappend ::tcl::OptDesc(::safe::interpIC) $::tcl::OptDesc($temp)

    # temp not needed anymore
    ::tcl::OptKeyDelete $temp

    ####
    #
    # Default: No logging.
    #
    ####

    setLogCmd {}

    # Log eventually.
    # To enable error logging, set Log to {puts stderr} for instance,
    # via setLogCmd.
    return
}

namespace eval ::safe {
    # internal variables

    # Log command, set via 'setLogCmd'. Logging is disabled when empty.
    variable Log {}

    # The package maintains a state array per slave interp under its
    # control. The name of this array is S<interp-name>. This array is
    # brought into scope where needed, using 'namespace upvar'. The S
    # prefix is used to avoid that a slave interp called "Log" smashes
    # the "Log" variable.
    #
    # The array's elements are:
    #
    # access_path       : List of paths accessible to the slave.
    # access_path,norm  : Ditto, in normalized form.
    # access_path,slave : Ditto, as the path tokens as seen by the slave.
    # access_path,map   : dict ( token -> path )
    # access_path,remap : dict ( path -> token )
    # tm_path_slave     : List of TM root directories, as tokens seen by the slave.
    # staticsok         : Value of option -statics
    # nestedok          : Value of option -nested
    # cleanupHook       : Value of option -deleteHook
}

::safe::Setup
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 # http.tcl --
#
#	Client-side HTTP for GET, POST, and HEAD commands. These routines can
#	be used in untrusted code that uses the Safesock security policy.
#	These procedures use a callback interface to avoid using vwait, which
#	is not defined in the safe base.
#
# See the file "license.terms" for information on usage and redistribution of
# this file, and for a DISCLAIMER OF ALL WARRANTIES.

package require Tcl 8.6
# Keep this in sync with pkgIndex.tcl and with the install directories in
# Makefiles
package provide http 2.8.9

namespace eval http {
    # Allow resourcing to not clobber existing data

    variable http
    if {![info exists http]} {
	array set http {
	    -accept */*
	    -proxyhost {}
	    -proxyport {}
	    -proxyfilter http::ProxyRequired
	    -urlencoding utf-8
	}
	# We need a useragent string of this style or various servers will refuse to
	# send us compressed content even when we ask for it. This follows the
	# de-facto layout of user-agent strings in current browsers.
	set http(-useragent) "Mozilla/5.0\
            ([string totitle $::tcl_platform(platform)]; U;\
            $::tcl_platform(os) $::tcl_platform(osVersion))\
            http/[package provide http] Tcl/[package provide Tcl]"
    }

    proc init {} {
	# Set up the map for quoting chars. RFC3986 Section 2.3 say percent
	# encode all except: "... percent-encoded octets in the ranges of
	# ALPHA (%41-%5A and %61-%7A), DIGIT (%30-%39), hyphen (%2D), period
	# (%2E), underscore (%5F), or tilde (%7E) should not be created by URI
	# producers ..."
	for {set i 0} {$i <= 256} {incr i} {
	    set c [format %c $i]
	    if {![string match {[-._~a-zA-Z0-9]} $c]} {
		set map($c) %[format %.2X $i]
	    }
	}
	# These are handled specially
	set map(\n) %0D%0A
	variable formMap [array get map]

	# Create a map for HTTP/1.1 open sockets
	variable socketmap
	if {[info exists socketmap]} {
	    # Close but don't remove open sockets on re-init
	    foreach {url sock} [array get socketmap] {
		catch {close $sock}
	    }
	}
	array set socketmap {}
    }
    init

    variable urlTypes
    if {![info exists urlTypes]} {
	set urlTypes(http) [list 80 ::socket]
    }

    variable encodings [string tolower [encoding names]]
    # This can be changed, but iso8859-1 is the RFC standard.
    variable defaultCharset
    if {![info exists defaultCharset]} {
	set defaultCharset "iso8859-1"
    }

    # Force RFC 3986 strictness in geturl url verification?
    variable strict
    if {![info exists strict]} {
	set strict 1
    }

    # Let user control default keepalive for compatibility
    variable defaultKeepalive
    if {![info exists defaultKeepalive]} {
	set defaultKeepalive 0
    }

    namespace export geturl config reset wait formatQuery register unregister
    # Useful, but not exported: data size status code
}

# http::Log --
#
#	Debugging output -- define this to observe HTTP/1.1 socket usage.
#	Should echo any args received.
#
# Arguments:
#     msg	Message to output
#
if {[info command http::Log] eq {}} {proc http::Log {args} {}}

# http::register --
#
#     See documentation for details.
#
# Arguments:
#     proto	URL protocol prefix, e.g. https
#     port	Default port for protocol
#     command	Command to use to create socket
# Results:
#     list of port and command that was registered.

proc http::register {proto port command} {
    variable urlTypes
    set urlTypes([string tolower $proto]) [list $port $command]
}

# http::unregister --
#
#     Unregisters URL protocol handler
#
# Arguments:
#     proto	URL protocol prefix, e.g. https
# Results:
#     list of port and command that was unregistered.

proc http::unregister {proto} {
    variable urlTypes
    set lower [string tolower $proto]
    if {![info exists urlTypes($lower)]} {
	return -code error "unsupported url type \"$proto\""
    }
    set old $urlTypes($lower)
    unset urlTypes($lower)
    return $old
}

# http::config --
#
#	See documentation for details.
#
# Arguments:
#	args		Options parsed by the procedure.
# Results:
#        TODO

proc http::config {args} {
    variable http
    set options [lsort [array names http -*]]
    set usage [join $options ", "]
    if {[llength $args] == 0} {
	set result {}
	foreach name $options {
	    lappend result $name $http($name)
	}
	return $result
    }
    set options [string map {- ""} $options]
    set pat ^-(?:[join $options |])$
    if {[llength $args] == 1} {
	set flag [lindex $args 0]
	if {![regexp -- $pat $flag]} {
	    return -code error "Unknown option $flag, must be: $usage"
	}
	return $http($flag)
    } else {
	foreach {flag value} $args {
	    if {![regexp -- $pat $flag]} {
		return -code error "Unknown option $flag, must be: $usage"
	    }
	    set http($flag) $value
	}
    }
}

# http::Finish --
#
#	Clean up the socket and eval close time callbacks
#
# Arguments:
#	token	    Connection token.
#	errormsg    (optional) If set, forces status to error.
#       skipCB      (optional) If set, don't call the -command callback. This
#		    is useful when geturl wants to throw an exception instead
#		    of calling the callback. That way, the same error isn't
#		    reported to two places.
#
# Side Effects:
#        Closes the socket

proc http::Finish {token {errormsg ""} {skipCB 0}} {
    variable $token
    upvar 0 $token state
    global errorInfo errorCode
    if {$errormsg ne ""} {
	set state(error) [list $errormsg $errorInfo $errorCode]
	set state(status) "error"
    }
    if {
	($state(status) eq "timeout") || ($state(status) eq "error") ||
	([info exists state(connection)] && ($state(connection) eq "close"))
    } {
        CloseSocket $state(sock) $token
    }
    if {[info exists state(after)]} {
	after cancel $state(after)
    }
    if {[info exists state(-command)] && !$skipCB
	    && ![info exists state(done-command-cb)]} {
	set state(done-command-cb) yes
	if {[catch {eval $state(-command) {$token}} err] && $errormsg eq ""} {
	    set state(error) [list $err $errorInfo $errorCode]
	    set state(status) error
	}
    }
}

# http::CloseSocket -
#
#	Close a socket and remove it from the persistent sockets table.  If
#	possible an http token is included here but when we are called from a
#	fileevent on remote closure we need to find the correct entry - hence
#	the second section.

proc ::http::CloseSocket {s {token {}}} {
    variable socketmap
    catch {fileevent $s readable {}}
    set conn_id {}
    if {$token ne ""} {
        variable $token
        upvar 0 $token state
        if {[info exists state(socketinfo)]} {
	    set conn_id $state(socketinfo)
        }
    } else {
        set map [array get socketmap]
        set ndx [lsearch -exact $map $s]
        if {$ndx != -1} {
	    incr ndx -1
	    set conn_id [lindex $map $ndx]
        }
    }
    if {$conn_id eq {} || ![info exists socketmap($conn_id)]} {
        Log "Closing socket $s (no connection info)"
        if {[catch {close $s} err]} {
	    Log "Error: $err"
	}
    } else {
	if {[info exists socketmap($conn_id)]} {
	    Log "Closing connection $conn_id (sock $socketmap($conn_id))"
	    if {[catch {close $socketmap($conn_id)} err]} {
		Log "Error: $err"
	    }
	    unset socketmap($conn_id)
	} else {
	    Log "Cannot close connection $conn_id - no socket in socket map"
	}
    }
}

# http::reset --
#
#	See documentation for details.
#
# Arguments:
#	token	Connection token.
#	why	Status info.
#
# Side Effects:
#       See Finish

proc http::reset {token {why reset}} {
    variable $token
    upvar 0 $token state
    set state(status) $why
    catch {fileevent $state(sock) readable {}}
    catch {fileevent $state(sock) writable {}}
    Finish $token
    if {[info exists state(error)]} {
	set errorlist $state(error)
	unset state
	eval ::error $errorlist
    }
}

# http::geturl --
#
#	Establishes a connection to a remote url via http.
#
# Arguments:
#       url		The http URL to goget.
#       args		Option value pairs. Valid options include:
#				-blocksize, -validate, -headers, -timeout
# Results:
#	Returns a token for this connection. This token is the name of an
#	array that the caller should unset to garbage collect the state.

proc http::geturl {url args} {
    variable http
    variable urlTypes
    variable defaultCharset
    variable defaultKeepalive
    variable strict

    # Initialize the state variable, an array. We'll return the name of this
    # array as the token for the transaction.

    if {![info exists http(uid)]} {
	set http(uid) 0
    }
    set token [namespace current]::[incr http(uid)]
    variable $token
    upvar 0 $token state
    reset $token

    # Process command options.

    array set state {
	-binary		false
	-blocksize	8192
	-queryblocksize 8192
	-validate	0
	-headers	{}
	-timeout	0
	-type		application/x-www-form-urlencoded
	-queryprogress	{}
	-protocol	1.1
	binary		0
	state		connecting
	meta		{}
	coding		{}
	currentsize	0
	totalsize	0
	querylength	0
	queryoffset	0
	type		text/html
	body		{}
	status		""
	http		""
	connection	close
    }
    set state(-keepalive) $defaultKeepalive
    set state(-strict) $strict
    # These flags have their types verified [Bug 811170]
    array set type {
	-binary		boolean
	-blocksize	integer
	-queryblocksize integer
	-strict		boolean
	-timeout	integer
	-validate	boolean
    }
    set state(charset)	$defaultCharset
    set options {
	-binary -blocksize -channel -command -handler -headers -keepalive
	-method -myaddr -progress -protocol -query -queryblocksize
	-querychannel -queryprogress -strict -timeout -type -validate
    }
    set usage [join [lsort $options] ", "]
    set options [string map {- ""} $options]
    set pat ^-(?:[join $options |])$
    foreach {flag value} $args {
	if {[regexp -- $pat $flag]} {
	    # Validate numbers
	    if {
		[info exists type($flag)] &&
		![string is $type($flag) -strict $value]
	    } {
		unset $token
		return -code error \
		    "Bad value for $flag ($value), must be $type($flag)"
	    }
	    set state($flag) $value
	} else {
	    unset $token
	    return -code error "Unknown option $flag, can be: $usage"
	}
    }

    # Make sure -query and -querychannel aren't both specified

    set isQueryChannel [info exists state(-querychannel)]
    set isQuery [info exists state(-query)]
    if {$isQuery && $isQueryChannel} {
	unset $token
	return -code error "Can't combine -query and -querychannel options!"
    }

    # Validate URL, determine the server host and port, and check proxy case
    # Recognize user:pass@host URLs also, although we do not do anything with
    # that info yet.

    # URLs have basically four parts.
    # First, before the colon, is the protocol scheme (e.g. http)
    # Second, for HTTP-like protocols, is the authority
    #	The authority is preceded by // and lasts up to (but not including)
    #	the following / or ? and it identifies up to four parts, of which
    #	only one, the host, is required (if an authority is present at all).
    #	All other parts of the authority (user name, password, port number)
    #	are optional.
    # Third is the resource name, which is split into two parts at a ?
    #	The first part (from the single "/" up to "?") is the path, and the
    #	second part (from that "?" up to "#") is the query. *HOWEVER*, we do
    #	not need to separate them; we send the whole lot to the server.
    #	Both, path and query are allowed to be missing, including their
    #	delimiting character.
    # Fourth is the fragment identifier, which is everything after the first
    #	"#" in the URL. The fragment identifier MUST NOT be sent to the server
    #	and indeed, we don't bother to validate it (it could be an error to
    #	pass it in here, but it's cheap to strip).
    #
    # An example of a URL that has all the parts:
    #
    #     http://jschmoe:xyzzy@www.bogus.net:8000/foo/bar.tml?q=foo#changes
    #
    # The "http" is the protocol, the user is "jschmoe", the password is
    # "xyzzy", the host is "www.bogus.net", the port is "8000", the path is
    # "/foo/bar.tml", the query is "q=foo", and the fragment is "changes".
    #
    # Note that the RE actually combines the user and password parts, as
    # recommended in RFC 3986. Indeed, that RFC states that putting passwords
    # in URLs is a Really Bad Idea, something with which I would agree utterly.
    #
    # From a validation perspective, we need to ensure that the parts of the
    # URL that are going to the server are correctly encoded.  This is only
    # done if $state(-strict) is true (inherited from $::http::strict).

    set URLmatcher {(?x)		# this is _expanded_ syntax
	^
	(?: (\w+) : ) ?			# <protocol scheme>
	(?: //
	    (?:
		(
		    [^@/\#?]+		# <userinfo part of authority>
		) @
	    )?
	    (				# <host part of authority>
		[^/:\#?]+ |		# host name or IPv4 address
		\[ [^/\#?]+ \]		# IPv6 address in square brackets
	    )
	    (?: : (\d+) )?		# <port part of authority>
	)?
	( [/\?] [^\#]*)?		# <path> (including query)
	(?: \# (.*) )?			# <fragment>
	$
    }

    # Phase one: parse
    if {![regexp -- $URLmatcher $url -> proto user host port srvurl]} {
	unset $token
	return -code error "Unsupported URL: $url"
    }
    # Phase two: validate
    set host [string trim $host {[]}]; # strip square brackets from IPv6 address
    if {$host eq ""} {
	# Caller has to provide a host name; we do not have a "default host"
	# that would enable us to handle relative URLs.
	unset $token
	return -code error "Missing host part: $url"
	# Note that we don't check the hostname for validity here; if it's
	# invalid, we'll simply fail to resolve it later on.
    }
    if {$port ne "" && $port > 65535} {
	unset $token
	return -code error "Invalid port number: $port"
    }
    # The user identification and resource identification parts of the URL can
    # have encoded characters in them; take care!
    if {$user ne ""} {
	# Check for validity according to RFC 3986, Appendix A
	set validityRE {(?xi)
	    ^
	    (?: [-\w.~!$&'()*+,;=:] | %[0-9a-f][0-9a-f] )+
	    $
	}
	if {$state(-strict) && ![regexp -- $validityRE $user]} {
	    unset $token
	    # Provide a better error message in this error case
	    if {[regexp {(?i)%(?![0-9a-f][0-9a-f]).?.?} $user bad]} {
		return -code error \
			"Illegal encoding character usage \"$bad\" in URL user"
	    }
	    return -code error "Illegal characters in URL user"
	}
    }
    if {$srvurl ne ""} {
	# RFC 3986 allows empty paths (not even a /), but servers
	# return 400 if the path in the HTTP request doesn't start
	# with / , so add it here if needed.
	if {[string index $srvurl 0] ne "/"} {
	    set srvurl /$srvurl
	}
	# Check for validity according to RFC 3986, Appendix A
	set validityRE {(?xi)
	    ^
	    # Path part (already must start with / character)
	    (?:	      [-\w.~!$&'()*+,;=:@/]  | %[0-9a-f][0-9a-f] )*
	    # Query part (optional, permits ? characters)
	    (?: \? (?: [-\w.~!$&'()*+,;=:@/?] | %[0-9a-f][0-9a-f] )* )?
	    $
	}
	if {$state(-strict) && ![regexp -- $validityRE $srvurl]} {
	    unset $token
	    # Provide a better error message in this error case
	    if {[regexp {(?i)%(?![0-9a-f][0-9a-f])..} $srvurl bad]} {
		return -code error \
		    "Illegal encoding character usage \"$bad\" in URL path"
	    }
	    return -code error "Illegal characters in URL path"
	}
    } else {
	set srvurl /
    }
    if {$proto eq ""} {
	set proto http
    }
    set lower [string tolower $proto]
    if {![info exists urlTypes($lower)]} {
	unset $token
	return -code error "Unsupported URL type \"$proto\""
    }
    set defport [lindex $urlTypes($lower) 0]
    set defcmd [lindex $urlTypes($lower) 1]

    if {$port eq ""} {
	set port $defport
    }
    if {![catch {$http(-proxyfilter) $host} proxy]} {
	set phost [lindex $proxy 0]
	set pport [lindex $proxy 1]
    }

    # OK, now reassemble into a full URL
    set url ${proto}://
    if {$user ne ""} {
	append url $user
	append url @
    }
    append url $host
    if {$port != $defport} {
	append url : $port
    }
    append url $srvurl
    # Don't append the fragment!
    set state(url) $url

    # If a timeout is specified we set up the after event and arrange for an
    # asynchronous socket connection.

    set sockopts [list -async]
    if {$state(-timeout) > 0} {
	set state(after) [after $state(-timeout) \
		[list http::reset $token timeout]]
    }

    # If we are using the proxy, we must pass in the full URL that includes
    # the server name.

    if {[info exists phost] && ($phost ne "")} {
	set srvurl $url
	set targetAddr [list $phost $pport]
    } else {
	set targetAddr [list $host $port]
    }
    # Proxy connections aren't shared among different hosts.
    set state(socketinfo) $host:$port

    # Save the accept types at this point to prevent a race condition. [Bug
    # c11a51c482]
    set state(accept-types) $http(-accept)

    # See if we are supposed to use a previously opened channel.
    if {$state(-keepalive)} {
	variable socketmap
	if {[info exists socketmap($state(socketinfo))]} {
	    if {[catch {fconfigure $socketmap($state(socketinfo))}]} {
		Log "WARNING: socket for $state(socketinfo) was closed"
		unset socketmap($state(socketinfo))
	    } else {
		set sock $socketmap($state(socketinfo))
		Log "reusing socket $sock for $state(socketinfo)"
		catch {fileevent $sock writable {}}
		catch {fileevent $sock readable {}}
	    }
	}
	# don't automatically close this connection socket
	set state(connection) {}
    }
    if {![info exists sock]} {
	# Pass -myaddr directly to the socket command
	if {[info exists state(-myaddr)]} {
	    lappend sockopts -myaddr $state(-myaddr)
	}
        if {[catch {eval $defcmd $sockopts $targetAddr} sock]} {
	    # something went wrong while trying to establish the connection.
	    # Clean up after events and such, but DON'T call the command
	    # callback (if available) because we're going to throw an
	    # exception from here instead.

	    set state(sock) $sock
	    Finish $token "" 1
	    cleanup $token
	    return -code error $sock
        }
    }
    set state(sock) $sock
    Log "Using $sock for $state(socketinfo)" \
        [expr {$state(-keepalive)?"keepalive":""}]
    if {$state(-keepalive)} {
        set socketmap($state(socketinfo)) $sock
    }

    if {![info exists phost]} {
	set phost ""
    }
    fileevent $sock writable [list http::Connect $token $proto $phost $srvurl]

    # Wait for the connection to complete.
    if {![info exists state(-command)]} {
	# geturl does EVERYTHING asynchronously, so if the user
	# calls it synchronously, we just do a wait here.
	http::wait $token

	if {![info exists state]} {
	    # If we timed out then Finish has been called and the users
	    # command callback may have cleaned up the token. If so we end up
	    # here with nothing left to do.
	    return $token
	} elseif {$state(status) eq "error"} {
	    # Something went wrong while trying to establish the connection.
	    # Clean up after events and such, but DON'T call the command
	    # callback (if available) because we're going to throw an
	    # exception from here instead.
	    set err [lindex $state(error) 0]
	    cleanup $token
	    return -code error $err
	}
    }

    return $token
}

# http::Connected --
#
#	Callback used when the connection to the HTTP server is actually
#	established.
#
# Arguments:
#       token	State token.
#       proto	What protocol (http, https, etc.) was used to connect.
#	phost	Are we using keep-alive? Non-empty if yes.
#	srvurl	Service-local URL that we're requesting
# Results:
#	None.

proc http::Connected {token proto phost srvurl} {
    variable http
    variable urlTypes

    variable $token
    upvar 0 $token state

    # Set back the variables needed here
    set sock $state(sock)
    set isQueryChannel [info exists state(-querychannel)]
    set isQuery [info exists state(-query)]
    set host [lindex [split $state(socketinfo) :] 0]
    set port [lindex [split $state(socketinfo) :] 1]

    set lower [string tolower $proto]
    set defport [lindex $urlTypes($lower) 0]

    # Send data in cr-lf format, but accept any line terminators

    fconfigure $sock -translation {auto crlf} -buffersize $state(-blocksize)

    # The following is disallowed in safe interpreters, but the socket is
    # already in non-blocking mode in that case.

    catch {fconfigure $sock -blocking off}
    set how GET
    if {$isQuery} {
	set state(querylength) [string length $state(-query)]
	if {$state(querylength) > 0} {
	    set how POST
	    set contDone 0
	} else {
	    # There's no query data.
	    unset state(-query)
	    set isQuery 0
	}
    } elseif {$state(-validate)} {
	set how HEAD
    } elseif {$isQueryChannel} {
	set how POST
	# The query channel must be blocking for the async Write to
	# work properly.
	fconfigure $state(-querychannel) -blocking 1 -translation binary
	set contDone 0
    }
    if {[info exists state(-method)] && $state(-method) ne ""} {
	set how $state(-method)
    }
    # We cannot handle chunked encodings with -handler, so force HTTP/1.0
    # until we can manage this.
    if {[info exists state(-handler)]} {
	set state(-protocol) 1.0
    }
    set accept_types_seen 0
    if {[catch {
	puts $sock "$how $srvurl HTTP/$state(-protocol)"
	if {[dict exists $state(-headers) Host]} {
	    # Allow Host spoofing. [Bug 928154]
	    puts $sock "Host: [dict get $state(-headers) Host]"
	} elseif {$port == $defport} {
	    # Don't add port in this case, to handle broken servers. [Bug
	    # #504508]
	    puts $sock "Host: $host"
	} else {
	    puts $sock "Host: $host:$port"
	}
	puts $sock "User-Agent: $http(-useragent)"
        if {$state(-protocol) == 1.0 && $state(-keepalive)} {
	    puts $sock "Connection: keep-alive"
        }
        if {$state(-protocol) > 1.0 && !$state(-keepalive)} {
	    puts $sock "Connection: close" ;# RFC2616 sec 8.1.2.1
        }
        if {[info exists phost] && ($phost ne "") && $state(-keepalive)} {
	    puts $sock "Proxy-Connection: Keep-Alive"
        }
        set accept_encoding_seen 0
	set content_type_seen 0
	dict for {key value} $state(-headers) {
	    set value [string map [list \n "" \r ""] $value]
	    set key [string map {" " -} [string trim $key]]
	    if {[string equal -nocase $key "host"]} {
		continue
	    }
	    if {[string equal -nocase $key "accept-encoding"]} {
		set accept_encoding_seen 1
	    }
	    if {[string equal -nocase $key "accept"]} {
		set accept_types_seen 1
	    }
	    if {[string equal -nocase $key "content-type"]} {
		set content_type_seen 1
	    }
	    if {[string equal -nocase $key "content-length"]} {
		set contDone 1
		set state(querylength) $value
	    }
	    if {[string length $key]} {
		puts $sock "$key: $value"
	    }
	}
	# Allow overriding the Accept header on a per-connection basis. Useful
	# for working with REST services. [Bug c11a51c482]
	if {!$accept_types_seen} {
	    puts $sock "Accept: $state(accept-types)"
	}
        if {!$accept_encoding_seen && ![info exists state(-handler)]} {
	    puts $sock "Accept-Encoding: gzip,deflate,compress"
        }
	if {$isQueryChannel && $state(querylength) == 0} {
	    # Try to determine size of data in channel. If we cannot seek, the
	    # surrounding catch will trap us

	    set start [tell $state(-querychannel)]
	    seek $state(-querychannel) 0 end
	    set state(querylength) \
		    [expr {[tell $state(-querychannel)] - $start}]
	    seek $state(-querychannel) $start
	}

	# Flush the request header and set up the fileevent that will either
	# push the POST data or read the response.
	#
	# fileevent note:
	#
	# It is possible to have both the read and write fileevents active at
	# this point. The only scenario it seems to affect is a server that
	# closes the connection without reading the POST data. (e.g., early
	# versions TclHttpd in various error cases). Depending on the
	# platform, the client may or may not be able to get the response from
	# the server because of the error it will get trying to write the post
	# data. Having both fileevents active changes the timing and the
	# behavior, but no two platforms (among Solaris, Linux, and NT) behave
	# the same, and none behave all that well in any case. Servers should
	# always read their POST data if they expect the client to read their
	# response.

	if {$isQuery || $isQueryChannel} {
	    if {!$content_type_seen} {
		puts $sock "Content-Type: $state(-type)"
	    }
	    if {!$contDone} {
		puts $sock "Content-Length: $state(querylength)"
	    }
	    puts $sock ""
	    fconfigure $sock -translation {auto binary}
	    fileevent $sock writable [list http::Write $token]
	} else {
	    puts $sock ""
	    flush $sock
	    fileevent $sock readable [list http::Event $sock $token]
	}

    } err]} {
	# The socket probably was never connected, or the connection dropped
	# later.

	# if state(status) is error, it means someone's already called Finish
	# to do the above-described clean up.
	if {$state(status) ne "error"} {
	    Finish $token $err
	}
    }
}

# Data access functions:
# Data - the URL data
# Status - the transaction status: ok, reset, eof, timeout
# Code - the HTTP transaction code, e.g., 200
# Size - the size of the URL data

proc http::data {token} {
    variable $token
    upvar 0 $token state
    return $state(body)
}
proc http::status {token} {
    if {![info exists $token]} {
	return "error"
    }
    variable $token
    upvar 0 $token state
    return $state(status)
}
proc http::code {token} {
    variable $token
    upvar 0 $token state
    return $state(http)
}
proc http::ncode {token} {
    variable $token
    upvar 0 $token state
    if {[regexp {[0-9]{3}} $state(http) numeric_code]} {
	return $numeric_code
    } else {
	return $state(http)
    }
}
proc http::size {token} {
    variable $token
    upvar 0 $token state
    return $state(currentsize)
}
proc http::meta {token} {
    variable $token
    upvar 0 $token state
    return $state(meta)
}
proc http::error {token} {
    variable $token
    upvar 0 $token state
    if {[info exists state(error)]} {
	return $state(error)
    }
    return ""
}

# http::cleanup
#
#	Garbage collect the state associated with a transaction
#
# Arguments
#	token	The token returned from http::geturl
#
# Side Effects
#	unsets the state array

proc http::cleanup {token} {
    variable $token
    upvar 0 $token state
    if {[info exists state]} {
	unset state
    }
}

# http::Connect
#
#	This callback is made when an asyncronous connection completes.
#
# Arguments
#	token	The token returned from http::geturl
#
# Side Effects
#	Sets the status of the connection, which unblocks
# 	the waiting geturl call

proc http::Connect {token proto phost srvurl} {
    variable $token
    upvar 0 $token state
    set err "due to unexpected EOF"
    if {
	[eof $state(sock)] ||
	[set err [fconfigure $state(sock) -error]] ne ""
    } {
	Finish $token "connect failed $err"
    } else {
	fileevent $state(sock) writable {}
	::http::Connected $token $proto $phost $srvurl
    }
    return
}

# http::Write
#
#	Write POST query data to the socket
#
# Arguments
#	token	The token for the connection
#
# Side Effects
#	Write the socket and handle callbacks.

proc http::Write {token} {
    variable $token
    upvar 0 $token state
    set sock $state(sock)

    # Output a block.  Tcl will buffer this if the socket blocks
    set done 0
    if {[catch {
	# Catch I/O errors on dead sockets

	if {[info exists state(-query)]} {
	    # Chop up large query strings so queryprogress callback can give
	    # smooth feedback.

	    puts -nonewline $sock \
		[string range $state(-query) $state(queryoffset) \
		     [expr {$state(queryoffset) + $state(-queryblocksize) - 1}]]
	    incr state(queryoffset) $state(-queryblocksize)
	    if {$state(queryoffset) >= $state(querylength)} {
		set state(queryoffset) $state(querylength)
		set done 1
	    }
	} else {
	    # Copy blocks from the query channel

	    set outStr [read $state(-querychannel) $state(-queryblocksize)]
	    puts -nonewline $sock $outStr
	    incr state(queryoffset) [string length $outStr]
	    if {[eof $state(-querychannel)]} {
		set done 1
	    }
	}
    } err]} {
	# Do not call Finish here, but instead let the read half of the socket
	# process whatever server reply there is to get.

	set state(posterror) $err
	set done 1
    }
    if {$done} {
	catch {flush $sock}
	fileevent $sock writable {}
	fileevent $sock readable [list http::Event $sock $token]
    }

    # Callback to the client after we've completely handled everything.

    if {[string length $state(-queryprogress)]} {
	eval $state(-queryprogress) \
	    [list $token $state(querylength) $state(queryoffset)]
    }
}

# http::Event
#
#	Handle input on the socket
#
# Arguments
#	sock	The socket receiving input.
#	token	The token returned from http::geturl
#
# Side Effects
#	Read the socket and handle callbacks.

proc http::Event {sock token} {
    variable $token
    upvar 0 $token state

    if {![info exists state]} {
	Log "Event $sock with invalid token '$token' - remote close?"
	if {![eof $sock]} {
	    if {[set d [read $sock]] ne ""} {
		Log "WARNING: additional data left on closed socket"
	    }
	}
	CloseSocket $sock
	return
    }
    if {$state(state) eq "connecting"} {
	if {[catch {gets $sock state(http)} n]} {
	    return [Finish $token $n]
	} elseif {$n >= 0} {
	    set state(state) "header"
	}
    } elseif {$state(state) eq "header"} {
	if {[catch {gets $sock line} n]} {
	    return [Finish $token $n]
	} elseif {$n == 0} {
	    # We have now read all headers
	    # We ignore HTTP/1.1 100 Continue returns. RFC2616 sec 8.2.3
	    if {$state(http) == "" || ([regexp {^\S+\s(\d+)} $state(http) {} x] && $x == 100)} {
		return
	    }

	    set state(state) body

	    # If doing a HEAD, then we won't get any body
	    if {$state(-validate)} {
		Eof $token
		return
	    }

	    # For non-chunked transfer we may have no body - in this case we
	    # may get no further file event if the connection doesn't close
	    # and no more data is sent. We can tell and must finish up now -
	    # not later.
	    if {
		!(([info exists state(connection)]
			&& ($state(connection) eq "close"))
		    || [info exists state(transfer)])
		&& ($state(totalsize) == 0)
	    } {
		Log "body size is 0 and no events likely - complete."
		Eof $token
		return
	    }

	    # We have to use binary translation to count bytes properly.
	    fconfigure $sock -translation binary

	    if {
		$state(-binary) || ![string match -nocase text* $state(type)]
	    } {
		# Turn off conversions for non-text data
		set state(binary) 1
	    }
	    if {[info exists state(-channel)]} {
		if {$state(binary) || [llength [ContentEncoding $token]]} {
		    fconfigure $state(-channel) -translation binary
		}
		if {![info exists state(-handler)]} {
		    # Initiate a sequence of background fcopies
		    fileevent $sock readable {}
		    CopyStart $sock $token
		    return
		}
	    }
	} elseif {$n > 0} {
	    # Process header lines
	    if {[regexp -nocase {^([^:]+):(.+)$} $line x key value]} {
		switch -- [string tolower $key] {
		    content-type {
			set state(type) [string trim [string tolower $value]]
			# grab the optional charset information
			if {[regexp -nocase \
				 {charset\s*=\s*\"((?:[^""]|\\\")*)\"} \
				 $state(type) -> cs]} {
			    set state(charset) [string map {{\"} \"} $cs]
			} else {
			    regexp -nocase {charset\s*=\s*(\S+?);?} \
				$state(type) -> state(charset)
			}
		    }
		    content-length {
			set state(totalsize) [string trim $value]
		    }
		    content-encoding {
			set state(coding) [string trim $value]
		    }
		    transfer-encoding {
			set state(transfer) \
			    [string trim [string tolower $value]]
		    }
		    proxy-connection -
		    connection {
			set state(connection) \
			    [string trim [string tolower $value]]
		    }
		}
		lappend state(meta) $key [string trim $value]
	    }
	}
    } else {
	# Now reading body
	if {[catch {
	    if {[info exists state(-handler)]} {
		set n [eval $state(-handler) [list $sock $token]]
	    } elseif {[info exists state(transfer_final)]} {
		set line [getTextLine $sock]
		set n [string length $line]
		if {$n > 0} {
		    Log "found $n bytes following final chunk"
		    append state(transfer_final) $line
		} else {
		    Log "final chunk part"
		    Eof $token
		}
	    } elseif {
		[info exists state(transfer)]
		&& $state(transfer) eq "chunked"
	    } {
		set size 0
		set chunk [getTextLine $sock]
		set n [string length $chunk]
		if {[string trim $chunk] ne ""} {
		    scan $chunk %x size
		    if {$size != 0} {
			set bl [fconfigure $sock -blocking]
			fconfigure $sock -blocking 1
			set chunk [read $sock $size]
			fconfigure $sock -blocking $bl
			set n [string length $chunk]
			if {$n >= 0} {
			    append state(body) $chunk
			}
			if {$size != [string length $chunk]} {
			    Log "WARNING: mis-sized chunk:\
				was [string length $chunk], should be $size"
			}
			getTextLine $sock
		    } else {
			set state(transfer_final) {}
		    }
		}
	    } else {
		#Log "read non-chunk $state(currentsize) of $state(totalsize)"
		set block [read $sock $state(-blocksize)]
		set n [string length $block]
		if {$n >= 0} {
		    append state(body) $block
		}
	    }
	    if {[info exists state]} {
		if {$n >= 0} {
		    incr state(currentsize) $n
		}
		# If Content-Length - check for end of data.
		if {
		    ($state(totalsize) > 0)
		    && ($state(currentsize) >= $state(totalsize))
		} {
		    Eof $token
		}
	    }
	} err]} {
	    return [Finish $token $err]
	} else {
	    if {[info exists state(-progress)]} {
		eval $state(-progress) \
		    [list $token $state(totalsize) $state(currentsize)]
	    }
	}
    }

    # catch as an Eof above may have closed the socket already
    if {![catch {eof $sock} eof] && $eof} {
	if {[info exists $token]} {
	    set state(connection) close
	    Eof $token
	} else {
	    # open connection closed on a token that has been cleaned up.
	    CloseSocket $sock
	}
	return
    }
}

# http::getTextLine --
#
#	Get one line with the stream in blocking crlf mode
#
# Arguments
#	sock	The socket receiving input.
#
# Results:
#	The line of text, without trailing newline

proc http::getTextLine {sock} {
    set tr [fconfigure $sock -translation]
    set bl [fconfigure $sock -blocking]
    fconfigure $sock -translation crlf -blocking 1
    set r [gets $sock]
    fconfigure $sock -translation $tr -blocking $bl
    return $r
}

# http::CopyStart
#
#	Error handling wrapper around fcopy
#
# Arguments
#	sock	The socket to copy from
#	token	The token returned from http::geturl
#
# Side Effects
#	This closes the connection upon error

proc http::CopyStart {sock token {initial 1}} {
    upvar #0 $token state
    if {[info exists state(transfer)] && $state(transfer) eq "chunked"} {
	foreach coding [ContentEncoding $token] {
	    lappend state(zlib) [zlib stream $coding]
	}
	make-transformation-chunked $sock [namespace code [list CopyChunk $token]]
    } else {
	if {$initial} {
	    foreach coding [ContentEncoding $token] {
		zlib push $coding $sock
	    }
	}
	if {[catch {
	    fcopy $sock $state(-channel) -size $state(-blocksize) -command \
		[list http::CopyDone $token]
	} err]} {
	    Finish $token $err
	}
    }
}

proc http::CopyChunk {token chunk} {
    upvar 0 $token state
    if {[set count [string length $chunk]]} {
	incr state(currentsize) $count
	if {[info exists state(zlib)]} {
	    foreach stream $state(zlib) {
		set chunk [$stream add $chunk]
	    }
	}
	puts -nonewline $state(-channel) $chunk
	if {[info exists state(-progress)]} {
	    eval [linsert $state(-progress) end \
		      $token $state(totalsize) $state(currentsize)]
	}
    } else {
	Log "CopyChunk Finish $token"
	if {[info exists state(zlib)]} {
	    set excess ""
	    foreach stream $state(zlib) {
		catch {set excess [$stream add -finalize $excess]}
	    }
	    puts -nonewline $state(-channel) $excess
	    foreach stream $state(zlib) { $stream close }
	    unset state(zlib)
	}
	Eof $token ;# FIX ME: pipelining.
    }
}

# http::CopyDone
#
#	fcopy completion callback
#
# Arguments
#	token	The token returned from http::geturl
#	count	The amount transfered
#
# Side Effects
#	Invokes callbacks

proc http::CopyDone {token count {error {}}} {
    variable $token
    upvar 0 $token state
    set sock $state(sock)
    incr state(currentsize) $count
    if {[info exists state(-progress)]} {
	eval $state(-progress) \
	    [list $token $state(totalsize) $state(currentsize)]
    }
    # At this point the token may have been reset
    if {[string length $error]} {
	Finish $token $error
    } elseif {[catch {eof $sock} iseof] || $iseof} {
	Eof $token
    } else {
	CopyStart $sock $token 0
    }
}

# http::Eof
#
#	Handle eof on the socket
#
# Arguments
#	token	The token returned from http::geturl
#
# Side Effects
#	Clean up the socket

proc http::Eof {token {force 0}} {
    variable $token
    upvar 0 $token state
    if {$state(state) eq "header"} {
	# Premature eof
	set state(status) eof
    } else {
	set state(status) ok
    }

    if {[string length $state(body)] > 0} {
	if {[catch {
	    foreach coding [ContentEncoding $token] {
		set state(body) [zlib $coding $state(body)]
	    }
	} err]} {
	    Log "error doing decompression: $err"
	    return [Finish $token $err]
	}

	if {!$state(binary)} {
	    # If we are getting text, set the incoming channel's encoding
	    # correctly.  iso8859-1 is the RFC default, but this could be any IANA
	    # charset.  However, we only know how to convert what we have
	    # encodings for.

	    set enc [CharsetToEncoding $state(charset)]
	    if {$enc ne "binary"} {
		set state(body) [encoding convertfrom $enc $state(body)]
	    }

	    # Translate text line endings.
	    set state(body) [string map {\r\n \n \r \n} $state(body)]
	}
    }
    Finish $token
}

# http::wait --
#
#	See documentation for details.
#
# Arguments:
#	token	Connection token.
#
# Results:
#        The status after the wait.

proc http::wait {token} {
    variable $token
    upvar 0 $token state

    if {![info exists state(status)] || $state(status) eq ""} {
	# We must wait on the original variable name, not the upvar alias
	vwait ${token}(status)
    }

    return [status $token]
}

# http::formatQuery --
#
#	See documentation for details.  Call http::formatQuery with an even
#	number of arguments, where the first is a name, the second is a value,
#	the third is another name, and so on.
#
# Arguments:
#	args	A list of name-value pairs.
#
# Results:
#	TODO

proc http::formatQuery {args} {
    set result ""
    set sep ""
    foreach i $args {
	append result $sep [mapReply $i]
	if {$sep eq "="} {
	    set sep &
	} else {
	    set sep =
	}
    }
    return $result
}

# http::mapReply --
#
#	Do x-www-urlencoded character mapping
#
# Arguments:
#	string	The string the needs to be encoded
#
# Results:
#       The encoded string

proc http::mapReply {string} {
    variable http
    variable formMap

    # The spec says: "non-alphanumeric characters are replaced by '%HH'". Use
    # a pre-computed map and [string map] to do the conversion (much faster
    # than [regsub]/[subst]). [Bug 1020491]

    if {$http(-urlencoding) ne ""} {
	set string [encoding convertto $http(-urlencoding) $string]
	return [string map $formMap $string]
    }
    set converted [string map $formMap $string]
    if {[string match "*\[\u0100-\uffff\]*" $converted]} {
	regexp "\[\u0100-\uffff\]" $converted badChar
	# Return this error message for maximum compatability... :^/
	return -code error \
	    "can't read \"formMap($badChar)\": no such element in array"
    }
    return $converted
}

# http::ProxyRequired --
#	Default proxy filter.
#
# Arguments:
#	host	The destination host
#
# Results:
#       The current proxy settings

proc http::ProxyRequired {host} {
    variable http
    if {[info exists http(-proxyhost)] && [string length $http(-proxyhost)]} {
	if {
	    ![info exists http(-proxyport)] ||
	    ![string length $http(-proxyport)]
	} {
	    set http(-proxyport) 8080
	}
	return [list $http(-proxyhost) $http(-proxyport)]
    }
}

# http::CharsetToEncoding --
#
#	Tries to map a given IANA charset to a tcl encoding.  If no encoding
#	can be found, returns binary.
#

proc http::CharsetToEncoding {charset} {
    variable encodings

    set charset [string tolower $charset]
    if {[regexp {iso-?8859-([0-9]+)} $charset -> num]} {
	set encoding "iso8859-$num"
    } elseif {[regexp {iso-?2022-(jp|kr)} $charset -> ext]} {
	set encoding "iso2022-$ext"
    } elseif {[regexp {shift[-_]?js} $charset]} {
	set encoding "shiftjis"
    } elseif {[regexp {(?:windows|cp)-?([0-9]+)} $charset -> num]} {
	set encoding "cp$num"
    } elseif {$charset eq "us-ascii"} {
	set encoding "ascii"
    } elseif {[regexp {(?:iso-?)?lat(?:in)?-?([0-9]+)} $charset -> num]} {
	switch -- $num {
	    5 {set encoding "iso8859-9"}
	    1 - 2 - 3 {
		set encoding "iso8859-$num"
	    }
	}
    } else {
	# other charset, like euc-xx, utf-8,...  may directly map to encoding
	set encoding $charset
    }
    set idx [lsearch -exact $encodings $encoding]
    if {$idx >= 0} {
	return $encoding
    } else {
	return "binary"
    }
}

# Return the list of content-encoding transformations we need to do in order.
proc http::ContentEncoding {token} {
    upvar 0 $token state
    set r {}
    if {[info exists state(coding)]} {
	foreach coding [split $state(coding) ,] {
	    switch -exact -- $coding {
		deflate { lappend r inflate }
		gzip - x-gzip { lappend r gunzip }
		compress - x-compress { lappend r decompress }
		identity {}
		default {
		    return -code error "unsupported content-encoding \"$coding\""
		}
	    }
	}
    }
    return $r
}

proc http::make-transformation-chunked {chan command} {
    set lambda {{chan command} {
        set data ""
        set size -1
        yield
        while {1} {
            chan configure $chan -translation {crlf binary}
            while {[gets $chan line] < 1} { yield }
            chan configure $chan -translation {binary binary}
            if {[scan $line %x size] != 1} { return -code error "invalid size: \"$line\"" }
            set chunk ""
            while {$size && ![chan eof $chan]} {
                set part [chan read $chan $size]
                incr size -[string length $part]
                append chunk $part
            }
            if {[catch {
		uplevel #0 [linsert $command end $chunk]
	    }]} {
		http::Log "Error in callback: $::errorInfo"
	    }
            if {[string length $chunk] == 0} {
		# channel might have been closed in the callback
                catch {chan event $chan readable {}}
                return
            }
        }
    }}
    coroutine dechunk$chan ::apply $lambda $chan $command
    chan event $chan readable [namespace origin dechunk$chan]
    return
}

# Local variables:
# indent-tabs-mode: t
# End:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 # msgcat.tcl --
#
#	This file defines various procedures which implement a
#	message catalog facility for Tcl programs.  It should be
#	loaded with the command "package require msgcat".
#
# Copyright (c) 2010-2015 by Harald Oehlmann.
# Copyright (c) 1998-2000 by Ajuba Solutions.
# Copyright (c) 1998 by Mark Harrison.
#
# See the file "license.terms" for information on usage and redistribution
# of this file, and for a DISCLAIMER OF ALL WARRANTIES.

package require Tcl 8.5
# When the version number changes, be sure to update the pkgIndex.tcl file,
# and the installation directory in the Makefiles.
package provide msgcat 1.6.0

namespace eval msgcat {
    namespace export mc mcexists mcload mclocale mcmax mcmset mcpreferences mcset\
            mcunknown mcflset mcflmset mcloadedlocales mcforgetpackage\
	    mcpackageconfig mcpackagelocale

    # Records the list of locales to search
    variable Loclist {}

    # List of currently loaded locales
    variable LoadedLocales {}

    # Records the locale of the currently sourced message catalogue file
    variable FileLocale

    # Configuration values per Package (e.g. client namespace).
    # The dict key is of the form "<option> <namespace>" and the value is the
    # configuration option. A nonexisting key is an unset option.
    variable PackageConfig [dict create mcfolder {} loadcmd {} changecmd {}\
	    unknowncmd {} loadedlocales {} loclist {}]

    # Records the mapping between source strings and translated strings.  The
    # dict key is of the form "<namespace> <locale> <src>", where locale and
    # namespace should be themselves dict values and the value is
    # the translated string.
    variable Msgs [dict create]

    # Map of language codes used in Windows registry to those of ISO-639
    if {[info sharedlibextension] eq ".dll"} {
	variable WinRegToISO639 [dict create  {*}{
	    01 ar 0401 ar_SA 0801 ar_IQ 0c01 ar_EG 1001 ar_LY 1401 ar_DZ
		  1801 ar_MA 1c01 ar_TN 2001 ar_OM 2401 ar_YE 2801 ar_SY
		  2c01 ar_JO 3001 ar_LB 3401 ar_KW 3801 ar_AE 3c01 ar_BH
		  4001 ar_QA
	    02 bg 0402 bg_BG
	    03 ca 0403 ca_ES
	    04 zh 0404 zh_TW 0804 zh_CN 0c04 zh_HK 1004 zh_SG 1404 zh_MO
	    05 cs 0405 cs_CZ
	    06 da 0406 da_DK
	    07 de 0407 de_DE 0807 de_CH 0c07 de_AT 1007 de_LU 1407 de_LI
	    08 el 0408 el_GR
	    09 en 0409 en_US 0809 en_GB 0c09 en_AU 1009 en_CA 1409 en_NZ
		  1809 en_IE 1c09 en_ZA 2009 en_JM 2409 en_GD 2809 en_BZ
		  2c09 en_TT 3009 en_ZW 3409 en_PH
	    0a es 040a es_ES 080a es_MX 0c0a es_ES@modern 100a es_GT 140a es_CR
		  180a es_PA 1c0a es_DO 200a es_VE 240a es_CO 280a es_PE
		  2c0a es_AR 300a es_EC 340a es_CL 380a es_UY 3c0a es_PY
		  400a es_BO 440a es_SV 480a es_HN 4c0a es_NI 500a es_PR
	    0b fi 040b fi_FI
	    0c fr 040c fr_FR 080c fr_BE 0c0c fr_CA 100c fr_CH 140c fr_LU
		  180c fr_MC
	    0d he 040d he_IL
	    0e hu 040e hu_HU
	    0f is 040f is_IS
	    10 it 0410 it_IT 0810 it_CH
	    11 ja 0411 ja_JP
	    12 ko 0412 ko_KR
	    13 nl 0413 nl_NL 0813 nl_BE
	    14 no 0414 no_NO 0814 nn_NO
	    15 pl 0415 pl_PL
	    16 pt 0416 pt_BR 0816 pt_PT
	    17 rm 0417 rm_CH
	    18 ro 0418 ro_RO 0818 ro_MO
	    19 ru 0819 ru_MO
	    1a hr 041a hr_HR 081a sr_YU 0c1a sr_YU@cyrillic
	    1b sk 041b sk_SK
	    1c sq 041c sq_AL
	    1d sv 041d sv_SE 081d sv_FI
	    1e th 041e th_TH
	    1f tr 041f tr_TR
	    20 ur 0420 ur_PK 0820 ur_IN
	    21 id 0421 id_ID
	    22 uk 0422 uk_UA
	    23 be 0423 be_BY
	    24 sl 0424 sl_SI
	    25 et 0425 et_EE
	    26 lv 0426 lv_LV
	    27 lt 0427 lt_LT
	    28 tg 0428 tg_TJ
	    29 fa 0429 fa_IR
	    2a vi 042a vi_VN
	    2b hy 042b hy_AM
	    2c az 042c az_AZ@latin 082c az_AZ@cyrillic
	    2d eu
	    2e wen 042e wen_DE
	    2f mk 042f mk_MK
	    30 bnt 0430 bnt_TZ
	    31 ts 0431 ts_ZA
	    32 tn
	    33 ven 0433 ven_ZA
	    34 xh 0434 xh_ZA
	    35 zu 0435 zu_ZA
	    36 af 0436 af_ZA
	    37 ka 0437 ka_GE
	    38 fo 0438 fo_FO
	    39 hi 0439 hi_IN
	    3a mt 043a mt_MT
	    3b se 043b se_NO
	    043c gd_UK 083c ga_IE
	    3d yi 043d yi_IL
	    3e ms 043e ms_MY 083e ms_BN
	    3f kk 043f kk_KZ
	    40 ky 0440 ky_KG
	    41 sw 0441 sw_KE
	    42 tk 0442 tk_TM
	    43 uz 0443 uz_UZ@latin 0843 uz_UZ@cyrillic
	    44 tt 0444 tt_RU
	    45 bn 0445 bn_IN
	    46 pa 0446 pa_IN
	    47 gu 0447 gu_IN
	    48 or 0448 or_IN
	    49 ta
	    4a te 044a te_IN
	    4b kn 044b kn_IN
	    4c ml 044c ml_IN
	    4d as 044d as_IN
	    4e mr 044e mr_IN
	    4f sa 044f sa_IN
	    50 mn
	    51 bo 0451 bo_CN
	    52 cy 0452 cy_GB
	    53 km 0453 km_KH
	    54 lo 0454 lo_LA
	    55 my 0455 my_MM
	    56 gl 0456 gl_ES
	    57 kok 0457 kok_IN
	    58 mni 0458 mni_IN
	    59 sd
	    5a syr 045a syr_TR
	    5b si 045b si_LK
	    5c chr 045c chr_US
	    5d iu 045d iu_CA
	    5e am 045e am_ET
	    5f ber 045f ber_MA
	    60 ks 0460 ks_PK 0860 ks_IN
	    61 ne 0461 ne_NP 0861 ne_IN
	    62 fy 0462 fy_NL
	    63 ps
	    64 tl 0464 tl_PH
	    65 div 0465 div_MV
	    66 bin 0466 bin_NG
	    67 ful 0467 ful_NG
	    68 ha 0468 ha_NG
	    69 nic 0469 nic_NG
	    6a yo 046a yo_NG
	    70 ibo 0470 ibo_NG
	    71 kau 0471 kau_NG
	    72 om 0472 om_ET
	    73 ti 0473 ti_ET
	    74 gn 0474 gn_PY
	    75 cpe 0475 cpe_US
	    76 la 0476 la_VA
	    77 so 0477 so_SO
	    78 sit 0478 sit_CN
	    79 pap 0479 pap_AN
	}]
    }
}

# msgcat::mc --
#
#	Find the translation for the given string based on the current
#	locale setting. Check the local namespace first, then look in each
#	parent namespace until the source is found.  If additional args are
#	specified, use the format command to work them into the traslated
#	string.
#	If no catalog item is found, mcunknown is called in the caller frame
#	and its result is returned.
#
# Arguments:
#	src	The string to translate.
#	args	Args to pass to the format command
#
# Results:
#	Returns the translated string.  Propagates errors thrown by the
#	format command.

proc msgcat::mc {src args} {
    # this may be replaced by:
    # return [mcget -namespace [uplevel 1 [list ::namespace current]] --\
    #	    $src {*}$args]

    # Check for the src in each namespace starting from the local and
    # ending in the global.

    variable Msgs
    variable Loclist

    set ns [uplevel 1 [list ::namespace current]]
    set loclist [PackagePreferences $ns]

    set nscur $ns
    while {$nscur != ""} {
	foreach loc $loclist {
	    if {[dict exists $Msgs $nscur $loc $src]} {
		return [DefaultUnknown "" [dict get $Msgs $nscur $loc $src]\
			{*}$args]
	    }
	}
	set nscur [namespace parent $nscur]
    }
    # call package local or default unknown command
    set args [linsert $args 0 [lindex $loclist 0] $src]
    switch -exact -- [Invoke unknowncmd $args $ns result 1] {
	0 { return [uplevel 1 [linsert $args 0 [namespace origin mcunknown]]] }
	1 { return [DefaultUnknown {*}$args] }
	default { return $result }
    }
}

# msgcat::mcexists --
#
#	Check if a catalog item is set or if mc would invoke mcunknown.
#
# Arguments:
#	-exactnamespace		Only check the exact namespace and no
#				parent namespaces
#	-exactlocale		Only check the exact locale and not all members
#				of the preferences list
#	src			Message catalog key
#
# Results:
#	true if an adequate catalog key was found

proc msgcat::mcexists {args} {

    variable Msgs
    variable Loclist
    variable PackageConfig

    set ns [uplevel 1 [list ::namespace current]]
    set loclist [PackagePreferences $ns]

    while {[llength $args] != 1} {
	set args [lassign $args option]
	switch -glob -- $option {
	    -exactnamespace { set exactnamespace 1 }
	    -exactlocale { set loclist [lrange $loclist 0 0] }
	    -* { return -code error "unknown option \"$option\"" }
	    default {
		return -code error "wrong # args: should be\
			\"[lindex [info level 0] 0] ?-exactnamespace?\
			?-exactlocale? src\""
	    }
	}
    }
    set src [lindex $args 0]

    while {$ns ne ""} {
	foreach loc $loclist {
	    if {[dict exists $Msgs $ns $loc $src]} {
		return 1
	    }
	}
	if {[info exists exactnamespace]} {return 0}
	set ns [namespace parent $ns]
    }
    return 0
}

# msgcat::mclocale --
#
#	Query or set the current locale.
#
# Arguments:
#	newLocale	(Optional) The new locale string. Locale strings
#			should be composed of one or more sublocale parts
#			separated by underscores (e.g. en_US).
#
# Results:
#	Returns the normalized set locale.

proc msgcat::mclocale {args} {
    variable Loclist
    variable LoadedLocales
    set len [llength $args]

    if {$len > 1} {
	return -code error "wrong # args: should be\
		\"[lindex [info level 0] 0] ?newLocale?\""
    }

    if {$len == 1} {
	set newLocale [string tolower [lindex $args 0]]
	if {$newLocale ne [file tail $newLocale]} {
	    return -code error "invalid newLocale value \"$newLocale\":\
		    could be path to unsafe code."
	}
	if {[lindex $Loclist 0] ne $newLocale} {
	    set Loclist [GetPreferences $newLocale]

	    # locale not loaded jet
	    LoadAll $Loclist
	    # Invoke callback
	    Invoke changecmd $Loclist
	}
    }
    return [lindex $Loclist 0]
}

# msgcat::GetPreferences --
#
#	Get list of locales from a locale.
#	The first element is always the lowercase locale.
#	Other elements have one component separated by "_" less.
#	Multiple "_" are seen as one separator: de__ch_spec de__ch de {}
#
# Arguments:
#	Locale.
#
# Results:
#	Locale list

proc msgcat::GetPreferences {locale} {
    set locale [string tolower $locale]
    set loclist [list $locale]
    while {-1 !=[set pos [string last "_" $locale]]} {
	set locale [string range $locale 0 $pos-1]
	if { "_" ne [string index $locale end] } {
	    lappend loclist $locale
	}
    }
    if {"" ne [lindex $loclist end]} {
	lappend loclist {}
    }
    return $loclist
}

# msgcat::mcpreferences --
#
#	Fetch the list of locales used to look up strings, ordered from
#	most preferred to least preferred.
#
# Arguments:
#	None.
#
# Results:
#	Returns an ordered list of the locales preferred by the user.

proc msgcat::mcpreferences {} {
    variable Loclist
    return $Loclist
}

# msgcat::mcloadedlocales --
#
#	Get or change the list of currently loaded default locales
#
#	The following subcommands are available:
#	loaded
#	    Get the current list of loaded locales
#	clear
#	    Remove all loaded locales not present in mcpreferences.
#
# Arguments:
#	subcommand		One of loaded or clear
#
# Results:
#	Empty string, if not stated differently for the subcommand

proc msgcat::mcloadedlocales {subcommand} {
    variable Loclist
    variable LoadedLocales
    variable Msgs
    variable PackageConfig
    switch -exact -- $subcommand {
	clear {
	    # Remove all locales not contained in Loclist
	    # skip any packages with package locale
	    set LoadedLocales $Loclist
	    foreach ns [dict keys $Msgs] {
		if {![dict exists $PackageConfig loclist $ns]} {
		    foreach locale [dict keys [dict get $Msgs $ns]] {
			if {$locale ni $Loclist} {
			    dict unset Msgs $ns $locale
			}
		    }
		}
	    }
	}
	loaded { return $LoadedLocales }
	default {
	    return -code error "unknown subcommand \"$subcommand\": must be\
		    clear, or loaded"
	}
    }
    return
}

# msgcat::mcpackagelocale --
#
#	Get or change the package locale of the calling package.
#
#	The following subcommands are available:
#	set
#	    Set a package locale.
#	    This may load message catalog files and may clear message catalog
#	    items, if the former locale was the default locale.
#	    Returns the normalized set locale.
#	    The default locale is taken, if locale is not given.
#	get
#	    Get the locale valid for this package.
#	isset
#	    Returns true, if a package locale is set
#	unset
#	    Unset the package locale and activate the default locale.
#	    This loads message catalog file which where missing in the package
#	    locale.
#	preferences
#	    Return locale preference list valid for the package.
#	loaded
#	    Return loaded locale list valid for the current package.
#	clear
#	    If the current package has a package locale, remove all package
#	    locales not containes in package mcpreferences.
#	    It is an error to call this without a package locale set.
#
#	The subcommands get, preferences and loaded return the corresponding
#	default data, if no package locale is set.
#
# Arguments:
#	subcommand		see list above
#	locale			package locale (only set subcommand)
#
# Results:
#	Empty string, if not stated differently for the subcommand

proc msgcat::mcpackagelocale {subcommand {locale ""}} {
    # todo: implement using an ensemble
    variable Loclist
    variable LoadedLocales
    variable Msgs
    variable PackageConfig
    # Check option
    # check if required item is exactly provided
    if {[llength [info level 0]] == 2} {
	# locale not given
	unset locale
    } else {
	# locale given
	if {$subcommand in
		{"get" "isset" "unset" "preferences" "loaded" "clear"} } {
	    return -code error "wrong # args: should be\
		    \"[lrange [info level 0] 0 1]\""
	}
        set locale [string tolower $locale]
    }
    set ns [uplevel 1 {::namespace current}]

    switch -exact -- $subcommand {
	get { return [lindex [PackagePreferences $ns] 0] }
	preferences { return [PackagePreferences $ns] }
	loaded { return [PackageLocales $ns] }
	present { return [expr {$locale in [PackageLocales $ns]} ]}
	isset { return [dict exists $PackageConfig loclist $ns] }
	set { # set a package locale or add a package locale

	    # Copy the default locale if no package locale set so far
	    if {![dict exists $PackageConfig loclist $ns]} {
		dict set PackageConfig loclist $ns $Loclist
		dict set PackageConfig loadedlocales $ns $LoadedLocales
	    }

	    # Check if changed
	    set loclist [dict get $PackageConfig loclist $ns]
	    if {! [info exists locale] || $locale eq [lindex $loclist 0] } {
		return [lindex $loclist 0]
	    }

	    # Change loclist
	    set loclist [GetPreferences $locale]
	    set locale [lindex $loclist 0]
	    dict set PackageConfig loclist $ns $loclist

	    # load eventual missing locales
	    set loadedLocales [dict get $PackageConfig loadedlocales $ns]
	    if {$locale in $loadedLocales} { return $locale }
	    set loadLocales [ListComplement $loadedLocales $loclist]
	    dict set PackageConfig loadedlocales $ns\
		    [concat $loadedLocales $loadLocales]
	    Load $ns $loadLocales
	    return $locale
	}
	clear { # Remove all locales not contained in Loclist
	    if {![dict exists $PackageConfig loclist $ns]} {
		return -code error "clear only when package locale set"
	    }
	    set loclist [dict get $PackageConfig loclist $ns]
	    dict set PackageConfig loadedlocales $ns $loclist
	    if {[dict exists $Msgs $ns]} {
		foreach locale [dict keys [dict get $Msgs $ns]] {
		    if {$locale ni $loclist} {
			dict unset Msgs $ns $locale
		    }
		}
	    }
	}
	unset {	# unset package locale and restore default locales

	    if { ![dict exists $PackageConfig loclist $ns] } { return }

	    # unset package locale
	    set loadLocales [ListComplement\
		    [dict get $PackageConfig loadedlocales $ns] $LoadedLocales]
	    dict unset PackageConfig loadedlocales $ns
	    dict unset PackageConfig loclist $ns

	    # unset keys not in global loaded locales
	    if {[dict exists $Msgs $ns]} {
		foreach locale [dict keys [dict get $Msgs $ns]] {
		    if {$locale ni $LoadedLocales} {
			dict unset Msgs $ns $locale
		    }
		}
	    }

	    # Add missing locales
	    Load $ns $loadLocales
	}
	default {
	    return -code error "unknown subcommand \"$subcommand\": must be\
		    clear, get, isset, loaded, present, set, or unset"
	}
    }
    return
}

# msgcat::mcforgetpackage --
#
#	Remove any data of the calling package from msgcat
#

proc msgcat::mcforgetpackage {} {
    # todo: this may be implemented using an ensemble
    variable PackageConfig
    variable Msgs
    set ns [uplevel 1 {::namespace current}]
    # Remove MC items
    dict unset Msgs $ns
    # Remove config items
    foreach key [dict keys $PackageConfig] {
	dict unset PackageConfig $key $ns
    }
    return
}

# msgcat::mcpackageconfig --
#
#	Get or modify the per caller namespace (e.g. packages) config options.
#
#	Available subcommands are:
#
#	    get		get the current value or an error if not set.
#	    isset	return true, if the option is set
#	    set		set the value (see also distinct option).
#			Returns the number of loaded message files.
#	    unset	Clear option. return "".
#
#	Available options are:
#
#	mcfolder
#	    The message catalog folder of the package.
#	    This is automatically set by mcload.
#	    If the value is changed using the set subcommand, an evntual
#	    loadcmd is invoked and all message files of the package locale are
#	    loaded.
#
#	loadcmd
#	    The command gets executed before a message file would be
#	    sourced for this module.
#	    The command is invoked with the expanded locale list to load.
#	    The command is not invoked if the registering package namespace
#	    is not present.
#	    This callback might also be used as an alternative to message
#	    files.
#	    If the value is changed using the set subcommand, the callback is
#	    directly invoked with the current file locale list. No file load is
#	    executed.
#
#	changecmd
#	    The command is invoked, after an executed locale change.
#	    Appended argument is expanded mcpreferences.
#
#	unknowncmd
#	    Use a package locale mcunknown procedure instead the global one.
#	    The appended arguments are identical to mcunknown.
#	    A default unknown handler is used if set to the empty string.
#	    This consists in returning the key if no arguments are given.
#	    With given arguments, format is used to process the arguments.
#
# Arguments:
#	subcommand		Operation on the package
#	option			The package option to get or set.
#	?value?			Eventual value for the subcommand
#
# Results:
#	Depends on the subcommand and option and is described there

proc msgcat::mcpackageconfig {subcommand option {value ""}} {
    variable PackageConfig
    # get namespace
    set ns [uplevel 1 {::namespace current}]

    if {$option ni {"mcfolder" "loadcmd" "changecmd" "unknowncmd"}} {
	return -code error "bad option \"$option\": must be mcfolder, loadcmd,\
		changecmd, or unknowncmd"
    }

    # check if value argument is exactly provided
    if {[llength [info level 0]] == 4 } {
	# value provided
	if {$subcommand in {"get" "isset" "unset"}} {
	    return -code error "wrong # args: should be\
		    \"[lrange [info level 0] 0 2] value\""
	}
    } elseif {$subcommand eq "set"} {
        return -code error\
		"wrong # args: should be \"[lrange [info level 0] 0 2]\""
    }

    # Execute subcommands
    switch -exact -- $subcommand {
	get {	# Operation get return current value
	    if {![dict exists $PackageConfig $option $ns]} {
		return -code error "package option \"$option\" not set"
	    }
	    return [dict get $PackageConfig $option $ns]
	}
	isset {	return [dict exists $PackageConfig $option $ns] }
	unset {	dict unset PackageConfig $option $ns }
	set {	# Set option

	    if {$option eq "mcfolder"} {
		set value [file normalize $value]
	    }
	    # Check if changed
	    if { [dict exists $PackageConfig $option $ns]
		    && $value eq [dict get $PackageConfig $option $ns] } {
		return 0
	    }

	    # set new value
	    dict set PackageConfig $option $ns $value

	    # Reload pending message catalogs
	    switch -exact -- $option {
		mcfolder { return [Load $ns [PackageLocales $ns]] }
		loadcmd { return [Load $ns [PackageLocales $ns] 1] }
	    }
	    return 0
	}
	default {
	    return -code error "unknown subcommand \"$subcommand\":\
		    must be get, isset, set, or unset"
	}
    }
    return
}

# msgcat::PackagePreferences --
#
#	Return eventual present package preferences or the default list if not
#	present.
#
# Arguments:
#	ns		Package namespace
#
# Results:
#	locale list

proc msgcat::PackagePreferences {ns} {
    variable PackageConfig
    if {[dict exists $PackageConfig loclist $ns]} {
	return [dict get $PackageConfig loclist $ns]
    }
    variable Loclist
    return $Loclist
}

# msgcat::PackageLocales --
#
#	Return eventual present package locales or the default list if not
#	present.
#
# Arguments:
#	ns		Package namespace
#
# Results:
#	locale list

proc msgcat::PackageLocales {ns} {
    variable PackageConfig
    if {[dict exists $PackageConfig loadedlocales $ns]} {
	return [dict get $PackageConfig loadedlocales $ns]
    }
    variable LoadedLocales
    return $LoadedLocales
}

# msgcat::ListComplement --
#
#	Build the complement of two lists.
#	Return a list with all elements in list2 but not in list1.
#	Optionally return the intersection.
#
# Arguments:
#	list1		excluded list
#	list2		included list
#	inlistname	If not "", write in this variable the intersection list
#
# Results:
#	list with all elements in list2 but not in list1

proc msgcat::ListComplement {list1 list2 {inlistname ""}} {
    if {"" ne $inlistname} {
	upvar 1 $inlistname inlist
    }
    set inlist {}
    set outlist {}
    foreach item $list2 {
	if {$item in $list1} {
	    lappend inlist $item
	} else {
	    lappend outlist $item
	}
    }
    return $outlist
}

# msgcat::mcload --
#
#	Attempt to load message catalogs for each locale in the
#	preference list from the specified directory.
#
# Arguments:
#	langdir		The directory to search.
#
# Results:
#	Returns the number of message catalogs that were loaded.

proc msgcat::mcload {langdir} {
    return [uplevel 1 [list\
	    [namespace origin mcpackageconfig] set mcfolder $langdir]]
}

# msgcat::LoadAll --
#
#	Load a list of locales for all packages not having a package locale
#	list.
#
# Arguments:
#	langdir		The directory to search.
#
# Results:
#	Returns the number of message catalogs that were loaded.

proc msgcat::LoadAll {locales} {
    variable PackageConfig
    variable LoadedLocales
    if {0 == [llength $locales]} { return {} }
    # filter jet unloaded locales
    set locales [ListComplement $LoadedLocales $locales]
    if {0 == [llength $locales]} { return {} }
    lappend LoadedLocales {*}$locales

    set packages [lsort -unique [concat\
	    [dict keys [dict get $PackageConfig loadcmd]]\
	    [dict keys [dict get $PackageConfig mcfolder]]]]
    foreach ns $packages {
	if {! [dict exists $PackageConfig loclist $ns] } {
	    Load $ns $locales
	}
    }
    return $locales
}

# msgcat::Load --
#
#	Invoke message load callback and load message catalog files.
#
# Arguments:
#	ns		Namespace (equal package) to load the message catalog.
#	locales		List of locales to load.
#	callbackonly	true if only callback should be invoked
#
# Results:
#	Returns the number of message catalogs that were loaded.

proc msgcat::Load {ns locales {callbackonly 0}} {
    variable FileLocale
    variable PackageConfig
    variable LoadedLocals

    if {0 == [llength $locales]} { return 0 }

    # Invoke callback
    Invoke loadcmd $locales $ns

    if {$callbackonly || ![dict exists $PackageConfig mcfolder $ns]} {
	return 0
    }

    # Invoke file load
    set langdir [dict get $PackageConfig mcfolder $ns]

    # Save the file locale if we are recursively called
    if {[info exists FileLocale]} {
	set nestedFileLocale $FileLocale
    }
    set x 0
    foreach p $locales {
	if {$p eq {}} {
	    set p ROOT
	}
	set langfile [file join $langdir $p.msg]
	if {[file exists $langfile]} {
	    incr x
	    set FileLocale [string tolower\
		    [file tail [file rootname $langfile]]]
	    if {"root" eq $FileLocale} {
		set FileLocale ""
	    }
	    namespace inscope $ns [list ::source -encoding utf-8 $langfile]
	    unset FileLocale
	}
    }
    if {[info exists nestedFileLocale]} {
	set FileLocale $nestedFileLocale
    }
    return $x
}

# msgcat::Invoke --
#
#	Invoke a set of registered callbacks.
#	The callback is only invoked, if its registered namespace exists.
#
# Arguments:
#	index		Index into PackageConfig to get callback command
#	arglist		parameters to the callback invocation
#	ns		(Optional) package to call.
#			If not given or empty, check all registered packages.
#	resultname	Variable to save the callback result of the last called
#			callback to. May be set to "" to discard the result.
#	failerror (0)	Fail on error if true. Otherwise call bgerror.
#
# Results:
#	Possible values:
#	- 0: no valid command registered
#	- 1: registered command was the empty string
#	- 2: registered command called, resultname is set
#	- 3: registered command failed
#	If multiple commands are called, the maximum of all results is returned.

proc msgcat::Invoke {index arglist {ns ""} {resultname ""} {failerror 0}} {
    variable PackageConfig
    variable Config
    if {"" ne $resultname} {
	upvar 1 $resultname result
    }
    if {"" eq $ns} {
	set packageList [dict keys [dict get $PackageConfig $index]]
    } else {
	set packageList [list $ns]
    }
    set ret 0
    foreach ns $packageList {
	if {[dict exists $PackageConfig $index $ns] && [namespace exists $ns]} {
	    set cmd [dict get $PackageConfig $index $ns]
	    if {"" eq $cmd} {
		if {$ret == 0} {set ret 1}
	    } else {
		if {$failerror} {
		    set result [namespace inscope $ns $cmd {*}$arglist]
		    set ret 2
		} elseif {1 == [catch {
		    set result [namespace inscope $ns $cmd {*}$arglist]
		    if {$ret < 2} {set ret 2}
		} err derr]} {
		    after idle [concat [::interp bgerror ""]\
			    [list $err $derr]]
		    set ret 3
		}
	    }
	}
    }
    return $ret
}

# msgcat::mcset --
#
#	Set the translation for a given string in a specified locale.
#
# Arguments:
#	locale		The locale to use.
#	src		The source string.
#	dest		(Optional) The translated string.  If omitted,
#			the source string is used.
#
# Results:
#	Returns the new locale.

proc msgcat::mcset {locale src {dest ""}} {
    variable Msgs
    if {[llength [info level 0]] == 3} { ;# dest not specified
	set dest $src
    }

    set ns [uplevel 1 [list ::namespace current]]

    set locale [string tolower $locale]

    dict set Msgs $ns $locale $src $dest
    return $dest
}

# msgcat::mcflset --
#
#	Set the translation for a given string in the current file locale.
#
# Arguments:
#	src		The source string.
#	dest		(Optional) The translated string.  If omitted,
#			the source string is used.
#
# Results:
#	Returns the new locale.

proc msgcat::mcflset {src {dest ""}} {
    variable FileLocale
    variable Msgs

    if {![info exists FileLocale]} {
	return -code error "must only be used inside a message catalog loaded\
		with ::msgcat::mcload"
    }
    return [uplevel 1 [list [namespace origin mcset] $FileLocale $src $dest]]
}

# msgcat::mcmset --
#
#	Set the translation for multiple strings in a specified locale.
#
# Arguments:
#	locale		The locale to use.
#	pairs		One or more src/dest pairs (must be even length)
#
# Results:
#	Returns the number of pairs processed

proc msgcat::mcmset {locale pairs} {
    variable Msgs

    set length [llength $pairs]
    if {$length % 2} {
	return -code error "bad translation list:\
		should be \"[lindex [info level 0] 0] locale {src dest ...}\""
    }

    set locale [string tolower $locale]
    set ns [uplevel 1 [list ::namespace current]]

    foreach {src dest} $pairs {
	dict set Msgs $ns $locale $src $dest
    }

    return [expr {$length / 2}]
}

# msgcat::mcflmset --
#
#	Set the translation for multiple strings in the mc file locale.
#
# Arguments:
#	pairs		One or more src/dest pairs (must be even length)
#
# Results:
#	Returns the number of pairs processed

proc msgcat::mcflmset {pairs} {
    variable FileLocale
    variable Msgs

    if {![info exists FileLocale]} {
	return -code error "must only be used inside a message catalog loaded\
		with ::msgcat::mcload"
    }
    return [uplevel 1 [list [namespace origin mcmset] $FileLocale $pairs]]
}

# msgcat::mcunknown --
#
#	This routine is called by msgcat::mc if a translation cannot
#	be found for a string and no unknowncmd is set for the current
#	package. This routine is intended to be replaced
#	by an application specific routine for error reporting
#	purposes.  The default behavior is to return the source string.
#	If additional args are specified, the format command will be used
#	to work them into the traslated string.
#
# Arguments:
#	locale		The current locale.
#	src		The string to be translated.
#	args		Args to pass to the format command
#
# Results:
#	Returns the translated value.

proc msgcat::mcunknown {args} {
    return [uplevel 1 [list [namespace origin DefaultUnknown] {*}$args]]
}

# msgcat::DefaultUnknown --
#
#	This routine is called by msgcat::mc if a translation cannot
#	be found for a string in the following circumstances:
#	- Default global handler, if mcunknown is not redefined.
#	- Per package handler, if the package sets unknowncmd to the empty
#	  string.
#	It returna the source string if the argument list is empty.
#	If additional args are specified, the format command will be used
#	to work them into the traslated string.
#
# Arguments:
#	locale		(unused) The current locale.
#	src		The string to be translated.
#	args		Args to pass to the format command
#
# Results:
#	Returns the translated value.

proc msgcat::DefaultUnknown {locale src args} {
    if {[llength $args]} {
	return [format $src {*}$args]
    } else {
	return $src
    }
}

# msgcat::mcmax --
#
#	Calculates the maximum length of the translated strings of the given
#	list.
#
# Arguments:
#	args	strings to translate.
#
# Results:
#	Returns the length of the longest translated string.

proc msgcat::mcmax {args} {
    set max 0
    foreach string $args {
	set translated [uplevel 1 [list [namespace origin mc] $string]]
	set len [string length $translated]
	if {$len>$max} {
	    set max $len
	}
    }
    return $max
}

# Convert the locale values stored in environment variables to a form
# suitable for passing to [mclocale]
proc msgcat::ConvertLocale {value} {
    # Assume $value is of form: $language[_$territory][.$codeset][@modifier]
    # Convert to form: $language[_$territory][_$modifier]
    #
    # Comment out expanded RE version -- bugs alleged
    # regexp -expanded {
    #	^		# Match all the way to the beginning
    #	([^_.@]*)	# Match "lanugage"; ends with _, ., or @
    #	(_([^.@]*))?	# Match (optional) "territory"; starts with _
    #	([.]([^@]*))?	# Match (optional) "codeset"; starts with .
    #	(@(.*))?	# Match (optional) "modifier"; starts with @
    #	$		# Match all the way to the end
    # } $value -> language _ territory _ codeset _ modifier
    if {![regexp {^([^_.@]+)(_([^.@]*))?([.]([^@]*))?(@(.*))?$} $value \
	    -> language _ territory _ codeset _ modifier]} {
	return -code error "invalid locale '$value': empty language part"
    }
    set ret $language
    if {[string length $territory]} {
	append ret _$territory
    }
    if {[string length $modifier]} {
	append ret _$modifier
    }
    return $ret
}

# Initialize the default locale
proc msgcat::Init {} {
    global env

    #
    # set default locale, try to get from environment
    #
    foreach varName {LC_ALL LC_MESSAGES LANG} {
	if {[info exists env($varName)] && ("" ne $env($varName))} {
	    if {![catch {
		mclocale [ConvertLocale $env($varName)]
	    }]} {
		return
	    }
	}
    }
    #
    # On Darwin, fallback to current CFLocale identifier if available.
    #
    if {[info exists ::tcl::mac::locale] && $::tcl::mac::locale ne ""} {
	if {![catch {
	    mclocale [ConvertLocale $::tcl::mac::locale]
	}]} {
	    return
	}
    }
    #
    # The rest of this routine is special processing for Windows or
    # Cygwin. All other platforms, get out now.
    #
    if {([info sharedlibextension] ne ".dll")
	    || [catch {package require registry}]} {
	mclocale C
	return
    }
    #
    # On Windows or Cygwin, try to set locale depending on registry
    # settings, or fall back on locale of "C".
    #

    # On Vista and later:
    # HCU/Control Panel/Desktop : PreferredUILanguages is for language packs,
    # HCU/Control Pannel/International : localName is the default locale.
    #
    # They contain the local string as RFC5646, composed of:
    # [a-z]{2,3} : language
    # -[a-z]{4}  : script (optional, translated by table Latn->latin)
    # -[a-z]{2}|[0-9]{3} : territory (optional, numerical region codes not used)
    # (-.*)* : variant, extension, private use (optional, not used)
    # Those are translated to local strings.
    # Examples: de-CH -> de_ch, sr-Latn-CS -> sr_cs@latin, es-419 -> es
    #
    foreach key {{HKEY_CURRENT_USER\Control Panel\Desktop} {HKEY_CURRENT_USER\Control Panel\International}}\
	    value {PreferredUILanguages localeName} {
	if {![catch {registry get $key $value} localeName]
		&& [regexp {^([a-z]{2,3})(?:-([a-z]{4}))?(?:-([a-z]{2}))?(?:-.+)?$}\
		    [string tolower $localeName] match locale script territory]} {
	    if {"" ne $territory} {
		append locale _ $territory
	    }
	    set modifierDict [dict create latn latin cyrl cyrillic]
	    if {[dict exists $modifierDict $script]} {
		append locale @ [dict get $modifierDict $script]
	    }
	    if {![catch {mclocale [ConvertLocale $locale]}]} {
		return
	    }
	}
    }

    # then check value locale which contains a numerical language ID
    if {[catch {
	set locale [registry get $key "locale"]
    }]} {
	mclocale C
	return
    }
    #
    # Keep trying to match against smaller and smaller suffixes
    # of the registry value, since the latter hexadigits appear
    # to determine general language and earlier hexadigits determine
    # more precise information, such as territory.  For example,
    #     0409 - English - United States
    #     0809 - English - United Kingdom
    # Add more translations to the WinRegToISO639 array above.
    #
    variable WinRegToISO639
    set locale [string tolower $locale]
    while {[string length $locale]} {
	if {![catch {
	    mclocale [ConvertLocale [dict get $WinRegToISO639 $locale]]
	}]} {
	    return
	}
	set locale [string range $locale 1 end]
    }
    #
    # No translation known.  Fall back on "C" locale
    #
    mclocale C
}
msgcat::Init
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
# -*- tcl -*-
# ### ### ### ######### ######### #########
## Overview

# Higher-level commands which invoke the functionality of this package
# for an arbitrary tcl shell (tclsh, wish, ...). This is required by a
# repository as while the tcl shell executing packages uses the same
# platform in general as a repository application there can be
# differences in detail (i.e. 32/64 bit builds).

# ### ### ### ######### ######### #########
## Requirements

package require platform
namespace eval ::platform::shell {}

# ### ### ### ######### ######### #########
## Implementation

# -- platform::shell::generic

proc ::platform::shell::generic {shell} {
    # Argument is the path to a tcl shell.

    CHECK $shell
    LOCATE base out

    set     code {}
    # Forget any pre-existing platform package, it might be in
    # conflict with this one.
    lappend code {package forget platform}
    # Inject our platform package
    lappend code [list source $base]
    # Query and print the architecture
    lappend code {puts [platform::generic]}
    # And done
    lappend code {exit 0}

    set arch [RUN $shell [join $code \n]]

    if {$out} {file delete -force $base}
    return $arch
}

# -- platform::shell::identify

proc ::platform::shell::identify {shell} {
    # Argument is the path to a tcl shell.

    CHECK $shell
    LOCATE base out

    set     code {}
    # Forget any pre-existing platform package, it might be in
    # conflict with this one.
    lappend code {package forget platform}
    # Inject our platform package
    lappend code [list source $base]
    # Query and print the architecture
    lappend code {puts [platform::identify]}
    # And done
    lappend code {exit 0}

    set arch [RUN $shell [join $code \n]]

    if {$out} {file delete -force $base}
    return $arch
}

# -- platform::shell::platform

proc ::platform::shell::platform {shell} {
    # Argument is the path to a tcl shell.

    CHECK $shell

    set     code {}
    lappend code {puts $tcl_platform(platform)}
    lappend code {exit 0}

    return [RUN $shell [join $code \n]]
}

# ### ### ### ######### ######### #########
## Internal helper commands.

proc ::platform::shell::CHECK {shell} {
    if {![file exists $shell]} {
	return -code error "Shell \"$shell\" does not exist"
    }
    if {![file executable $shell]} {
	return -code error "Shell \"$shell\" is not executable (permissions)"
    }
    return
}

proc ::platform::shell::LOCATE {bv ov} {
    upvar 1 $bv base $ov out

    # Locate the platform package for injection into the specified
    # shell. We are using package management to find it, whereever it
    # is, instead of using hardwired relative paths. This allows us to
    # install the two packages as TMs without breaking the code
    # here. If the found package is wrapped we copy the code somewhere
    # where the spawned shell will be able to read it.

    # This code is brittle, it needs has to adapt to whatever changes
    # are made to the TM code, i.e. the provide statement generated by
    # tm.tcl

    set pl [package ifneeded platform [package require platform]]
    set base [lindex $pl end]

    set out 0
    if {[lindex [file system $base]] ne "native"} {
	set temp [TEMP]
	file copy -force $base $temp
	set base $temp
	set out 1
    }
    return
}

proc ::platform::shell::RUN {shell code} {
    set     c [TEMP]
    set    cc [open $c w]
    puts  $cc $code
    close $cc

    set e [TEMP]

    set code [catch {
        exec $shell $c 2> $e
    } res]

    file delete $c

    if {$code} {
	append res \n[read [set chan [open $e r]]][close $chan]
	file delete $e
	return -code error "Shell \"$shell\" is not executable ($res)"
    }

    file delete $e
    return $res
}

proc ::platform::shell::TEMP {} {
    set prefix platform

    # This code is copied out of Tcllib's fileutil package.
    # (TempFile/tempfile)

    set tmpdir [DIR]

    set chars "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"
    set nrand_chars 10
    set maxtries 10
    set access [list RDWR CREAT EXCL TRUNC]
    set permission 0600
    set channel ""
    set checked_dir_writable 0
    set mypid [pid]
    for {set i 0} {$i < $maxtries} {incr i} {
 	set newname $prefix
 	for {set j 0} {$j < $nrand_chars} {incr j} {
 	    append newname [string index $chars \
		    [expr {int(rand()*62)}]]
 	}
	set newname [file join $tmpdir $newname]
 	if {[file exists $newname]} {
 	    after 1
 	} else {
 	    if {[catch {open $newname $access $permission} channel]} {
 		if {!$checked_dir_writable} {
 		    set dirname [file dirname $newname]
 		    if {![file writable $dirname]} {
 			return -code error "Directory $dirname is not writable"
 		    }
 		    set checked_dir_writable 1
 		}
 	    } else {
 		# Success
		close $channel
 		return [file normalize $newname]
 	    }
 	}
    }
    if {$channel ne ""} {
 	return -code error "Failed to open a temporary file: $channel"
    } else {
 	return -code error "Failed to find an unused temporary file name"
    }
}

proc ::platform::shell::DIR {} {
    # This code is copied out of Tcllib's fileutil package.
    # (TempDir/tempdir)

    global tcl_platform env

    set attempdirs [list]

    foreach tmp {TMPDIR TEMP TMP} {
	if { [info exists env($tmp)] } {
	    lappend attempdirs $env($tmp)
	}
    }

    switch $tcl_platform(platform) {
	windows {
	    lappend attempdirs "C:\\TEMP" "C:\\TMP" "\\TEMP" "\\TMP"
	}
	macintosh {
	    set tmpdir $env(TRASH_FOLDER)  ;# a better place?
	}
	default {
	    lappend attempdirs \
		[file join / tmp] \
		[file join / var tmp] \
		[file join / usr tmp]
	}
    }

    lappend attempdirs [pwd]

    foreach tmp $attempdirs {
	if { [file isdirectory $tmp] && [file writable $tmp] } {
	    return [file normalize $tmp]
	}
    }

    # Fail if nothing worked.
    return -code error "Unable to determine a proper directory for temporary files"
}

# ### ### ### ######### ######### #########
## Ready

package provide platform::shell 1.1.4
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       # -*- tcl -*-
# ### ### ### ######### ######### #########
## Overview

# Heuristics to assemble a platform identifier from publicly available
# information. The identifier describes the platform of the currently
# running tcl shell. This is a mixture of the runtime environment and
# of build-time properties of the executable itself.
#
# Examples:
# <1> A tcl shell executing on a x86_64 processor, but having a
#   wordsize of 4 was compiled for the x86 environment, i.e. 32
#   bit, and loaded packages have to match that, and not the
#   actual cpu.
#
# <2> The hp/solaris 32/64 bit builds of the core cannot be
#   distinguished by looking at tcl_platform. As packages have to
#   match the 32/64 information we have to look in more places. In
#   this case we inspect the executable itself (magic numbers,
#   i.e. fileutil::magic::filetype).
#
# The basic information used comes out of the 'os' and 'machine'
# entries of the 'tcl_platform' array. A number of general and
# os/machine specific transformation are applied to get a canonical
# result.
#
# General
# Only the first element of 'os' is used - we don't care whether we
# are on "Windows NT" or "Windows XP" or whatever.
#
# Machine specific
# % arm*   -> arm
# % sun4*  -> sparc
# % intel  -> ix86
# % i*86*  -> ix86
# % Power* -> powerpc
# % x86_64 + wordSize 4 => x86 code
#
# OS specific
# % AIX are always powerpc machines
# % HP-UX 9000/800 etc means parisc
# % linux has to take glibc version into account
# % sunos -> solaris, and keep version number
#
# NOTE: A platform like linux glibc 2.3, which can use glibc 2.2 stuff
# has to provide all possible allowed platform identifiers when
# searching search. Ditto a solaris 2.8 platform can use solaris 2.6
# packages. Etc. This is handled by the other procedure, see below.

# ### ### ### ######### ######### #########
## Requirements

namespace eval ::platform {}

# ### ### ### ######### ######### #########
## Implementation

# -- platform::generic
#
# Assembles an identifier for the generic platform. It leaves out
# details like kernel version, libc version, etc.

proc ::platform::generic {} {
    global tcl_platform

    set plat [string tolower [lindex $tcl_platform(os) 0]]
    set cpu  $tcl_platform(machine)

    switch -glob -- $cpu {
	sun4* {
	    set cpu sparc
	}
	intel -
	i*86* {
	    set cpu ix86
	}
	x86_64 {
	    if {$tcl_platform(wordSize) == 4} {
		# See Example <1> at the top of this file.
		set cpu ix86
	    }
	}
	"Power*" {
	    set cpu powerpc
	}
	"arm*" {
	    set cpu arm
	}
	ia64 {
	    if {$tcl_platform(wordSize) == 4} {
		append cpu _32
	    }
	}
    }

    switch -glob -- $plat {
	cygwin* {
	    set plat cygwin
	}
	windows {
	    if {$tcl_platform(platform) == "unix"} {
		set plat cygwin
	    } else {
		set plat win32
	    }
	    if {$cpu eq "amd64"} {
		# Do not check wordSize, win32-x64 is an IL32P64 platform.
		set cpu x86_64
	    }
	}
	sunos {
	    set plat solaris
	    if {[string match "ix86" $cpu]} {
		if {$tcl_platform(wordSize) == 8} {
		    set cpu x86_64
		}
	    } elseif {![string match "ia64*" $cpu]} {
		# sparc
		if {$tcl_platform(wordSize) == 8} {
		    append cpu 64
		}
	    }
	}
	darwin {
	    set plat macosx
	    # Correctly identify the cpu when running as a 64bit
	    # process on a machine with a 32bit kernel
	    if {$cpu eq "ix86"} {
		if {$tcl_platform(wordSize) == 8} {
		    set cpu x86_64
		}
	    }
	}
	aix {
	    set cpu powerpc
	    if {$tcl_platform(wordSize) == 8} {
		append cpu 64
	    }
	}
	hp-ux {
	    set plat hpux
	    if {![string match "ia64*" $cpu]} {
		set cpu parisc
		if {$tcl_platform(wordSize) == 8} {
		    append cpu 64
		}
	    }
	}
	osf1 {
	    set plat tru64
	}
    }

    return "${plat}-${cpu}"
}

# -- platform::identify
#
# Assembles an identifier for the exact platform, by extending the
# generic identifier. I.e. it adds in details like kernel version,
# libc version, etc., if they are relevant for the loading of
# packages on the platform.

proc ::platform::identify {} {
    global tcl_platform

    set id [generic]
    regexp {^([^-]+)-([^-]+)$} $id -> plat cpu

    switch -- $plat {
	solaris {
	    regsub {^5} $tcl_platform(osVersion) 2 text
	    append plat $text
	    return "${plat}-${cpu}"
	}
	macosx {
	    set major [lindex [split $tcl_platform(osVersion) .] 0]
	    if {$major > 8} {
		incr major -4
		append plat 10.$major
		return "${plat}-${cpu}"
	    }
	}
	linux {
	    # Look for the libc*.so and determine its version
	    # (libc5/6, libc6 further glibc 2.X)

	    set v unknown

	    # Determine in which directory to look. /lib, or /lib64.
	    # For that we use the tcl_platform(wordSize).
	    #
	    # We could use the 'cpu' info, per the equivalence below,
	    # that however would be restricted to intel. And this may
	    # be a arm, mips, etc. system. The wordsize is more
	    # fundamental.
	    #
	    # ix86   <=> (wordSize == 4) <=> 32 bit ==> /lib
	    # x86_64 <=> (wordSize == 8) <=> 64 bit ==> /lib64
	    #
	    # Do not look into /lib64 even if present, if the cpu
	    # doesn't fit.

	    # TODO: Determine the prefixes (i386, x86_64, ...) for
	    # other cpus.  The path after the generic one is utterly
	    # specific to intel right now.  Ok, on Ubuntu, possibly
	    # other Debian systems we may apparently be able to query
	    # the necessary CPU code. If we can't we simply use the
	    # hardwired fallback.

	    switch -exact -- $tcl_platform(wordSize) {
		4 {
		    lappend bases /lib
		    if {[catch {
			exec dpkg-architecture -qDEB_HOST_MULTIARCH
		    } res]} {
			lappend bases /lib/i386-linux-gnu
		    } else {
			# dpkg-arch returns the full tripled, not just cpu.
			lappend bases /lib/$res
		    }
		}
		8 {
		    lappend bases /lib64
		    if {[catch {
			exec dpkg-architecture -qDEB_HOST_MULTIARCH
		    } res]} {
			lappend bases /lib/x86_64-linux-gnu
		    } else {
			# dpkg-arch returns the full tripled, not just cpu.
			lappend bases /lib/$res
		    }
		}
		default {
		    return -code error "Bad wordSize $tcl_platform(wordSize), expected 4 or 8"
		}
	    }

	    foreach base $bases {
		if {[LibcVersion $base -> v]} break
	    }

	    append plat -$v
	    return "${plat}-${cpu}"
	}
    }

    return $id
}

proc ::platform::LibcVersion {base _->_ vv} {
    upvar 1 $vv v
    set libclist [lsort [glob -nocomplain -directory $base libc*]]

    if {![llength $libclist]} { return 0 }

    set libc [lindex $libclist 0]

    # Try executing the library first. This should suceed
    # for a glibc library, and return the version
    # information.

    if {![catch {
	set vdata [lindex [split [exec $libc] \n] 0]
    }]} {
	regexp {version ([0-9]+(\.[0-9]+)*)} $vdata -> v
	foreach {major minor} [split $v .] break
	set v glibc${major}.${minor}
	return 1
    } else {
	# We had trouble executing the library. We are now
	# inspecting its name to determine the version
	# number. This code by Larry McVoy.

	if {[regexp -- {libc-([0-9]+)\.([0-9]+)} $libc -> major minor]} {
	    set v glibc${major}.${minor}
	    return 1
	}
    }
    return 0
}

# -- platform::patterns
#
# Given an exact platform identifier, i.e. _not_ the generic
# identifier it assembles a list of exact platform identifier
# describing platform which should be compatible with the
# input.
#
# I.e. packages for all platforms in the result list should be
# loadable on the specified platform.

# << Should we add the generic identifier to the list as well ? In
#    general it is not compatible I believe. So better not. In many
#    cases the exact identifier is identical to the generic one
#    anyway.
# >>

proc ::platform::patterns {id} {
    set res [list $id]
    if {$id eq "tcl"} {return $res}

    switch -glob --  $id {
	solaris*-* {
	    if {[regexp {solaris([^-]*)-(.*)} $id -> v cpu]} {
		if {$v eq ""} {return $id}
		foreach {major minor} [split $v .] break
		incr minor -1
		for {set j $minor} {$j >= 6} {incr j -1} {
		    lappend res solaris${major}.${j}-${cpu}
		}
	    }
	}
	linux*-* {
	    if {[regexp {linux-glibc([^-]*)-(.*)} $id -> v cpu]} {
		foreach {major minor} [split $v .] break
		incr minor -1
		for {set j $minor} {$j >= 0} {incr j -1} {
		    lappend res linux-glibc${major}.${j}-${cpu}
		}
	    }
	}
	macosx-powerpc {
	    lappend res macosx-universal
	}
	macosx-x86_64 {
	    lappend res macosx-i386-x86_64
	}
	macosx-ix86 {
	    lappend res macosx-universal macosx-i386-x86_64
	}
	macosx*-*    {
	    # 10.5+
	    if {[regexp {macosx([^-]*)-(.*)} $id -> v cpu]} {

		switch -exact -- $cpu {
		    ix86    {
			lappend alt i386-x86_64
			lappend alt universal
		    }
		    x86_64  { lappend alt i386-x86_64 }
		    default { set alt {} }
		}

		if {$v ne ""} {
		    foreach {major minor} [split $v .] break

		    # Add 10.5 to 10.minor to patterns.
		    set res {}
		    for {set j $minor} {$j >= 5} {incr j -1} {
			lappend res macosx${major}.${j}-${cpu}
			foreach a $alt {
			    lappend res macosx${major}.${j}-$a
			}
		    }

		    # Add unversioned patterns for 10.3/10.4 builds.
		    lappend res macosx-${cpu}
		    foreach a $alt {
			lappend res macosx-$a
		    }
		} else {
		    # No version, just do unversioned patterns.
		    foreach a $alt {
			lappend res macosx-$a
		    }
		}
	    } else {
		# no v, no cpu ... nothing
	    }
	}
    }
    lappend res tcl ; # Pure tcl packages are always compatible.
    return $res
}


# ### ### ### ######### ######### #########
## Ready

package provide platform 1.0.14

# ### ### ### ######### ######### #########
## Demo application

if {[info exists argv0] && ($argv0 eq [info script])} {
    puts ====================================
    parray tcl_platform
    puts ====================================
    puts Generic\ identification:\ [::platform::generic]
    puts Exact\ identification:\ \ \ [::platform::identify]
    puts ====================================
    puts Search\ patterns:
    puts *\ [join [::platform::patterns [::platform::identify]] \n*\ ]
    puts ====================================
    exit 0
}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    /*
 * tclAppInit.c --
 *
 *	Provides a default version of the main program and Tcl_AppInit
 *	procedure for tclsh and other Tcl-based applications (without Tk).
 *
 * Copyright (c) 1993 The Regents of the University of California.
 * Copyright (c) 1994-1997 Sun Microsystems, Inc.
 * Copyright (c) 1998-1999 Scriptics Corporation.
 *
 * See the file "license.terms" for information on usage and redistribution of
 * this file, and for a DISCLAIMER OF ALL WARRANTIES.
 */

#undef BUILD_tcl
#undef STATIC_BUILD
#include "tcl.h"

#ifdef TCL_TEST
extern Tcl_PackageInitProc Tcltest_Init;
extern Tcl_PackageInitProc Tcltest_SafeInit;
#endif /* TCL_TEST */

#ifdef TCL_XT_TEST
extern void                XtToolkitInitialize(void);
extern Tcl_PackageInitProc Tclxttest_Init;
#endif /* TCL_XT_TEST */

/*
 * The following #if block allows you to change the AppInit function by using
 * a #define of TCL_LOCAL_APPINIT instead of rewriting this entire file. The
 * #if checks for that #define and uses Tcl_AppInit if it does not exist.
 */

#ifndef TCL_LOCAL_APPINIT
#define TCL_LOCAL_APPINIT Tcl_AppInit
#endif
#ifndef MODULE_SCOPE
#   define MODULE_SCOPE extern
#endif
MODULE_SCOPE int TCL_LOCAL_APPINIT(Tcl_Interp *);
MODULE_SCOPE int main(int, char **);

/*
 * The following #if block allows you to change how Tcl finds the startup
 * script, prime the library or encoding paths, fiddle with the argv, etc.,
 * without needing to rewrite Tcl_Main()
 */

#ifdef TCL_LOCAL_MAIN_HOOK
MODULE_SCOPE int TCL_LOCAL_MAIN_HOOK(int *argc, char ***argv);
#endif

/*
 *----------------------------------------------------------------------
 *
 * main --
 *
 *	This is the main program for the application.
 *
 * Results:
 *	None: Tcl_Main never returns here, so this procedure never returns
 *	either.
 *
 * Side effects:
 *	Just about anything, since from here we call arbitrary Tcl code.
 *
 *----------------------------------------------------------------------
 */

int
main(
    int argc,			/* Number of command-line arguments. */
    char *argv[])		/* Values of command-line arguments. */
{
#ifdef TCL_XT_TEST
    XtToolkitInitialize();
#endif

#ifdef TCL_LOCAL_MAIN_HOOK
    TCL_LOCAL_MAIN_HOOK(&argc, &argv);
#endif

    Tcl_Main(argc, argv, TCL_LOCAL_APPINIT);
    return 0;			/* Needed only to prevent compiler warning. */
}

/*
 *----------------------------------------------------------------------
 *
 * Tcl_AppInit --
 *
 *	This procedure performs application-specific initialization. Most
 *	applications, especially those that incorporate additional packages,
 *	will have their own version of this procedure.
 *
 * Results:
 *	Returns a standard Tcl completion code, and leaves an error message in
 *	the interp's result if an error occurs.
 *
 * Side effects:
 *	Depends on the startup script.
 *
 *----------------------------------------------------------------------
 */

int
Tcl_AppInit(
    Tcl_Interp *interp)		/* Interpreter for application. */
{
    if ((Tcl_Init)(interp) == TCL_ERROR) {
	return TCL_ERROR;
    }

#ifdef TCL_XT_TEST
    if (Tclxttest_Init(interp) == TCL_ERROR) {
	return TCL_ERROR;
    }
#endif

#ifdef TCL_TEST
    if (Tcltest_Init(interp) == TCL_ERROR) {
	return TCL_ERROR;
    }
    Tcl_StaticPackage(interp, "Tcltest", Tcltest_Init, Tcltest_SafeInit);
#endif /* TCL_TEST */

    /*
     * Call the init procedures for included packages. Each call should look
     * like this:
     *
     * if (Mod_Init(interp) == TCL_ERROR) {
     *     return TCL_ERROR;
     * }
     *
     * where "Mod" is the name of the module. (Dynamically-loadable packages
     * should have the same entry-point name.)
     */

    /*
     * Call Tcl_CreateCommand for application-specific commands, if they
     * weren't already created by the init procedures called above.
     */

    /*
     * Specify a user-specific startup file to invoke if the application is
     * run interactively. Typically the startup file is "~/.apprc" where "app"
     * is the name of the application. If this line is deleted then no
     * user-specific startup file will be run under any conditions.
     */

#ifdef DJGPP
    (Tcl_ObjSetVar2)(interp, Tcl_NewStringObj("tcl_rcFileName", -1), NULL,
	    Tcl_NewStringObj("~/tclsh.rc", -1), TCL_GLOBAL_ONLY);
#else
    (Tcl_ObjSetVar2)(interp, Tcl_NewStringObj("tcl_rcFileName", -1), NULL,
	    Tcl_NewStringObj("~/.tclshrc", -1), TCL_GLOBAL_ONLY);
#endif

    return TCL_OK;
}

/*
 * Local Variables:
 * mode: c
 * c-basic-offset: 4
 * fill-column: 78
 * End:
 */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 # Tcl autoload index file, version 2.0
# -*- tcl -*-
# This file is generated by the "auto_mkindex" command
# and sourced to set up indexing information for one or
# more commands.  Typically each line is a command that
# sets an element in the auto_index array, where the
# element name is the name of a command and the value is
# a script that loads the command.

set auto_index(auto_reset) [list source [file join $dir auto.tcl]]
set auto_index(tcl_findLibrary) [list source [file join $dir auto.tcl]]
set auto_index(auto_mkindex) [list source [file join $dir auto.tcl]]
set auto_index(auto_mkindex_old) [list source [file join $dir auto.tcl]]
set auto_index(::auto_mkindex_parser::init) [list source [file join $dir auto.tcl]]
set auto_index(::auto_mkindex_parser::cleanup) [list source [file join $dir auto.tcl]]
set auto_index(::auto_mkindex_parser::mkindex) [list source [file join $dir auto.tcl]]
set auto_index(::auto_mkindex_parser::hook) [list source [file join $dir auto.tcl]]
set auto_index(::auto_mkindex_parser::slavehook) [list source [file join $dir auto.tcl]]
set auto_index(::auto_mkindex_parser::command) [list source [file join $dir auto.tcl]]
set auto_index(::auto_mkindex_parser::commandInit) [list source [file join $dir auto.tcl]]
set auto_index(::auto_mkindex_parser::fullname) [list source [file join $dir auto.tcl]]
set auto_index(history) [list source [file join $dir history.tcl]]
set auto_index(::tcl::HistAdd) [list source [file join $dir history.tcl]]
set auto_index(::tcl::HistKeep) [list source [file join $dir history.tcl]]
set auto_index(::tcl::HistClear) [list source [file join $dir history.tcl]]
set auto_index(::tcl::HistInfo) [list source [file join $dir history.tcl]]
set auto_index(::tcl::HistRedo) [list source [file join $dir history.tcl]]
set auto_index(::tcl::HistIndex) [list source [file join $dir history.tcl]]
set auto_index(::tcl::HistEvent) [list source [file join $dir history.tcl]]
set auto_index(::tcl::HistChange) [list source [file join $dir history.tcl]]
set auto_index(pkg_mkIndex) [list source [file join $dir package.tcl]]
set auto_index(tclPkgSetup) [list source [file join $dir package.tcl]]
set auto_index(tclPkgUnknown) [list source [file join $dir package.tcl]]
set auto_index(::tcl::MacOSXPkgUnknown) [list source [file join $dir package.tcl]]
set auto_index(::pkg::create) [list source [file join $dir package.tcl]]
set auto_index(parray) [list source [file join $dir parray.tcl]]
set auto_index(::safe::InterpStatics) [list source [file join $dir safe.tcl]]
set auto_index(::safe::InterpNested) [list source [file join $dir safe.tcl]]
set auto_index(::safe::interpCreate) [list source [file join $dir safe.tcl]]
set auto_index(::safe::interpInit) [list source [file join $dir safe.tcl]]
set auto_index(::safe::CheckInterp) [list source [file join $dir safe.tcl]]
set auto_index(::safe::interpConfigure) [list source [file join $dir safe.tcl]]
set auto_index(::safe::InterpCreate) [list source [file join $dir safe.tcl]]
set auto_index(::safe::InterpSetConfig) [list source [file join $dir safe.tcl]]
set auto_index(::safe::interpFindInAccessPath) [list source [file join $dir safe.tcl]]
set auto_index(::safe::interpAddToAccessPath) [list source [file join $dir safe.tcl]]
set auto_index(::safe::InterpInit) [list source [file join $dir safe.tcl]]
set auto_index(::safe::AddSubDirs) [list source [file join $dir safe.tcl]]
set auto_index(::safe::interpDelete) [list source [file join $dir safe.tcl]]
set auto_index(::safe::setLogCmd) [list source [file join $dir safe.tcl]]
set auto_index(::safe::SyncAccessPath) [list source [file join $dir safe.tcl]]
set auto_index(::safe::PathToken) [list source [file join $dir safe.tcl]]
set auto_index(::safe::TranslatePath) [list source [file join $dir safe.tcl]]
set auto_index(::safe::Log) [list source [file join $dir safe.tcl]]
set auto_index(::safe::CheckFileName) [list source [file join $dir safe.tcl]]
set auto_index(::safe::AliasGlob) [list source [file join $dir safe.tcl]]
set auto_index(::safe::AliasSource) [list source [file join $dir safe.tcl]]
set auto_index(::safe::AliasLoad) [list source [file join $dir safe.tcl]]
set auto_index(::safe::FileInAccessPath) [list source [file join $dir safe.tcl]]
set auto_index(::safe::DirInAccessPath) [list source [file join $dir safe.tcl]]
set auto_index(::safe::Subset) [list source [file join $dir safe.tcl]]
set auto_index(::safe::AliasSubset) [list source [file join $dir safe.tcl]]
set auto_index(::safe::AliasEncoding) [list source [file join $dir safe.tcl]]
set auto_index(tcl_wordBreakAfter) [list source [file join $dir word.tcl]]
set auto_index(tcl_wordBreakBefore) [list source [file join $dir word.tcl]]
set auto_index(tcl_endOfWord) [list source [file join $dir word.tcl]]
set auto_index(tcl_startOfNextWord) [list source [file join $dir word.tcl]]
set auto_index(tcl_startOfPreviousWord) [list source [file join $dir word.tcl]]
set auto_index(::tcl::tm::add) [list source [file join $dir tm.tcl]]
set auto_index(::tcl::tm::remove) [list source [file join $dir tm.tcl]]
set auto_index(::tcl::tm::list) [list source [file join $dir tm.tcl]]
set auto_index(::tcl::tm::Defaults) [list source [file join $dir tm.tcl]]
set auto_index(::tcl::tm::UnknownHandler) [list source [file join $dir tm.tcl]]
set auto_index(::tcl::tm::roots) [list source [file join $dir tm.tcl]]
set auto_index(::tcl::tm::path) [list source [file join $dir tm.tcl]]
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         # -*- tcl -*-
#
# Searching for Tcl Modules. Defines a procedure, declares it as the primary
# command for finding packages, however also uses the former 'package unknown'
# command as a fallback.
#
# Locates all possible packages in a directory via a less restricted glob. The
# targeted directory is derived from the name of the requested package, i.e.
# the TM scan will look only at directories which can contain the requested
# package. It will register all packages it found in the directory so that
# future requests have a higher chance of being fulfilled by the ifneeded
# database without having to come to us again.
#
# We do not remember where we have been and simply rescan targeted directories
# when invoked again. The reasoning is this:
#
# - The only way we get back to the same directory is if someone is trying to
#   [package require] something that wasn't there on the first scan.
#
#   Either
#   1) It is there now:  If we rescan, you get it; if not you don't.
#
#      This covers the possibility that the application asked for a package
#      late, and the package was actually added to the installation after the
#      application was started. It shoukld still be able to find it.
#
#   2) It still is not there: Either way, you don't get it, but the rescan
#      takes time. This is however an error case and we dont't care that much
#      about it
#
#   3) It was there the first time; but for some reason a "package forget" has
#      been run, and "package" doesn't know about it anymore.
#
#      This can be an indication that the application wishes to reload some
#      functionality. And should work as well.
#
# Note that this also strikes a balance between doing a glob targeting a
# single package, and thus most likely requiring multiple globs of the same
# directory when the application is asking for many packages, and trying to
# glob for _everything_ in all subdirectories when looking for a package,
# which comes with a heavy startup cost.
#
# We scan for regular packages only if no satisfying module was found.

namespace eval ::tcl::tm {
    # Default paths. None yet.

    variable paths {/usr/share/tcltk/tcl8.6/tcl8}

    # The regex pattern a file name has to match to make it a Tcl Module.

    set pkgpattern {^([_[:alpha:]][:_[:alnum:]]*)-([[:digit:]].*)[.]tm$}

    # Export the public API

    namespace export path
    namespace ensemble create -command path -subcommands {add remove list}
}

# ::tcl::tm::path implementations --
#
#	Public API to the module path. See specification.
#
# Arguments
#	cmd -	The subcommand to execute
#	args -	The paths to add/remove. Must not appear querying the
#		path with 'list'.
#
# Results
#	No result for subcommands 'add' and 'remove'. A list of paths for
#	'list'.
#
# Sideeffects
#	The subcommands 'add' and 'remove' manipulate the list of paths to
#	search for Tcl Modules. The subcommand 'list' has no sideeffects.

proc ::tcl::tm::add {args} {
    # PART OF THE ::tcl::tm::path ENSEMBLE
    #
    # The path is added at the head to the list of module paths.
    #
    # The command enforces the restriction that no path may be an ancestor
    # directory of any other path on the list. If the new path violates this
    # restriction an error wil be raised.
    #
    # If the path is already present as is no error will be raised and no
    # action will be taken.

    variable paths

    # We use a copy of the path as source during validation, and extend it as
    # well. Because we not only have to detect if the new paths are bogus with
    # respect to the existing paths, but also between themselves. Otherwise we
    # can still add bogus paths, by specifying them in a single call. This
    # makes the use of the new paths simpler as well, a trivial assignment of
    # the collected paths to the official state var.

    set newpaths $paths
    foreach p $args {
	if {$p in $newpaths} {
	    # Ignore a path already on the list.
	    continue
	}

	# Search for paths which are subdirectories of the new one. If there
	# are any then the new path violates the restriction about ancestors.

	set pos [lsearch -glob $newpaths ${p}/*]
	# Cannot use "in", we need the position for the message.
	if {$pos >= 0} {
	    return -code error \
		"$p is ancestor of existing module path [lindex $newpaths $pos]."
	}

	# Now look for existing paths which are ancestors of the new one. This
	# reverse question forces us to loop over the existing paths, as each
	# element is the pattern, not the new path :(

	foreach ep $newpaths {
	    if {[string match ${ep}/* $p]} {
		return -code error \
		    "$p is subdirectory of existing module path $ep."
	    }
	}

	set newpaths [linsert $newpaths 0 $p]
    }

    # The validation of the input is complete and successful, and everything
    # in newpaths is either an old path, or added. We can now extend the
    # official list of paths, a simple assignment is sufficient.

    set paths $newpaths
    return
}

proc ::tcl::tm::remove {args} {
    # PART OF THE ::tcl::tm::path ENSEMBLE
    #
    # Removes the path from the list of module paths. The command is silently
    # ignored if the path is not on the list.

    variable paths

    foreach p $args {
	set pos [lsearch -exact $paths $p]
	if {$pos >= 0} {
	    set paths [lreplace $paths $pos $pos]
	}
    }
}

proc ::tcl::tm::list {} {
    # PART OF THE ::tcl::tm::path ENSEMBLE

    variable paths
    return  $paths
}

# ::tcl::tm::UnknownHandler --
#
#	Unknown handler for Tcl Modules, i.e. packages in module form.
#
# Arguments
#	original	- Original [package unknown] procedure.
#	name		- Name of desired package.
#	version		- Version of desired package. Can be the
#			  empty string.
#	exact		- Either -exact or ommitted.
#
#	Name, version, and exact are used to determine satisfaction. The
#	original is called iff no satisfaction was achieved. The name is also
#	used to compute the directory to target in the search.
#
# Results
#	None.
#
# Sideeffects
#	May populate the package ifneeded database with additional provide
#	scripts.

proc ::tcl::tm::UnknownHandler {original name args} {
    # Import the list of paths to search for packages in module form.
    # Import the pattern used to check package names in detail.

    variable paths
    variable pkgpattern

    # Without paths to search we can do nothing. (Except falling back to the
    # regular search).

    if {[llength $paths]} {
	set pkgpath [string map {:: /} $name]
	set pkgroot [file dirname $pkgpath]
	if {$pkgroot eq "."} {
	    set pkgroot ""
	}

	# We don't remember a copy of the paths while looping. Tcl Modules are
	# unable to change the list while we are searching for them. This also
	# simplifies the loop, as we cannot get additional directories while
	# iterating over the list. A simple foreach is sufficient.

	set satisfied 0
	foreach path $paths {
	    if {![interp issafe] && ![file exists $path]} {
		continue
	    }
	    set currentsearchpath [file join $path $pkgroot]
	    if {![interp issafe] && ![file exists $currentsearchpath]} {
		continue
	    }
	    set strip [llength [file split $path]]

	    # We can't use glob in safe interps, so enclose the following in a
	    # catch statement, where we get the module files out of the
	    # subdirectories. In other words, Tcl Modules are not-functional
	    # in such an interpreter. This is the same as for the command
	    # "tclPkgUnknown", i.e. the search for regular packages.

	    catch {
		# We always look for _all_ possible modules in the current
		# path, to get the max result out of the glob.

		foreach file [glob -nocomplain -directory $currentsearchpath *.tm] {
		    set pkgfilename [join [lrange [file split $file] $strip end] ::]

		    if {![regexp -- $pkgpattern $pkgfilename --> pkgname pkgversion]} {
			# Ignore everything not matching our pattern for
			# package names.
			continue
		    }
		    try {
			package vcompare $pkgversion 0
		    } on error {} {
			# Ignore everything where the version part is not
			# acceptable to "package vcompare".
			continue
		    }

		    if {[package ifneeded $pkgname $pkgversion] ne {}} {
			# There's already a provide script registered for
			# this version of this package.  Since all units of
			# code claiming to be the same version of the same
			# package ought to be identical, just stick with
			# the one we already have.
			continue
		    }

		    # We have found a candidate, generate a "provide script"
		    # for it, and remember it.  Note that we are using ::list
		    # to do this; locally [list] means something else without
		    # the namespace specifier.

		    # NOTE. When making changes to the format of the provide
		    # command generated below CHECK that the 'LOCATE'
		    # procedure in core file 'platform/shell.tcl' still
		    # understands it, or, if not, update its implementation
		    # appropriately.
		    #
		    # Right now LOCATE's implementation assumes that the path
		    # of the package file is the last element in the list.

		    package ifneeded $pkgname $pkgversion \
			"[::list package provide $pkgname $pkgversion];[::list source -encoding utf-8 $file]"

		    # We abort in this unknown handler only if we got a
		    # satisfying candidate for the requested package.
		    # Otherwise we still have to fallback to the regular
		    # package search to complete the processing.

		    if {($pkgname eq $name)
			    && [package vsatisfies $pkgversion {*}$args]} {
			set satisfied 1

			# We do not abort the loop, and keep adding provide
			# scripts for every candidate in the directory, just
			# remember to not fall back to the regular search
			# anymore.
		    }
		}
	    }
	}

	if {$satisfied} {
	    return
	}
    }

    # Fallback to previous command, if existing.  See comment above about
    # ::list...

    if {[llength $original]} {
	uplevel 1 $original [::linsert $args 0 $name]
    }
}

# ::tcl::tm::Defaults --
#
#	Determines the default search paths.
#
# Arguments
#	None
#
# Results
#	None.
#
# Sideeffects
#	May add paths to the list of defaults.

proc ::tcl::tm::Defaults {} {
    global env tcl_platform

    lassign [split [info tclversion] .] major minor
    set exe [file normalize [info nameofexecutable]]

    # Note that we're using [::list], not [list] because [list] means
    # something other than [::list] in this namespace.
    roots [::list \
	    [file dirname [info library]] \
	    [file join [file dirname [file dirname $exe]] lib] \
	    ]

    if {$tcl_platform(platform) eq "windows"} {
	set sep ";"
    } else {
	set sep ":"
    }
    for {set n $minor} {$n >= 0} {incr n -1} {
	foreach ev [::list \
			TCL${major}.${n}_TM_PATH \
			TCL${major}_${n}_TM_PATH \
        ] {
	    if {![info exists env($ev)]} continue
	    foreach p [split $env($ev) $sep] {
		path add $p
	    }
	}
    }
    return
}

# ::tcl::tm::roots --
#
#	Public API to the module path. See specification.
#
# Arguments
#	paths -	List of 'root' paths to derive search paths from.
#
# Results
#	No result.
#
# Sideeffects
#	Calls 'path add' to paths to the list of module search paths.

proc ::tcl::tm::roots {paths} {
    regexp {^(\d+)\.(\d+)} [package present Tcl] - major minor
    foreach pa $paths {
	set p [file join $pa tcl$major]
	for {set n $minor} {$n >= 0} {incr n -1} {
	    set px [file join $p ${major}.${n}]
	    if {![interp issafe]} {set px [file normalize $px]}
	    path add $px
	}
	set px [file join $p site-tcl]
	if {![interp issafe]} {set px [file normalize $px]}
	path add $px
    }
    return
}

# Initialization. Set up the default paths, then insert the new handler into
# the chain.

if {![interp issafe]} {::tcl::tm::Defaults}
if {![interp issafe]} { ::tcl::tm::roots {/usr/lib/tcltk /usr/share/tcltk} }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      # word.tcl --
#
# This file defines various procedures for computing word boundaries in
# strings. This file is primarily needed so Tk text and entry widgets behave
# properly for different platforms.
#
# Copyright (c) 1996 by Sun Microsystems, Inc.
# Copyright (c) 1998 by Scritpics Corporation.
#
# See the file "license.terms" for information on usage and redistribution
# of this file, and for a DISCLAIMER OF ALL WARRANTIES.

# The following variables are used to determine which characters are
# interpreted as white space.

if {$::tcl_platform(platform) eq "windows"} {
    # Windows style - any but a unicode space char
    if {![info exists ::tcl_wordchars]} {
	set ::tcl_wordchars {\S}
    }
    if {![info exists ::tcl_nonwordchars]} {
	set ::tcl_nonwordchars {\s}
    }
} else {
    # Motif style - any unicode word char (number, letter, or underscore)
    if {![info exists ::tcl_wordchars]} {
	set ::tcl_wordchars {\w}
    }
    if {![info exists ::tcl_nonwordchars]} {
	set ::tcl_nonwordchars {\W}
    }
}

# Arrange for caches of the real matcher REs to be kept, which enables the REs
# themselves to be cached for greater performance (and somewhat greater
# clarity too).

namespace eval ::tcl {
    variable WordBreakRE
    array set WordBreakRE {}

    proc UpdateWordBreakREs args {
	# Ignores the arguments
	global tcl_wordchars tcl_nonwordchars
	variable WordBreakRE

	# To keep the RE strings short...
	set letter $tcl_wordchars
	set space $tcl_nonwordchars

	set WordBreakRE(after)		"$letter$space|$space$letter"
	set WordBreakRE(before)		"^.*($letter$space|$space$letter)"
	set WordBreakRE(end)		"$space*$letter+$space"
	set WordBreakRE(next)		"$letter*$space+$letter"
	set WordBreakRE(previous)	"$space*($letter+)$space*\$"
    }

    # Initialize the cache
    UpdateWordBreakREs
    trace add variable ::tcl_wordchars write ::tcl::UpdateWordBreakREs
    trace add variable ::tcl_nonwordchars write ::tcl::UpdateWordBreakREs
}

# tcl_wordBreakAfter --
#
# This procedure returns the index of the first word boundary after the
# starting point in the given string, or -1 if there are no more boundaries in
# the given string. The index returned refers to the first character of the
# pair that comprises a boundary.
#
# Arguments:
# str -		String to search.
# start -	Index into string specifying starting point.

proc tcl_wordBreakAfter {str start} {
    variable ::tcl::WordBreakRE
    set result {-1 -1}
    regexp -indices -start $start -- $WordBreakRE(after) $str result
    return [lindex $result 1]
}

# tcl_wordBreakBefore --
#
# This procedure returns the index of the first word boundary before the
# starting point in the given string, or -1 if there are no more boundaries in
# the given string. The index returned refers to the second character of the
# pair that comprises a boundary.
#
# Arguments:
# str -		String to search.
# start -	Index into string specifying starting point.

proc tcl_wordBreakBefore {str start} {
    variable ::tcl::WordBreakRE
    set result {-1 -1}
    regexp -indices -- $WordBreakRE(before) [string range $str 0 $start] result
    return [lindex $result 1]
}

# tcl_endOfWord --
#
# This procedure returns the index of the first end-of-word location after a
# starting index in the given string. An end-of-word location is defined to be
# the first whitespace character following the first non-whitespace character
# after the starting point. Returns -1 if there are no more words after the
# starting point.
#
# Arguments:
# str -		String to search.
# start -	Index into string specifying starting point.

proc tcl_endOfWord {str start} {
    variable ::tcl::WordBreakRE
    set result {-1 -1}
    regexp -indices -start $start -- $WordBreakRE(end) $str result
    return [lindex $result 1]
}

# tcl_startOfNextWord --
#
# This procedure returns the index of the first start-of-word location after a
# starting index in the given string. A start-of-word location is defined to
# be a non-whitespace character following a whitespace character. Returns -1
# if there are no more start-of-word locations after the starting point.
#
# Arguments:
# str -		String to search.
# start -	Index into string specifying starting point.

proc tcl_startOfNextWord {str start} {
    variable ::tcl::WordBreakRE
    set result {-1 -1}
    regexp -indices -start $start -- $WordBreakRE(next) $str result
    return [lindex $result 1]
}

# tcl_startOfPreviousWord --
#
# This procedure returns the index of the first start-of-word location before
# a starting index in the given string.
#
# Arguments:
# str -		String to search.
# start -	Index into string specifying starting point.

proc tcl_startOfPreviousWord {str start} {
    variable ::tcl::WordBreakRE
    set word {-1 -1}
    regexp -indices -- $WordBreakRE(previous) [string range $str 0 $start-1] \
	    result word
    return [lindex $word 0]
}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    /.
/usr
/usr/lib
/usr/lib/arm-linux-gnueabihf
/usr/lib/arm-linux-gnueabihf/libtcl8.6.so
/usr/share
/usr/share/doc
/usr/share/doc/libtcl8.6
/usr/share/doc/libtcl8.6/changelog.Debian.gz
/usr/share/doc/libtcl8.6/changelog.gz
/usr/share/doc/libtcl8.6/copyright
/usr/share/lintian
/usr/share/lintian/overrides
/usr/share/lintian/overrides/libtcl8.6
/usr/share/tcltk
/usr/share/tcltk/tcl8.6
/usr/share/tcltk/tcl8.6/auto.tcl
/usr/share/tcltk/tcl8.6/clock.tcl
/usr/share/tcltk/tcl8.6/encoding
/usr/share/tcltk/tcl8.6/encoding/ascii.enc
/usr/share/tcltk/tcl8.6/encoding/big5.enc
/usr/share/tcltk/tcl8.6/encoding/cp1250.enc
/usr/share/tcltk/tcl8.6/encoding/cp1251.enc
/usr/share/tcltk/tcl8.6/encoding/cp1252.enc
/usr/share/tcltk/tcl8.6/encoding/cp1253.enc
/usr/share/tcltk/tcl8.6/encoding/cp1254.enc
/usr/share/tcltk/tcl8.6/encoding/cp1255.enc
/usr/share/tcltk/tcl8.6/encoding/cp1256.enc
/usr/share/tcltk/tcl8.6/encoding/cp1257.enc
/usr/share/tcltk/tcl8.6/encoding/cp1258.enc
/usr/share/tcltk/tcl8.6/encoding/cp437.enc
/usr/share/tcltk/tcl8.6/encoding/cp737.enc
/usr/share/tcltk/tcl8.6/encoding/cp775.enc
/usr/share/tcltk/tcl8.6/encoding/cp850.enc
/usr/share/tcltk/tcl8.6/encoding/cp852.enc
/usr/share/tcltk/tcl8.6/encoding/cp855.enc
/usr/share/tcltk/tcl8.6/encoding/cp857.enc
/usr/share/tcltk/tcl8.6/encoding/cp860.enc
/usr/share/tcltk/tcl8.6/encoding/cp861.enc
/usr/share/tcltk/tcl8.6/encoding/cp862.enc
/usr/share/tcltk/tcl8.6/encoding/cp863.enc
/usr/share/tcltk/tcl8.6/encoding/cp864.enc
/usr/share/tcltk/tcl8.6/encoding/cp865.enc
/usr/share/tcltk/tcl8.6/encoding/cp866.enc
/usr/share/tcltk/tcl8.6/encoding/cp869.enc
/usr/share/tcltk/tcl8.6/encoding/cp874.enc
/usr/share/tcltk/tcl8.6/encoding/cp932.enc
/usr/share/tcltk/tcl8.6/encoding/cp936.enc
/usr/share/tcltk/tcl8.6/encoding/cp949.enc
/usr/share/tcltk/tcl8.6/encoding/cp950.enc
/usr/share/tcltk/tcl8.6/encoding/dingbats.enc
/usr/share/tcltk/tcl8.6/encoding/ebcdic.enc
/usr/share/tcltk/tcl8.6/encoding/euc-cn.enc
/usr/share/tcltk/tcl8.6/encoding/euc-jp.enc
/usr/share/tcltk/tcl8.6/encoding/euc-kr.enc
/usr/share/tcltk/tcl8.6/encoding/gb12345.enc
/usr/share/tcltk/tcl8.6/encoding/gb1988.enc
/usr/share/tcltk/tcl8.6/encoding/gb2312-raw.enc
/usr/share/tcltk/tcl8.6/encoding/gb2312.enc
/usr/share/tcltk/tcl8.6/encoding/iso2022-jp.enc
/usr/share/tcltk/tcl8.6/encoding/iso2022-kr.enc
/usr/share/tcltk/tcl8.6/encoding/iso2022.enc
/usr/share/tcltk/tcl8.6/encoding/iso8859-1.enc
/usr/share/tcltk/tcl8.6/encoding/iso8859-10.enc
/usr/share/tcltk/tcl8.6/encoding/iso8859-13.enc
/usr/share/tcltk/tcl8.6/encoding/iso8859-14.enc
/usr/share/tcltk/tcl8.6/encoding/iso8859-15.enc
/usr/share/tcltk/tcl8.6/encoding/iso8859-16.enc
/usr/share/tcltk/tcl8.6/encoding/iso8859-2.enc
/usr/share/tcltk/tcl8.6/encoding/iso8859-3.enc
/usr/share/tcltk/tcl8.6/encoding/iso8859-4.enc
/usr/share/tcltk/tcl8.6/encoding/iso8859-5.enc
/usr/share/tcltk/tcl8.6/encoding/iso8859-6.enc
/usr/share/tcltk/tcl8.6/encoding/iso8859-7.enc
/usr/share/tcltk/tcl8.6/encoding/iso8859-8.enc
/usr/share/tcltk/tcl8.6/encoding/iso8859-9.enc
/usr/share/tcltk/tcl8.6/encoding/jis0201.enc
/usr/share/tcltk/tcl8.6/encoding/jis0208.enc
/usr/share/tcltk/tcl8.6/encoding/jis0212.enc
/usr/share/tcltk/tcl8.6/encoding/koi8-r.enc
/usr/share/tcltk/tcl8.6/encoding/koi8-u.enc
/usr/share/tcltk/tcl8.6/encoding/ksc5601.enc
/usr/share/tcltk/tcl8.6/encoding/macCentEuro.enc
/usr/share/tcltk/tcl8.6/encoding/macCroatian.enc
/usr/share/tcltk/tcl8.6/encoding/macCyrillic.enc
/usr/share/tcltk/tcl8.6/encoding/macDingbats.enc
/usr/share/tcltk/tcl8.6/encoding/macGreek.enc
/usr/share/tcltk/tcl8.6/encoding/macIceland.enc
/usr/share/tcltk/tcl8.6/encoding/macJapan.enc
/usr/share/tcltk/tcl8.6/encoding/macRoman.enc
/usr/share/tcltk/tcl8.6/encoding/macRomania.enc
/usr/share/tcltk/tcl8.6/encoding/macThai.enc
/usr/share/tcltk/tcl8.6/encoding/macTurkish.enc
/usr/share/tcltk/tcl8.6/encoding/macUkraine.enc
/usr/share/tcltk/tcl8.6/encoding/shiftjis.enc
/usr/share/tcltk/tcl8.6/encoding/symbol.enc
/usr/share/tcltk/tcl8.6/encoding/tis-620.enc
/usr/share/tcltk/tcl8.6/history.tcl
/usr/share/tcltk/tcl8.6/http1.0
/usr/share/tcltk/tcl8.6/http1.0/http.tcl
/usr/share/tcltk/tcl8.6/http1.0/pkgIndex.tcl
/usr/share/tcltk/tcl8.6/init.tcl
/usr/share/tcltk/tcl8.6/msgs
/usr/share/tcltk/tcl8.6/msgs/af.msg
/usr/share/tcltk/tcl8.6/msgs/af_za.msg
/usr/share/tcltk/tcl8.6/msgs/ar.msg
/usr/share/tcltk/tcl8.6/msgs/ar_in.msg
/usr/share/tcltk/tcl8.6/msgs/ar_jo.msg
/usr/share/tcltk/tcl8.6/msgs/ar_lb.msg
/usr/share/tcltk/tcl8.6/msgs/ar_sy.msg
/usr/share/tcltk/tcl8.6/msgs/be.msg
/usr/share/tcltk/tcl8.6/msgs/bg.msg
/usr/share/tcltk/tcl8.6/msgs/bn.msg
/usr/share/tcltk/tcl8.6/msgs/bn_in.msg
/usr/share/tcltk/tcl8.6/msgs/ca.msg
/usr/share/tcltk/tcl8.6/msgs/cs.msg
/usr/share/tcltk/tcl8.6/msgs/da.msg
/usr/share/tcltk/tcl8.6/msgs/de.msg
/usr/share/tcltk/tcl8.6/msgs/de_at.msg
/usr/share/tcltk/tcl8.6/msgs/de_be.msg
/usr/share/tcltk/tcl8.6/msgs/el.msg
/usr/share/tcltk/tcl8.6/msgs/en_au.msg
/usr/share/tcltk/tcl8.6/msgs/en_be.msg
/usr/share/tcltk/tcl8.6/msgs/en_bw.msg
/usr/share/tcltk/tcl8.6/msgs/en_ca.msg
/usr/share/tcltk/tcl8.6/msgs/en_gb.msg
/usr/share/tcltk/tcl8.6/msgs/en_hk.msg
/usr/share/tcltk/tcl8.6/msgs/en_ie.msg
/usr/share/tcltk/tcl8.6/msgs/en_in.msg
/usr/share/tcltk/tcl8.6/msgs/en_nz.msg
/usr/share/tcltk/tcl8.6/msgs/en_ph.msg
/usr/share/tcltk/tcl8.6/msgs/en_sg.msg
/usr/share/tcltk/tcl8.6/msgs/en_za.msg
/usr/share/tcltk/tcl8.6/msgs/en_zw.msg
/usr/share/tcltk/tcl8.6/msgs/eo.msg
/usr/share/tcltk/tcl8.6/msgs/es.msg
/usr/share/tcltk/tcl8.6/msgs/es_ar.msg
/usr/share/tcltk/tcl8.6/msgs/es_bo.msg
/usr/share/tcltk/tcl8.6/msgs/es_cl.msg
/usr/share/tcltk/tcl8.6/msgs/es_co.msg
/usr/share/tcltk/tcl8.6/msgs/es_cr.msg
/usr/share/tcltk/tcl8.6/msgs/es_do.msg
/usr/share/tcltk/tcl8.6/msgs/es_ec.msg
/usr/share/tcltk/tcl8.6/msgs/es_gt.msg
/usr/share/tcltk/tcl8.6/msgs/es_hn.msg
/usr/share/tcltk/tcl8.6/msgs/es_mx.msg
/usr/share/tcltk/tcl8.6/msgs/es_ni.msg
/usr/share/tcltk/tcl8.6/msgs/es_pa.msg
/usr/share/tcltk/tcl8.6/msgs/es_pe.msg
/usr/share/tcltk/tcl8.6/msgs/es_pr.msg
/usr/share/tcltk/tcl8.6/msgs/es_py.msg
/usr/share/tcltk/tcl8.6/msgs/es_sv.msg
/usr/share/tcltk/tcl8.6/msgs/es_uy.msg
/usr/share/tcltk/tcl8.6/msgs/es_ve.msg
/usr/share/tcltk/tcl8.6/msgs/et.msg
/usr/share/tcltk/tcl8.6/msgs/eu.msg
/usr/share/tcltk/tcl8.6/msgs/eu_es.msg
/usr/share/tcltk/tcl8.6/msgs/fa.msg
/usr/share/tcltk/tcl8.6/msgs/fa_in.msg
/usr/share/tcltk/tcl8.6/msgs/fa_ir.msg
/usr/share/tcltk/tcl8.6/msgs/fi.msg
/usr/share/tcltk/tcl8.6/msgs/fo.msg
/usr/share/tcltk/tcl8.6/msgs/fo_fo.msg
/usr/share/tcltk/tcl8.6/msgs/fr.msg
/usr/share/tcltk/tcl8.6/msgs/fr_be.msg
/usr/share/tcltk/tcl8.6/msgs/fr_ca.msg
/usr/share/tcltk/tcl8.6/msgs/fr_ch.msg
/usr/share/tcltk/tcl8.6/msgs/ga.msg
/usr/share/tcltk/tcl8.6/msgs/ga_ie.msg
/usr/share/tcltk/tcl8.6/msgs/gl.msg
/usr/share/tcltk/tcl8.6/msgs/gl_es.msg
/usr/share/tcltk/tcl8.6/msgs/gv.msg
/usr/share/tcltk/tcl8.6/msgs/gv_gb.msg
/usr/share/tcltk/tcl8.6/msgs/he.msg
/usr/share/tcltk/tcl8.6/msgs/hi.msg
/usr/share/tcltk/tcl8.6/msgs/hi_in.msg
/usr/share/tcltk/tcl8.6/msgs/hr.msg
/usr/share/tcltk/tcl8.6/msgs/hu.msg
/usr/share/tcltk/tcl8.6/msgs/id.msg
/usr/share/tcltk/tcl8.6/msgs/id_id.msg
/usr/share/tcltk/tcl8.6/msgs/is.msg
/usr/share/tcltk/tcl8.6/msgs/it.msg
/usr/share/tcltk/tcl8.6/msgs/it_ch.msg
/usr/share/tcltk/tcl8.6/msgs/ja.msg
/usr/share/tcltk/tcl8.6/msgs/kl.msg
/usr/share/tcltk/tcl8.6/msgs/kl_gl.msg
/usr/share/tcltk/tcl8.6/msgs/ko.msg
/usr/share/tcltk/tcl8.6/msgs/ko_kr.msg
/usr/share/tcltk/tcl8.6/msgs/kok.msg
/usr/share/tcltk/tcl8.6/msgs/kok_in.msg
/usr/share/tcltk/tcl8.6/msgs/kw.msg
/usr/share/tcltk/tcl8.6/msgs/kw_gb.msg
/usr/share/tcltk/tcl8.6/msgs/lt.msg
/usr/share/tcltk/tcl8.6/msgs/lv.msg
/usr/share/tcltk/tcl8.6/msgs/mk.msg
/usr/share/tcltk/tcl8.6/msgs/mr.msg
/usr/share/tcltk/tcl8.6/msgs/mr_in.msg
/usr/share/tcltk/tcl8.6/msgs/ms.msg
/usr/share/tcltk/tcl8.6/msgs/ms_my.msg
/usr/share/tcltk/tcl8.6/msgs/mt.msg
/usr/share/tcltk/tcl8.6/msgs/nb.msg
/usr/share/tcltk/tcl8.6/msgs/nl.msg
/usr/share/tcltk/tcl8.6/msgs/nl_be.msg
/usr/share/tcltk/tcl8.6/msgs/nn.msg
/usr/share/tcltk/tcl8.6/msgs/pl.msg
/usr/share/tcltk/tcl8.6/msgs/pt.msg
/usr/share/tcltk/tcl8.6/msgs/pt_br.msg
/usr/share/tcltk/tcl8.6/msgs/ro.msg
/usr/share/tcltk/tcl8.6/msgs/ru.msg
/usr/share/tcltk/tcl8.6/msgs/ru_ua.msg
/usr/share/tcltk/tcl8.6/msgs/sh.msg
/usr/share/tcltk/tcl8.6/msgs/sk.msg
/usr/share/tcltk/tcl8.6/msgs/sl.msg
/usr/share/tcltk/tcl8.6/msgs/sq.msg
/usr/share/tcltk/tcl8.6/msgs/sr.msg
/usr/share/tcltk/tcl8.6/msgs/sv.msg
/usr/share/tcltk/tcl8.6/msgs/sw.msg
/usr/share/tcltk/tcl8.6/msgs/ta.msg
/usr/share/tcltk/tcl8.6/msgs/ta_in.msg
/usr/share/tcltk/tcl8.6/msgs/te.msg
/usr/share/tcltk/tcl8.6/msgs/te_in.msg
/usr/share/tcltk/tcl8.6/msgs/th.msg
/usr/share/tcltk/tcl8.6/msgs/tr.msg
/usr/share/tcltk/tcl8.6/msgs/uk.msg
/usr/share/tcltk/tcl8.6/msgs/vi.msg
/usr/share/tcltk/tcl8.6/msgs/zh.msg
/usr/share/tcltk/tcl8.6/msgs/zh_cn.msg
/usr/share/tcltk/tcl8.6/msgs/zh_hk.msg
/usr/share/tcltk/tcl8.6/msgs/zh_sg.msg
/usr/share/tcltk/tcl8.6/msgs/zh_tw.msg
/usr/share/tcltk/tcl8.6/opt0.4
/usr/share/tcltk/tcl8.6/opt0.4/optparse.tcl
/usr/share/tcltk/tcl8.6/opt0.4/pkgIndex.tcl
/usr/share/tcltk/tcl8.6/package.tcl
/usr/share/tcltk/tcl8.6/parray.tcl
/usr/share/tcltk/tcl8.6/safe.tcl
/usr/share/tcltk/tcl8.6/tcl8
/usr/share/tcltk/tcl8.6/tcl8/http-2.8.9.tm
/usr/share/tcltk/tcl8.6/tcl8/msgcat-1.6.0.tm
/usr/share/tcltk/tcl8.6/tcl8/platform
/usr/share/tcltk/tcl8.6/tcl8/platform/shell-1.1.4.tm
/usr/share/tcltk/tcl8.6/tcl8/platform-1.0.14.tm
/usr/share/tcltk/tcl8.6/tcl8/tcltest-2.4.0.tm
/usr/share/tcltk/tcl8.6/tclAppInit.c
/usr/share/tcltk/tcl8.6/tclIndex
/usr/share/tcltk/tcl8.6/tm.tcl
/usr/share/tcltk/tcl8.6/word.tcl
/usr/lib/arm-linux-gnueabihf/libtcl8.6.so.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           Package: libtcl8.6
Status: install reinstreq unpacked
Priority: optional
Section: libs
Installed-Size: 3788
Maintainer: Debian Tcl/Tk Packagers <pkg-tcltk-devel@lists.alioth.debian.org>
Architecture: armhf
Multi-Arch: same
Source: tcl8.6
Version: 8.6.6+dfsg-1
Replaces: tcl8.6 (<< 8.6.0-2)
Provides: libtcl
Depends: tzdata, libc6 (>= 2.15), zlib1g (>= 1:1.2.2)
Suggests: tcl8.6
Conflicts: tcl74 (<= 7.4p3-2), tcl8.6 (<< 8.6.0-2)
Description: Tcl (the Tool Command Language) v8.6 - run-time library files
 Tcl is a powerful, easy to use, embeddable, cross-platform interpreted
 scripting language.  This package contains the Tcl library and auxiliary
 code which allows one to run Tcl-enabled applications.  This version
 includes thread support.
Homepage: http://www.tcl.tk/
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Package: libtcl8.6
Status: install ok unpacked
Priority: optional
Section: libs
Installed-Size: 3788
Maintainer: Debian Tcl/Tk Packagers <pkg-tcltk-devel@lists.alioth.debian.org>
Architecture: armhf
Multi-Arch: same
Source: tcl8.6
Version: 8.6.6+dfsg-1
Replaces: tcl8.6 (<< 8.6.0-2)
Provides: libtcl
Depends: tzdata, libc6 (>= 2.15), zlib1g (>= 1:1.2.2)
Suggests: tcl8.6
Conflicts: tcl74 (<= 7.4p3-2), tcl8.6 (<< 8.6.0-2)
Description: Tcl (the Tool Command Language) v8.6 - run-time library files
 Tcl is a powerful, easy to use, embeddable, cross-platform interpreted
 scripting language.  This package contains the Tcl library and auxiliary
 code which allows one to run Tcl-enabled applications.  This version
 includes thread support.
Homepage: http://www.tcl.tk/
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                93a81c5b655a63173147d43cd5288aff  usr/bin/zip
dd6493baae048d73cb13ee4d0de75420  usr/bin/zipcloak
5e3637408ea5f21f58f90c185a5dc56e  usr/bin/zipnote
a750d68602f5cf1be103590c737ff833  usr/bin/zipsplit
d54f3cd5cfac9e8e7505d4d8690eacc1  usr/share/doc/zip/CHANGES.gz
a135145ae456e36ce3083e0fcbf574dd  usr/share/doc/zip/TODO
0eb2e2fdd350a9ebac83fed8f424d3e6  usr/share/doc/zip/WHATSNEW
06fb8888157d4a8e825a1ad12f470f8e  usr/share/doc/zip/changelog.Debian.gz
751bddaf58181c642d7c34300c333064  usr/share/doc/zip/copyright
162b7d1712108dc8f0c3aca2c0ca65fb  usr/share/man/man1/zip.1.gz
a585a8020b0a0f030e59b0274299c497  usr/share/man/man1/zipcloak.1.gz
f71924cc4f2cce23806f386984c2a3bc  usr/share/man/man1/zipnote.1.gz
1720d6f12a3407bae4a319c16d322757  usr/share/man/man1/zipsplit.1.gz
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Package: zip
Version: 3.0-11
Architecture: armhf
Maintainer: Santiago Vila <sanvila@debian.org>
Installed-Size: 529
Depends: libbz2-1.0, libc6 (>= 2.7)
Recommends: unzip
Section: utils
Priority: optional
Multi-Arch: foreign
Homepage: http://www.info-zip.org/Zip.html
Description: Archiver for .zip files
 This is InfoZIP's zip program. It produces files that are fully
 compatible with the popular PKZIP program; however, the command line
 options are not identical. In other words, the end result is the same,
 but the methods differ. :-)
 .
 This version supports encryption.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Package: zip
Status: install reinstreq half-installed
Priority: optional
Section: utils
Architecture: armhf
Multi-Arch: foreign
Version: 3.0-11
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     k{.}
%wgrzc[nINrw$(aL~z<d(	,,K 7]yuf8{w>6;V'gYv^gvES"k,_,6*["{q${_2j|72w:ojQrq;juYY-e_?z}Md'	iMA]Pk`SWMC\US)<xesW,od>y~J{Sl@[]5t$?Q6h4oM*j\z2g^^DvIgnI#r}1{xdE;	2{^w|{/WS~>{8hj\_YV|[/-c2GKF~UO=f|q_x /yM6w}1Es7{fgO@~t<*Wv~_r9-ol70QE5P4-}3}ruB=._2~]etOeR?^wZMw,mzwU-ev]5DYK^$ }7u*[\-n]f2.-2iS z`}GRL"8LC%oe-ESdkYT5Cr89}eSRrBz%60~yy>^OZM..qaJ+_U[7'xUYvzN~f*_WEecTf!MqrS]$m9-QGI&|`kti^v@q7OQxn_56}.G*yv7?n_`^qd|*vOMO>s	C>?`'rEE8B\|hZ:#773q}K'`n]J%V9n^t"Rw)~<{<>}u/-h4/g_^eI4<,YlK^}-EeaDbm?]); z]w|\MPinIFuhbybh!/A]hf#OOeR6+2jp5[XROoA8*H|/X@&6m[oDBlwfB`mO|GIFOyAu/y\Ru~1ZhnpIa.d8#	]\AB*DCI(vrlLr#]Lk
:hy6r; )(L|ejtr;P{{>i3'fi	MerT/":7:&_O~Vu$U#4EhAjTQeqqz<2Wd	`[kl1oLm"zjE}C,y,&O()-"m.s!
U.20me#U"Iir;AmMwb_~b#"=$,UB~8{lE(BBd(zuN!)8SJt8O6))m0<P.n}bG-wz~@S'UQ;__R[It6+*:=]VyR#7Xi[b-h|vB9lN|]mVcUVykY
qCq~&o b_c<aS\:+i~47H=5t5"5WEwW" <6-TVs#EMrd}C[EG%{3x{(BlTN`N`JNf_b7\i+R: :X$SheI},v=V,Cm/xQB%y)mq7b<~{'c&&vlzhYx	XKN\uG'Di4)2hKXL{tR9mql9+~Neh]fFzKJmiYo9(?'9)@:`kSPA(-W.`I%X#Tv0P\xK%t.MRrl5g66LGfD+/>e@`,1WJ\v8-9AO~P/urX6*:TK&<"vFf8Ye\iX=^ q&rVoqD$-?.g; EIK|y<	iIfs{/ 9ja$9Nen_i,dWEXY`w'h?Q#mn"l6{m=	}/>0 ~tUf-yi/{Z^0]Nr^Ed$BBC*~}E9IQh>n6ztakS,
KoD;	(8sR^7-.&(g!jfZnb^Z2hi#6{	Pz}	W'b5Dg>	$q?<eSgovGObsdbyFw#h%F.A)6N]kv>yW)3Gy4B2o`lw0vIC$^=-#rv*Lhg|(z-dS;SgJ)dK^?<XT}G_5[N2tBnml'4cxPfw;'-vxiS=|"%"5 	)P%Shb  L1o4'X/PzGR#Xgmm?.q-dCIEXf%Z0RHVD9(gvb4TQ7EN&MpF?0P:|r"HR89%-45)bsbwoG>Y+ })J3:"L,/9WU d28,E*fBwV	r$|\fw2>}UtgafmZ_84re2rY)CG*oj+=3_34pPd(Wc1mw^{yTo
mM$e\2<-j;7~_	blgH2=%u`sUe[F&gQ!\
p8%Sn2_y/:s}Yo;q'eG U%mM*:j|\$P!knJr|$Rs$yE%|'"2kw;zmX^K;$#~j ZV5$qnk!X1=^ZmY Bq7)]qGd|}k^ J
5ks{;$i"? %GJ^j^ieMW?/R/q	{/S\!
]b^@].Zd'D7NRQg/V7P!5uQ8gk^wWZ0w[yQ~Z?%prKvd+L{3ui^O RJ>:,2/k'akx9W\Ng`\<Y(Ggul&]i,< |&.{lOa|cue[6^|"wJo+xrk%YPF-wRc+oo<LYQf =RfntHg&tv5_Oonik! Sl:aQ:K;%_[=zhhF[5.ikkDne#b1p;zCy?p,^KD&H?a^KfO!ftMqA+l/~SNEr2A"3Qa
[O%a;<>l_Dx<^+s'akqQ
t~rg6jlWqsS;6NzES\ID
 l+IRp(IO	~Dw[a!#33rP?Uw1 W$IM"wwi!{H:GsocrAMPD*D|7x5P,s`yOAN15Ff2k.P,[US^{/0r[vW]>^wg<_BOdMDY#T~b%`tQ8V6/E!ROxK(7%|)=L-z>	6:aEF{-p>mHG:$$t]y/ffp~W-k2E"9;G8s?@|Txt+:1:)"Tt%Ob%hTv||"T[+ dM1	8l^.UucYK]q_gLMSC6
]]GyiQ6{Em@6Y,2Wq.``s9hcuP1)	vPn514Rlcd(;8D^1a+vX`Oj
=H1A=wbqHFliDz$oyWe>_T92Fpj,hdMh+GG $@Yr[Je< >FA4$pN_a/=!^|X.ExS,|1ySL;o{g~:8VxhxHGMJ0YzTTb bGAT{`>xzu%Nzphw7v&S^pw%VWiquZT(9Noujw{"9bYY2k)Xg^{O|wF55Z6Fhi+{?Npn$#%*ey6x:vXSk6[mjPL_!;7;{xbnt65p_>-d^41Uz,G*.!-bi4ip}0,n2XN*Eftv%8?UvU\PbiJi: 7sq+fUQ{]j7SS^[irMFm?u+2v` 9ElKu=CM$bQGZvLml^zSv xuletYXo`@cF|x2
h-M a$3chy#5'J%m4ZI&:mf;gU-9vNk* Yy0	FTlo2:>k[RIhck-Q	f3#I\8G-$5JtUNr^n5`JJ>1{R,rX?]d]0d=>CKZQ \)(u Tpe]}AsZqrKxiX=WeggQ5)R=-7R~G9XbJ,n$QF(4 w/bE#':A
I6MkD%E1%;9yX|[=
g)\=,!]\2>Jq.p/,^X0:[lQZeQ+"|w#)2^&P`^cHDi@7u`{?-B|15= Gd+<@&xin
v2BT`iI6|F4YW^E:d$/+'
p@2   W{}}k4Xj&+JHN&T?O@,'6Ata8<lryGX/#}z_3F#"[Ch86-?lZZRszzO<Tvcx[E'<6)Zx>NO/=1sNe||n<Ftm	}lmH1!wn
.ZBE4\/-$zBB* JR0]\35WQfq#<!~^r\c`<w h_'pW3:h0(t}
5,n%{k2s/}RIpIB=O7@!I"=1D^e{	py(K\!>;:y.Pg''vyjfWN[MU)'bh Bq782A7h-Ukoz(wp+yp],}-.t#$I-P-hdc*
cd|+noCEOQ~z4F6Kpp.GT<u2hu`<b];W_<~eQ&,iG^KsW'$YcOp^yZ[W?>qR]Kmp;Sg:=BSI=B,oT=z]bwz-)[^;n	fq6>Zwoq#f	V@Z%FiJX n,"vC\,BzxZ/sI&,5BK^wXU#[I	 [!K5V8H~pl\;Lt%1e32
@q]onQC\B<)$r2f;,iF'e`Xi^))A o6Kxr
.(xy3LsoyR+*Q
r5-	c{q:WG/a/q%&jXf2`uU>"gdG1,y%mp'^<Op'S<~8:7{Z	C&op.tr4HYZ*:5:c!vFOA%x#LhX7Ux|Mw,v^j}DS
7uI|l T[U	0|B&.f)bmxkmFEa  n;`T8hE'P G#AsDlg#sN	j}#~#.Im;;`=&4$Lz|k	+Ez*YT)i1sjyb@0MB;LGWQ6{6hn.I>JH|W0d0]vG@z*V9PH ^Cy&I@1e}[a<q{pztuG`]uOvaCSZ(IK1<hqvw./?YbiStV&p1("-a,zsFj78&~P34ORYb4
W[Bu8bc1,VE|W,o[;p{v*63!4m&V?@} ^ Ln.<"LF4	i`<oKXE$iKfj>pvMh8Z JL
	7tHMkC/B,YOO[kc
BZD18jTus0
lkGK^	%F(l0_.%o=Xdh[v]=	ixNwBfp!Fpuh R'/{4{8 #0l4g-{gr'!KZO	4-M%|7_N,;b d*E]$x9;IV|0{4$Jj
kBo#r	-F;MQTZ{u#,z5YgQ @G	v~h#RTDR	dXK(-yHT"BxLaB2orujZ|4M6Ue=zS@nR3'+[y4YL{50Au}sImlFufY:M`Pqv&M4R _VHh21^) ^AB+(<D39+Xo2`)TC7} }{y:_8)nL;8N	_llhp/)Wa*,|j0$z&e%g	MRs'{>=mjUCkCI?b'=D6S@ZFrJ:i/W`K=BXY:r:(do@gF*w}+;yyd:vI:Xyc]7,F'"<NpFxj(zL`% :<8osy 
$=qP;O_^ikp&8/YR@luh]q,zS"U		%)0B\ht&Kl.>3#>p6LoQVo/,FVT
83HyH#\V&gAzko@fY'%0q.PW]i6=\On*">{> UMvxAyX7}0.Zw)RMq+yP,\501TYp
^GkOZRbe'cb["\pUu& fk~C9VD%Oy<jzyBcw.r0&I8W-?.E?LXgvm NLch!R:=u],GN-"hKdjcQ1|qJn,K)@Dv\hd`Z*|l-9{Yr\/;f( h'j;F\W	k	EbmRAuv;=l70#%P	;a-jZ;Vf#>t9j>@.}"l*%I 8"&n\u,ZK_c	CLT
w3wy;1cM*NkP2DkytO{W6.P)n%h%GsN4.&b}*?8*Goq(Rb`#*fwl-ieh}}^Kxs9TY9	'Dvog@o
j>9|Ad0Cvqqq}}ttd'mx
NkE|64<}!Yz$r9Hh=)9/PVJ<;Fr4_]	]yOKj\zHRj\B(%Y8wa*x51IFqJAKp^B$EDye
.MYBY,1I;xmF;;z5-PT)u=sS(. |)q"m]~o+6Dp5!rk[3p'sK3Pwpa#$Bc}<1}0z+oNSXtgIwN4f18X
:.6J/J^xb2*>Fv ilwY$65r
Q2+Ur^&"BxII5MrM#T(-ggfF'xH!*6}N#neD3s|a	N/1k.tF }	a,nW.v|%^h`Bz.hwX{K;T!N].]}9	rGl$3.y1C`G7h,$k)=xd
B?
aGJz"o_%'dGvmz)oSDI	*RF[vd3gKMF#Iy41}+v;maYe(|149q[6~7h'}qUlcXq<?%Eh@LH<,XO {_J&6UDV+E D!JJ:/b/&+y;-g d AO"nKX8\"Y*|p;`o-tT%DL}2r?3<}>|p"K"CqL'e.1;V_e{^vrR.SvFU}LRhDtcU&.R1f_6XD Enpx.`>w!cyTH
(Ku(7 ~
o$`nJe.x6PR}e[0]^K'$%zcwbWXZ4c t	:M\>50 PTg^q YrgX
/.fGbdG
L5oD	44jHa1O` A1/F`I~S\$4{"a3bP,VM4rmW;vSwk5Ngpb g(PKuI}7ea;f?v>/kHK+)
Zhaf{U)BICO[4	uUZ[=[JS%NM4eG9^"UdcI@,l>)i0rv<=#s_{t@^Hz^jew{XQL$fjRR?7X~;^(0f}\<LYPee/3i!"SmlntF3'g-R /;EH3qqWdx7Jd@Wi$Rc9|Uis-LhX}M,m&xm$3#KH	ORx!Lz?uP1iyn<2lDgpc2"r	4FK61XSFery0BS `n[dWwKz=R'G~kNHlPb2qe'9{#fU9"_
?~W'9 s%,+C^^&n}Eo9o\j_;}|uR.XY<l`[f7O:8.P_V7;*
-m={'sZa"@DlHRnh ]zv#1`}z_iQJ&GR\V2P`	Qe9Kpg8g}SAPVyKqzz2/w9Reg'2Na)w=A`2~U'WsnF,;uH+EC;f$QJ>{~c=^]{mJ^ju'HK1ECFNbz#X]?>vKCCtn uD%kD(CA9-D?x0rFpz)bIdM'QN'f2_bo1cxoI;dAE!3f {@iSN44D;-ezXPe=8]=xPaLP!zdGA<WsaB5x\`jT}R=;|,gM`_L^aZksBuYV$,F4jtAxy+OJ1<G!|_oM^'*sz<~5QV'N<w+i:O4[rG9 3:Br:8"Hr}
8P\}luFyC*#L~6U5*6,C&o>p .]v~`LD/?yN#-7I'm:H0k@rkwh=JzW.Z-iROvCLDQO}|Ptr(1DOUZ8Lugq([kY;I\)Z~.%P~Z\Y~ .,M"8Z*h\kqZ2x<>i TsA{vBDqLg[!GflaY,PT9,x|I(mGAFWuF!UD?	l1TE3fL_HXe,,rC4pM=tCgD1KZ:W-<k{u??l }Nb9y+C6pb|IOQSNP9*hi]uQ+	1GBI}UNSxS]=]gXqPBs:8aT>Y6hXp%Xj MON 'wFO+`hux\wd!$S4]_sr[hk[20`lP0(Mfwp%&ckcrQp@(Q)!	e=?\LzFIC} n2>	rM4)H4*fWjE#=H")N='@S2Aq*OT$"mptQ>c1 d.@Y9Rvix5`z|l:#m-!<rZQ-{g0|t'FF f*&oz>
E0`cSS`-NOt"R'ju&2,Tp}vxB&+2B)[+MEoQ{sg2
~nd	:~p~.ET6:F"@B#{tZ5&:,Z2q5'>Wd.^uhKYMxJU&ipefO1M;3?s7iglB#hnx;&U^C!Y\;@DK!oB`1a%!">b4g=JX8Cc)+Ofg{4T-JB-Smw`*LaW/4;?ntCY#U5RJ^B^U6*x2kMd3 kYKkkEFrG. G@_"7WN]_kP{sF>@[)%7xJg,A6z5Xc7>!h=_p<%]aOz=`ZezH:L U $E	T,*Px;q:x}#atEYG0OrVYdv6ihc@uUNi?T7yh&stw_?lTHzlh7G@-S!cVJ,9|B9#rK= McZq`l8_$89	)D
yZcZ8"-n2+xT.L4Ib`G2)qN&nF |{PLhS>@i	iF\ruO{VQfJ`jZyQ0$  c#>=0q|12Z;})H){E#;!W+_+V3D;Adk.J!>i`^7H}/U?H)fc! =ub=Pi;iGoN/Hvs1U&6;R&vJIG>.}4Ow^-$c!nn7</g?>~&M*[,j&6~jH; BIG{}5QT;$A
u*KZ:*;![/E+pS,,PkBS~8=q 	y'+W!#\W,,o<kY2@nq^e$,fB,%1z)hPlcCP-F&LkEc<_
_bQO';yu~NK22Jd%@d,67Hte/vg PZN5"<RA}"[>
g`7KA]z~h'Dx!b		<(n_eGVu5e&<@ZKU;C`t(TX4pzN+ Q(MGm{'lw|qu`pnu]lLRwhe;TETi)aASST%#2j^FNWrZWQ{Go!z5.#id9<lQ:"'ea)5g; TL[
q	m9hw^]pC_W`aXN0()25wadHKy8MpOa(p?|ml@j)"z^)7lvNM20`(onYB}hs	q=vy:py11F>o[)
,^ia4k6BEvC"%>D>~	*S&Q[guUKIJ94^0)"}aA+5=`|I}KwJC,$& Ib*&`fj?Ir3v^[]Khg1&X>`wT*nHc]!l>TV_{@<dGA==6\*l
D jZpjK=R}PYJT$|?[>)H-l2T}
c!W4gu93wKR:)}"94A%@#$_Ai(r*_h_"`}AWE0&9h6_=#OMC-.glQg}qU|
%8/fft>F'tk	]YQB~uhB (>x{1>xw >q&3n7M[z"<2yBXdG(/.}5c(xc<)9\X6oUkO{PF1@K(YJwXMu$bqE2.lRgx[k|J'+lQjn+NinK3<'`4q8=-RRX15_cAs
)I({V8>p&\1MZ=W}Mi6@Fo EV#qH?sH9P+DB{ylWf:9	r]c*>WeP<rGlYN:m'Su0yj^7[.KL]7*u$E.%Xx/X2N9RR#Uz~jkc=1^HGLf?=X6nzr;EoMQl]bUjoJ$9bQa*&p5:Op3O:Y4_2zOic=EE#V"&GYP\ODr*ON:&!P}%~++N2v@-lHP}i[(	2GH6#.BZyb`n|)g	u|%xBumv0cjuC_e/t
#~^_`U1S"%jUFJ#!eBlqr}h{+<.	_$AQ!bb]=*+XqXtdK
 +J%s[I{&*x-)PL	Z0>c@IdZS/p|,cT`Qu#1KZOs
*G: R cbZub2}z](Tp#j'~lINefR.16pCWDgpS.QTdi.a?)Pa\ +3&dQB1
uwU+$g%ELSpIGTkNHB79xSNmSF3
g(5Da2/1K  _#O43pp..Sh'u!$RlX.|<vm&j]W)BEnk4B!>4$-+j1tHe`kU8_
C [v*Q3LeG @+aOh>T'0f-uQMLAL>gaQ=1tC1hag(zXUmTT)^xTxc5iftb}&>iCW
R`$
{i#{9V<*(}Ur5w(r% fqjObNKjh{8%e53?P	}?A?xAo8>J*3. [adPa^Ma?;\R
j)Yhf(.l/OU,Vg-P-qmv#6k	\we_<j]HC
NO/o~ztHq}\w7f?w=blP3wr	}M2}M$H4UqEjK7Qvmf?.cq||uZOp%Bi`|5}D=}H"W.x`dX.=v8-Brd7?{qFX)\\ P	e/bwL,3oqn^DOUi_O$Kp:#wO4'X{YIU7G8^/ZrROR\FYLI'
]^A[h]xk}of'jZ7=J<.EYr2Bkn>AU[D%#Zs\R5T&aDEmI['UJbdbe3(cC)	2u2=zO[#u {IH{IzY08Ij%U$>q:"Q=wdta1\+YJE{"iNhSu1O^{wG6+cuHms_`IKL+~I	(k5<Vf#YeS,(u!E-PCR.Uei!}4Nffg{q,N-_A>L+R%^yc9	QX>>6?CEqU,PM0.<)]'KmyfkC#tw
 ^<7M{@	RoVy:Z]3'Sop;=+u!Bq?;IedB:)h!I%5$G |G5<~N
4B0uBQXPF1FYcti9#'YtaB4G Kj++s`SeOK%oJY'+#-}\~l _$xhSY$D2nR*b%1h|BM2cRP2Z>wW|qU%$ )M'wS0}b+cTBa|>XAdE-"-,),\S7uP)POr$_XB_-.iqmLNEzXJRSs*#4yQ3?0"E)8q|*,)zVuvF6zz%^UYOvKPObYXNnt<[z-m~j%RtQR 2&%RJ`Z[H}	BW	5- \7=M	KD L5`T2i:c{EC~o8ZuL %|fK[}ya]tRv	R4s<Tzr:PN4Rta1!VM:h%-\Se%N^P	q`"@NO+j	50"3Wm<!'.p
\	Z	];tV3*Rq>3f.@XX*d'4lm4z@v]KUl^Ri Ie[5"pNV4ResAo-@8RZJM%s'@Kwr}lr!~]k.psj!86;>}>gfd_{&cq)xAV914J/1f)[NzxqxY(~aZF)Q?fr
S{Q%bmVBfhx)U*5\/7GJNyqX:^i5<m&@`dQXpk _&PoX<#:f(SUSHJs}k{zVq^6i_iXo{Id^o=RSvro-7	QX^l:pTIJ'58FY[hp
I{"6/Jovko2T)x^[oIzq(W;#^`H3	$rHF(%KK6&Bcl_
$*,VL#O[Yrq7sc/.6$'
Y*Zu'B>H/0D/?.MGW-eC<i$)_ Ox`y>Bi`v+D^}YWNL$	"Q CS<i2P>*KRF~l?(r"`rLsgbI	&~tQx!7E2M5EHF~
%IU4xi8xOPIGd\KYiuz7= c73^5~Cxm|&R#rI(Y:bH5#G#7|rcbj`KaBTqBcFqn/l\U`m>t.7N~=01yMS>hq^BQ&1mTQUiy QZX% i>.%IFF!aM&w%8N7*Wjw<uL'e%8?.Er_jB83Y/_dW_u`$i:U}?9B{:vVQ2w9.|mYR{Q?]%XQ[ATgG9;{S&.>No:n
_.^q']e"BTb'xus&V"94~%f	 EO<*|<*A:jKJxEsgSox`1{e^RvQ**>uVDm7.{)/>
~VnqV 	Y~u[NB_3\d!1StxLnVrfD#|?_7[br>%XGYJ}N0m;A)[b9Sg[pFoR)(A\&\"mVXyQju6hRyH2t`17&2 -e*L#kSINxPsnsd O iv~_1<||]ad|IM{q
_=/=CR#]76AY$D.Y!'x HcNc^u\X.%F6zrsYG&Tm;dH%!N"YE8JJ*= c'IsSv`DR9k6* _16A6`Mk[,,0kfhzI h}40T]<1Jw-4J K40x{IPn'_|4y\"a3`vfG|4R\la&mQ0:i8AkV@refx%1r||"3SdEk}Ph[{Gs:YN|*/D^6]/$Z[" a)W6lE
%HBik6`(ntPsth~Y)}dbQZZq8Y'm5
-FMvu9~tV)5AF?5bs:<-
U`$a9\r^9Z^MO$(*w11Q5jjG/%%:c^nJh\2[C.b)']vn'&^e
\.F0(BR*n>
yc8/OtP	3-HG!dNLaYE;QF8{qb#Xg=7^v>NB<lc)%7$/D#Zj)4= !*iRZ#c6S"<4$puBKtbkz0=6l!FL{d'	AsSev)3JKf& FgC<N	3S^.0n1,O47P^h-xRL%j5QVliQ=c  x}xqq|*{yxW?n	@J0w'Sw{P,!.oB<|u_Wn >8Jvp'\y#xGV7j]40\9"u4Oh}St=]ytM@Dlol7}6v 57Kw>20{y7>~nl0>Rj)E^KZ(tukOr^/%Lrkv8I"`e?1!>q@|PJc]eC/	c'|tyqdq]E:?:{WgWz\YH&lg$99991_fizvsr>xc,~U6Z{FHXCcQ zu}m%~HfRP:b:j,6{-OC]cvS%MergSYXv<:U2ZZgAXe@H1qr7(bm5o*<-:	=R-U>&Lk<ubW7bm>OH'`k#M5H5N9k|Bfi1#XRI!<mZ{
tR#teg
Vl6Sqz#D$U* G%U$',o-xIFqR^H ~ej=*=Z?nR@O+{tSo0wNM&Cf"B aU#]i,(=bV@kYuW\cQ_qT)E ~99;}_]H|HO$Pw@ySe-83SYnE|FChwUNviPBYZZUXynEUG,X<H-o,po;*'{'ApU|iKQmd4Q	AUYs0f8;|q~zP#5kH:V ~_pN/Nc20+{9|;fkqW(7>A4Eh{WjMv^*<{uvt?W|riBIOzKTmeZ8urHkH^}/f6GZhz+b" >QTlSl%(MjaY}?NKrg^A2aHN776;_Rss'I=]ITnIx:ToHV@hAeOgYlkZ'N>zc4a8`BeGp)fH-n3y^]8/kg\(,-6.p/vA}|- $6X'MsFAZ#7~ro`_,;J6gc#t"$&\rW)k`,XxM.TOHt^w+8e?8|U6z7_?d?GM$v>;gam+D0[CtrBE7	lv~{uzq|>-MsoL,t=})V_Z6}D~WhIz}
rTxX	I8*Xmk\;>r}fzB8tk[#H,eedeSCI+fW)^>*`-
J_G~hBF0whVfK)G0Qs}C5QLr>MNG?zc UAy*dL2hUyUHd)/'ZTpvJnak=i8&{zBR%B!yF*PGH_~(1gF7HkK@IdZcFC(9n(K
{Q*avI",#K;XFFKPj;:~V1mxSKO!	B\^3/F\o/MNEW1<D)TMu_<sQ</s=x(
.XqL,B[YY60ZYRx@o(K)G#v-(*)^/vw,Ftz*[#MyL]dppNw|<0o<a	.is2H@=L@1br& HJr#q6/E 8;Z&jP.AL{%R)d6<c}[5lt]aA8RWMhC.=\l$AX:|s)vlDfoD9{*"'+k:+p]NKK0w\fOg9N*464pZ.{Is^fonif"^jZIN*{o@^t\dpp|9$xkC}lgQ2Ov!;Re^|rXqm
gDc6FR*5Q=RDN.IqWrqvgO)D_e'cLg9v8iNO^Mc,;9}zN^~qr|4N^f^^S.N_gO'O_gO^<;?}~%QBd${!kbNs{@qY*U&QSl+]LQ	aruBJLA"xEt|p*i`ZU>s6x__xivI;eg]%"Qx~Lyc#=E%(lFtUl$_Ex!cM#Ha!/
oE
$Q3x|jgt7PD?;$v)JHESM7{:]/*(CAjnT3rY!gAc~.`	~v]H6+Ktyv\T/nfR'H4hJ>&<#~N015o:{t-Vp" S4|$))V"2Oe~</z[+{o$Ga.c;i5yLPJe4iR~VZ_v=Hc]lF
l*#3Ry|I"\y{u[M                                                                                                                                                                                              }UMs8W`zJfcM^:{$Zl	8Ejv!6RWxw=>\;%c1< _gZPHwI,dh:@h=?j<Ov/6B~{ "`D378(f\PJDG$+[nPFtbk	@i^6$k$;1fK/CO\<blH&u*POFW{Mv{qReD6uvZ+An,n\(
I(FU%Nk.5
Ht$M]lI6,ro /h,9BuGz5t] Z4,"|S(=sdCxu<TR@	vv'kh+(Bc*CCO(_Pw'^rQm>ALRV_Nhg!S'\(;qc>J*ixrX"Si#7@OZn&4vUZ6kQ	fetcK?\ETE<@qJM~2r$*d[,]:?,nLKki|uSKRFNIU?BuI|5]f&Df4.)HB@ +jx%PHf4l.|,5DtCDM{$JLlajiY!O=#s:r{%>|Td;>r- eI                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                UMo@d	%6X	dlM
h3vyof"%9`&pqvv5^pl"SE :0/-bw<T<8H8|@x~V7H+}\oe_{)_PWwd&bt~)R)=aPF]hTy5bs[/wssx`A"S]yXXuDnHs`<ad"DWDfmJH0-z{*ieu\V *b#v|[NsFo[X'vcKKt5.w!S(xi4gs(Ld_/
m%-Fur:	Z7C@|;Bck*^Uu54 [gFtC2"cF'tP:Lp]Ov3lH1+p}4ho)S9:ati"' 	0U6H.+?TRs9A#_r:sm%tvn6wUu)YMWdFo>2KcF*
(*DQpjDp@;4tfxpw3)H&jL&0w7JtI>K                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }SM0W%EJ QRC&`'aV$Oy7v WO`p?=/`=]t![n*r!}y-Y7a&hH7,\8X;XAWt"JNvph[-=VH<0V(<ukKZ&5!f-EX@.p
MSvyDORNsD[	@>O$/2!I?s!JRzs+HMno94?q	=~)r_ae4\gK5HU	=zpRV=*W<4v|l|UWvyyEofOwn"pV%~,NDfqXjAI%!f-,RstS.(5vzQluAs8=UcU'[T	1nSg'][@|6 G1~0]+*vv&bb/=z                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Todo list (last updated 12 June 2008).

Features for next official version:

- Extended attributes for Windows, Linux, and Mac OS X.
- Win32 ACL rewrite to use backup api to create new and more useful extra
  field (need unzip support) (Kai).
- Allow -d@ to read in a list of names to delete (11/17/2005).
- AES encryption (3/19/05).

Features that may make the next release:

- Allow reading in list of files using @filename.
- When -R, -x, or -i pattern ends in a directory add / to the end
      (11/5/2004 Nehal).
- Decide if -R, -i and -x should use external rather than internal patterns.
      Also, change pattern matching to not do ex2in() and then in2ex() if
      appropriate.  (12/26/2005 SMS)
- Though Unicode paths have been implemented and tested, Unicode comments
      are not yet supported (except for comments on UTF-8 native systems which
      are supported).
- Verbose mode -v may still need work.

- Add C# example for Zip 3.0 (need to be converted to new DLLs) - original
      C# example added with note.
- Path Prefix maybe, so entries added to an archive can have a directory
      path string prepended to each path so can zip multiple drives and avoid
      name conflicts (4/17/2006).
- UNC paths like \\server\path (4/26/2005).
- Support for other languages maybe.

- Add About page option similar to -h2 and -v but lists Info-ZIP
      information (could be -sa) (4/29/2006).
- Update utilities ZipSplit, ZipNote, and ZipCloak to handle split archives.
- Update ziperr and finish if needed.
- Review memory allocation and fill in memory leaks if any.
- Enhance -FF to fix common problems such as archives ftp in text mode
      and fixing checksums so entries can be extracted if that makes
      sense (6/17/2007).
- Add \ to / conversion in zipsplit to fix problem in
      1/29/2004 email.
- Encryption bug with small stored file (12/27/2005) (fixed?).

- When updating large archives with few entries being
      updated maybe display something in large periods of
      quiet (1/23/2006).
- Windows OEM comments (5/17/2006).
- Example of using MVS zip and unzip (3/30/2004) (Need one).
- UTF-8 comments need to be implemented (6/17/2007)
- Maybe convert ../ in archive (5/20/2006).
- Per so many buffers dll callback (12/23/2005 Ale).
- Allow rename stdin "-" to something else (12/27/2005 gregor).
- Check for possible buffer overrun weaknesses while reading zip files.
- Do Active Template Library (ATL) (4/27/2005).
- Flush Win16 support - to be determined (Mike).
- Way to convert file names on input, converting foo.c to dir/foo_bar.c
      for instance (4/8/2004, 3/12/2004).
- French WiZ (not a Zip thing actually but dependent on zip and unzip).
- Then there is that wierd ^D being converted to \000 error reported
      in 6/21/2003 email when Zip is outputted into a pipe on Windows ports.

Old list:

Main features still missing for next official version (last updated 2/11/2001):

- what about the binary/text detection ? (seems done)
- -b and -t options in help screen (covered in -h2)
- findfirst/findnext and after that LSSTAT (performance!!)
- use IS_EXEC from djgpp stat.h
- use install in unix/Makefile instead of mkdir -p, look at install sh script.
- #elif for those ports that can handle it.
- what about zopen vs. fopen ?
- Add zcreate or zfcreate for win32.
- Assembler stuff in match.S (subexpressions)
- zipping huge files (> 2G, unsigned 32bit) (done)
- Testsuite for zip and unzip (John D. Mitchell)
- make a version.c or version.h that includes all the compiler names
- run utils with dmalloc().
- what to do with zip -F and zip -FF (readzipfile2()) ? (done?)
- profiling of the code
- multi disk zip files (could be done)
- zipfile modification tool (Greg)
- Implement -- option (Thomas Klauser, wiz@danbala.tuwien.ac.at) (could be done)
- don't add files with "Archive bit" or add files with "Archive bit"
	(uwe.becher@metronet.de) (could be done with -AS and -AC)
- 32 bit file attributes
- generate output without having to seek at all (this seems to be stream output)
- remove contractions from zip error messages, make them clearer (Steve)
- display "[text]" for ascii files when not quiet (no -q) (Timo Salmi)
- does zipnote accept names with version number?
- for a WORM, zip should create temp file only when updating; new archives
	should be created directly.
- APPNOTE.TXT specifies "4) The entries in the central directory may
      not necessarily be in the same order that files appear in the zipfile"
      but readzipfile() relies on same order. (new read does not, and now
      the read for -FF searches for central directory matches rather than
      rely on the order)
- on Mac, MPW C 3.3.1 requires #if (a || b)  ["#if a || b" taken as "#if a"]
- on Unix, let -S be "include non-regular files without reading from them"
	(as pkzip on Unix). This requires unzip support.
- zip -l should do ebcdic->ascii translation on CMS and MVS
- zip as subroutine (zdig/241) (some work done on this)
- accept k and M in zipsplit
- store / (part of file name) as ! in OS/2 (problem only with -E ?)
- in addition to -l (LF to CR LF) and -ll (CR LF to LF) add -lc
	(LF to CR LF but CR LF remains unchanged)

Known bugs:

- On VMS, zip fails reading some files with "byte record too large for
	user's buffer". You must use the "-V" option for such files.
	(many changes to VMS so may be fixed)

- on MSDOS, zip386.exe does not like "zip -bc: foo ..."

- on MSDOS, zip386.exe is sometimes much slower than zip.exe. This is
	probably a problem with DJGPP (to be investigated).

- on NT with C shell, zip should not do file name expansion again.

- zip zipfile ... ignores existing zipfile if name does not have an extension
      (except for the -A option, generally used on self-extracting files).
      (archives should probably have extensions.  Things like archive.jar work)

- For an sfx file without extension, "zip -A sfx" works but "zip sfx -A"
	doesn't.  (because options were required first, but now both OK)

- When storing files in a zipfile (-0), zip marks all of them as binary.

- On VMS, some indexed files are not restored correctly after zip -V and unzip.
	(This is now known to be a problem of UnZip. The workaround for Zip 2.2
	and newer is to use PK-style VMS extra fields; this is now the default.
	NOTE that UnZip 5.32 has been fixed [971019]!) (many VMS changes so
	this may be fixed)

- zip and unzip should use the same pattern matching rules, particularly
	on MSDOS and OS/2. On OS/2, "zip foo *.*" should also match files
	without extension.
	Partially DONE (OS/2 "*.*" matches "*".)

- there should be a way to avoid updating archive members (only addition
	of new files allowed)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             What's New

Last updated 1 July 2008

This file is the full list of new features and major changes for Zip 3.0
by beta release.  See the announcement file zip30.ann for a quick summary
of all features and changes in Zip 3.0.  Also see the file README for
release information, INSTALL for installation procedures, and the manual
pages zip.txt, zipsplit.txt, zipcloak.txt, and zipnote.txt for how to use
the new features.  The file CHANGES has all the day-to-day changes made
during development.


Below are some of the more significant items on the list for Zip 3.1
(see ToDo for a more complete list):

- AES encryption.
- Extended attributes for Windows, Linux, and Mac OS X.
- Support -d@ for deleting list of files.
- Decide if -R, -i and -x should use external rather than internal patterns.
- Though Unicode paths have been implemented and tested, Unicode comments
  are not yet supported (except for comments on UTF-8 native systems which
  are supported).
- Verbose mode -v may still need work.
- When pattern is directory add end / automatically.
- Add C# example for Zip 3.0 (need to be converted to new DLLs) - original
  C# example added with note.
- Path Prefix maybe, so entries added to an archive can have a directory
  path string prepended to each path.
- UNC path support maybe.
- Support for other languages maybe.
- Send in your suggestions.
- ...


MAJOR CHANGES BY BETA VERSION
-----------------------------

New things in Zip 3.0 since Zip 3.0h:

- Unicode fixes.
- Test and fix various ports as needed.
- Update Win32 resource to support more Windows ports.
- Add djgpp 2.x makefile that includes bzip2.
- Add Win32 version resource to Win32 executable.
- Bug fixes.
- Documentation updates.
- Package for release.


New things in Zip 3.0h

- Allow -@ and -x to work together.
- Unicode code cleanup.
- Allow forcing use of UTF-8 storage in standard path and comment.
- Update symbolic link checks.
- Add support for storing 32-bit UIDs/GIDs using new extra field.
  Backward compatible support for the old 16-bit UID/GID extra field
  remains if Zip is compiled on an OS that has 16-bit UID/GID
  storage.
- Update VMS notes.
- Directory scan using -AS (include only files with Windows archive
  bit set) now ignores archive bit on directories to include all files
  with archive bit set in all directories.  Also, to avoid empty
  directories being created, -AS now does not store directory
  entries.
- Add Unix IBM support.
- Change -W to -ws to free -W for later use.
- Fix large file support for MinGW.
- Fix large file support for bzip2.
- Fix compile error in ZipCloak when UNICODE_SUPPORT is not enabled.
- Fix Unicode bug in ZipCloak involving Unicode paths.
- Long Unicode escapes changed from #Lxxxxxxxx to #Lxxxxxx to shorten
  paths with escaped Unicode.
- Bug fixes.


New things in Zip 3.0g

- Add split support to VB project for Zip64.
- Disable reading of Unix FIFOs unless new -FI option used to avoid an
  archiving operation stopping when it hits an active unfed FIFO.
- The "[list]" wildcard expression (regular expression matching of any
  character or range of characters in list) is now disabled on DOS and
  Windows as it has caused confusion when filenames have [ and ] in
  them.  The new -RE option reenables it.
- Add negation to many display options such as -dc and -db.
- Allow -FF to read and fix archives having local entries that appear
  after central directory entries.
- Bug fixes.


New things in Zip 3.0f

- bzip2 - The bzip2 compression method looks supported for at least
  Windows, Unix, and VMS using the bzip2 library.  A new option, -Z cm,
  selects the compression method.

- Split archives - Can now use -s to create a split archive.  The
  default is to update split files as the archive is being written,
  which requires all splits to remain open until the archive is done.
  This should be no problem when writing the archive to a hard drive,
  for example, and this approach creates archives that should be
  supported by all unzips that support splits.  Adding the -sp option
  enables split pause mode that instead writes splits that do not
  need updating and pauses Zip after each split.  This allows splits
  to be written directly to removable media, however -sp archives
  may not be as universally compatible.

- Unicode support - Zip now stores Unicode paths that should be more
  portable across character sets and languages.  The unzip must have
  Unicode support enabled or the Unicode paths are ignored.  If
  reading an archive with Unicode paths, unsupported characters are
  replaced by #Uxxxx and #Lxxxxxxxx escapes in the file name.  Option
  -UN controls how Unicode is handled.  Also, on systems where the
  current character set is UTF-8, preliminary support for the new
  General Purpose Bit Flag, bit 11, UTF-8 flag, that indicates UTF-8
  is stored in the path and comment fields is implemented for paths.
- Unicode on Win32 - On WIN32 systems that support the wide character
  calls (mainly NT and later systems using NTFS), when UNICODE SUPPORT
  is enabled Zip will now do directory scans using Unicode and convert
  the Unicode paths to the local character set for storage in the standard
  path field and store UTF-8 in the Unicode extra field.  This allows
  directory scans to complete successfully regardless of the character
  set the path is in.  On Win9x systems wide character scans are not
  generally supported and Zip automatically uses a local character scan
  instead.

- Keep extra fields option - The default operation has been, and continues
  to be, to read then strip old extra fields when reading entries from an
  existing archive and then recreate the extra fields that Zip knows about.
  Extra fields specific to each operating system get added by default also.
  The new option -X- (negated -X) keeps any old extra fields, copying
  them to the updated archive unchanged (unless Zip has updated them).
  The unnegated -X still strips most all extra fields except Zip64,
  Unicode, and UT time.

- License - minor updates to the license.

- Windows OEM - When compiled with WIN32_OEM (the default for WIN32),
  Zip on WIN32 now stores OEM paths, which should be more compatible
  with other zips and should fix some character set problems.
- Windows Archive Bit support - On Windows can now use new -AS
  (include if archive bit set) option to select files with the DOS
  archive bit set and use new -AC (clear archive bits) option to clear
  the archive bits on files after the archive has been created.
  But -DF is probably better.

- Difference mode - A new option -DF (--dif) creates an output archive
  that includes only files changed or new since the input archive was
  created.  Can use to create incremental backups.
- File Sync - The new option -FS enables File Sync, a new mode that
  synchronizes the entries in an archive with the files on the file
  system, adding updating, and deleting entries as needed.  This
  should create the same results as creating a new archive, but
  since existing entries are copied, may be much faster.

- Copy Mode - A new --out option allows creating a new archive with a
  different name than the input archive, leaving the input archive
  unchanged.  This allows updating split archives.  It also allows
  for a new copy mode to select entries in one archive and copy them
  directly to a new archive.
- Empty archives - Now an empty archive is created when -i or -i@ is used
  and the file patterns given do not match anything.  This has been
  requested to support scripts.

- Global dots - A new -dg option now displays progress dots as -dd does,
  but instead of displaying them for each file, the dots track the total
  bytes read for the archive.  The -dg option also works when -q is used
  to disable most output, which allows for something like zip -qdgds 100m
  to be used to not display specific files but display a dot every 100 MB
  as a global status.
- Date range - Can now use -t and -tt to set a date range
- Fix options - Option -F redone and can recover files from an archive
  with a mostly complete central directory more reliably, but no longer
  can handle truncated archives.  Option -FF redone and now can salvage
  files from slightly more damaged archives, including truncated archives.
  In some ways -F is less powerful but more stable than it was and -FF will
  be needed where -F in Zip 2.32 was enough.  One big change is -F and -FF
  both now support split archives.
- Console writing - Updates to how messages are written to the console have
  been made including more consistent handling of line breaks.
- Show Files options - Option -sf lists the files that would be operated
  on.  This option can be used alone to list the files in an archive.
  Also see options -su and -sU for showing Unicode paths.
- UnZip Check - Now check that UnZip 6.00 or later is being used for
  unzip if testing a Zip64 archive.  A new option -TT can be used to set
  the unzip to use with the -T check.  Currently UnZip does not support
  split archives so split archives can't be tested by UnZip.
- Streaming - Directories are now handled better when streaming.
- Case matching - Normally all matching against archive entries is case
  sensitive, so *.BAR will not match or find foo.bar in an archive
  when deleting, copying, or freshening entries (deleting and copying
  only on VMS).  New option -ic (--ignore-case) enables case insensitive
  matching.  Currently -ic is only implemented on WIN32 and VMS.

- Delete date bug fixed - Bug when using -d to delete files while
  using -t or -tt to select the files based on date is fixed
- Large file encryption bug fixed - Fix for bug that very rarely
  results in bad data being stored when deflating and encrypting
  uncompressable data and resulting in CRC errors when extracting,
  but the chance of error increases with file size (thanks to
  WinZip for finding this bug).  See CHANGES for details.


New things in Zip 3.0e

- Bugs described in Debian patches 004 (unix configure script update) and
  005 (large path bug) fixed
- Various fixes
- Add optional running stats and also end stats if not all files could
  be read
- Options -l and -ll now do quick binary check on first buffer and skip
  formatting if first buffer has binary - still check at end to note
  if formatting was done on file that was later determined to be binary,
  but now potential file corruption is generally avoided
- Main binary check now uses new algorithm that should also treat UTF-8 and
  other similar encodings as text, allowing proper line end translation
  for UTF-8 files
- When output is not updatable by seeking back and Zip64 is enabled, output
  is forced to Zip64 to avoid possible later need for Zip64 when not enabled
- More work on splits, but still not usable
- Fixes for djgpp
- Add log file capability to save all errors and optionally messages
- Add code to test for a Zip64 archive when compiled without Zip64 support
- New VC6 projects for Win32 and WinDLL
- Updates to extended help
- Changes to force-zip64 option
- ZE_BIG error now given also for files too big to read or write
- Fix file delete bug
- Update license
- Update export documentation
- Add VMS extended filename support
- Add directory traversal improvements, some for Win32 ports and some for
  all ports, that can result in a 10 times increase in speed in some cases


New things in Zip 3.0d

- Some large file crypt fixes
- Some updates to support WiZ
- On VMS, changed -V (/VMS) processing to truncate file at EOF, allowing
  greater compatability with non-VMS systems.  New -VV (/VMS=ALL) option
  saves all allocated blocks in a file.  (Previously, -V did neither.)
- On VMS, pushed 2GB file size limit with -V out to 4GB
- On VMS (recent, non-VAX), with SET PROCESS /PARSE = EXTEND,
  command-line case is preserved.  This obviates quoting upper-case
  options, like -V, when enabled
- On VMS, fixed problems with mixed-case directory names.  Also changed
  to keep ODS5 extended file name escape characters ("^") out of the
  archived names in simple cases
- Changes to the display dots
- Option -W should now force wildcard matching to not cross directory
  separators.  For example, a/b*r/d will match a/bar/d but not a/ba/r/d
- Option -nw should turn off all wildcard matching so foo[bar] is matched
  literally and [bar] is not considered a regular expression
- Atheos port
- Debugging of Unix and VMS large file ports.  Most features may work now
  on these ports for large files.  Still need to fix 2 GB to 4 GB when not
  compiled with large file support
- On VMS, added an open callback function which (where supported) senses
  the process RMS_DEFAULT values for file extend quantity (deq)
  multi-block count (mbc), and multi-buffer count (mbf), and sets the
  FAB/RAB parameters accordingly.  The default deq is now much larger
  than before (16384 blocks, was none), and the default mbc is now 127
  (up from 64), speeding creation of a large archive file.  The "-v"
  option shows some of the activity.  On old VMS versions, RMS_DEFAULT
  sensing (GETJPI) fails (silently, without "-v"), and no changes will
  be made.  Even there, (DCL) SET RMS /EXTEND = <big> can help
  performance.  RMS_DEFAULT values override built-in default values.


New things in Zip 3.0c

- Converted to using 64-bit file environment instead of transitional functions
  like fseeko64 for ports that support it
- Added "--" argument to read all following arguments as paths
- Second help page added
- Binary detection adjusted from 20% binary is binary to 2%
- When -R and -i used together now -i has precedence over -R
- Archive names with spaces can now be tested on MSDOS and Win32


New things in Zip 3.0b

- Fixed ifdefs so can test base code by compiling with NO_LARGE_FILE_SUPPORT, then
  compiling with NO_ZIP64_SUPPORT to test 64-bit file calls (if port enables) but
  otherwise use base code, and compiling normally to enable Zip64 code
- Unix Zip64 fixes - should now be able to create and read large files
- WinDLL changes to support Zip64.  Zip 3.0 dll named Zip32z64.dll
- New VB example to show use of Zip32z64.dll
- New options -sc (show final command line and exit) and -sd (show each
  step zip is doing, a little different than verbose which is still there) added
  to help debug but both or at least -sd might go away in the release
- Some minor posted bugs fixed (see Changes)


New things in Zip 3.0a

- Initial Zip64 support allowing large files and large numbers of files
- New command line processor
- Other changes, see file Changes


Note:  Zip 2.4 was never released.  That code was the start of the Zip 3.0
effort above.


New things in Zip 2.3

- IBM OS/390 port (Unix like, but EBCDIC) by Paul von Behren
- Apple Macintosh (MACOS) port by Dirk Haase
- Theos port by Jean-Michel Dubois
- Multibyte characterset support by Yoshioka Tsuneo
- Support for ISO 8601 date format with -t and -tt options
- Info-ZIP license


New things in Zip 2.2

- BEOS port by Chris Herborth
- QDOS port by Jonathan Hudson
- TANDEM port by Dave Smith
- WINDLL port (16-bit Win 3.x and 32-bit WinNT/Win95) by Mike White
- SYSV packages support by John Bush
- zip -P SeCrEt encrypts entries in the zip file with password SeCrEt
  (WARNING: THIS IS INSECURE, use at your own risk)
- zip -R recurses into subdirectories of current dir like "PKZIP -rP"
- zip -x@exclude.lst excludes files specified in the file exclude.lst
- zip -i@include.lst includes files specified in the file include.lst
- zip -@ only handles one filename per line, but supports whitespace in names
- zip -t mmddyyyy, 4 digit year number for uniqueness of years beyond 2000
- zip -tt mmddyyyy only includes files before a specified date
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             This is the Debian prepackaged version of "zip", Info-Zip's fast, portable,
zipfile compression utility.

This package is currently maintained by Santiago Vila <sanvila@debian.org>
and built from sources obtained from:

ftp://ftp.info-zip.org/pub/infozip/src/zip30.tgz

The changes were fairly minimal, and consisted solely of adding
various debian/* files to the distribution.

Copyright and license:

This is version 2007-Mar-4 of the Info-ZIP license.
The definitive version of this document should be available at
ftp://ftp.info-zip.org/pub/infozip/license.html indefinitely and
a copy at http://www.info-zip.org/pub/infozip/license.html.


Copyright (c) 1990-2007 Info-ZIP.  All rights reserved.

For the purposes of this copyright and license, "Info-ZIP" is defined as
the following set of individuals:

   Mark Adler, John Bush, Karl Davis, Harald Denker, Jean-Michel Dubois,
   Jean-loup Gailly, Hunter Goatley, Ed Gordon, Ian Gorman, Chris Herborth,
   Dirk Haase, Greg Hartwig, Robert Heath, Jonathan Hudson, Paul Kienitz,
   David Kirschbaum, Johnny Lee, Onno van der Linden, Igor Mandrichenko,
   Steve P. Miller, Sergio Monesi, Keith Owens, George Petrov, Greg Roelofs,
   Kai Uwe Rommel, Steve Salisbury, Dave Smith, Steven M. Schweda,
   Christian Spieler, Cosmin Truta, Antoine Verheijen, Paul von Behren,
   Rich Wales, Mike White.

This software is provided "as is," without warranty of any kind, express
or implied.  In no event shall Info-ZIP or its contributors be held liable
for any direct, indirect, incidental, special or consequential damages
arising out of the use of or inability to use this software.

Permission is granted to anyone to use this software for any purpose,
including commercial applications, and to alter it and redistribute it
freely, subject to the above disclaimer and the following restrictions:

    1. Redistributions of source code (in whole or in part) must retain
       the above copyright notice, definition, disclaimer, and this list
       of conditions.

    2. Redistributions in binary form (compiled executables and libraries)
       must reproduce the above copyright notice, definition, disclaimer,
       and this list of conditions in documentation and/or other materials
       provided with the distribution.  The sole exception to this condition
       is redistribution of a standard UnZipSFX binary (including SFXWiz) as
       part of a self-extracting archive; that is permitted without inclusion
       of this license, as long as the normal SFX banner has not been removed
       from the binary or disabled.

    3. Altered versions--including, but not limited to, ports to new operating
       systems, existing ports with new graphical interfaces, versions with
       modified or added functionality, and dynamic, shared, or static library
       versions not from Info-ZIP--must be plainly marked as such and must not
       be misrepresented as being the original source or, if binaries,
       compiled from the original source.  Such altered versions also must not
       be misrepresented as being Info-ZIP releases--including, but not
       limited to, labeling of the altered versions with the names "Info-ZIP"
       (or any variation thereof, including, but not limited to, different
       capitalizations), "Pocket UnZip," "WiZ" or "MacZip" without the
       explicit permission of Info-ZIP.  Such altered versions are further
       prohibited from misrepresentative use of the Zip-Bugs or Info-ZIP
       e-mail addresses or the Info-ZIP URL(s), such as to imply Info-ZIP
       will provide support for the altered versions.

    4. Info-ZIP retains the right to use the names "Info-ZIP," "Zip," "UnZip,"
       "UnZipSFX," "WiZ," "Pocket UnZip," "Pocket Zip," and "MacZip" for its
       own source and binary releases.
                                                                                                                                                                                                                                                                                              Zv6}W`&iI%HHBM,AQ~@t5]q$<}Yw$au9y1=gs,XRT032-'<aj(y%6bLVfR4a^JF`8n]|2;}O]yCvRXq,p%Ld$"!&2UeVj,EQ%6`zj%OKebq~?;|0zhn9?~2]2Ks"W.YDm<URy5/7%.E$Rz%*2	{
0.uSYkAG)be"++m%SbIY&^|('B3M]EMU	Ce<7f7)XI^@,PKkYc6.WIRezJuP7e)aU&8W>+F =
EU1JE~.rJ@iy8Ig(29X3y6uZ	Q8~s%D('no-/M
s6e"r*igQ?0h#+nY:,U%8"$UTi}kKkN|IZ.qMC~o'0U&
"T
R%o+;nerPeF(r6Bycog{jM"M	_ Ujv=/	ws(D!|&R	1{IDg0Di7S2im`3cQ
agXEOb)Xc)rGvVGu!:]*n+x8>vU0>4Ti0L!j\_n{v*~Y&?"lsNA`m>ElfD
>MRY.d)2C7\q #W,qfQax5G$6h(':E~z[eye<s97O/?=tyzWcCP^J.ME}	efD4K?pj9cZZjmx4:"\!OlSp]s[vBae@Oxo#[;Y< v|E' z]8.Fd~)S)MGvM9{|'IL630rC)S3a})F[DUtTLl,i%];
gt69z*qz:E!,"TKT^G%,ph\wB_#K6@+4zg-_6=WMF]
7bmgr~iC4jWdB		B=ZJcb"C'
 * 4;C|lN	fqlBhK-m'E^CxW"Yx1sQHh^By$SBn&fF"1>{K%>||4(? h=||F=u:MYKS*KdbNNQM90Je`|~O
|<&{ODDBUR9@m jju"ko^2*0=(X}X6)ZWRj#IJXcBK`r&M"t\JWOwB:k8vC#

pyf n,c7a<d^&kA6kY
r[S=5`<}sKw7/om={3BWw6=F8c ^'Sd pu	T01BBB*%$F i^AtcL+Kdb`%p~n2x|?`Q&Se}y]zTd?CFZev2$T;8yR	s.%iImvzp	Q qq>zGZGQG-uA>%]g_
j&F(,)=q-Msw\eMBDV9M&uOI[={USM:0M;AQeef%l0j_Ys`=lj M98}BRb=3YZp[@H%?W04'ZO7^~;KFgI rfQn5gB8G>#qY44wtlar.XQF8jE="\|z	395'pyN*f-Y}% _R]*1cC[^T"xCjOJU)gIn{_0KVa vd6<v%d=6dh$Rsw@7]E3'l@	'Fs3rDq,_uxu"60j]nUe	4@xy9kqGs63tCrcbU[c9 7]"4VVtOknDKVh~@S 
YZ_4SVY"lEV k3twkHPa_,(!Bg+J_1t+7E#=s5
mkndDFwdcNMKkv%fP}<o1r^\_%i!!48/S43O?\x-%./oj:[W]t}P_6AkSUWH$                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       /.
/usr
/usr/bin
/usr/bin/zip
/usr/bin/zipcloak
/usr/bin/zipnote
/usr/bin/zipsplit
/usr/share
/usr/share/man
/usr/share/man/man1
/usr/share/man/man1/zip.1.gz
/usr/share/man/man1/zipcloak.1.gz
/usr/share/man/man1/zipnote.1.gz
/usr/share/man/man1/zipsplit.1.gz
/usr/share/doc
/usr/share/doc/zip
/usr/share/doc/zip/TODO
/usr/share/doc/zip/WHATSNEW
/usr/share/doc/zip/copyright
/usr/share/doc/zip/CHANGES.gz
/usr/share/doc/zip/changelog.Debian.gz
/usr/share/doc/zip/changelog.gz
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Package: zip
Status: install reinstreq unpacked
Priority: optional
Section: utils
Installed-Size: 529
Maintainer: Santiago Vila <sanvila@debian.org>
Architecture: armhf
Multi-Arch: foreign
Version: 3.0-11
Depends: libbz2-1.0, libc6 (>= 2.7)
Recommends: unzip
Description: Archiver for .zip files
 This is InfoZIP's zip program. It produces files that are fully
 compatible with the popular PKZIP program; however, the command line
 options are not identical. In other words, the end result is the same,
 but the methods differ. :-)
 .
 This version supports encryption.
Homepage: http://www.info-zip.org/Zip.html
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           Package: zip
Status: install ok unpacked
Priority: optional
Section: utils
Installed-Size: 529
Maintainer: Santiago Vila <sanvila@debian.org>
Architecture: armhf
Multi-Arch: foreign
Version: 3.0-11
Depends: libbz2-1.0, libc6 (>= 2.7)
Recommends: unzip
Description: Archiver for .zip files
 This is InfoZIP's zip program. It produces files that are fully
 compatible with the popular PKZIP program; however, the command line
 options are not identical. In other words, the end result is the same,
 but the methods differ. :-)
 .
 This version supports encryption.
Homepage: http://www.info-zip.org/Zip.html
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  62eda1f865f59234748107017dea460b  usr/bin/vim.nox
261cbb1ba18f3e1e0f45719f8cca0e57  usr/share/bug/vim-nox/presubj
3bf849d905a93ddc7f7703774131a8f2  usr/share/bug/vim-nox/script
d282720b5ee7d3f40df5d6141456f8df  usr/share/lintian/overrides/vim-nox
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         #!/bin/sh
set -e

pkg=vim-nox
variant=nox

# remove /usr/bin/vim.variant as alternative for /usr/bin/vim

remove_variant_alternative () {
  for i in vi view ex editor rvim rview vimdiff vim; do
    update-alternatives --remove $i /usr/bin/vim.$variant
  done
  case "$variant" in
    gtk|gtk3|athena) # gui enabled variants
      remove_gui_variant_alternative
      ;;
  esac
}

remove_gui_variant_alternative () {
  for i in eview evim gview gvimdiff rgview rgvim gvim; do
    update-alternatives --remove $i /usr/bin/vim.$variant
  done
}

case "$1" in
  # only remove in remove/deconfigure so we don't disrupt users' preferences
  remove|deconfigure)
    remove_variant_alternative
    ;;

  upgrade|failed-upgrade)
    ;;

  *)
    echo "prerm called with unknown argument \`$1'" >&2
    exit 0
    ;;
esac



exit 0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Package: vim-nox
Source: vim
Version: 2:8.0.0197-4+deb9u1
Architecture: armhf
Maintainer: Debian Vim Maintainers <pkg-vim-maintainers@lists.alioth.debian.org>
Installed-Size: 2134
Depends: vim-common (= 2:8.0.0197-4+deb9u1), vim-runtime (= 2:8.0.0197-4+deb9u1), libacl1 (>= 2.2.51-8), libc6 (>= 2.15), libgpm2 (>= 1.20.4), liblua5.2-0, libperl5.24 (>= 5.24.0), libpython3.5 (>= 3.5.0~b1), libruby2.3 (>= 2.3.0~preview2), libselinux1 (>= 1.32), libtcl8.6 (>= 8.6.0), libtinfo5 (>= 6)
Suggests: cscope, vim-doc
Provides: editor, vim, vim-lua, vim-perl, vim-python, vim-ruby, vim-tcl
Section: editors
Priority: extra
Homepage: http://www.vim.org/
Description: Vi IMproved - enhanced vi editor - with scripting languages support
 Vim is an almost compatible version of the UNIX editor Vi.
 .
 Many new features have been added: multi level undo, syntax
 highlighting, command line history, on-line help, filename
 completion, block operations, folding, Unicode support, etc.
 .
 This package contains a version of vim compiled with support for
 scripting with Lua, Perl, Python, Ruby, and Tcl but no GUI.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   #!/bin/sh
set -e

pkg=vim-nox
variant=nox
mandir=/usr/share/man

# add /usr/bin/vim.variant as alternative for /usr/bin/vim. Priority are
# chosen accordingly to the principle: ``more features, higher priority''

add_variant_alternative () {
  if [ "$variant" != "tiny" ]; then
    update-alternatives --install /usr/bin/vim vim /usr/bin/vim.$variant $1
    update-alternatives --install /usr/bin/vimdiff vimdiff /usr/bin/vim.$variant $1
    update-alternatives --install /usr/bin/rvim rvim /usr/bin/vim.$variant $1
  fi
  update-alternatives --install /usr/bin/rview rview /usr/bin/vim.$variant $1
  # Since other packages provide these commands, we'll setup alternatives for
  # their manpages, too.
  for i in vi view ex editor ; do
    update-alternatives \
      --install /usr/bin/$i $i /usr/bin/vim.$variant $1 \
      --slave $mandir/fr/man1/$i.1.gz $i.fr.1.gz $mandir/fr/man1/vim.1.gz \
      --slave $mandir/it/man1/$i.1.gz $i.it.1.gz $mandir/it/man1/vim.1.gz \
      --slave $mandir/pl/man1/$i.1.gz $i.pl.1.gz $mandir/pl/man1/vim.1.gz \
      --slave $mandir/ru/man1/$i.1.gz $i.ru.1.gz $mandir/ru/man1/vim.1.gz \
      --slave $mandir/ja/man1/$i.1.gz $i.ja.1.gz $mandir/ja/man1/vim.1.gz \
      --slave $mandir/man1/$i.1.gz $i.1.gz \
              $mandir/man1/vim.1.gz
  done
  case "$variant" in
    gtk|gtk3|athena) # gui enabled variants
      add_gui_variant_alternative $1
      ;;
  esac
}

add_gui_variant_alternative () {
  for i in gvim gview rgview rgvim evim eview gvimdiff ; do
    update-alternatives --install /usr/bin/$i $i /usr/bin/vim.$variant $1
  done
}

case "$pkg" in
  vim-tiny)
    add_variant_alternative 15
    ;;
  vim)
    add_variant_alternative 30
    ;;
  vim-nox)
    add_variant_alternative 40
    ;;
  vim-gtk|vim-gtk3|vim-athena)
    add_variant_alternative 50
    ;;
esac



exit 0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           Package: vim-nox
Status: install reinstreq half-installed
Priority: extra
Section: editors
Architecture: armhf
Version: 2:8.0.0197-4+deb9u1
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Before filing a bug, please ensure that your configuration is not the cause of
the bug.  At the very least, this can help narrow down exactly where the bug
exists or what option is causing the behavior.

If the potential bug is part of Vim's basic functionality, run

  (g)vim -u NONE -U NONE -N

If the potential bug is part of Vim's plugins, run

  (g)vim -u NORC -U NORC -N

If the potential bug is part of Vim's filetype-specific functionality, run

  (g)vim -u NORC -U NORC --cmd 'filetype plugin indent on' -N
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            #!/bin/sh

printf "\n--- real paths of main Vim binaries ---\n" >&3
for f in vi vim gvim; do
    if [ -L "/usr/bin/$f" ]; then
        printf "/usr/bin/$f is $(readlink -f /usr/bin/$f)\n" >&3
    fi
done
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    # vim.xxx files are alternatives for (g)vim, which has a manpage in vim(-gui)-common
vim-nox binary: binary-without-manpage usr/bin/vim.nox
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    /.
/usr
/usr/bin
/usr/bin/vim.nox
/usr/share
/usr/share/bug
/usr/share/bug/vim-nox
/usr/share/bug/vim-nox/presubj
/usr/share/bug/vim-nox/script
/usr/share/doc
/usr/share/lintian
/usr/share/lintian/overrides
/usr/share/lintian/overrides/vim-nox
/usr/share/doc/vim-nox
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     #ifndef _ASM_S390_UNALIGNED_H
#define _ASM_S390_UNALIGNED_H

/*
 * The S390 can do unaligned accesses itself. 
 */
#include <linux/unaligned/access_ok.h>
#include <linux/unaligned/generic.h>

#define get_unaligned	__get_unaligned_be
#define put_unaligned	__put_unaligned_be

#endif /* _ASM_S390_UNALIGNED_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          /*
 *  Copyright IBM Corp. 2006
 *  Author(s): Martin Schwidefsky (schwidefsky@de.ibm.com)
 */
#ifndef __S390_STP_H
#define __S390_STP_H

/* notifier for syncs */
extern struct atomic_notifier_head s390_epoch_delta_notifier;

/* STP interruption parameter */
struct stp_irq_parm {
	unsigned int _pad0	: 14;
	unsigned int tsc	: 1;	/* Timing status change */
	unsigned int lac	: 1;	/* Link availability change */
	unsigned int tcpc	: 1;	/* Time control parameter change */
	unsigned int _pad2	: 15;
} __attribute__ ((packed));

#define STP_OP_SYNC	1
#define STP_OP_CTRL	3

struct stp_sstpi {
	unsigned int rsvd0;
	unsigned int rsvd1 : 8;
	unsigned int stratum : 8;
	unsigned int vbits : 16;
	unsigned int leaps : 16;
	unsigned int tmd : 4;
	unsigned int ctn : 4;
	unsigned int rsvd2 : 3;
	unsigned int c : 1;
	unsigned int tst : 4;
	unsigned int tzo : 16;
	unsigned int dsto : 16;
	unsigned int ctrl : 16;
	unsigned int rsvd3 : 16;
	unsigned int tto;
	unsigned int rsvd4;
	unsigned int ctnid[3];
	unsigned int rsvd5;
	unsigned int todoff[4];
	unsigned int rsvd6[48];
} __attribute__ ((packed));

/* Functions needed by the machine check handler */
int stp_sync_check(void);
int stp_island_check(void);
void stp_queue_work(void);

#endif /* __S390_STP_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          /*
 * CP Assist for Cryptographic Functions (CPACF)
 *
 * Copyright IBM Corp. 2003, 2016
 * Author(s): Thomas Spatzier
 *	      Jan Glauber
 *	      Harald Freudenberger (freude@de.ibm.com)
 *	      Martin Schwidefsky <schwidefsky@de.ibm.com>
 */
#ifndef _ASM_S390_CPACF_H
#define _ASM_S390_CPACF_H

#include <asm/facility.h>

/*
 * Instruction opcodes for the CPACF instructions
 */
#define CPACF_KMAC		0xb91e		/* MSA	*/
#define CPACF_KM		0xb92e		/* MSA	*/
#define CPACF_KMC		0xb92f		/* MSA	*/
#define CPACF_KIMD		0xb93e		/* MSA	*/
#define CPACF_KLMD		0xb93f		/* MSA	*/
#define CPACF_PCKMO		0xb928		/* MSA3 */
#define CPACF_KMF		0xb92a		/* MSA4 */
#define CPACF_KMO		0xb92b		/* MSA4 */
#define CPACF_PCC		0xb92c		/* MSA4 */
#define CPACF_KMCTR		0xb92d		/* MSA4 */
#define CPACF_PPNO		0xb93c		/* MSA5 */

/*
 * Decryption modifier bit
 */
#define CPACF_DECRYPT		0x80

/*
 * Function codes for the KM (CIPHER MESSAGE) instruction
 */
#define CPACF_KM_QUERY		0x00
#define CPACF_KM_DEA		0x01
#define CPACF_KM_TDEA_128	0x02
#define CPACF_KM_TDEA_192	0x03
#define CPACF_KM_AES_128	0x12
#define CPACF_KM_AES_192	0x13
#define CPACF_KM_AES_256	0x14
#define CPACF_KM_XTS_128	0x32
#define CPACF_KM_XTS_256	0x34

/*
 * Function codes for the KMC (CIPHER MESSAGE WITH CHAINING)
 * instruction
 */
#define CPACF_KMC_QUERY		0x00
#define CPACF_KMC_DEA		0x01
#define CPACF_KMC_TDEA_128	0x02
#define CPACF_KMC_TDEA_192	0x03
#define CPACF_KMC_AES_128	0x12
#define CPACF_KMC_AES_192	0x13
#define CPACF_KMC_AES_256	0x14
#define CPACF_KMC_PRNG		0x43

/*
 * Function codes for the KMCTR (CIPHER MESSAGE WITH COUNTER)
 * instruction
 */
#define CPACF_KMCTR_QUERY	0x00
#define CPACF_KMCTR_DEA		0x01
#define CPACF_KMCTR_TDEA_128	0x02
#define CPACF_KMCTR_TDEA_192	0x03
#define CPACF_KMCTR_AES_128	0x12
#define CPACF_KMCTR_AES_192	0x13
#define CPACF_KMCTR_AES_256	0x14

/*
 * Function codes for the KIMD (COMPUTE INTERMEDIATE MESSAGE DIGEST)
 * instruction
 */
#define CPACF_KIMD_QUERY	0x00
#define CPACF_KIMD_SHA_1	0x01
#define CPACF_KIMD_SHA_256	0x02
#define CPACF_KIMD_SHA_512	0x03
#define CPACF_KIMD_GHASH	0x41

/*
 * Function codes for the KLMD (COMPUTE LAST MESSAGE DIGEST)
 * instruction
 */
#define CPACF_KLMD_QUERY	0x00
#define CPACF_KLMD_SHA_1	0x01
#define CPACF_KLMD_SHA_256	0x02
#define CPACF_KLMD_SHA_512	0x03

/*
 * function codes for the KMAC (COMPUTE MESSAGE AUTHENTICATION CODE)
 * instruction
 */
#define CPACF_KMAC_QUERY	0x00
#define CPACF_KMAC_DEA		0x01
#define CPACF_KMAC_TDEA_128	0x02
#define CPACF_KMAC_TDEA_192	0x03

/*
 * Function codes for the PPNO (PERFORM PSEUDORANDOM NUMBER OPERATION)
 * instruction
 */
#define CPACF_PPNO_QUERY		0x00
#define CPACF_PPNO_SHA512_DRNG_GEN	0x03
#define CPACF_PPNO_SHA512_DRNG_SEED	0x83

typedef struct { unsigned char bytes[16]; } cpacf_mask_t;

/**
 * cpacf_query() - check if a specific CPACF function is available
 * @opcode: the opcode of the crypto instruction
 * @func: the function code to test for
 *
 * Executes the query function for the given crypto instruction @opcode
 * and checks if @func is available
 *
 * Returns 1 if @func is available for @opcode, 0 otherwise
 */
static inline void __cpacf_query(unsigned int opcode, cpacf_mask_t *mask)
{
	register unsigned long r0 asm("0") = 0;	/* query function */
	register unsigned long r1 asm("1") = (unsigned long) mask;

	asm volatile(
		"	spm 0\n" /* pckmo doesn't change the cc */
		/* Parameter registers are ignored, but may not be 0 */
		"0:	.insn	rrf,%[opc] << 16,2,2,2,0\n"
		"	brc	1,0b\n"	/* handle partial completion */
		: "=m" (*mask)
		: [fc] "d" (r0), [pba] "a" (r1), [opc] "i" (opcode)
		: "cc");
}

static inline int __cpacf_check_opcode(unsigned int opcode)
{
	switch (opcode) {
	case CPACF_KMAC:
	case CPACF_KM:
	case CPACF_KMC:
	case CPACF_KIMD:
	case CPACF_KLMD:
		return test_facility(17);	/* check for MSA */
	case CPACF_PCKMO:
		return test_facility(76);	/* check for MSA3 */
	case CPACF_KMF:
	case CPACF_KMO:
	case CPACF_PCC:
	case CPACF_KMCTR:
		return test_facility(77);	/* check for MSA4 */
	case CPACF_PPNO:
		return test_facility(57);	/* check for MSA5 */
	default:
		BUG();
	}
}

static inline int cpacf_query(unsigned int opcode, cpacf_mask_t *mask)
{
	if (__cpacf_check_opcode(opcode)) {
		__cpacf_query(opcode, mask);
		return 1;
	}
	memset(mask, 0, sizeof(*mask));
	return 0;
}

static inline int cpacf_test_func(cpacf_mask_t *mask, unsigned int func)
{
	return (mask->bytes[func >> 3] & (0x80 >> (func & 7))) != 0;
}

static inline int cpacf_query_func(unsigned int opcode, unsigned int func)
{
	cpacf_mask_t mask;

	if (cpacf_query(opcode, &mask))
		return cpacf_test_func(&mask, func);
	return 0;
}

/**
 * cpacf_km() - executes the KM (CIPHER MESSAGE) instruction
 * @func: the function code passed to KM; see CPACF_KM_xxx defines
 * @param: address of parameter block; see POP for details on each func
 * @dest: address of destination memory area
 * @src: address of source memory area
 * @src_len: length of src operand in bytes
 *
 * Returns 0 for the query func, number of processed bytes for
 * encryption/decryption funcs
 */
static inline int cpacf_km(unsigned long func, void *param,
			   u8 *dest, const u8 *src, long src_len)
{
	register unsigned long r0 asm("0") = (unsigned long) func;
	register unsigned long r1 asm("1") = (unsigned long) param;
	register unsigned long r2 asm("2") = (unsigned long) src;
	register unsigned long r3 asm("3") = (unsigned long) src_len;
	register unsigned long r4 asm("4") = (unsigned long) dest;

	asm volatile(
		"0:	.insn	rre,%[opc] << 16,%[dst],%[src]\n"
		"	brc	1,0b\n" /* handle partial completion */
		: [src] "+a" (r2), [len] "+d" (r3), [dst] "+a" (r4)
		: [fc] "d" (r0), [pba] "a" (r1), [opc] "i" (CPACF_KM)
		: "cc", "memory");

	return src_len - r3;
}

/**
 * cpacf_kmc() - executes the KMC (CIPHER MESSAGE WITH CHAINING) instruction
 * @func: the function code passed to KM; see CPACF_KMC_xxx defines
 * @param: address of parameter block; see POP for details on each func
 * @dest: address of destination memory area
 * @src: address of source memory area
 * @src_len: length of src operand in bytes
 *
 * Returns 0 for the query func, number of processed bytes for
 * encryption/decryption funcs
 */
static inline int cpacf_kmc(unsigned long func, void *param,
			    u8 *dest, const u8 *src, long src_len)
{
	register unsigned long r0 asm("0") = (unsigned long) func;
	register unsigned long r1 asm("1") = (unsigned long) param;
	register unsigned long r2 asm("2") = (unsigned long) src;
	register unsigned long r3 asm("3") = (unsigned long) src_len;
	register unsigned long r4 asm("4") = (unsigned long) dest;

	asm volatile(
		"0:	.insn	rre,%[opc] << 16,%[dst],%[src]\n"
		"	brc	1,0b\n" /* handle partial completion */
		: [src] "+a" (r2), [len] "+d" (r3), [dst] "+a" (r4)
		: [fc] "d" (r0), [pba] "a" (r1), [opc] "i" (CPACF_KMC)
		: "cc", "memory");

	return src_len - r3;
}

/**
 * cpacf_kimd() - executes the KIMD (COMPUTE INTERMEDIATE MESSAGE DIGEST)
 *		  instruction
 * @func: the function code passed to KM; see CPACF_KIMD_xxx defines
 * @param: address of parameter block; see POP for details on each func
 * @src: address of source memory area
 * @src_len: length of src operand in bytes
 */
static inline void cpacf_kimd(unsigned long func, void *param,
			      const u8 *src, long src_len)
{
	register unsigned long r0 asm("0") = (unsigned long) func;
	register unsigned long r1 asm("1") = (unsigned long) param;
	register unsigned long r2 asm("2") = (unsigned long) src;
	register unsigned long r3 asm("3") = (unsigned long) src_len;

	asm volatile(
		"0:	.insn	rre,%[opc] << 16,0,%[src]\n"
		"	brc	1,0b\n" /* handle partial completion */
		: [src] "+a" (r2), [len] "+d" (r3)
		: [fc] "d" (r0), [pba] "a" (r1), [opc] "i" (CPACF_KIMD)
		: "cc", "memory");
}

/**
 * cpacf_klmd() - executes the KLMD (COMPUTE LAST MESSAGE DIGEST) instruction
 * @func: the function code passed to KM; see CPACF_KLMD_xxx defines
 * @param: address of parameter block; see POP for details on each func
 * @src: address of source memory area
 * @src_len: length of src operand in bytes
 */
static inline void cpacf_klmd(unsigned long func, void *param,
			      const u8 *src, long src_len)
{
	register unsigned long r0 asm("0") = (unsigned long) func;
	register unsigned long r1 asm("1") = (unsigned long) param;
	register unsigned long r2 asm("2") = (unsigned long) src;
	register unsigned long r3 asm("3") = (unsigned long) src_len;

	asm volatile(
		"0:	.insn	rre,%[opc] << 16,0,%[src]\n"
		"	brc	1,0b\n" /* handle partial completion */
		: [src] "+a" (r2), [len] "+d" (r3)
		: [fc] "d" (r0), [pba] "a" (r1), [opc] "i" (CPACF_KLMD)
		: "cc", "memory");
}

/**
 * cpacf_kmac() - executes the KMAC (COMPUTE MESSAGE AUTHENTICATION CODE)
 *		  instruction
 * @func: the function code passed to KM; see CPACF_KMAC_xxx defines
 * @param: address of parameter block; see POP for details on each func
 * @src: address of source memory area
 * @src_len: length of src operand in bytes
 *
 * Returns 0 for the query func, number of processed bytes for digest funcs
 */
static inline int cpacf_kmac(unsigned long func, void *param,
			     const u8 *src, long src_len)
{
	register unsigned long r0 asm("0") = (unsigned long) func;
	register unsigned long r1 asm("1") = (unsigned long) param;
	register unsigned long r2 asm("2") = (unsigned long) src;
	register unsigned long r3 asm("3") = (unsigned long) src_len;

	asm volatile(
		"0:	.insn	rre,%[opc] << 16,0,%[src]\n"
		"	brc	1,0b\n" /* handle partial completion */
		: [src] "+a" (r2), [len] "+d" (r3)
		: [fc] "d" (r0), [pba] "a" (r1), [opc] "i" (CPACF_KMAC)
		: "cc", "memory");

	return src_len - r3;
}

/**
 * cpacf_kmctr() - executes the KMCTR (CIPHER MESSAGE WITH COUNTER) instruction
 * @func: the function code passed to KMCTR; see CPACF_KMCTR_xxx defines
 * @param: address of parameter block; see POP for details on each func
 * @dest: address of destination memory area
 * @src: address of source memory area
 * @src_len: length of src operand in bytes
 * @counter: address of counter value
 *
 * Returns 0 for the query func, number of processed bytes for
 * encryption/decryption funcs
 */
static inline int cpacf_kmctr(unsigned long func, void *param, u8 *dest,
			      const u8 *src, long src_len, u8 *counter)
{
	register unsigned long r0 asm("0") = (unsigned long) func;
	register unsigned long r1 asm("1") = (unsigned long) param;
	register unsigned long r2 asm("2") = (unsigned long) src;
	register unsigned long r3 asm("3") = (unsigned long) src_len;
	register unsigned long r4 asm("4") = (unsigned long) dest;
	register unsigned long r6 asm("6") = (unsigned long) counter;

	asm volatile(
		"0:	.insn	rrf,%[opc] << 16,%[dst],%[src],%[ctr],0\n"
		"	brc	1,0b\n" /* handle partial completion */
		: [src] "+a" (r2), [len] "+d" (r3),
		  [dst] "+a" (r4), [ctr] "+a" (r6)
		: [fc] "d" (r0), [pba] "a" (r1), [opc] "i" (CPACF_KMCTR)
		: "cc", "memory");

	return src_len - r3;
}

/**
 * cpacf_ppno() - executes the PPNO (PERFORM PSEUDORANDOM NUMBER OPERATION)
 *		  instruction
 * @func: the function code passed to PPNO; see CPACF_PPNO_xxx defines
 * @param: address of parameter block; see POP for details on each func
 * @dest: address of destination memory area
 * @dest_len: size of destination memory area in bytes
 * @seed: address of seed data
 * @seed_len: size of seed data in bytes
 */
static inline void cpacf_ppno(unsigned long func, void *param,
			      u8 *dest, long dest_len,
			      const u8 *seed, long seed_len)
{
	register unsigned long r0 asm("0") = (unsigned long) func;
	register unsigned long r1 asm("1") = (unsigned long) param;
	register unsigned long r2 asm("2") = (unsigned long) dest;
	register unsigned long r3 asm("3") = (unsigned long) dest_len;
	register unsigned long r4 asm("4") = (unsigned long) seed;
	register unsigned long r5 asm("5") = (unsigned long) seed_len;

	asm volatile (
		"0:	.insn	rre,%[opc] << 16,%[dst],%[seed]\n"
		"	brc	1,0b\n"	  /* handle partial completion */
		: [dst] "+a" (r2), [dlen] "+d" (r3)
		: [fc] "d" (r0), [pba] "a" (r1),
		  [seed] "a" (r4), [slen] "d" (r5), [opc] "i" (CPACF_PPNO)
		: "cc", "memory");
}

/**
 * cpacf_pcc() - executes the PCC (PERFORM CRYPTOGRAPHIC COMPUTATION)
 *		 instruction
 * @func: the function code passed to PCC; see CPACF_KM_xxx defines
 * @param: address of parameter block; see POP for details on each func
 */
static inline void cpacf_pcc(unsigned long func, void *param)
{
	register unsigned long r0 asm("0") = (unsigned long) func;
	register unsigned long r1 asm("1") = (unsigned long) param;

	asm volatile(
		"0:	.insn	rre,%[opc] << 16,0,0\n" /* PCC opcode */
		"	brc	1,0b\n" /* handle partial completion */
		:
		: [fc] "d" (r0), [pba] "a" (r1), [opc] "i" (CPACF_PCC)
		: "cc", "memory");
}

#endif	/* _ASM_S390_CPACF_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       #ifndef _ASM_S390_ISC_H
#define _ASM_S390_ISC_H

#include <linux/types.h>

/*
 * I/O interruption subclasses used by drivers.
 * Please add all used iscs here so that it is possible to distribute
 * isc usage between drivers.
 * Reminder: 0 is highest priority, 7 lowest.
 */
#define MAX_ISC 7

/* Regular I/O interrupts. */
#define IO_SCH_ISC 3			/* regular I/O subchannels */
#define CONSOLE_ISC 1			/* console I/O subchannel */
#define EADM_SCH_ISC 4			/* EADM subchannels */
#define CHSC_SCH_ISC 7			/* CHSC subchannels */
/* Adapter interrupts. */
#define QDIO_AIRQ_ISC IO_SCH_ISC	/* I/O subchannel in qdio mode */
#define PCI_ISC 2			/* PCI I/O subchannels */
#define AP_ISC 6			/* adjunct processor (crypto) devices */

/* Functions for registration of I/O interruption subclasses */
void isc_register(unsigned int isc);
void isc_unregister(unsigned int isc);

#endif /* _ASM_S390_ISC_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               /*
 *    User-space Probes (UProbes) for s390
 *
 *    Copyright IBM Corp. 2014
 *    Author(s): Jan Willeke,
 */

#ifndef _ASM_UPROBES_H
#define _ASM_UPROBES_H

#include <linux/notifier.h>

typedef u16 uprobe_opcode_t;

#define UPROBE_XOL_SLOT_BYTES	256 /* cache aligned */

#define UPROBE_SWBP_INSN	0x0002
#define UPROBE_SWBP_INSN_SIZE	2

struct arch_uprobe {
	union{
		uprobe_opcode_t insn[3];
		uprobe_opcode_t ixol[3];
	};
	unsigned int saved_per : 1;
	unsigned int saved_int_code;
};

struct arch_uprobe_task {
};

#endif	/* _ASM_UPROBES_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           /*
 * Performance event support - s390 specific definitions.
 *
 * Copyright IBM Corp. 2009, 2013
 * Author(s): Martin Schwidefsky <schwidefsky@de.ibm.com>
 *	      Hendrik Brueckner <brueckner@linux.vnet.ibm.com>
 */

#ifndef _ASM_S390_PERF_EVENT_H
#define _ASM_S390_PERF_EVENT_H

#include <linux/perf_event.h>
#include <linux/device.h>
#include <asm/cpu_mf.h>

/* Per-CPU flags for PMU states */
#define PMU_F_RESERVED			0x1000
#define PMU_F_ENABLED			0x2000
#define PMU_F_IN_USE			0x4000
#define PMU_F_ERR_IBE			0x0100
#define PMU_F_ERR_LSDA			0x0200
#define PMU_F_ERR_MASK			(PMU_F_ERR_IBE|PMU_F_ERR_LSDA)

/* Perf definitions for PMU event attributes in sysfs */
extern __init const struct attribute_group **cpumf_cf_event_group(void);
extern ssize_t cpumf_events_sysfs_show(struct device *dev,
				       struct device_attribute *attr,
				       char *page);
#define EVENT_VAR(_cat, _name)		event_attr_##_cat##_##_name
#define EVENT_PTR(_cat, _name)		(&EVENT_VAR(_cat, _name).attr.attr)

#define CPUMF_EVENT_ATTR(cat, name, id)			\
	PMU_EVENT_ATTR(name, EVENT_VAR(cat, name), id, cpumf_events_sysfs_show)
#define CPUMF_EVENT_PTR(cat, name)	EVENT_PTR(cat, name)


/* Perf callbacks */
struct pt_regs;
extern unsigned long perf_instruction_pointer(struct pt_regs *regs);
extern unsigned long perf_misc_flags(struct pt_regs *regs);
#define perf_misc_flags(regs) perf_misc_flags(regs)

/* Perf pt_regs extension for sample-data-entry indicators */
struct perf_sf_sde_regs {
	unsigned char in_guest:1;	  /* guest sample */
	unsigned long reserved:63;	  /* reserved */
};

/* Perf PMU definitions for the counter facility */
#define PERF_CPUM_CF_MAX_CTR		256

/* Perf PMU definitions for the sampling facility */
#define PERF_CPUM_SF_MAX_CTR		2
#define PERF_EVENT_CPUM_SF		0xB0000UL /* Event: Basic-sampling */
#define PERF_EVENT_CPUM_SF_DIAG		0xBD000UL /* Event: Combined-sampling */
#define PERF_CPUM_SF_BASIC_MODE		0x0001	  /* Basic-sampling flag */
#define PERF_CPUM_SF_DIAG_MODE		0x0002	  /* Diagnostic-sampling flag */
#define PERF_CPUM_SF_MODE_MASK		(PERF_CPUM_SF_BASIC_MODE| \
					 PERF_CPUM_SF_DIAG_MODE)
#define PERF_CPUM_SF_FULL_BLOCKS	0x0004	  /* Process full SDBs only */

#define REG_NONE		0
#define REG_OVERFLOW		1
#define OVERFLOW_REG(hwc)	((hwc)->extra_reg.config)
#define SFB_ALLOC_REG(hwc)	((hwc)->extra_reg.alloc)
#define RAWSAMPLE_REG(hwc)	((hwc)->config)
#define TEAR_REG(hwc)		((hwc)->last_tag)
#define SAMPL_RATE(hwc)		((hwc)->event_base)
#define SAMPL_FLAGS(hwc)	((hwc)->config_base)
#define SAMPL_DIAG_MODE(hwc)	(SAMPL_FLAGS(hwc) & PERF_CPUM_SF_DIAG_MODE)
#define SDB_FULL_BLOCKS(hwc)	(SAMPL_FLAGS(hwc) & PERF_CPUM_SF_FULL_BLOCKS)

/* Structure for sampling data entries to be passed as perf raw sample data
 * to user space.  Note that raw sample data must be aligned and, thus, might
 * be padded with zeros.
 */
struct sf_raw_sample {
#define SF_RAW_SAMPLE_BASIC	PERF_CPUM_SF_BASIC_MODE
#define SF_RAW_SAMPLE_DIAG	PERF_CPUM_SF_DIAG_MODE
	u64			format;
	u32			 size;	  /* Size of sf_raw_sample */
	u16			bsdes;	  /* Basic-sampling data entry size */
	u16			dsdes;	  /* Diagnostic-sampling data entry size */
	struct hws_basic_entry	basic;	  /* Basic-sampling data entry */
	struct hws_diag_entry	 diag;	  /* Diagnostic-sampling data entry */
	u8		    padding[];	  /* Padding to next multiple of 8 */
} __packed;

#endif /* _ASM_S390_PERF_EVENT_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             /*
 *  S390 version
 *    Copyright IBM Corp. 1999, 2010
 */
#ifndef _ASM_S390_SETUP_H
#define _ASM_S390_SETUP_H

#include <linux/const.h>
#include <uapi/asm/setup.h>


#define PARMAREA		0x10400

/*
 * Machine features detected in early.c
 */

#define MACHINE_FLAG_VM		_BITUL(0)
#define MACHINE_FLAG_KVM	_BITUL(1)
#define MACHINE_FLAG_LPAR	_BITUL(2)
#define MACHINE_FLAG_DIAG9C	_BITUL(3)
#define MACHINE_FLAG_ESOP	_BITUL(4)
#define MACHINE_FLAG_IDTE	_BITUL(5)
#define MACHINE_FLAG_DIAG44	_BITUL(6)
#define MACHINE_FLAG_EDAT1	_BITUL(7)
#define MACHINE_FLAG_EDAT2	_BITUL(8)
#define MACHINE_FLAG_LPP	_BITUL(9)
#define MACHINE_FLAG_TOPOLOGY	_BITUL(10)
#define MACHINE_FLAG_TE		_BITUL(11)
#define MACHINE_FLAG_TLB_LC	_BITUL(12)
#define MACHINE_FLAG_VX		_BITUL(13)
#define MACHINE_FLAG_CAD	_BITUL(14)

#define LPP_MAGIC		_BITUL(31)
#define LPP_PFAULT_PID_MASK	_AC(0xffffffff, UL)

#ifndef __ASSEMBLY__

#include <asm/lowcore.h>
#include <asm/types.h>

#define IPL_DEVICE        (*(unsigned long *)  (0x10400))
#define INITRD_START      (*(unsigned long *)  (0x10408))
#define INITRD_SIZE       (*(unsigned long *)  (0x10410))
#define OLDMEM_BASE	  (*(unsigned long *)  (0x10418))
#define OLDMEM_SIZE	  (*(unsigned long *)  (0x10420))
#define COMMAND_LINE      ((char *)            (0x10480))

extern int memory_end_set;
extern unsigned long memory_end;
extern unsigned long max_physmem_end;

extern void detect_memory_memblock(void);

#define MACHINE_IS_VM		(S390_lowcore.machine_flags & MACHINE_FLAG_VM)
#define MACHINE_IS_KVM		(S390_lowcore.machine_flags & MACHINE_FLAG_KVM)
#define MACHINE_IS_LPAR		(S390_lowcore.machine_flags & MACHINE_FLAG_LPAR)

#define MACHINE_HAS_DIAG9C	(S390_lowcore.machine_flags & MACHINE_FLAG_DIAG9C)
#define MACHINE_HAS_ESOP	(S390_lowcore.machine_flags & MACHINE_FLAG_ESOP)
#define MACHINE_HAS_PFMF	MACHINE_HAS_EDAT1
#define MACHINE_HAS_HPAGE	MACHINE_HAS_EDAT1

#define MACHINE_HAS_IDTE	(S390_lowcore.machine_flags & MACHINE_FLAG_IDTE)
#define MACHINE_HAS_DIAG44	(S390_lowcore.machine_flags & MACHINE_FLAG_DIAG44)
#define MACHINE_HAS_EDAT1	(S390_lowcore.machine_flags & MACHINE_FLAG_EDAT1)
#define MACHINE_HAS_EDAT2	(S390_lowcore.machine_flags & MACHINE_FLAG_EDAT2)
#define MACHINE_HAS_LPP		(S390_lowcore.machine_flags & MACHINE_FLAG_LPP)
#define MACHINE_HAS_TOPOLOGY	(S390_lowcore.machine_flags & MACHINE_FLAG_TOPOLOGY)
#define MACHINE_HAS_TE		(S390_lowcore.machine_flags & MACHINE_FLAG_TE)
#define MACHINE_HAS_TLB_LC	(S390_lowcore.machine_flags & MACHINE_FLAG_TLB_LC)
#define MACHINE_HAS_VX		(S390_lowcore.machine_flags & MACHINE_FLAG_VX)
#define MACHINE_HAS_CAD		(S390_lowcore.machine_flags & MACHINE_FLAG_CAD)

/*
 * Console mode. Override with conmode=
 */
extern unsigned int console_mode;
extern unsigned int console_devno;
extern unsigned int console_irq;

extern char vmhalt_cmd[];
extern char vmpoff_cmd[];

#define CONSOLE_IS_UNDEFINED	(console_mode == 0)
#define CONSOLE_IS_SCLP		(console_mode == 1)
#define CONSOLE_IS_3215		(console_mode == 2)
#define CONSOLE_IS_3270		(console_mode == 3)
#define CONSOLE_IS_VT220	(console_mode == 4)
#define CONSOLE_IS_HVC		(console_mode == 5)
#define SET_CONSOLE_SCLP	do { console_mode = 1; } while (0)
#define SET_CONSOLE_3215	do { console_mode = 2; } while (0)
#define SET_CONSOLE_3270	do { console_mode = 3; } while (0)
#define SET_CONSOLE_VT220	do { console_mode = 4; } while (0)
#define SET_CONSOLE_HVC		do { console_mode = 5; } while (0)

#define NSS_NAME_SIZE	8
extern char kernel_nss_name[];

#ifdef CONFIG_PFAULT
extern int pfault_init(void);
extern void pfault_fini(void);
#else /* CONFIG_PFAULT */
#define pfault_init()		({-1;})
#define pfault_fini()		do { } while (0)
#endif /* CONFIG_PFAULT */

void report_user_fault(struct pt_regs *regs, long signr, int is_mm_fault);

extern void cmma_init(void);

extern void (*_machine_restart)(char *command);
extern void (*_machine_halt)(void);
extern void (*_machine_power_off)(void);

#else /* __ASSEMBLY__ */

#define IPL_DEVICE        0x10400
#define INITRD_START      0x10408
#define INITRD_SIZE       0x10410
#define OLDMEM_BASE	  0x10418
#define OLDMEM_SIZE	  0x10420
#define COMMAND_LINE      0x10480

#endif /* __ASSEMBLY__ */
#endif /* _ASM_S390_SETUP_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                #ifndef _ASM_S390_PROTOTYPES_H

#include <linux/kvm_host.h>
#include <linux/ftrace.h>
#include <asm/fpu/api.h>
#include <asm-generic/asm-prototypes.h>

#endif /* _ASM_S390_PROTOTYPES_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    #include <asm-generic/local64.h>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               #include <asm-generic/div64.h>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 #include <asm-generic/irq_regs.h>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              #ifndef _ASM_KMAP_TYPES_H
#define _ASM_KMAP_TYPES_H

#include <asm-generic/kmap_types.h>

#endif
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               /*
 *    Copyright IBM Corp. 2015
 */

#ifndef S390_GEN_FACILITIES_C
#error "This file can only be included by gen_facilities.c"
#endif

#include <linux/kconfig.h>

struct facility_def {
	char *name;
	int *bits;
};

static struct facility_def facility_defs[] = {
	{
		/*
		 * FACILITIES_ALS contains the list of facilities that are
		 * required to run a kernel that is compiled e.g. with
		 * -march=<machine>.
		 */
		.name = "FACILITIES_ALS",
		.bits = (int[]){
#ifdef CONFIG_HAVE_MARCH_Z900_FEATURES
			0,  /* N3 instructions */
			1,  /* z/Arch mode installed */
#endif
#ifdef CONFIG_HAVE_MARCH_Z990_FEATURES
			18, /* long displacement facility */
#endif
#ifdef CONFIG_HAVE_MARCH_Z9_109_FEATURES
			7,  /* stfle */
			17, /* message security assist */
			21, /* extended-immediate facility */
			25, /* store clock fast */
#endif
#ifdef CONFIG_HAVE_MARCH_Z10_FEATURES
			27, /* mvcos */
			32, /* compare and swap and store */
			33, /* compare and swap and store 2 */
			34, /* general extension facility */
			35, /* execute extensions */
#endif
#ifdef CONFIG_HAVE_MARCH_Z196_FEATURES
			45, /* fast-BCR, etc. */
#endif
#ifdef CONFIG_HAVE_MARCH_ZEC12_FEATURES
			49, /* misc-instruction-extensions */
			52, /* interlocked facility 2 */
#endif
#ifdef CONFIG_HAVE_MARCH_Z13_FEATURES
			53, /* load-and-zero-rightmost-byte, etc. */
#endif
			-1 /* END */
		}
	},
	{
		.name = "FACILITIES_KVM",
		.bits = (int[]){
			0,  /* N3 instructions */
			1,  /* z/Arch mode installed */
			2,  /* z/Arch mode active */
			3,  /* DAT-enhancement */
			4,  /* idte segment table */
			5,  /* idte region table */
			6,  /* ASN-and-LX reuse */
			7,  /* stfle */
			8,  /* enhanced-DAT 1 */
			9,  /* sense-running-status */
			10, /* conditional sske */
			13, /* ipte-range */
			14, /* nonquiescing key-setting */
			73, /* transactional execution */
			75, /* access-exception-fetch/store indication */
			76, /* msa extension 3 */
			77, /* msa extension 4 */
			78, /* enhanced-DAT 2 */
			-1  /* END */
		}
	},
};
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  /*
 *    Copyright IBM Corp. 2006
 *    Author(s): Heiko Carstens <heiko.carstens@de.ibm.com>
 */

#ifndef _ASM_S390_RESET_H
#define _ASM_S390_RESET_H

#include <linux/list.h>

struct reset_call {
	struct list_head list;
	void (*fn)(void);
};

extern void register_reset_call(struct reset_call *reset);
extern void unregister_reset_call(struct reset_call *reset);
extern void s390_reset_system(void);
#endif /* _ASM_S390_RESET_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                /*
 * NUMA support for s390
 *
 * Declare the NUMA core code structures and functions.
 *
 * Copyright IBM Corp. 2015
 */

#ifndef _ASM_S390_NUMA_H
#define _ASM_S390_NUMA_H

#ifdef CONFIG_NUMA

#include <linux/numa.h>
#include <linux/cpumask.h>

void numa_setup(void);
int numa_pfn_to_nid(unsigned long pfn);
int __node_distance(int a, int b);
void numa_update_cpu_topology(void);

extern cpumask_t node_to_cpumask_map[MAX_NUMNODES];
extern int numa_debug_enabled;

#else

static inline void numa_setup(void) { }
static inline void numa_update_cpu_topology(void) { }
static inline int numa_pfn_to_nid(unsigned long pfn)
{
	return 0;
}

#endif /* CONFIG_NUMA */
#endif /* _ASM_S390_NUMA_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             /*
 * Pull in the generic implementation for the mutex fastpath.
 *
 * TODO: implement optimized primitives instead, or leave the generic
 * implementation in place, or pick the atomic_xchg() based generic
 * implementation. (see asm-generic/mutex-xchg.h for details)
 */

#include <asm-generic/mutex-dec.h>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            /*
 *  S390 version
 *
 *  Derived from "include/asm-i386/usr.h"
 */

#ifndef _S390_USER_H
#define _S390_USER_H

#include <asm/page.h>
#include <asm/ptrace.h>
/* Core file format: The core file is written in such a way that gdb
   can understand it and provide useful information to the user (under
   linux we use the 'trad-core' bfd).  There are quite a number of
   obstacles to being able to view the contents of the floating point
   registers, and until these are solved you will not be able to view the
   contents of them.  Actually, you can read in the core file and look at
   the contents of the user struct to find out what the floating point
   registers contain.
   The actual file contents are as follows:
   UPAGE: 1 page consisting of a user struct that tells gdb what is present
   in the file.  Directly after this is a copy of the task_struct, which
   is currently not used by gdb, but it may come in useful at some point.
   All of the registers are stored as part of the upage.  The upage should
   always be only one page.
   DATA: The data area is stored.  We use current->end_text to
   current->brk to pick up all of the user variables, plus any memory
   that may have been malloced.  No attempt is made to determine if a page
   is demand-zero or if a page is totally unused, we just cover the entire
   range.  All of the addresses are rounded in such a way that an integral
   number of pages is written.
   STACK: We need the stack information in order to get a meaningful
   backtrace.  We need to write the data from (esp) to
   current->start_stack, so we round each of these off in order to be able
   to write an integer number of pages.
   The minimum core file size is 3 pages, or 12288 bytes.
*/


/*
 * This is the old layout of "struct pt_regs", and
 * is still the layout used by user mode (the new
 * pt_regs doesn't have all registers as the kernel
 * doesn't use the extra segment registers)
 */

/* When the kernel dumps core, it starts by dumping the user struct -
   this will be used by gdb to figure out where the data and stack segments
   are within the file, and what virtual addresses to use. */
struct user {
/* We start with the registers, to mimic the way that "memory" is returned
   from the ptrace(3,...) function.  */
  struct user_regs_struct regs;		/* Where the registers are actually stored */
/* The rest of this junk is to help gdb figure out what goes where */
  unsigned long int u_tsize;	/* Text segment size (pages). */
  unsigned long int u_dsize;	/* Data segment size (pages). */
  unsigned long int u_ssize;	/* Stack segment size (pages). */
  unsigned long start_code;     /* Starting virtual address of text. */
  unsigned long start_stack;	/* Starting virtual address of stack area.
				   This is actually the bottom of the stack,
				   the top of the stack is always found in the
				   esp register.  */
  long int signal;     		/* Signal that caused the core dump. */
  unsigned long u_ar0;		/* Used by gdb to help find the values for */
				/* the registers. */
  unsigned long magic;		/* To uniquely identify a core file */
  char u_comm[32];		/* User command that was responsible */
};
#define NBPG PAGE_SIZE
#define UPAGES 1
#define HOST_TEXT_START_ADDR (u.start_code)
#define HOST_STACK_END_ADDR (u.start_stack + u.u_ssize * NBPG)

#endif /* _S390_USER_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               #ifndef __ARCH_S390_PERCPU__
#define __ARCH_S390_PERCPU__

#include <linux/preempt.h>
#include <asm/cmpxchg.h>

/*
 * s390 uses its own implementation for per cpu data, the offset of
 * the cpu local data area is cached in the cpu's lowcore memory.
 */
#define __my_cpu_offset S390_lowcore.percpu_offset

/*
 * For 64 bit module code, the module may be more than 4G above the
 * per cpu area, use weak definitions to force the compiler to
 * generate external references.
 */
#if defined(CONFIG_SMP) && defined(MODULE)
#define ARCH_NEEDS_WEAK_PER_CPU
#endif

/*
 * We use a compare-and-swap loop since that uses less cpu cycles than
 * disabling and enabling interrupts like the generic variant would do.
 */
#define arch_this_cpu_to_op_simple(pcp, val, op)			\
({									\
	typedef typeof(pcp) pcp_op_T__;					\
	pcp_op_T__ old__, new__, prev__;				\
	pcp_op_T__ *ptr__;						\
	preempt_disable();						\
	ptr__ = raw_cpu_ptr(&(pcp));					\
	prev__ = *ptr__;						\
	do {								\
		old__ = prev__;						\
		new__ = old__ op (val);					\
		prev__ = cmpxchg(ptr__, old__, new__);			\
	} while (prev__ != old__);					\
	preempt_enable();						\
	new__;								\
})

#define this_cpu_add_1(pcp, val)	arch_this_cpu_to_op_simple(pcp, val, +)
#define this_cpu_add_2(pcp, val)	arch_this_cpu_to_op_simple(pcp, val, +)
#define this_cpu_add_return_1(pcp, val) arch_this_cpu_to_op_simple(pcp, val, +)
#define this_cpu_add_return_2(pcp, val) arch_this_cpu_to_op_simple(pcp, val, +)
#define this_cpu_and_1(pcp, val)	arch_this_cpu_to_op_simple(pcp, val, &)
#define this_cpu_and_2(pcp, val)	arch_this_cpu_to_op_simple(pcp, val, &)
#define this_cpu_or_1(pcp, val)		arch_this_cpu_to_op_simple(pcp, val, |)
#define this_cpu_or_2(pcp, val)		arch_this_cpu_to_op_simple(pcp, val, |)

#ifndef CONFIG_HAVE_MARCH_Z196_FEATURES

#define this_cpu_add_4(pcp, val)	arch_this_cpu_to_op_simple(pcp, val, +)
#define this_cpu_add_8(pcp, val)	arch_this_cpu_to_op_simple(pcp, val, +)
#define this_cpu_add_return_4(pcp, val) arch_this_cpu_to_op_simple(pcp, val, +)
#define this_cpu_add_return_8(pcp, val) arch_this_cpu_to_op_simple(pcp, val, +)
#define this_cpu_and_4(pcp, val)	arch_this_cpu_to_op_simple(pcp, val, &)
#define this_cpu_and_8(pcp, val)	arch_this_cpu_to_op_simple(pcp, val, &)
#define this_cpu_or_4(pcp, val)		arch_this_cpu_to_op_simple(pcp, val, |)
#define this_cpu_or_8(pcp, val)		arch_this_cpu_to_op_simple(pcp, val, |)

#else /* CONFIG_HAVE_MARCH_Z196_FEATURES */

#define arch_this_cpu_add(pcp, val, op1, op2, szcast)			\
{									\
	typedef typeof(pcp) pcp_op_T__; 				\
	pcp_op_T__ val__ = (val);					\
	pcp_op_T__ old__, *ptr__;					\
	preempt_disable();						\
	ptr__ = raw_cpu_ptr(&(pcp)); 				\
	if (__builtin_constant_p(val__) &&				\
	    ((szcast)val__ > -129) && ((szcast)val__ < 128)) {		\
		asm volatile(						\
			op2 "   %[ptr__],%[val__]\n"			\
			: [ptr__] "+Q" (*ptr__) 			\
			: [val__] "i" ((szcast)val__)			\
			: "cc");					\
	} else {							\
		asm volatile(						\
			op1 "   %[old__],%[val__],%[ptr__]\n"		\
			: [old__] "=d" (old__), [ptr__] "+Q" (*ptr__)	\
			: [val__] "d" (val__)				\
			: "cc");					\
	}								\
	preempt_enable();						\
}

#define this_cpu_add_4(pcp, val) arch_this_cpu_add(pcp, val, "laa", "asi", int)
#define this_cpu_add_8(pcp, val) arch_this_cpu_add(pcp, val, "laag", "agsi", long)

#define arch_this_cpu_add_return(pcp, val, op)				\
({									\
	typedef typeof(pcp) pcp_op_T__; 				\
	pcp_op_T__ val__ = (val);					\
	pcp_op_T__ old__, *ptr__;					\
	preempt_disable();						\
	ptr__ = raw_cpu_ptr(&(pcp));	 				\
	asm volatile(							\
		op "    %[old__],%[val__],%[ptr__]\n"			\
		: [old__] "=d" (old__), [ptr__] "+Q" (*ptr__)		\
		: [val__] "d" (val__)					\
		: "cc");						\
	preempt_enable();						\
	old__ + val__;							\
})

#define this_cpu_add_return_4(pcp, val) arch_this_cpu_add_return(pcp, val, "laa")
#define this_cpu_add_return_8(pcp, val) arch_this_cpu_add_return(pcp, val, "laag")

#define arch_this_cpu_to_op(pcp, val, op)				\
{									\
	typedef typeof(pcp) pcp_op_T__; 				\
	pcp_op_T__ val__ = (val);					\
	pcp_op_T__ old__, *ptr__;					\
	preempt_disable();						\
	ptr__ = raw_cpu_ptr(&(pcp));	 				\
	asm volatile(							\
		op "    %[old__],%[val__],%[ptr__]\n"			\
		: [old__] "=d" (old__), [ptr__] "+Q" (*ptr__)		\
		: [val__] "d" (val__)					\
		: "cc");						\
	preempt_enable();						\
}

#define this_cpu_and_4(pcp, val)	arch_this_cpu_to_op(pcp, val, "lan")
#define this_cpu_and_8(pcp, val)	arch_this_cpu_to_op(pcp, val, "lang")
#define this_cpu_or_4(pcp, val)		arch_this_cpu_to_op(pcp, val, "lao")
#define this_cpu_or_8(pcp, val)		arch_this_cpu_to_op(pcp, val, "laog")

#endif /* CONFIG_HAVE_MARCH_Z196_FEATURES */

#define arch_this_cpu_cmpxchg(pcp, oval, nval)				\
({									\
	typedef typeof(pcp) pcp_op_T__;					\
	pcp_op_T__ ret__;						\
	pcp_op_T__ *ptr__;						\
	preempt_disable();						\
	ptr__ = raw_cpu_ptr(&(pcp));					\
	ret__ = cmpxchg(ptr__, oval, nval);				\
	preempt_enable();						\
	ret__;								\
})

#define this_cpu_cmpxchg_1(pcp, oval, nval) arch_this_cpu_cmpxchg(pcp, oval, nval)
#define this_cpu_cmpxchg_2(pcp, oval, nval) arch_this_cpu_cmpxchg(pcp, oval, nval)
#define this_cpu_cmpxchg_4(pcp, oval, nval) arch_this_cpu_cmpxchg(pcp, oval, nval)
#define this_cpu_cmpxchg_8(pcp, oval, nval) arch_this_cpu_cmpxchg(pcp, oval, nval)

#define arch_this_cpu_xchg(pcp, nval)					\
({									\
	typeof(pcp) *ptr__;						\
	typeof(pcp) ret__;						\
	preempt_disable();						\
	ptr__ = raw_cpu_ptr(&(pcp));					\
	ret__ = xchg(ptr__, nval);					\
	preempt_enable();						\
	ret__;								\
})

#define this_cpu_xchg_1(pcp, nval) arch_this_cpu_xchg(pcp, nval)
#define this_cpu_xchg_2(pcp, nval) arch_this_cpu_xchg(pcp, nval)
#define this_cpu_xchg_4(pcp, nval) arch_this_cpu_xchg(pcp, nval)
#define this_cpu_xchg_8(pcp, nval) arch_this_cpu_xchg(pcp, nval)

#define arch_this_cpu_cmpxchg_double(pcp1, pcp2, o1, o2, n1, n2)	\
({									\
	typeof(pcp1) o1__ = (o1), n1__ = (n1);				\
	typeof(pcp2) o2__ = (o2), n2__ = (n2);				\
	typeof(pcp1) *p1__;						\
	typeof(pcp2) *p2__;						\
	int ret__;							\
	preempt_disable();						\
	p1__ = raw_cpu_ptr(&(pcp1));					\
	p2__ = raw_cpu_ptr(&(pcp2));					\
	ret__ = __cmpxchg_double(p1__, p2__, o1__, o2__, n1__, n2__);	\
	preempt_enable();						\
	ret__;								\
})

#define this_cpu_cmpxchg_double_8 arch_this_cpu_cmpxchg_double

#include <asm-generic/percpu.h>

#endif /* __ARCH_S390_PERCPU__ */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      #include <generated/asm-offsets.h>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             /*
 *  KVM guest address space mapping code
 *
 *    Copyright IBM Corp. 2007, 2016
 *    Author(s): Martin Schwidefsky <schwidefsky@de.ibm.com>
 */

#ifndef _ASM_S390_GMAP_H
#define _ASM_S390_GMAP_H

/**
 * struct gmap_struct - guest address space
 * @list: list head for the mm->context gmap list
 * @crst_list: list of all crst tables used in the guest address space
 * @mm: pointer to the parent mm_struct
 * @guest_to_host: radix tree with guest to host address translation
 * @host_to_guest: radix tree with pointer to segment table entries
 * @guest_table_lock: spinlock to protect all entries in the guest page table
 * @ref_count: reference counter for the gmap structure
 * @table: pointer to the page directory
 * @asce: address space control element for gmap page table
 * @pfault_enabled: defines if pfaults are applicable for the guest
 * @host_to_rmap: radix tree with gmap_rmap lists
 * @children: list of shadow gmap structures
 * @pt_list: list of all page tables used in the shadow guest address space
 * @shadow_lock: spinlock to protect the shadow gmap list
 * @parent: pointer to the parent gmap for shadow guest address spaces
 * @orig_asce: ASCE for which the shadow page table has been created
 * @edat_level: edat level to be used for the shadow translation
 * @removed: flag to indicate if a shadow guest address space has been removed
 * @initialized: flag to indicate if a shadow guest address space can be used
 */
struct gmap {
	struct list_head list;
	struct list_head crst_list;
	struct mm_struct *mm;
	struct radix_tree_root guest_to_host;
	struct radix_tree_root host_to_guest;
	spinlock_t guest_table_lock;
	atomic_t ref_count;
	unsigned long *table;
	unsigned long asce;
	unsigned long asce_end;
	void *private;
	bool pfault_enabled;
	/* Additional data for shadow guest address spaces */
	struct radix_tree_root host_to_rmap;
	struct list_head children;
	struct list_head pt_list;
	spinlock_t shadow_lock;
	struct gmap *parent;
	unsigned long orig_asce;
	int edat_level;
	bool removed;
	bool initialized;
};

/**
 * struct gmap_rmap - reverse mapping for shadow page table entries
 * @next: pointer to next rmap in the list
 * @raddr: virtual rmap address in the shadow guest address space
 */
struct gmap_rmap {
	struct gmap_rmap *next;
	unsigned long raddr;
};

#define gmap_for_each_rmap(pos, head) \
	for (pos = (head); pos; pos = pos->next)

#define gmap_for_each_rmap_safe(pos, n, head) \
	for (pos = (head); n = pos ? pos->next : NULL, pos; pos = n)

/**
 * struct gmap_notifier - notify function block for page invalidation
 * @notifier_call: address of callback function
 */
struct gmap_notifier {
	struct list_head list;
	struct rcu_head rcu;
	void (*notifier_call)(struct gmap *gmap, unsigned long start,
			      unsigned long end);
};

static inline int gmap_is_shadow(struct gmap *gmap)
{
	return !!gmap->parent;
}

struct gmap *gmap_create(struct mm_struct *mm, unsigned long limit);
void gmap_remove(struct gmap *gmap);
struct gmap *gmap_get(struct gmap *gmap);
void gmap_put(struct gmap *gmap);

void gmap_enable(struct gmap *gmap);
void gmap_disable(struct gmap *gmap);
struct gmap *gmap_get_enabled(void);
int gmap_map_segment(struct gmap *gmap, unsigned long from,
		     unsigned long to, unsigned long len);
int gmap_unmap_segment(struct gmap *gmap, unsigned long to, unsigned long len);
unsigned long __gmap_translate(struct gmap *, unsigned long gaddr);
unsigned long gmap_translate(struct gmap *, unsigned long gaddr);
int __gmap_link(struct gmap *gmap, unsigned long gaddr, unsigned long vmaddr);
int gmap_fault(struct gmap *, unsigned long gaddr, unsigned int fault_flags);
void gmap_discard(struct gmap *, unsigned long from, unsigned long to);
void __gmap_zap(struct gmap *, unsigned long gaddr);
void gmap_unlink(struct mm_struct *, unsigned long *table, unsigned long vmaddr);

int gmap_read_table(struct gmap *gmap, unsigned long gaddr, unsigned long *val);

struct gmap *gmap_shadow(struct gmap *parent, unsigned long asce,
			 int edat_level);
int gmap_shadow_valid(struct gmap *sg, unsigned long asce, int edat_level);
int gmap_shadow_r2t(struct gmap *sg, unsigned long saddr, unsigned long r2t,
		    int fake);
int gmap_shadow_r3t(struct gmap *sg, unsigned long saddr, unsigned long r3t,
		    int fake);
int gmap_shadow_sgt(struct gmap *sg, unsigned long saddr, unsigned long sgt,
		    int fake);
int gmap_shadow_pgt(struct gmap *sg, unsigned long saddr, unsigned long pgt,
		    int fake);
int gmap_shadow_pgt_lookup(struct gmap *sg, unsigned long saddr,
			   unsigned long *pgt, int *dat_protection, int *fake);
int gmap_shadow_page(struct gmap *sg, unsigned long saddr, pte_t pte);

void gmap_register_pte_notifier(struct gmap_notifier *);
void gmap_unregister_pte_notifier(struct gmap_notifier *);
void gmap_pte_notify(struct mm_struct *, unsigned long addr, pte_t *,
		     unsigned long bits);

int gmap_mprotect_notify(struct gmap *, unsigned long start,
			 unsigned long len, int prot);

#endif /* _ASM_S390_GMAP_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   /*
 *  S390 version
 *
 *  Derived from "include/asm-i386/unistd.h"
 */
#ifndef _ASM_S390_UNISTD_H_
#define _ASM_S390_UNISTD_H_

#include <uapi/asm/unistd.h>

#define __IGNORE_time
#define __IGNORE_pkey_mprotect
#define __IGNORE_pkey_alloc
#define __IGNORE_pkey_free

#define __ARCH_WANT_OLD_READDIR
#define __ARCH_WANT_SYS_ALARM
#define __ARCH_WANT_SYS_GETHOSTNAME
#define __ARCH_WANT_SYS_PAUSE
#define __ARCH_WANT_SYS_SIGNAL
#define __ARCH_WANT_SYS_UTIME
#define __ARCH_WANT_SYS_SOCKETCALL
#define __ARCH_WANT_SYS_IPC
#define __ARCH_WANT_SYS_FADVISE64
#define __ARCH_WANT_SYS_GETPGRP
#define __ARCH_WANT_SYS_LLSEEK
#define __ARCH_WANT_SYS_NICE
#define __ARCH_WANT_SYS_OLD_GETRLIMIT
#define __ARCH_WANT_SYS_OLD_MMAP
#define __ARCH_WANT_SYS_OLDUMOUNT
#define __ARCH_WANT_SYS_SIGPENDING
#define __ARCH_WANT_SYS_SIGPROCMASK
# ifdef CONFIG_COMPAT
#   define __ARCH_WANT_COMPAT_SYS_TIME
# endif
#define __ARCH_WANT_SYS_FORK
#define __ARCH_WANT_SYS_VFORK
#define __ARCH_WANT_SYS_CLONE

#endif /* _ASM_S390_UNISTD_H_ */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          /*
 *  S390 version
 *    Copyright IBM Corp. 1999
 *
 *  Derived from "include/asm-i386/cache.h"
 *    Copyright (C) 1992, Linus Torvalds
 */

#ifndef __ARCH_S390_CACHE_H
#define __ARCH_S390_CACHE_H

#define L1_CACHE_BYTES     256
#define L1_CACHE_SHIFT     8
#define NET_SKB_PAD	   32

#define __read_mostly __section(.data..read_mostly)

#endif
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    /*
 *  S390 version
 *    Copyright IBM Corp. 1999
 *    Author(s): Hartmut Penner (hp@de.ibm.com),
 *               Martin Schwidefsky (schwidefsky@de.ibm.com)
 *
 *  Derived from "include/asm-i386/processor.h"
 *    Copyright (C) 1994, Linus Torvalds
 */

#ifndef __ASM_S390_PROCESSOR_H
#define __ASM_S390_PROCESSOR_H

#include <linux/const.h>

#define CIF_MCCK_PENDING	0	/* machine check handling is pending */
#define CIF_ASCE		1	/* user asce needs fixup / uaccess */
#define CIF_NOHZ_DELAY		2	/* delay HZ disable for a tick */
#define CIF_FPU			3	/* restore FPU registers */
#define CIF_IGNORE_IRQ		4	/* ignore interrupt (for udelay) */
#define CIF_ENABLED_WAIT	5	/* in enabled wait state */

#define _CIF_MCCK_PENDING	_BITUL(CIF_MCCK_PENDING)
#define _CIF_ASCE		_BITUL(CIF_ASCE)
#define _CIF_NOHZ_DELAY		_BITUL(CIF_NOHZ_DELAY)
#define _CIF_FPU		_BITUL(CIF_FPU)
#define _CIF_IGNORE_IRQ		_BITUL(CIF_IGNORE_IRQ)
#define _CIF_ENABLED_WAIT	_BITUL(CIF_ENABLED_WAIT)

#ifndef __ASSEMBLY__

#include <linux/linkage.h>
#include <linux/irqflags.h>
#include <asm/cpu.h>
#include <asm/page.h>
#include <asm/ptrace.h>
#include <asm/setup.h>
#include <asm/runtime_instr.h>
#include <asm/fpu/types.h>
#include <asm/fpu/internal.h>

static inline void set_cpu_flag(int flag)
{
	S390_lowcore.cpu_flags |= (1UL << flag);
}

static inline void clear_cpu_flag(int flag)
{
	S390_lowcore.cpu_flags &= ~(1UL << flag);
}

static inline int test_cpu_flag(int flag)
{
	return !!(S390_lowcore.cpu_flags & (1UL << flag));
}

/*
 * Test CIF flag of another CPU. The caller needs to ensure that
 * CPU hotplug can not happen, e.g. by disabling preemption.
 */
static inline int test_cpu_flag_of(int flag, int cpu)
{
	struct lowcore *lc = lowcore_ptr[cpu];
	return !!(lc->cpu_flags & (1UL << flag));
}

#define arch_needs_cpu() test_cpu_flag(CIF_NOHZ_DELAY)

/*
 * Default implementation of macro that returns current
 * instruction pointer ("program counter").
 */
#define current_text_addr() ({ void *pc; asm("basr %0,0" : "=a" (pc)); pc; })

static inline void get_cpu_id(struct cpuid *ptr)
{
	asm volatile("stidp %0" : "=Q" (*ptr));
}

void s390_adjust_jiffies(void);
void s390_update_cpu_mhz(void);
void cpu_detect_mhz_feature(void);

extern const struct seq_operations cpuinfo_op;
extern int sysctl_ieee_emulation_warnings;
extern void execve_tail(void);

/*
 * User space process size: 2GB for 31 bit, 4TB or 8PT for 64 bit.
 */

#define TASK_SIZE_OF(tsk)	((tsk)->mm ? \
				 (tsk)->mm->context.asce_limit : TASK_MAX_SIZE)
#define TASK_UNMAPPED_BASE	(test_thread_flag(TIF_31BIT) ? \
					(1UL << 30) : (1UL << 41))
#define TASK_SIZE		TASK_SIZE_OF(current)
#define TASK_MAX_SIZE		(1UL << 53)

#define STACK_TOP		(1UL << (test_thread_flag(TIF_31BIT) ? 31:42))
#define STACK_TOP_MAX		(1UL << 42)

#define HAVE_ARCH_PICK_MMAP_LAYOUT

typedef struct {
        __u32 ar4;
} mm_segment_t;

/*
 * Thread structure
 */
struct thread_struct {
	unsigned int  acrs[NUM_ACRS];
        unsigned long ksp;              /* kernel stack pointer             */
	mm_segment_t mm_segment;
	unsigned long gmap_addr;	/* address of last gmap fault. */
	unsigned int gmap_write_flag;	/* gmap fault write indication */
	unsigned int gmap_int_code;	/* int code of last gmap fault */
	unsigned int gmap_pfault;	/* signal of a pending guest pfault */
	struct per_regs per_user;	/* User specified PER registers */
	struct per_event per_event;	/* Cause of the last PER trap */
	unsigned long per_flags;	/* Flags to control debug behavior */
        /* pfault_wait is used to block the process on a pfault event */
	unsigned long pfault_wait;
	struct list_head list;
	/* cpu runtime instrumentation */
	struct runtime_instr_cb *ri_cb;
	unsigned char trap_tdb[256];	/* Transaction abort diagnose block */
	/*
	 * Warning: 'fpu' is dynamically-sized. It *MUST* be at
	 * the end.
	 */
	struct fpu fpu;			/* FP and VX register save area */
};

/* Flag to disable transactions. */
#define PER_FLAG_NO_TE			1UL
/* Flag to enable random transaction aborts. */
#define PER_FLAG_TE_ABORT_RAND		2UL
/* Flag to specify random transaction abort mode:
 * - abort each transaction at a random instruction before TEND if set.
 * - abort random transactions at a random instruction if cleared.
 */
#define PER_FLAG_TE_ABORT_RAND_TEND	4UL

typedef struct thread_struct thread_struct;

/*
 * Stack layout of a C stack frame.
 */
#ifndef __PACK_STACK
struct stack_frame {
	unsigned long back_chain;
	unsigned long empty1[5];
	unsigned long gprs[10];
	unsigned int  empty2[8];
};
#else
struct stack_frame {
	unsigned long empty1[5];
	unsigned int  empty2[8];
	unsigned long gprs[10];
	unsigned long back_chain;
};
#endif

#define ARCH_MIN_TASKALIGN	8

#define INIT_THREAD {							\
	.ksp = sizeof(init_stack) + (unsigned long) &init_stack,	\
	.fpu.regs = (void *) init_task.thread.fpu.fprs,			\
}

/*
 * Do necessary setup to start up a new thread.
 */
#define start_thread(regs, new_psw, new_stackp) do {			\
	regs->psw.mask	= PSW_USER_BITS | PSW_MASK_EA | PSW_MASK_BA;	\
	regs->psw.addr	= new_psw;					\
	regs->gprs[15]	= new_stackp;					\
	execve_tail();							\
} while (0)

#define start_thread31(regs, new_psw, new_stackp) do {			\
	regs->psw.mask	= PSW_USER_BITS | PSW_MASK_BA;			\
	regs->psw.addr	= new_psw;					\
	regs->gprs[15]	= new_stackp;					\
	crst_table_downgrade(current->mm);				\
	execve_tail();							\
} while (0)

/* Forward declaration, a strange C thing */
struct task_struct;
struct mm_struct;
struct seq_file;

typedef int (*dump_trace_func_t)(void *data, unsigned long address, int reliable);
void dump_trace(dump_trace_func_t func, void *data,
		struct task_struct *task, unsigned long sp);

void show_cacheinfo(struct seq_file *m);

/* Free all resources held by a thread. */
extern void release_thread(struct task_struct *);

/*
 * Return saved PC of a blocked thread.
 */
extern unsigned long thread_saved_pc(struct task_struct *t);

unsigned long get_wchan(struct task_struct *p);
#define task_pt_regs(tsk) ((struct pt_regs *) \
        (task_stack_page(tsk) + THREAD_SIZE) - 1)
#define KSTK_EIP(tsk)	(task_pt_regs(tsk)->psw.addr)
#define KSTK_ESP(tsk)	(task_pt_regs(tsk)->gprs[15])

/* Has task runtime instrumentation enabled ? */
#define is_ri_task(tsk) (!!(tsk)->thread.ri_cb)

static inline unsigned long current_stack_pointer(void)
{
	unsigned long sp;

	asm volatile("la %0,0(15)" : "=a" (sp));
	return sp;
}

static inline unsigned short stap(void)
{
	unsigned short cpu_address;

	asm volatile("stap %0" : "=m" (cpu_address));
	return cpu_address;
}

/*
 * Give up the time slice of the virtual PU.
 */
void cpu_relax(void);

#define cpu_relax_lowlatency()  barrier()

#define ECAG_CACHE_ATTRIBUTE	0
#define ECAG_CPU_ATTRIBUTE	1

static inline unsigned long __ecag(unsigned int asi, unsigned char parm)
{
	unsigned long val;

	asm volatile(".insn	rsy,0xeb000000004c,%0,0,0(%1)" /* ecag */
		     : "=d" (val) : "a" (asi << 8 | parm));
	return val;
}

static inline void psw_set_key(unsigned int key)
{
	asm volatile("spka 0(%0)" : : "d" (key));
}

/*
 * Set PSW to specified value.
 */
static inline void __load_psw(psw_t psw)
{
	asm volatile("lpswe %0" : : "Q" (psw) : "cc");
}

/*
 * Set PSW mask to specified value, while leaving the
 * PSW addr pointing to the next instruction.
 */
static inline void __load_psw_mask(unsigned long mask)
{
	unsigned long addr;
	psw_t psw;

	psw.mask = mask;

	asm volatile(
		"	larl	%0,1f\n"
		"	stg	%0,%O1+8(%R1)\n"
		"	lpswe	%1\n"
		"1:"
		: "=&d" (addr), "=Q" (psw) : "Q" (psw) : "memory", "cc");
}

/*
 * Extract current PSW mask
 */
static inline unsigned long __extract_psw(void)
{
	unsigned int reg1, reg2;

	asm volatile("epsw %0,%1" : "=d" (reg1), "=a" (reg2));
	return (((unsigned long) reg1) << 32) | ((unsigned long) reg2);
}

static inline void local_mcck_enable(void)
{
	__load_psw_mask(__extract_psw() | PSW_MASK_MCHECK);
}

static inline void local_mcck_disable(void)
{
	__load_psw_mask(__extract_psw() & ~PSW_MASK_MCHECK);
}

/*
 * Rewind PSW instruction address by specified number of bytes.
 */
static inline unsigned long __rewind_psw(psw_t psw, unsigned long ilc)
{
	unsigned long mask;

	mask = (psw.mask & PSW_MASK_EA) ? -1UL :
	       (psw.mask & PSW_MASK_BA) ? (1UL << 31) - 1 :
					  (1UL << 24) - 1;
	return (psw.addr - ilc) & mask;
}

/*
 * Function to stop a processor until the next interrupt occurs
 */
void enabled_wait(void);

/*
 * Function to drop a processor into disabled wait state
 */
static inline void __noreturn disabled_wait(unsigned long code)
{
	psw_t psw;

	psw.mask = PSW_MASK_BASE | PSW_MASK_WAIT | PSW_MASK_BA | PSW_MASK_EA;
	psw.addr = code;
	__load_psw(psw);
	while (1);
}

/*
 * Basic Machine Check/Program Check Handler.
 */

extern void s390_base_mcck_handler(void);
extern void s390_base_pgm_handler(void);
extern void s390_base_ext_handler(void);

extern void (*s390_base_mcck_handler_fn)(void);
extern void (*s390_base_pgm_handler_fn)(void);
extern void (*s390_base_ext_handler_fn)(void);

#define ARCH_LOW_ADDRESS_LIMIT	0x7fffffffUL

extern int memcpy_real(void *, void *, size_t);
extern void memcpy_absolute(void *, void *, size_t);

#define mem_assign_absolute(dest, val) {			\
	__typeof__(dest) __tmp = (val);				\
								\
	BUILD_BUG_ON(sizeof(__tmp) != sizeof(val));		\
	memcpy_absolute(&(dest), &__tmp, sizeof(__tmp));	\
}

#endif /* __ASSEMBLY__ */

#endif /* __ASM_S390_PROCESSOR_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           /*
 * Arch specific extensions to struct device
 *
 * This file is released under the GPLv2
 */
struct dev_archdata {
	struct dma_map_ops *dma_ops;
};

struct pdev_archdata {
};
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              #ifndef S390_CCWGROUP_H
#define S390_CCWGROUP_H

struct ccw_device;
struct ccw_driver;

/**
 * struct ccwgroup_device - ccw group device
 * @state: online/offline state
 * @count: number of attached slave devices
 * @dev: embedded device structure
 * @cdev: variable number of slave devices, allocated as needed
 * @ungroup_work: work to be done when a ccwgroup notifier has action
 *	type %BUS_NOTIFY_UNBIND_DRIVER
 */
struct ccwgroup_device {
	enum {
		CCWGROUP_OFFLINE,
		CCWGROUP_ONLINE,
	} state;
/* private: */
	atomic_t onoff;
	struct mutex reg_mutex;
/* public: */
	unsigned int count;
	struct device	dev;
	struct work_struct ungroup_work;
	struct ccw_device *cdev[0];
};

/**
 * struct ccwgroup_driver - driver for ccw group devices
 * @setup: function called during device creation to setup the device
 * @remove: function called on remove
 * @set_online: function called when device is set online
 * @set_offline: function called when device is set offline
 * @shutdown: function called when device is shut down
 * @prepare: prepare for pm state transition
 * @complete: undo work done in @prepare
 * @freeze: callback for freezing during hibernation snapshotting
 * @thaw: undo work done in @freeze
 * @restore: callback for restoring after hibernation
 * @driver: embedded driver structure
 */
struct ccwgroup_driver {
	int (*setup) (struct ccwgroup_device *);
	void (*remove) (struct ccwgroup_device *);
	int (*set_online) (struct ccwgroup_device *);
	int (*set_offline) (struct ccwgroup_device *);
	void (*shutdown)(struct ccwgroup_device *);
	int (*prepare) (struct ccwgroup_device *);
	void (*complete) (struct ccwgroup_device *);
	int (*freeze)(struct ccwgroup_device *);
	int (*thaw) (struct ccwgroup_device *);
	int (*restore)(struct ccwgroup_device *);

	struct device_driver driver;
};

extern int  ccwgroup_driver_register   (struct ccwgroup_driver *cdriver);
extern void ccwgroup_driver_unregister (struct ccwgroup_driver *cdriver);
int ccwgroup_create_dev(struct device *root, struct ccwgroup_driver *gdrv,
			int num_devices, const char *buf);

extern int ccwgroup_set_online(struct ccwgroup_device *gdev);
extern int ccwgroup_set_offline(struct ccwgroup_device *gdev);

extern int ccwgroup_probe_ccwdev(struct ccw_device *cdev);
extern void ccwgroup_remove_ccwdev(struct ccw_device *cdev);

#define to_ccwgroupdev(x) container_of((x), struct ccwgroup_device, dev)
#define to_ccwgroupdrv(x) container_of((x), struct ccwgroup_driver, driver)
#endif
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      #ifndef _ASM_S390_SERIAL_H
#define _ASM_S390_SERIAL_H

#define BASE_BAUD 0

#endif /* _ASM_S390_SERIAL_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    #ifndef _UAPIS390_CMB_H
#define _UAPIS390_CMB_H

#include <linux/types.h>

/**
 * struct cmbdata - channel measurement block data for user space
 * @size: size of the stored data
 * @elapsed_time: time since last sampling
 * @ssch_rsch_count: number of ssch and rsch
 * @sample_count: number of samples
 * @device_connect_time: time of device connect
 * @function_pending_time: time of function pending
 * @device_disconnect_time: time of device disconnect
 * @control_unit_queuing_time: time of control unit queuing
 * @device_active_only_time: time of device active only
 * @device_busy_time: time of device busy (ext. format)
 * @initial_command_response_time: initial command response time (ext. format)
 *
 * All values are stored as 64 bit for simplicity, especially
 * in 32 bit emulation mode. All time values are normalized to
 * nanoseconds.
 * Currently, two formats are known, which differ by the size of
 * this structure, i.e. the last two members are only set when
 * the extended channel measurement facility (first shipped in
 * z990 machines) is activated.
 * Potentially, more fields could be added, which would result in a
 * new ioctl number.
 */
struct cmbdata {
	__u64 size;
	__u64 elapsed_time;
 /* basic and exended format: */
	__u64 ssch_rsch_count;
	__u64 sample_count;
	__u64 device_connect_time;
	__u64 function_pending_time;
	__u64 device_disconnect_time;
	__u64 control_unit_queuing_time;
	__u64 device_active_only_time;
 /* extended format only: */
	__u64 device_busy_time;
	__u64 initial_command_response_time;
};

/* enable channel measurement */
#define BIODASDCMFENABLE	_IO(DASD_IOCTL_LETTER, 32)
/* enable channel measurement */
#define BIODASDCMFDISABLE	_IO(DASD_IOCTL_LETTER, 33)
/* read channel measurement data */
#define BIODASDREADALLCMB	_IOWR(DASD_IOCTL_LETTER, 33, struct cmbdata)

#endif /* _UAPIS390_CMB_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                /*
 * ioctl definitions for qeth driver
 *
 * Copyright IBM Corp. 2004
 *
 * Author(s):	Thomas Spatzier <tspat@de.ibm.com>
 *
 */
#ifndef __ASM_S390_QETH_IOCTL_H__
#define __ASM_S390_QETH_IOCTL_H__
#include <linux/types.h>
#include <linux/ioctl.h>

#define SIOC_QETH_ARP_SET_NO_ENTRIES    (SIOCDEVPRIVATE)
#define SIOC_QETH_ARP_QUERY_INFO        (SIOCDEVPRIVATE + 1)
#define SIOC_QETH_ARP_ADD_ENTRY         (SIOCDEVPRIVATE + 2)
#define SIOC_QETH_ARP_REMOVE_ENTRY      (SIOCDEVPRIVATE + 3)
#define SIOC_QETH_ARP_FLUSH_CACHE       (SIOCDEVPRIVATE + 4)
#define SIOC_QETH_ADP_SET_SNMP_CONTROL  (SIOCDEVPRIVATE + 5)
#define SIOC_QETH_GET_CARD_TYPE         (SIOCDEVPRIVATE + 6)
#define SIOC_QETH_QUERY_OAT		(SIOCDEVPRIVATE + 7)

struct qeth_arp_cache_entry {
	__u8  macaddr[6];
	__u8  reserved1[2];
	__u8  ipaddr[16]; /* for both  IPv4 and IPv6 */
	__u8  reserved2[32];
} __attribute__ ((packed));

enum qeth_arp_ipaddrtype {
	QETHARP_IP_ADDR_V4 = 1,
	QETHARP_IP_ADDR_V6 = 2,
};
struct qeth_arp_entrytype {
	__u8 mac;
	__u8 ip;
} __attribute__((packed));

#define QETH_QARP_MEDIASPECIFIC_BYTES 32
#define QETH_QARP_MACADDRTYPE_BYTES 1
struct qeth_arp_qi_entry7 {
	__u8 media_specific[QETH_QARP_MEDIASPECIFIC_BYTES];
	struct qeth_arp_entrytype type;
	__u8 macaddr[6];
	__u8 ipaddr[4];
} __attribute__((packed));

struct qeth_arp_qi_entry7_ipv6 {
	__u8 media_specific[QETH_QARP_MEDIASPECIFIC_BYTES];
	struct qeth_arp_entrytype type;
	__u8 macaddr[6];
	__u8 ipaddr[16];
} __attribute__((packed));

struct qeth_arp_qi_entry7_short {
	struct qeth_arp_entrytype type;
	__u8 macaddr[6];
	__u8 ipaddr[4];
} __attribute__((packed));

struct qeth_arp_qi_entry7_short_ipv6 {
	struct qeth_arp_entrytype type;
	__u8 macaddr[6];
	__u8 ipaddr[16];
} __attribute__((packed));

struct qeth_arp_qi_entry5 {
	__u8 media_specific[QETH_QARP_MEDIASPECIFIC_BYTES];
	struct qeth_arp_entrytype type;
	__u8 ipaddr[4];
} __attribute__((packed));

struct qeth_arp_qi_entry5_ipv6 {
	__u8 media_specific[QETH_QARP_MEDIASPECIFIC_BYTES];
	struct qeth_arp_entrytype type;
	__u8 ipaddr[16];
} __attribute__((packed));

struct qeth_arp_qi_entry5_short {
	struct qeth_arp_entrytype type;
	__u8 ipaddr[4];
} __attribute__((packed));

struct qeth_arp_qi_entry5_short_ipv6 {
	struct qeth_arp_entrytype type;
	__u8 ipaddr[16];
} __attribute__((packed));
/*
 * can be set by user if no "media specific information" is wanted
 * -> saves a lot of space in user space buffer
 */
#define QETH_QARP_STRIP_ENTRIES  0x8000
#define QETH_QARP_WITH_IPV6	 0x4000
#define QETH_QARP_REQUEST_MASK   0x00ff

/* data sent to user space as result of query arp ioctl */
#define QETH_QARP_USER_DATA_SIZE 20000
#define QETH_QARP_MASK_OFFSET    4
#define QETH_QARP_ENTRIES_OFFSET 6
struct qeth_arp_query_user_data {
	union {
		__u32 data_len;		/* set by user space program */
		__u32 no_entries;	/* set by kernel */
	} u;
	__u16 mask_bits;
	char *entries;
} __attribute__((packed));

struct qeth_query_oat_data {
	__u32 command;
	__u32 buffer_len;
	__u32 response_len;
	__u64 ptr;
};
#endif /* __ASM_S390_QETH_IOCTL_H__ */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                #ifndef __ASMS390_AUXVEC_H
#define __ASMS390_AUXVEC_H

#define AT_SYSINFO_EHDR		33

#define AT_VECTOR_SIZE_ARCH 1 /* entries in ARCH_DLINFO */

#endif
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         #ifndef __ARCH_S390_IOCTLS_H__
#define __ARCH_S390_IOCTLS_H__

#define FIOQSIZE	0x545E

#include <asm-generic/ioctls.h>

#endif
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                /*
 *  S390 version
 *
 *  Derived from "include/asm-i386/siginfo.h"
 */

#ifndef _S390_SIGINFO_H
#define _S390_SIGINFO_H

#ifdef __s390x__
#define __ARCH_SI_PREAMBLE_SIZE (4 * sizeof(int))
#endif

#include <asm-generic/siginfo.h>

#endif
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 /*
 *  S390 version
 *
 *  Derived from "include/asm-i386/socket.h"
 */

#ifndef _ASM_SOCKET_H
#define _ASM_SOCKET_H

#include <asm/sockios.h>

/* For setsockopt(2) */
#define SOL_SOCKET	1

#define SO_DEBUG	1
#define SO_REUSEADDR	2
#define SO_TYPE		3
#define SO_ERROR	4
#define SO_DONTROUTE	5
#define SO_BROADCAST	6
#define SO_SNDBUF	7
#define SO_RCVBUF	8
#define SO_SNDBUFFORCE	32
#define SO_RCVBUFFORCE	33
#define SO_KEEPALIVE	9
#define SO_OOBINLINE	10
#define SO_NO_CHECK	11
#define SO_PRIORITY	12
#define SO_LINGER	13
#define SO_BSDCOMPAT	14
#define SO_REUSEPORT	15
#define SO_PASSCRED	16
#define SO_PEERCRED	17
#define SO_RCVLOWAT	18
#define SO_SNDLOWAT	19
#define SO_RCVTIMEO	20
#define SO_SNDTIMEO	21

/* Security levels - as per NRL IPv6 - don't actually do anything */
#define SO_SECURITY_AUTHENTICATION		22
#define SO_SECURITY_ENCRYPTION_TRANSPORT	23
#define SO_SECURITY_ENCRYPTION_NETWORK		24

#define SO_BINDTODEVICE	25

/* Socket filtering */
#define SO_ATTACH_FILTER        26
#define SO_DETACH_FILTER        27
#define SO_GET_FILTER		SO_ATTACH_FILTER

#define SO_PEERNAME		28
#define SO_TIMESTAMP		29
#define SCM_TIMESTAMP		SO_TIMESTAMP

#define SO_ACCEPTCONN		30

#define SO_PEERSEC		31
#define SO_PASSSEC		34
#define SO_TIMESTAMPNS		35
#define SCM_TIMESTAMPNS		SO_TIMESTAMPNS

#define SO_MARK			36

#define SO_TIMESTAMPING		37
#define SCM_TIMESTAMPING	SO_TIMESTAMPING

#define SO_PROTOCOL		38
#define SO_DOMAIN		39

#define SO_RXQ_OVFL             40

#define SO_WIFI_STATUS		41
#define SCM_WIFI_STATUS		SO_WIFI_STATUS
#define SO_PEEK_OFF		42

/* Instruct lower device to use last 4-bytes of skb data as FCS */
#define SO_NOFCS		43

#define SO_LOCK_FILTER		44

#define SO_SELECT_ERR_QUEUE	45

#define SO_BUSY_POLL		46

#define SO_MAX_PACING_RATE	47

#define SO_BPF_EXTENSIONS	48

#define SO_INCOMING_CPU		49

#define SO_ATTACH_BPF		50
#define SO_DETACH_BPF		SO_DETACH_FILTER

#define SO_ATTACH_REUSEPORT_CBPF	51
#define SO_ATTACH_REUSEPORT_EBPF	52

#define SO_CNX_ADVICE		53

#endif /* _ASM_SOCKET_H */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            /*
 * ioctl interface for /dev/chsc
 *
 * Copyright IBM Corp. 2008, 2012
 * Author(s): Cornelia Huck <cornelia.huck@de.ibm.com>
 */

#ifndef _ASM_CHSC_H
#define _ASM_CHSC_H

#include <linux/types.h>
#include <linux/ioctl.h>
#include <asm/chpid.h>
#include <asm/schid.h>

#define CHSC_SIZE 0x1000

struct chsc_async_header {
	__u16 length;
	__u16 code;
	__u32 cmd_dependend;
	__u32 key : 4;
	__u32 : 28;
	struct subchannel_id sid;
} __attribute__ ((packed));

struct chsc_async_area {
	struct chsc_async_header header;
	__u8 data[CHSC_SIZE - sizeof(struct chsc_async_header)];
} __attribute__ ((packed));

struct chsc_header {
	__u16 length;
	__u16 code;
} __attribute__ ((packed));

struct chsc_sync_area {
	struct chsc_header header;
	__u8 data[CHSC_SIZE - sizeof(struct chsc_header)];
} __attribute__ ((packed));

struct chsc_response_struct {
	__u16 length;
	__u16 code;
	__u32 parms;
	__u8 data[CHSC_SIZE - 2 * sizeof(__u16) - sizeof(__u32)];
} __attribute__ ((packed));

struct chsc_chp_cd {
	struct chp_id chpid;
	int m;
	int fmt;
	struct chsc_response_struct cpcb;
};

struct chsc_cu_cd {
	__u16 cun;
	__u8 cssid;
	int m;
	int fmt;
	struct chsc_response_struct cucb;
};

struct chsc_sch_cud {
	struct subchannel_id schid;
	int fmt;
	struct chsc_response_struct scub;
};

struct conf_id {
	int m;
	__u8 cssid;
	__u8 ssid;
};

struct chsc_conf_info {
	struct conf_id id;
	int fmt;
	struct chsc_response_struct scid;
};

struct ccl_parm_chpid {
	int m;
	struct chp_id chp;
};

struct ccl_parm_cssids {
	__u8 f_cssid;
	__u8 l_cssid;
};

struct chsc_comp_list {
	struct {
		enum {
			CCL_CU_ON_CHP = 1,
			CCL_CHP_TYPE_CAP = 2,
			CCL_CSS_IMG = 4,
			CCL_CSS_IMG_CONF_CHAR = 5,
			CCL_IOP_CHP = 6,
		} ctype;
		int fmt;
		struct ccl_parm_chpid chpid;
		struct ccl_parm_cssids cssids;
	} req;
	struct chsc_response_struct sccl;
};

struct chsc_dcal {
	struct {
		enum {
			DCAL_CSS_IID_PN = 4,
		} atype;
		__u32 list_parm[2];
		int fmt;
	} req;
	struct chsc_response_struct sdcal;
};

struct chsc_cpd_info {
	struct chp_id chpid;
	int m;
	int fmt;
	int rfmt;
	int c;
	struct chsc_response_struct chpdb;
};

#define CHSC_IOCTL_MAGIC 'c'

#define CHSC_START _IOWR(CHSC_IOCTL_MAGIC, 0x81, struct chsc_async_area)
#define CHSC_INFO_CHANNEL_PATH _IOWR(CHSC_IOCTL_MAGIC, 0x82, \
				    struct chsc_chp_cd)
#define CHSC_INFO_CU _IOWR(CHSC_IOCTL_MAGIC, 0x83, struct chsc_cu_cd)
#define CHSC_INFO_SCH_CU _IOWR(CHSC_IOCTL_MAGIC, 0x84, struct chsc_sch_cud)
#define CHSC_INFO_CI _IOWR(CHSC_IOCTL_MAGIC, 0x85, struct chsc_conf_info)
#define CHSC_INFO_CCL _IOWR(CHSC_IOCTL_MAGIC, 0x86, struct chsc_comp_list)
#define CHSC_INFO_CPD _IOWR(CHSC_IOCTL_MAGIC, 0x87, struct chsc_cpd_info)
#define CHSC_INFO_DCAL _IOWR(CHSC_IOCTL_MAGIC, 0x88, struct chsc_dcal)
#define CHSC_START_SYNC _IOWR(CHSC_IOCTL_MAGIC, 0x89, struct chsc_sync_area)
#define CHSC_ON_CLOSE_SET _IOWR(CHSC_IOCTL_MAGIC, 0x8a, struct chsc_async_area)
#define CHSC_ON_CLOSE_REMOVE _IO(CHSC_IOCTL_MAGIC, 0x8b)

#endif
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           /*
 * definition for virtio for kvm on s390
 *
 * Copyright IBM Corp. 2008
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License (version 2 only)
 * as published by the Free Software Foundation.
 *
 *    Author(s): Christian Borntraeger <borntraeger@de.ibm.com>
 */

#ifndef __KVM_S390_VIRTIO_H
#define __KVM_S390_VIRTIO_H

#include <linux/types.h>

struct kvm_device_desc {
	/* The device type: console, network, disk etc.  Type 0 terminates. */
	__u8 type;
	/* The number of virtqueues (first in config array) */
	__u8 num_vq;
	/*
	 * The number of bytes of feature bits.  Multiply by 2: one for host
	 * features and one for guest acknowledgements.
	 */
	__u8 feature_len;
	/* The number of bytes of the config array after virtqueues. */
	__u8 config_len;
	/* A status byte, written by the Guest. */
	__u8 status;
	__u8 config[0];
};

/*
 * This is how we expect the device configuration field for a virtqueue
 * to be laid out in config space.
 */
struct kvm_vqconfig {
	/* The token returned with an interrupt. Set by the guest */
	__u64 token;
	/* The address of the virtio ring */
	__u64 address;
	/* The number of entries in the virtio_ring */
	__u16 num;

};

#define KVM_S390_VIRTIO_NOTIFY		0
#define KVM_S390_VIRTIO_RESET		1
#define KVM_S390_VIRTIO_SET_STATUS	2

/* The alignment to use between consumer and producer parts of vring.
 * This is pagesize for historical reasons. */
#define KVM_S390_VIRTIO_RING_ALIGN	4096


/* These values are supposed to be in ext_params on an interrupt */
#define VIRTIO_PARAM_MASK		0xff
#define VIRTIO_PARAM_VRING_INTERRUPT	0x0
#define VIRTIO_PARAM_CONFIG_CHANGED	0x1
#define VIRTIO_PARAM_DEV_ADD		0x2

#endif
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           4a7f9a93ccbebb6e6d08730090e27386  usr/lib/arm-linux-gnueabihf/libuv.so.1.0.0
9964ae6fa6e9345374b891157f45eaef  usr/share/doc/libuv1/changelog.Debian.gz
a7a7fe8732b69ca2ba6eeb81c2029c68  usr/share/doc/libuv1/changelog.gz
7be5af591b6a0e994d3a474b4dccd5a1  usr/share/doc/libuv1/copyright
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Package: libuv1
Version: 1.18.0-3~bpo9+1
Architecture: armhf
Maintainer: Debian Javascript Maintainers <pkg-javascript-devel@lists.alioth.debian.org>
Installed-Size: 189
Depends: libc6 (>= 2.7)
Section: libs
Priority: optional
Multi-Arch: same
Homepage: https://github.com/libuv/libuv
Description: asynchronous event notification library - runtime library
 Libuv is the asynchronous library behind Node.js. Very similar to libevent or
 libev, it provides the main elements for event driven systems: watching and
 waiting for availability in a set of sockets, and some other events like timers
 or asynchronous messages. However, libuv also comes with some other extras
 like:
  * files watchers and asynchronous operations
  * a portable TCP and UDP API, as well as asynchronous DNS resolution
  * processes and threads management, and a portable inter-process
    communications mechanism, with pipes and work queues
  * a plugins mechanism for loading libraries dynamically
  * interface with external libraries that also need to access the I/O.
 .
 This package includes the dynamic library against which you can link
 your program.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                libuv.so.1 libuv1 #MINVER#
 uv__accept4@Base 1.11.0
 uv__accept@Base 1.11.0
 uv__async_close@Base 1.11.0
 uv__async_fork@Base 1.18.0
 uv__async_stop@Base 1.11.0
 uv__calloc@Base 1.11.0
 uv__check_close@Base 1.11.0
 uv__cloexec_fcntl@Base 1.11.0
 uv__cloexec_ioctl@Base 1.11.0
 uv__close@Base 1.11.0
 uv__close_nocheckstdio@Base 1.11.0
 uv__count_bufs@Base 1.11.0
 uv__dup2_cloexec@Base 1.11.0
 uv__dup3@Base 1.11.0
 uv__dup@Base 1.11.0
 uv__epoll_create1@Base 1.11.0
 uv__epoll_create@Base 1.11.0
 uv__epoll_ctl@Base 1.11.0
 uv__epoll_pwait@Base 1.11.0
 uv__epoll_wait@Base 1.11.0
 uv__eventfd2@Base 1.11.0
 uv__eventfd@Base 1.11.0
 uv__free@Base 1.11.0
 uv__fs_event_close@Base 1.11.0
 uv__fs_poll_close@Base 1.11.0
 uv__fs_scandir_cleanup@Base 1.11.0
 uv__getaddrinfo_translate_error@Base 1.11.0
 uv__getiovmax@Base 1.11.0
 uv__getpwuid_r@Base 1.11.0
 uv__handle_type@Base 1.11.0
 uv__hrtime@Base 1.11.0
 uv__idle_close@Base 1.11.0
 uv__inotify_add_watch@Base 1.11.0
 uv__inotify_fork@Base 1.18.0
 uv__inotify_init1@Base 1.11.0
 uv__inotify_init@Base 1.11.0
 uv__inotify_rm_watch@Base 1.11.0
 uv__io_active@Base 1.11.0
 uv__io_check_fd@Base 1.11.0
 uv__io_close@Base 1.11.0
 uv__io_feed@Base 1.11.0
 uv__io_fork@Base 1.18.0
 uv__io_init@Base 1.11.0
 uv__io_poll@Base 1.11.0
 uv__io_start@Base 1.11.0
 uv__io_stop@Base 1.11.0
 uv__loop_close@Base 1.11.0
 uv__loop_configure@Base 1.11.0
 uv__make_close_pending@Base 1.11.0
 uv__make_pipe@Base 1.11.0
 uv__make_socketpair@Base 1.11.0
 uv__malloc@Base 1.11.0
 uv__next_timeout@Base 1.11.0
 uv__nonblock_fcntl@Base 1.11.0
 uv__nonblock_ioctl@Base 1.11.0
 uv__open_cloexec@Base 1.11.0
 uv__open_file@Base 1.11.0
 uv__pipe2@Base 1.11.0
 uv__pipe_close@Base 1.11.0
 uv__platform_invalidate_fd@Base 1.11.0
 uv__platform_loop_delete@Base 1.11.0
 uv__platform_loop_init@Base 1.11.0
 uv__poll_close@Base 1.11.0
 uv__preadv@Base 1.11.0
 uv__prepare_close@Base 1.11.0
 uv__process_close@Base 1.11.0
 uv__pwritev@Base 1.11.0
 uv__realloc@Base 1.11.0
 uv__recvmmsg@Base 1.11.0
 uv__recvmsg@Base 1.11.0
 uv__run_check@Base 1.11.0
 uv__run_idle@Base 1.11.0
 uv__run_prepare@Base 1.11.0
 uv__run_timers@Base 1.11.0
 uv__sendmmsg@Base 1.11.0
 uv__server_io@Base 1.11.0
 uv__set_process_title@Base 1.11.0
 uv__signal_close@Base 1.11.0
 uv__signal_global_once_init@Base 1.11.0
 uv__signal_loop_cleanup@Base 1.11.0
 uv__signal_loop_fork@Base 1.18.0
 uv__socket@Base 1.11.0
 uv__socket_sockopt@Base 1.11.0
 uv__strdup@Base 1.11.0
 uv__stream_close@Base 1.11.0
 uv__stream_destroy@Base 1.11.0
 uv__stream_flush_write_queue@Base 1.11.0
 uv__stream_init@Base 1.11.0
 uv__stream_open@Base 1.11.0
 uv__strndup@Base 1.11.0
 uv__tcp_bind@Base 1.11.0
 uv__tcp_close@Base 1.11.0
 uv__tcp_connect@Base 1.11.0
 uv__tcp_keepalive@Base 1.11.0
 uv__tcp_nodelay@Base 1.11.0
 uv__timer_close@Base 1.11.0
 uv__udp_bind@Base 1.11.0
 uv__udp_close@Base 1.11.0
 uv__udp_finish_close@Base 1.11.0
 uv__udp_recv_start@Base 1.11.0
 uv__udp_recv_stop@Base 1.11.0
 uv__udp_send@Base 1.11.0
 uv__udp_try_send@Base 1.11.0
 uv__utimesat@Base 1.11.0
 uv__work_done@Base 1.11.0
 uv__work_submit@Base 1.11.0
 uv_accept@Base 1.4.2
 uv_async_init@Base 1.4.2
 uv_async_send@Base 1.4.2
 uv_backend_fd@Base 1.4.2
 uv_backend_timeout@Base 1.4.2
 uv_barrier_destroy@Base 1.4.2
 uv_barrier_init@Base 1.4.2
 uv_barrier_wait@Base 1.4.2
 uv_buf_init@Base 1.4.2
 uv_cancel@Base 1.4.2
 uv_chdir@Base 1.4.2
 uv_check_init@Base 1.4.2
 uv_check_start@Base 1.4.2
 uv_check_stop@Base 1.4.2
 uv_close@Base 1.4.2
 uv_cond_broadcast@Base 1.4.2
 uv_cond_destroy@Base 1.4.2
 uv_cond_init@Base 1.4.2
 uv_cond_signal@Base 1.4.2
 uv_cond_timedwait@Base 1.4.2
 uv_cond_wait@Base 1.4.2
 uv_cpu_info@Base 1.4.2
 uv_cwd@Base 1.4.2
 uv_default_loop@Base 1.4.2
 uv_disable_stdio_inheritance@Base 1.4.2
 uv_dlclose@Base 1.4.2
 uv_dlerror@Base 1.4.2
 uv_dlopen@Base 1.4.2
 uv_dlsym@Base 1.4.2
 uv_err_name@Base 1.4.2
 uv_exepath@Base 1.4.2
 uv_fileno@Base 1.4.2
 uv_free_cpu_info@Base 1.4.2
 uv_free_interface_addresses@Base 1.4.2
 uv_freeaddrinfo@Base 1.4.2
 uv_fs_access@Base 1.4.2
 uv_fs_chmod@Base 1.4.2
 uv_fs_chown@Base 1.4.2
 uv_fs_close@Base 1.4.2
 uv_fs_copyfile@Base 1.18.0
 uv_fs_event_getpath@Base 1.4.2
 uv_fs_event_init@Base 1.4.2
 uv_fs_event_start@Base 1.4.2
 uv_fs_event_stop@Base 1.4.2
 uv_fs_fchmod@Base 1.4.2
 uv_fs_fchown@Base 1.4.2
 uv_fs_fdatasync@Base 1.4.2
 uv_fs_fstat@Base 1.4.2
 uv_fs_fsync@Base 1.4.2
 uv_fs_ftruncate@Base 1.4.2
 uv_fs_futime@Base 1.4.2
 uv_fs_link@Base 1.4.2
 uv_fs_lstat@Base 1.4.2
 uv_fs_mkdir@Base 1.4.2
 uv_fs_mkdtemp@Base 1.4.2
 uv_fs_open@Base 1.4.2
 uv_fs_poll_getpath@Base 1.4.2
 uv_fs_poll_init@Base 1.4.2
 uv_fs_poll_start@Base 1.4.2
 uv_fs_poll_stop@Base 1.4.2
 uv_fs_read@Base 1.4.2
 uv_fs_readlink@Base 1.4.2
 uv_fs_realpath@Base 1.8.0
 uv_fs_rename@Base 1.4.2
 uv_fs_req_cleanup@Base 1.4.2
 uv_fs_rmdir@Base 1.4.2
 uv_fs_scandir@Base 1.4.2
 uv_fs_scandir_next@Base 1.4.2
 uv_fs_sendfile@Base 1.4.2
 uv_fs_stat@Base 1.4.2
 uv_fs_symlink@Base 1.4.2
 uv_fs_unlink@Base 1.4.2
 uv_fs_utime@Base 1.4.2
 uv_fs_write@Base 1.4.2
 uv_get_free_memory@Base 1.4.2
 uv_get_osfhandle@Base 1.18.0
 uv_get_process_title@Base 1.4.2
 uv_get_total_memory@Base 1.4.2
 uv_getaddrinfo@Base 1.4.2
 uv_getnameinfo@Base 1.4.2
 uv_getrusage@Base 1.4.2
 uv_guess_handle@Base 1.4.2
 uv_handle_size@Base 1.4.2
 uv_has_ref@Base 1.4.2
 uv_hrtime@Base 1.4.2
 uv_idle_init@Base 1.4.2
 uv_idle_start@Base 1.4.2
 uv_idle_stop@Base 1.4.2
 uv_if_indextoiid@Base 1.18.0
 uv_if_indextoname@Base 1.18.0
 uv_inet_ntop@Base 1.4.2
 uv_inet_pton@Base 1.4.2
 uv_interface_addresses@Base 1.4.2
 uv_ip4_addr@Base 1.4.2
 uv_ip4_name@Base 1.4.2
 uv_ip6_addr@Base 1.4.2
 uv_ip6_name@Base 1.4.2
 uv_is_active@Base 1.4.2
 uv_is_closing@Base 1.4.2
 uv_is_readable@Base 1.4.2
 uv_is_writable@Base 1.4.2
 uv_key_create@Base 1.4.2
 uv_key_delete@Base 1.4.2
 uv_key_get@Base 1.4.2
 uv_key_set@Base 1.4.2
 uv_kill@Base 1.4.2
 uv_listen@Base 1.4.2
 uv_loadavg@Base 1.4.2
 uv_loop_alive@Base 1.4.2
 uv_loop_close@Base 1.4.2
 uv_loop_configure@Base 1.4.2
 uv_loop_delete@Base 1.4.2
 uv_loop_fork@Base 1.18.0
 uv_loop_init@Base 1.4.2
 uv_loop_new@Base 1.4.2
 uv_loop_size@Base 1.4.2
 uv_mutex_destroy@Base 1.4.2
 uv_mutex_init@Base 1.4.2
 uv_mutex_init_recursive@Base 1.18.0
 uv_mutex_lock@Base 1.4.2
 uv_mutex_trylock@Base 1.4.2
 uv_mutex_unlock@Base 1.4.2
 uv_now@Base 1.4.2
 uv_once@Base 1.4.2
 uv_os_free_passwd@Base 1.9.0~
 uv_os_get_passwd@Base 1.9.0~
 uv_os_getenv@Base 1.18.0
 uv_os_gethostname@Base 1.18.0
 uv_os_getpid@Base 1.18.0
 uv_os_getppid@Base 1.18.0
 uv_os_homedir@Base 1.6.1
 uv_os_setenv@Base 1.18.0
 uv_os_tmpdir@Base 1.9.0~
 uv_os_unsetenv@Base 1.18.0
 uv_pipe_bind@Base 1.4.2
 uv_pipe_chmod@Base 1.18.0
 uv_pipe_connect@Base 1.4.2
 uv_pipe_getpeername@Base 1.4.2
 uv_pipe_getsockname@Base 1.4.2
 uv_pipe_init@Base 1.4.2
 uv_pipe_listen@Base 1.11.0
 uv_pipe_open@Base 1.4.2
 uv_pipe_pending_count@Base 1.4.2
 uv_pipe_pending_instances@Base 1.4.2
 uv_pipe_pending_type@Base 1.4.2
 uv_poll_init@Base 1.4.2
 uv_poll_init_socket@Base 1.4.2
 uv_poll_start@Base 1.4.2
 uv_poll_stop@Base 1.4.2
 uv_prepare_init@Base 1.4.2
 uv_prepare_start@Base 1.4.2
 uv_prepare_stop@Base 1.4.2
 uv_print_active_handles@Base 1.8.0
 uv_print_all_handles@Base 1.8.0
 uv_process_kill@Base 1.4.2
 uv_queue_work@Base 1.4.2
 uv_read_start@Base 1.4.2
 uv_read_stop@Base 1.4.2
 uv_recv_buffer_size@Base 1.4.2
 uv_ref@Base 1.4.2
 uv_replace_allocator@Base 1.6.1
 uv_req_size@Base 1.4.2
 uv_resident_set_memory@Base 1.4.2
 uv_run@Base 1.4.2
 uv_rwlock_destroy@Base 1.4.2
 uv_rwlock_init@Base 1.4.2
 uv_rwlock_rdlock@Base 1.4.2
 uv_rwlock_rdunlock@Base 1.4.2
 uv_rwlock_tryrdlock@Base 1.4.2
 uv_rwlock_trywrlock@Base 1.4.2
 uv_rwlock_wrlock@Base 1.4.2
 uv_rwlock_wrunlock@Base 1.4.2
 uv_sem_destroy@Base 1.4.2
 uv_sem_init@Base 1.4.2
 uv_sem_post@Base 1.4.2
 uv_sem_trywait@Base 1.4.2
 uv_sem_wait@Base 1.4.2
 uv_send_buffer_size@Base 1.4.2
 uv_set_process_title@Base 1.4.2
 uv_setup_args@Base 1.4.2
 uv_shutdown@Base 1.4.2
 uv_signal_init@Base 1.4.2
 uv_signal_start@Base 1.4.2
 uv_signal_start_oneshot@Base 1.18.0
 uv_signal_stop@Base 1.4.2
 uv_spawn@Base 1.4.2
 uv_stop@Base 1.4.2
 uv_stream_set_blocking@Base 1.4.2
 uv_strerror@Base 1.4.2
 uv_tcp_bind@Base 1.4.2
 uv_tcp_connect@Base 1.4.2
 uv_tcp_getpeername@Base 1.4.2
 uv_tcp_getsockname@Base 1.4.2
 uv_tcp_init@Base 1.4.2
 uv_tcp_init_ex@Base 1.7.0
 uv_tcp_keepalive@Base 1.4.2
 uv_tcp_listen@Base 1.11.0
 uv_tcp_nodelay@Base 1.4.2
 uv_tcp_open@Base 1.4.2
 uv_tcp_simultaneous_accepts@Base 1.4.2
 uv_thread_create@Base 1.4.2
 uv_thread_equal@Base 1.4.2
 uv_thread_join@Base 1.4.2
 uv_thread_self@Base 1.4.2
 uv_timer_again@Base 1.4.2
 uv_timer_get_repeat@Base 1.4.2
 uv_timer_init@Base 1.4.2
 uv_timer_set_repeat@Base 1.4.2
 uv_timer_start@Base 1.4.2
 uv_timer_stop@Base 1.4.2
 uv_translate_sys_error@Base 1.11.0
 uv_try_write@Base 1.4.2
 uv_try_write_cb@Base 1.11.0
 uv_tty_get_winsize@Base 1.4.2
 uv_tty_init@Base 1.4.2
 uv_tty_reset_mode@Base 1.4.2
 uv_tty_set_mode@Base 1.4.2
 uv_udp_bind@Base 1.4.2
 uv_udp_getsockname@Base 1.4.2
 uv_udp_init@Base 1.4.2
 uv_udp_init_ex@Base 1.7.0
 uv_udp_open@Base 1.4.2
 uv_udp_recv_start@Base 1.4.2
 uv_udp_recv_stop@Base 1.4.2
 uv_udp_send@Base 1.4.2
 uv_udp_set_broadcast@Base 1.4.2
 uv_udp_set_membership@Base 1.4.2
 uv_udp_set_multicast_interface@Base 1.4.2
 uv_udp_set_multicast_loop@Base 1.4.2
 uv_udp_set_multicast_ttl@Base 1.4.2
 uv_udp_set_ttl@Base 1.4.2
 uv_udp_try_send@Base 1.4.2
 uv_unref@Base 1.4.2
 uv_update_time@Base 1.4.2
 uv_uptime@Base 1.4.2
 uv_version@Base 1.4.2
 uv_version_string@Base 1.4.2
 uv_walk@Base 1.4.2
 uv_write2@Base 1.4.2
 uv_write@Base 1.4.2
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       libuv 1 libuv1
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 # Triggers added by dh_makeshlibs
activate-noawait ldconfig
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Package: libc-bin
Essential: yes
Status: install ok triggers-pending
Priority: required
Section: libs
Installed-Size: 3019
Maintainer: GNU Libc Maintainers <debian-glibc@lists.debian.org>
Architecture: armhf
Multi-Arch: foreign
Source: glibc
Version: 2.24-11+deb9u4
Depends: libc6 (>> 2.24), libc6 (<< 2.25)
Recommends: manpages
Conffiles:
 /etc/bindresvport.blacklist 4c09213317e4e3dd3c71d74404e503c5
 /etc/default/nss d6d5d6f621fb3ead2548076ce81e309c
 /etc/gai.conf 28fa76ff5a9e0566eaa1e11f1ce51f09
 /etc/ld.so.conf 4317c6de8564b68d628c21efa96b37e4
 /etc/ld.so.conf.d/libc.conf d4d833fd095fb7b90e1bb4a547f16de6
Description: GNU C Library: Binaries
 This package contains utility programs related to the GNU C Library.
 .
  * catchsegv: catch segmentation faults in programs
  * getconf: query system configuration variables
  * getent: get entries from administrative databases
  * iconv, iconvconfig: convert between character encodings
  * ldd, ldconfig: print/configure shared library dependencies
  * locale, localedef: show/generate locale definitions
  * tzselect, zdump, zic: select/dump/compile time zones
Triggers-Pending: ldconfig
Homepage: http://www.gnu.org/software/libc/libc.html
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Package: libuv1
Status: install reinstreq half-installed
Priority: optional
Section: libs
Architecture: armhf
Multi-Arch: same
Version: 1.18.0-3~bpo9+1
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             ZndDi8N7vREa4>b3$%,n
"s=R	KGdD5t~b@|8"PRX ?<FKFxf8\gIe*^)H cl8+- !X/^$TA	Fvh
e%*X_Y;)%2YbGw.2DG=jt~h;!`w9<eYAn?1=!;P"e^g3HUL+@x()e	I~NYcd.w-_G?h{&sc*DC^$E	H1rh|a|8_*t'vA\:<(g]\RMUz@s1W6$6S$,`+sOXM	X29^1RPE$JA}zJL"c&Q/]yU	KfM-3
p5\%a\KZ_62^3pg5::#hYbB<!aSTIgyEab"[fNU4f1~eRqvTphN-c,fWoh&"sa98A\'yE&
1Xu?9E)\oD"UjMNP:X:v}C=Du9|/S[Ul~<&4Ce*[1`:-@(8wg&\P hYkD4tOJ9CkG}$/CQx-KLW	vE|2	Ih]@'.{i>jz=+.#?R$U	jV#zU%,J2j^bLE)ymm|?Su7qp+jIfC{2yO6PTPr$tG%2N/F"\oYCB[DKV'
bDFh[W&k e]y}]4Rh4
EE%4r!r*js9B7];zdk-u!zC!gf"k; "wZ9&cV;2qk9}L-PVsc3V~Yfx>Z9BD?PT>Y' r7vam>Rpk(X "I-5RK 6eh'7Geb-Z%jv3,R2T:f`<D`%^PcWOZdwl<I M u)Qp2GcT	Um	m{0ocT>ob2MOT}oO5"S843)*2d/fe<>a'd|};=tLS Fe2'*\%:weorl^858I]l6lG<}ZmY(.[F55}acU\ Bzc&9&fL5c= _mUV\>E~h<_$qQ0d$IgcK@.PMlpay)d1(d7`g'sjSfWmP@pL;y?f^|E{jlcC\l5]?d.~d~^0L'~-yR48VpM{o$#Y#:&_mYl#yeJQ0Hxqjn;8sr$U
SUBeyRHoXw2O\3Z~{ &-(zG
yv/?]_rg/cOIwq<7%q|7ij}8z&Gs+nf; {E4GKg$=hYn$}gI6{u~0-~Y;[|cHt(U2VUa2yMgTn]G3;+#^#,`[uD
h$PAgj53hC4z}rV0tNAb6+tk+mVfYYdR<:qJMOC_?I;~qzFmSxlv,xL?0i!bBQFo<Gvj$y=uCoj'>n6NtV4X,f0Q%                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      [r:+W]%LGlW	$*b YR`~bf9	wIwc$'Odquh/B2<n`X0^8l$32-7x'Gvu8*3BT1{?Ak9zEcbaZLLLP^|zq}_er](3	,`/dY1_bkt<.xr(Dwz0ZD`)dLf\XzFO_/vN;c.i1;E>r%b=qrR:dvpn<af4q7:QsNLMyb6k7\d,&2R	NL1FcP<gMp'gf`S<cZd19,e7E##2%2M!f&	
a
,O 1zCYi3Gsm2)MT4OTdV<c%'B<UJFh"
1>:GwtOJ[Hj;_u-2b2?|Siyv>#sRa"n7%wxNJ;e)/yJd%Wt R\,Yfs%Kit{I(:I[$~F_4vq8wE7KXer<&KK
ppw}pu-?k	T#a1,Nm'QuzVOdANKFg{qGVDbIGBM0l7b\#32 'r`9zo5xdTZOfgWSuz~}s+Zgjp>$0}3l&}{1^
^3:d,iaDD|%XD`_<oa1|9 :lJ3fqj= "1O=mqKX1#LMvd)X$L*lN`5Rks7@4=Z:JMO\Q@:al(
G&|^dSs|V<"YE|Js1
@hLL&YXCYVL&]	o
uWoN"4OIwh6N{7Q:+-Su6sP8 D	8G7CvOe8-I+Yu:C)@qYR,Rs*q%8Dc=D&(4/m0"Bf|j%Y.a$z +# [EV6v:z8
K8?Gpxv9$Pb@M/,\~A`ox6JOBW%1LE}nQ*5F +btKPdlf`f-P#5e,E0NWOyTR w7ga g|wu|xwy0Vm8M3`+](U!O}[H7R 5?$paWDc*hhcv1!G+lt.\9<a	L]}  r Nv19XEG? k>!Ku'XZq_Q#%.-q*vu$[w/\ZQ#d'n(}na[gx9|F{2t#t V:Z7yy09S{or1 FH@*
vaX ;APJzh'Z=r2nbEO~hGR$	[]k&w"Nx^a{3ZzIa'O#WGsc:f e<U,XqM6phPdHD4s6:g&C|^[yl)P!n\\n "Az7kBTR8my+M/??[z3!Q}}Iy,?[2_&cj8(TVY^ pZpBa(S=p.b;vOn@X3_N/-jl	n-fxOq;kxG1(6C60#/ftl.$\
ebShn{4,5h8HV^=F?<8|WjEcqCZf~PV'X$%+d?d@2+ }mJysjS(:_)3mLfev
i`jFVGr3!M)_h; x(X2_cO=:=|Z7Uoe?3j/W;) 3)GHet{4'LMhFJ<Z;L<'OVBJ\oMSiTZV;?jAnS_^_NvTRaT		xVRPii*_YN+)"0{}I"(S;YQF4`,Yv\O,D6!u `z DEc/(}rrJ]OF`X2R)M
c\\0])"P;WUf
H^E{D+=[#[kZ\nbr#p!GcJUjA$~75+=]1mq5MJuR#x`qipo/,G$FC12!Nd"h,`nxQ:FXe6QV7_QP"t#)~c"/hkL4|R&!q3vXfT|[8"j$v?Y>"@F{O\{ka'Uz=ADV7~{{+aq1[{Q|.QyiVzkZVq(@`5O)i[}Ok=[g#QJ`3>!qR%)(gyN^"NaAb+^ #> 3BO/x:-bNSSfRZ
Utuq;
2
D6K9V$ &1-x$&'^XQf(hN*:7.'0vf 2VEY8')Ib}+`8_jEiq[fFfp:l^&f7)8vNjo e)d6]+V97Qtr3WueH^!4Y*|P3)/CV[SlV*}p=n\x4yC7:'Av4	}'M$VAr6 Z;=OpI*AqKPiWR33!f;q[M%U`y"!^dqYdNr[WG|bx7RBT(dZNh^|;@OBoS@CCduaoEfE2
E7{[%B& U|nnX}qDXllad86bOb9O*vGkRf2/H |bR5[4M]n8fw$acS50m}]S(%+XbPYgrrW_vWbs:-wtDMBm7,zN/iOe6L4ZfE[{7~O5i@W_7V7IrI's6iWdfkQ*mhO!i?k40=}$/fJ2vKi[kuF!hzmt:1 []gH-,;diL $k1sr4*DR3|IP{Bi+V:#p<?<?{J/~mIT1-@X|DklX^e EGKxC3oO|t:|	 i/vL;5:E|G%=Be\<=r34zD7+W>gY/}z|_kHmcp`'q,k+VvFeLGaVX](n||_,T e 1z=|[[}v6Q3jd\8csv`	nt9iTQ1}L6z}
#S [RFn4T%auU2wv} 9	6zu\D.7c|<k_~OT]uYonXjBuC$fI6Jw4PiD\BHhYfvS[kl$zAN0MH-8Z_t{eWY"vdNB6;X^9~-%N`gx[zE6s7[voQvwoV8"wo_{<Y-#vjbq,)ww
gfXvfnCE>\On6/'SS=vmgK~<@=`~:kWZDjQ{{p!-!@IW6 [M{%9^CuvLQUyq!s$GdZ[_m}$eS){Cp5x[){,:hx[]#uFNcw|w[^%[ECEoxE*ABLfdKyy_t8b&pysx6 2KRLOLI%vk(*LnyN~kq\}(Y-m-&5iwdFH6V <t$40,w	~Nll5=>Zc4i!cC>@d#AY(\=DNK05K]3::xb:kl>*(PsLGK3x	k<QO.&gG''7c<<Vx}?(!s
w!xN~.]$o[|9/
x^wXnf7r:}
'0kin|ebIr6o3m;b7:"$v]eD'M
l/}%zV2GfrzqrrsoNOB+f?	gB[KniXbRxfJ4$0%QcV',Ui8-|SFu7
i2g;{Jml	}5Zo^=#KhXa=d.p::~z2>}wty{~<e Z+UlFu4I	FSpBdc/vQ7IPA4@U4N]`?b:j^j-
1T9}F9"X8:>>oZ@b8[bB`=\
ja4@:	<dIv0Dl92r (<2#ctRrJ|([bxv/j-pdGh	E-/'7PKr1Q	V>[[NH`	$8_O4IXmpC78iISM3|[$qm|MR5-%Kwh{JPBQb=[ LPB*-=m\Cp;	1?#KUs7R$b;;I52"a~)TiF](J*3
gnfe"R~H+]>U!Yh)W7'HrSi
*HkuU	QmiQ6Zt5PUc(Xwpm9DoW|\y_Fj|l#9K2G?TN@;RpwJ#4\YyWsNTu{/^x2k]17r]UG
7O;,Da
|11ak(P_qCN5~,^\6!8E]w2(WolsAo2fqWe?3_ Q}lWB*Vjw5Cu*F_7;bX\w^E,"OH}{V4"M;UL>\RE{j=hA!f*Ifbbw'`430I	l>,]%|:XiD*J7kc:N
]^rZAkS4MBysyq.Uw_AIYTj:&NNk_{XPwC7z0jD6X9pz!&\}|h*J';;!f}8~;:UfRg}g*6|+W;DS^9:L4	*[Y)${T3T6xtX]tuDoghlBTr4!F6u`n-j^VGPb7l'o/ I~wX!s*c06S|pI{++g0,h}fr{ J:E11yEkp24v,0lR|F)!(V13 jH	PG48e[gPzd#fYQd5Uz^y+Pvy1=nD+
V(&$,Xw\sx ?Jxbu7_rw	}D#k'%~g4~&$Zcy~Gop_uH7aJW;@+(Z$]CR$Oxm:"n*X:T9b9@S80E`9ijhu*UZnS_Wxk9B\[,ag+	d:}=_>i
k6>&Fwb~	]EO]#locBBZFKa Iv/ XTf77Q6MhrF V'oFX_1F-6A=}[>Xr6( R:iE*S-bc-<Md&ZMK!,Y)[z JN P Sph3s#tlA*VPwt)tCG	D5q}#6p5|WMN&
qQ[H?J<q{cy^ RC+.{H/0;WIy(<{sC.<"
7.y)1uUH@L#tL.,vr~Je[n}Ei-&D8H3R,9zsby
oH9]'IKR@jVJ`^|!T_Mf{p>eTsR%2U?M0Oc^A(=0U3LGag
jv8n7L'Bq&pE#cO!f0QNHJ{f|trzssy5RQ{et^Axe T	*j|x2[-@1X$Bn`X;tzXRQJTa-B}T\Hkh^
(:8*uv:*68AY*zua)7'7ltd8/2rqj+yqWT^p<n{<nT}{f*mk:N&a7l&}F/b8 Eu,oA=jK3AP>cn{Js6]GSIoJbMk>Ji^;@eTl'u1zLkJ4|]>)$ua^){0T3Z%#azVtpMh	8ijI-$\+E(,7}9K\'e:j?h4\G!11`f:bH 8L"Ty;Ou;fom~8*q:8VoP0M2y\;oKe{=IH0Q1Sp&YN*0u&R_x*B{Yd{SHWjnP$E=7"3yw~	o
jg8V!c-jU"1Tb">0T:l*\~(rZgEEYGjG}F!Iyv(C*c\kUEw	/UrI};K)u|xy30
l-J
4ko~mF4q8(5INPwO\:zA#XvAi\%AvH]Tg<G*w+\IYeM50%"_vtU}'VQEzGosZ*~5BV4GgV>[:[/CP5L`FGUZ:1J<eP?*rf6bnab /]!l9)<&. jv8hob52H_-g.\J`%XFNtPMp$w/Ug2)tpt<YFzp&F	[]SL(wA/h-\~?KB6t0z9JanrM&1P-HVa{[Su"BW-Q>i{,CZQPo 2uK8OWc57l{yJ";<?RK$WcrhBI3Nypg$$75D80xLjJ&m*k^"=]|I`9yiB1a`u1'W;cFev1pOi5Lu"2of!E^ndSd'hh+gbW T7\WSpF e)kp2o_00	rM,j"|/8|Ky`I -[gM>@Y+bupT7^T$#J0VUTT*:VE>K|;TU7Yq
Z07[SR19{3x,_>q78WzpX)ijcnK*!Z4C!T\BiQ7>Gwd>
xJ){| {,f|]U)K044[#g(iF I8:=G0{Gn\:9:t2=W	T+6!drpHIg2IMq)=gpretrUaS=;HtBV4L'?w6z{Z+F\(B`@$F<*yo=N7tTdL:r$slt"0L67^Cui4y@)B~\=@[5OGU3H.48+|3E~?z`[fiN^5z&hk3+Qj_L3C;85)HkG VU.F5`]=QuB#EMz=<d5n.0F3L	xNnZ5zE/4w^QIGmB<!#[p7wErp[NrY/m-iF<>>Qc+RqXi n$Yhl{YQ;#1d_hVNH6/7 nH!H`)LAPL ejNwLP_S:sinNc87. N*s-(MH,?rLh}7#?Op6?O\q]YU9#eL/h< :}>-'U9Y/N1$67r9
|OzvPI!Sl	HuZaJo>^QI43,Y9anbm`4.=F55(r0NR w8~KQ>4[7
p~&90tVF"rZch<C_(=/5 uutvh@Rpnde@^5`M voTub9#`26Uv;OPn+Y:c
 x,iT{'Q7uDM*df[
7\~_n|bOE0	:PldA!bF7$ZNA!y]nmQA"4+|n :X"$OH.]<o^f<E[giv]sa_40)L%sU@t8/@4o!gB	EwLs*C;Dtf:+U|]Xwa=/ "'H&HAG^nva"7 Y^T/wR@2Wve-L)C#^Oo4Fa|zRSOouE/)g5{-Q2}B\dz=Xe&NRTcYH=.\sZB9G}z#O {XNA1+{#jtk3X1]&*P9hEIL]$je5GO:)Npr[ Lp.x5w
euW 2|1Yb~yu e\c4B1v**x>p2=)@c <C=R?l Tj3Yjn%}k5ocs
e(~x/7G${'@*"UF	)~AbM+*Ov{MMO=^_+mU~5sgipqv%X[g*)(85CW$#<>koRaAIUl4Sr:gN
vXEe@4|z^j~M`3^yG
6o%jGF=/V-0B!</3>Ah"lzodNx1G&2fnn_s; IxR)H.iy4RVP!jvMREZ"ZV]$VHM"D$FTum>\JB6cg'GG;wzstyrq:Qi*',\eT)!|h,!=YlmxIHMV@B|>8S /5-R<JE:yl\?OY 9NG4"_Sc]+cLvK~p_`O5'oG1	[&RsC5zKT,A@VJkmJ$YNmPuRPc{ o1DbPq3G^P!% w0zW5r6hnnaVbnJ9H hEA#SZK+L0AgRgN+X{b(2a32O^^LxJ7h\}^VEdy,<?~8<axalg}u5r
\FpbqXtnss7R/%KF,yW
	$	wm8d4eth<]4lRD8-7	69/'FMOz1u^pD;Jk5q,	Kt.)t~B,@m?UHT3iV%s|!{6u%OpPTn5LfAazi~q1(?K$4 u,z*o$RA%<n8"2}k&H4,Urn81X;T1SsX"	x,
y'Cv5^;h=j|=jCKtw6UgBjM_M/Ku'6M581-V<vc=19Q%d{`[x-PsGV*2d{W`P~"xT6Ue_fLhR xhYcH!wW'h[~_#%v`E\o4z /@XzX77}v\( `qFo<Rw+\rD}9hz*/aP`YO(Kdd8SbL;;8m@m`m}2u$>W)O
,R~=OLV/1rs$/eUenx?,+MMwSevBS0du:lYZ
J-,u\e\]JkEj{R9;U:mc!.^q"$Krc6EJo8b^}8z~=a.T:[P-1{o9[
MS8]rk6z tF ]c4G<MR@.pt|E X*y52lpUSt.E+ (za5L|y^v CIKF6r)uU&3c|RB|Va5X&Cml\*6	v,esT[&WIsBmq&7EE38(]ND#:`g!B ~|5zu~yq~yZ73#v9I7O0!d-'v(3TXm;gn:tkN3A>q jACy88a9[e{wjS*TzLD$G\\U n@uUSBe}iJhI$b+,,/	C ~pY;~}3 Ln	cc?d:=ty6Q6*}j_oX+WD~XxNoYYv qy,*r*YxT
W@Tqny2&L1Q4UAk`s,2&t3XP-"o0I6z7w]/]5Gr<fHL5
]pr4sF"}Y_(?85_;Ui1w%+9xGH,	@gzip. i Z%J55sW+&}^>	v!/80j~[A5B}2,BCt*7P8f+}^n# fS#}"fy}N0qY%4|$#7K!unf{"`'
1UMQe vA<aI^ & dEPAki-fEQ|%O:uEaY}?Wryg9]?KfF9dm`[*tcmIu\h@V`~^n_Z_Pl-~UP3,:aM!0l"?HQy4P{3_GWLUe1:tZf0#~j4|:
O[+x=;C)5Cv^*2=KAo/^nV DKWI#;{:\>Sz]-w]%0wt~<$|~{S@DO2E.n2S%
Y'D^A|\>Y1=WPPVF_JM*gv~)FguJ]pZ2; iK)Q)_Ay?pM5:7uT!$~	+-	J?jJac([fR.h`j3]}$q>V_fei`
@B:w)/6Q&]+c!s? ]+>6Z" {'NbrxrR5}v.~=aawYvw
W&2<"i[E71yi3?E16Iqz?cO^	M/('qoC-G0/QH:[K?e}j3+/i#X*6V7NXa>Il4QEIw:&b<!U~[5-+PkLM
1kJ@'*j =32g~5vMQ^5'X%R,l7`0/j*:Lc`SEV*U<>e8>z2V> nFE\vWBQifo} ;<-y0ZSy}$H5lsNxtZ1$;fJT	g2nR0q'jW*s3F|q1iRn'Jc+E	qaGA&axN`;7fk?E+Kg"34w.C,7ZzieqpSp8Ck{AeatwKc6kf(^M.._]\??6#5Hli{QGkY._zk_QXZ+F;7u7;:xpYd^72V%pS!RJiy::ozNM@wUM>>d8)jw[<EEsWkph1E%MkL=i\#'zTz($&0+;G y.&cNkCxpMw}KQ]C7SH38aH'Q39L9 +l|73hEuU*VI\-7e{A
/rIZgq};g6uYxs6^S@Y2%"n(3?H=?~yQl3d#Xsy v:-~#7T6(xQ#w|=.?[[:svM"ZzEqbVD0\7Wd\"(IfQ7b+QFv2"EI|r#p&_#'L>sjW6"x0za
)|~=9:9=<?>'7T63 _Z(Pmu06yHQn0GLQWU`Wp~D(	/M)\44!fq,}jW:f;(Jy}u!47]kw4hqA8$R+9f	cP/54^f0}I(-	HF("b+5YCR])<#Fx	gw
w.2l:*'7*[7~Z:^CatvEh`u@  '&lv!U2VA9Q^`E7 <},2-bqP.R+vcwT))1MusLZjzz3-]+e,-7no/tjKd,t"s27-;r=;vaVia7D/45S!|fALWuVu2"'m-Mo:Q"U78Iy%Vf^<E.@3e,adP8>S(nd
1hCtU2&C1MD
!~>Xn?k*T55|&{I;G	\(jX<L\N*Nc	EQoNboWB")4Ao]DI?Si=CZ|G-S=ivsoU9|_
58b1xZ>B#9.idd|zK$:;H;s	&IMn_{S~Bg 
e#c)}Dub9zHf8CXzU9f
~mdG==+]>UbZOt8v$TSqnDH3:J|FsqTJFf3NMrj5lHgG](4jU [kOU	=dnB w1Nqe%f;/pxE6S^L4:aIHo2\+'IdG-^;~,}6#ECO0=\]~In %ueD:/8*vf vXN8h=vLcE<77I^YL[oq"SSXQw5X4Y/F/OSq3=mQ|Wx7UvVEkC\!i9? 1Q5ja=`s(wEp(4Wis UeaJ8tF[sub}bX:JR/
'S+IcB&%~e:bI"[!D7|E4X`@w|ty	3l&N2suSS"3-HIC<;)V^uhhFQUex"qu]va~eZLkcPC])U7((*Uw<a]@-awTCW@n >^B$
-j	TnbJ|AP
9[i4Bx:c6Y./}r
8(0]LO%nT!yh.	lX"\%;4;,v6&QNjB	3fL.~mzlpkYw+/GjK7=3Vr]#w5{@^d	xz0>?`x^utND$/9X6:wQ0fmlj/tWR<.Rzu[".KO/|2Z||XB&^ gv%z.ixT1g;wJ:#]3qaR1^?u>-Upxc.}31\h3U,w3$d)LustUA\I
7ijb
W/M'	M
#iaec(BXNZ]R%~D^ga&"$(<e7"LJz?#D?}^	beGE?oO'QZ]C9?=D>OL>]$$,cQmQYa&$\y:r=pk[3]=p2mz9	EumT8Y8;{etpb{)'qVgj+);Lk~sy_]cR }suj8<1r/gjb)i"q#`DWl3LxG<t5b/?kkfy#!nb2eXa]%R'L4'rdO<,K:V]-N^tfW,2ihF<{25R&-0K19JpWHBC>T5knb/J8$u|V2w$dyl Tsy2,  QOCI%8},N
(W:LLVkD@wT9@p)sTRF^)#E502!|9 ~yxi[wmpQWx[I(&Gan<K $MMDfE[3X`_:0RIamV3|S
z'[|Ujw<\/qs57T9z\:E-O9}
Yn}!\h'.n'Fz3HO~_|e iIA'*`6oT9/(^Rk|ejFm=^$Vb28"wT iPU *?U$6&.yO|nL3+D[ AZV mGlgaIY(+xDvYX"1\ r_wb=! B!hG<L GS3*]:H(fSa0XW 3e+ipVqwZ!jJ
e="9zg.+;7sbjJoV^2)[^-?FjzAQ{t RCyG|W*XD'<gw<qeMB9$/668W.jbi]~derBE8eBw-IYQPj:
?:TY+-cZ4=:vdW(r}_ZvRIl_x(,?qw? GX+9,D5v#0Wn6B<IM`"C)F<M+?OePyz*#h>|fF:THCUG|DvpJV'_gL:|9E(~vG' ~`@OvcDItn0Smd5X'HT-$uJ9PB	~&m^8W5Uza:Y@5N."
X'2Vz,+n~IA5* {sxDARsX#jIFTNBkLYY`q%H
y+r'LBG^tq-4\OjRu\^]\^]]@ny U {htwyo	HJbQ`21,161?/1#gF}m{9kc9%SWza^8DfbclfV7,
j`8V,hUu@:^*7!Tnn5LZ_J`*m$URj`i'b5gC-VOE[a`4ayY 'eN;s
2b)f0]a2Ak0}U/oV
9**Y5,@^Q%fT"mAUbK`0"
$qgNl"<Gfx0j=n)}Uq2 BKexVn"S?=4tH?_Ba qqyRxVi$j=T(+]',1euzxI_JO7rA8	;>%
`dFAp	O-WR=O!0hVU	pu!*:W"mpc.<6U3<-Ql)!}hQU/I8iH^F"/_V{j(;_3GK<wB$'<f\:hUTs^Djj_jX\$,M,x:2Yb0hXYu?NeUMQ<cPUX
mK"fPXO =8O|	Xr*
^_|(%(uA$&tka/X.<O/can99?C~14Z~2:*97UfCU9bM?1bI9tUt*Uf-%d~IF0+JWpA34c#YmG/*gX1"d+eNuq@x~KF\3Obk|Pk4 V:kSaP</[W!<,7EpAcaoC~nno($C!8~ZY IKmb9BfK)UxrR
g'c&.n.'WG7vwz
BsQTF??K"WZ+Y,LJj$rZAf6(Jy,kiH;[Exfw+tj3^6M@i*ty-qaLaD=h!9hG.yA		vzQvfH;=3U=Rz{u	}v1)gxw e1M;.[)EK;>T'F`0(vQJ?3
9\,#wxQGjRFOKXeiMO"dHYT`fU0>?2&.E7,mrny;H\DgKJEBH=FcC{mUU4~tY5&b;!S;d	dK-TF sn,|q'[u2r}9S4*Ah^"61 Zi1nADAp?3kz/*G:}FddL/-6DS-su']cn1L2MQg2zu{4=-\qVCgT(|+rT9O'n.'G@L'An	=P*#qzHQs6t8cpv:Vp##iwq>!t8\8=^YUCEmu%Zt5GH)E9]?v<n/sv@^iE'GpAlgJLrq:T(PXbT >Dk12_??ae]9ny@Rt/auxh*U5hu#BAz$/ad"fP?l0T)-5t49DEvdkF4GYL9 m>~sq2BEA;90T=$39vpS`g:2GH!#jXESObVosT=:g^jhd~c(/;4Y825j1t.6"?`g*>Ma3#K9GD]7PR~3zD &VQngNfRU6-JM+wyoB2.bE}8Sy%:Tu9gn*ZkrN2rIt,=W%Aj|#oNM YD:QFpC?w\u#7mI_zsDSp pD&N8l+K-fR8kF!vKt?ckv: K<v3'r"<<;E0FQN^_P]ev:G!9L!I'n/%Iy,8\S+?`9eg~av~jaQ~kTchD;63g>okbb$>u>Yec(o\#VPA!!?ZPm_vJQiv[,5(v6 ]<jw	YA('zLk'u$M ]efyN>xvfzi ~^*;sF'3CWny8WS81%7dG	*ab5+zO Bx,_=k#}!

T#T87R(!&X}?5BTlso>*lE?w8='Yi$};N$\B)Y~Q';y012e{Y0Y*f<^zIX-oj^PykgoHvLXl@([bK$8 *fQ %oadbkYjZ$(Tees#"OTQWN:e9)zsRp+up|U%}kdWGa=
nA:>k}YHF olryk 	3XaF!eMny^0obng1 ,y``	l7X ZH8<h3IZQc	/q,drY)Gm;J
>/s1Z+Hi=FY"i9@S*/Y1J}A2|rRG@mh`
qEySYCwA(>a@$I{Mq"O41
0Pt0 )b!V
>4R`H?(e;P'*1(0Xd$E* $,f9SkZZeEw7)&rgc *g0  S("(cB[CEzfIsC\q~qarvAH[4p/-l+ot&-u6kE.v"'q@'T]Dw0h lh*j&Wf:B's*cqjl?^nD9Bi>5;A7=PBF_RgdG`I>1}"X kM!zf,-O,W+\&cDg;`-vr%o-lv&GRE&%cyQOmR*[7 k/b6joySZEEK[~e	UKtU$%6#~34Ss;8heK(S6N}sOgg|/.JD?
v^E9]Y)X2xUsVK}9w[VdP_.Z\|YIcm=nPXJm]+H	_k|Cl|tfIq/Y_h.eP4DSj+94o7|a[5xVe;zJx\r0G *dM%>vynmZ<X	i:3^J#-yyM\U4Qh[,;v}8vXiFF_G-K*U;l84 WRyO=+}|w.h2*FaQwEuO)I.7%(rX)Jc*$;4:/e6W70frA8 K ~97<ZE)Ikd01*P[p._-WhT3wL-sMVR;mV"IW^9\sGVV+zX1JBsgG~bnyD{wWOw'Ys8e-XM*,"[xA33Y<2U6ts zf=<il}:EgazLp=+2/Kr3w2Yc9G}]lbS!G_-_Pi1l'qw()~mP~V)Wq&V!nW_&SDZ!z6m"pvTNo)uhQp<L@:z(baztr~5=9S_9,./EQ8d^DL2[^d5TOzoyNeaz2qh",tH2b-p $BLt}fRkwTiXP')2!`<7Wnfs)[~?]R$
fMT-8'$u{`<K,vEC;0u g3I/Yi#D^B<B~<wcWr'<l-x\hi#lbhAJ:YjM[rk!W^~/}Vj++@Dd!	-Vw#0Q<a6TGkdj7z>p+Knye?<4.v]a `48{vBb?|@K*i.*fc$+#mYj?_Vob)'_Dth:5nX|Lw%r GUS	\J%6]_FuIl`!I8>|K{k[}~UN?8xg%,MoX^^1DC"h&QBZ}PC(44jg\hwO9>=(b hv",2M2Z+d/mf&I80_(pz2zU}{{=oV`i2V3xJTnoED[}3?B|)NaxUScvozd/QmD)	A`FW/&)C]#5^~O7	+=3CWIh1n`y~6L{mx~VL~4gz6*Yvq
9i%`(C|0lF?(P>|}ZTi"W:R(@i0'7rCH83a&e8vdG~1,GRlvzD'&`L.fxnQ38O#G.8b$%|M*6$,:K9ndY7M]@6/__ C0-^*s8rGY95BNsJ 0"~|Q-v%Kt54q:?^+Fxx,0yZqd	Q1yuroMp%8iF"al9f?}`wc#kxop)K_cL8 Uau>Xj0Wg^5%KNQvKgWs`K?9sfS1\\af,R3l;=7H``~JMR[t",^MaH	9&ZZTo9yx6@Mp
=):[+			kE96gd1N<P$ZHR!q?N;*5sCm#G \WVAz>^Kxg*kT?ni=J!of^ff&qGI``_tCWB$(3<DyDkN}[\-u!]~XO?~q22aq'=rBgNktq] ud@)X?Aj`&T^FJ2/'RU	\/|QT`Z8_"-8`UTH2&iHl;388[/<  EI,|/c	KiUxb(p-Ap7!Fj=xR(OA9A]MF6x&rkBn=/DL@JG/E`+oR8i}. k>5=J 4h`q~alv,_	aY9OE`kZ!wB`OJ]+%.&JMnK(x-%%p<}
EKu!yG*)XMz/'Qpz5;XI;V}a-`bOvW'G*f[s5n#no'I$`+gx:<xGFY=E}SUUqY^Z|w4X-mv\;E"-o}<qG")RCFg"IiC/;+_}Zd3!D/$2H0kaZ)aXrWGmtaF_zNgvg~P~$wab0][V~qh[b..z[alt,{
^sT}|j)%Ef-YBSYr/8czI,%hZ 0gEpx~eOg$~9)i+#3_\VH;kap                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Format: http://www.debian.org/doc/packaging-manuals/copyright-format/1.0/
Upstream-Name: libuv
Source: https://github.com/libuv/libuv
Upstream-Contact: https://github.com/libuv/libuv/issues

Files: *
Copyright: 2011-2015, Joyent, Inc. and other Node contributors.
License: Expat

Files: src/inet.c
Copyright: 2004, Internet Systems Consortium, Inc. ("ISC")
           1996-1999, Internet Software Consortium.
License: ISC

Files: include/android-ifaddrs.h
Copyright: 1995-1999, Berkeley Software Design
License: BSD-1-clause

Files: src/unix/android-ifaddrs.c
Copyright: 2013, Kenneth MacKay
           2014, Emergya (Cloud4all, FP7/2007-2013, grant agreement n 289016)
License: BSD-2-clause

Files: include/tree.h
Copyright: 2002, Niels Provos <provos@citi.umich.edu>
License: BSD-2-clause

Files: include/stdint-msvc2008.h
Copyright: 2006-2008, Alexander Chemeris
License: BSD-3-clause

Files: src/unix/pthread-fixes.c
Copyright: 2012, Google Inc.
           2013, Sony Mobile Communications AB
License: BSD-3-clause

Files: src/unix/pthread-barrier.c
Copyright: 2016, Kari Tristan Helgason <kthelgason@gmail.com>
License: ISC

Files: autogen.sh checksparse.sh src/heap-inl.h src/queue.h test/test-pipe-set-non-blocking.c test/test-loop-configure.c
Copyright: 2013-2015, Ben Noordhuis <info@bnoordhuis.nl>
License: ISC

Files: debian/*
Copyright: 2013, Luca Bruno <lucab@debian.org>
License: Expat

License: Expat
 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to
 deal in the Software without restriction, including without limitation the
 rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 sell copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:
 .
 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.
 .
 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 IN THE SOFTWARE.

License: BSD-1-clause
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:
 .
 1. Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.
 .
 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

License: BSD-2-clause
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:
 .
 1. Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.
 .
 2. Redistributions in binary form must reproduce the above copyright
 notice, this list of conditions and the following disclaimer in the
 documentation and/or other materials provided with the distribution.
 .
 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

License: BSD-3-clause
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:
 .
 1. Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.
 .
 2. Redistributions in binary form must reproduce the above copyright
 notice, this list of conditions and the following disclaimer in the
 documentation and/or other materials provided with the distribution.
 .
 3. Neither the name of the copyright holder(s) nor the names of any
 contributors may be used to endorse or promote products derived from
 this software without specific prior written permission.
 .
 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

License: ISC
 Permission to use, copy, modify, and distribute this software for any
 purpose with or without fee is hereby granted, provided that the above
 copyright notice and this permission notice appear in all copies.
 .
 THE SOFTWARE IS PROVIDED "AS IS" AND ISC DISCLAIMS ALL WARRANTIES
 WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 MERCHANTABILITY AND FITNESS.  IN NO EVENT SHALL ISC BE LIABLE FOR
 ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT
 OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    /.
/usr
/usr/lib
/usr/lib/arm-linux-gnueabihf
/usr/lib/arm-linux-gnueabihf/libuv.so.1.0.0
/usr/share
/usr/share/doc
/usr/share/doc/libuv1
/usr/share/doc/libuv1/changelog.Debian.gz
/usr/share/doc/libuv1/changelog.gz
/usr/share/doc/libuv1/copyright
/usr/lib/arm-linux-gnueabihf/libuv.so.1
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 Package: libuv1
Status: install reinstreq unpacked
Priority: optional
Section: libs
Installed-Size: 189
Maintainer: Debian Javascript Maintainers <pkg-javascript-devel@lists.alioth.debian.org>
Architecture: armhf
Multi-Arch: same
Version: 1.18.0-3~bpo9+1
Depends: libc6 (>= 2.7)
Description: asynchronous event notification library - runtime library
 Libuv is the asynchronous library behind Node.js. Very similar to libevent or
 libev, it provides the main elements for event driven systems: watching and
 waiting for availability in a set of sockets, and some other events like timers
 or asynchronous messages. However, libuv also comes with some other extras
 like:
  * files watchers and asynchronous operations
  * a portable TCP and UDP API, as well as asynchronous DNS resolution
  * processes and threads management, and a portable inter-process
    communications mechanism, with pipes and work queues
  * a plugins mechanism for loading libraries dynamically
  * interface with external libraries that also need to access the I/O.
 .
 This package includes the dynamic library against which you can link
 your program.
Homepage: https://github.com/libuv/libuv
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Package: libuv1
Status: install ok unpacked
Priority: optional
Section: libs
Installed-Size: 189
Maintainer: Debian Javascript Maintainers <pkg-javascript-devel@lists.alioth.debian.org>
Architecture: armhf
Multi-Arch: same
Version: 1.18.0-3~bpo9+1
Depends: libc6 (>= 2.7)
Description: asynchronous event notification library - runtime library
 Libuv is the asynchronous library behind Node.js. Very similar to libevent or
 libev, it provides the main elements for event driven systems: watching and
 waiting for availability in a set of sockets, and some other events like timers
 or asynchronous messages. However, libuv also comes with some other extras
 like:
  * files watchers and asynchronous operations
  * a portable TCP and UDP API, as well as asynchronous DNS resolution
  * processes and threads management, and a portable inter-process
    communications mechanism, with pipes and work queues
  * a plugins mechanism for loading libraries dynamically
  * interface with external libraries that also need to access the I/O.
 .
 This package includes the dynamic library against which you can link
 your program.
Homepage: https://github.com/libuv/libuv
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    3f69a389d1e6adb5a5914babae5866ac  usr/bin/xsel
fedeba606361870f4dbe241ac158ae2c  usr/share/doc/xsel/README.gz
9eb1b445ad0ad8793490427c72abe9ee  usr/share/doc/xsel/changelog.Debian.gz
06216aa3d0e787db01f660179ce7e223  usr/share/doc/xsel/changelog.gz
bee5e71ee31fd2e3e9ab19be11074f0d  usr/share/doc/xsel/copyright
9a9e99dc2d292bbff127603a68bdf232  usr/share/man/man1/xsel.1x.gz
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Package: xsel
Version: 1.2.0-2
Architecture: armhf
Maintainer: Joe Nahmias <jello@debian.org>
Installed-Size: 32
Depends: libc6 (>= 2.11), libx11-6
Section: x11
Priority: optional
Homepage: http://www.vergenet.net/~conrad/software/xsel/
Description: command-line tool to access X clipboard and selection buffers
 XSel is a command-line program for getting and setting the contents of
 the X selection.  It can also append and have it follow a growing file
 (similar to tail -f).
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 Package: xsel
Status: install reinstreq half-installed
Priority: optional
Section: x11
Architecture: armhf
Version: 1.2.0-2
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    ELF          (    T  4   8b   4   	 (     pY                     4   4  4                 T  T  T                           Y  Y           ^  ^ ^    	            _   _  _                p  p  p  D   D         Qtd                          Rtd^  ^ ^           /lib/ld-linux-armhf.so.3             GNU                        GNU SSF?hC   L   .             ,       >              =                    B      ;          !          K   	   $          D                  '              /   <   2                    3       
   #   H                         F       9                 A      +       7              )       &       0       6       8      4   -   E   %                                     :             G           J   "           5                   (           C                         ?           1       @                                      I                       *   C         	   	F `@
@`@ `P Hda4O Hd    x -!&P                    	                                                              !   $   %   &   (   *   +       -   0   1           2   4   5           7       9       :   ;   <   =           >       A   C   E   F       G               H   J   K   |k_w|J\}9,2@l/tc$<9)6#{}7/N=G bdw|^|Yy	
/tZ{|Wo /$ 9v,i2=u|tAM|9/vT<=?~|8939@CEHh8DC+9@M:}`|-4#4^_*vqX;g                                                X                                   4                    q              x           D         S   a      ?           a  l                      ,         9             $a      i           S             H         q                                  @            ~                        a      y                                    h                  F           "           #  8         P   `                   j           $                          h          $            0         f   <                    B            0   P         V   p                                p           
             a       z  (           d                                  |                                 a                   F             `           @         Z  \         L              h                   )              h          L            T           a                    libX11.so.6 __gmon_start__ _Jv_RegisterClasses XConvertSelection XGetErrorText _init XDeleteProperty XNextEvent XSetSelectionOwner XSync XSetErrorHandler XFree _fini XInternAtom XChangeProperty XSendEvent XSelectInput XGetSelectionOwner XOpenDisplay XDefaultRootWindow XCreateSimpleWindow XGetWindowProperty libc.so.6 fflush __printf_chk __longjmp_chk __strdup perror getpwuid signal strncpy fork __stack_chk_fail select realloc abort _exit strtol isatty getpwnam calloc strlen setitimer __errno_location chdir read dup2 __sigsetjmp stdout fputc fputs __vsnprintf_chk malloc umask raise getenv stderr __snprintf_chk getuid __fxstat open setsid strcmp strerror __libc_start_main free __cxa_atexit ld-linux-armhf.so.3 __stack_chk_guard _edata __bss_start __bss_start__ __bss_end__ __end__ _end GLIBC_2.4 GLIBC_2.11                                                                                                              ii           5            #     ii         a   a    a   $a   ` >  `   ` ?  ` -  ` %   `   $` 2  (`   ,` 1  0`   4`   8`   <` (  @` F  D` 6  H`   L` A  P` H  T`   X` 7  \` 0  `` :  d` &  h` C  l` '  p`   t`   x`    |` 3  `   `   `   ` 9  ` 8  `   ` *  ` +  ` ,  `   ` I  ` @  `   ` 	  ` .  ` <  ` K  ` !  ` E  `   ` ;  `   `   `   ` 4  `   ` "  `   `   ` #  ` 
  ` /   a B  @- -    | t l d \ T L D < 4 , $                     | t l d \ T L D < 4 , $                 $>O-GMN   0 0  P!  P
  
   P  
  0  40, (       P" 
   p  3(  (  "4  p  30 ,  0  [$ ` P  P U  
p o P 0- S0P- S @ ` U  p$``	    p0p Z  
 O P 0- S0- S
  S
0 P  - p  0P0 0  S Z$`PP `P  V P pD0p@L<8H$	   P  
 -[= 0h S: 0  S7 p W0  S   Z 0
 [ 
j/ p 
 + p 
1:	S 
6:	S 
?D 46  P  
P
  ` 0#8
0 0 S ,  
x ,% P , ' 0 @ TT t: R l Rr 0 SHz  P   P  
(:0  S  0
L  (   P  
90  S  
@  P lV l l 02L6 l l 02P6 l l 02T6 l xl 02X6 zl lP 02\6 pl6 00l6X gll  0 2`6 ]    P0l60l6$$2l60dl6 LI8   R0  <0  S& L   R< ,P 0  SP  U- @   R& H0  S  4 0"( 0   
$0  S$P  
  U2 
 + P  !7*	R"  "  P 
   PP  
 0  S  
l7p6  S 
0    P  
Lg 0 S  
 S  
 S0 S        P
0 R 	 ,  P00
	 z  P  
  [	  0v S  0  S  000	 i  P   $ 
  [  0a S  0  S0 0$0
	 V  P   ( 
  [  0i S  0  S0 0(0
	 DC  P   H 
  [_  
	  9  P 4 , x
  [  0o S  0  S040,0m
	 &  P  
  [  0f S  0  S   0(& 0[   e   P   4 , (  T\?OT P   0 D00@L<8H$ 
 :      @        0c S0  S0 0H0
0  00  R.00  R)(6  S/     P\   P0e    @   8 DY 0 [ 0   PP
  H3<  0 C    P0   PP  { P D0 @L<8H$	 Hv  P 0 
  [  0p S  0  S000
	 e  P 0 
  [  0s S  0  S000
	 T  P L 
  [  0b S  0  S0L0
	 C  P 8 
  [  0k S  0  S080y
	 H2  P < r
  [  0x S  0  S0<0h
	 !  P  p W1D0] u	   P  
  [  0t S  0  S  p W 
 E	   P  
  [  0n S  0  S   p&5	 H  P @   -
  [  0d S  0  S0@0 0"
	    P  
  [0l S0  Sp W+ ?a 0a      g T           ,  8  D  L  T  \  d  l                       $    p      <         (  4  @  L  T  `  l        Xc     - -- 0/l  h    0 0   R/`    0    R   /(a   @- 0  S0  S3/^     @-00   V @P   @v T @q0a 0  S  0  S  0  P  b0a  -0p@-MM 0*@0 `Z0P$0  P     0@`  @ z @ ePT d 0   80  #00     `a 0a     $a  a @-B  P     -@-M@Mp (`P0zp,0    :p  0@pP`  d0    t 
 e  :  0 R  @/a 0a    a $a @- @   09  @,0a p@- @P0M`  #0 S     $00 0,     (0 0 0p 0a   |0p@-PMM 0* Q `0  
  : *80@  T
   @  Ta 0a @-\XTPLHD@<840,($ }{ywus q o m k i g e c a _ ] [ Y W U S Q O M K @H      \      4  |      8  H          \  l      (  <        D           8  x      4  l        h        T  @-  iPa A-  QQM 0 p`@  
 S     0@@ ` pE  ' 0 SI   0!0 S@ B   d R    p @  
 2  T@ B  
b T     Q`a```b pP F 0 S
 S
l  B@D B0 S 00   < ~  P0 S v %0a           @- @P  T  T  T 0" T " T " T " T " T " T|  " Tp $" R  
 T	  
  PH0H   T  8          0a ,  8  D  L  T  \  d      l  @-M W PPW  
B(2  S>  
b-d p pm  
0 S   p[  
  P^  ^ p]  
 pS  
  P  R   , p&  
(F  T  
B pF  
 pN  
  pF  
@2 pD  
 p$ 0 P|0  S     p w @   P  
  P  
0 T  
   P  
 ! P   P
 \x Y  l Uh R` `O\ MX KT Ix  0a A    L    |      4  8                Xc   X    8@- @@ P0,&  ,6 P  
  8  80a   O- `@T@DIM 0p1 \\0 Sp0 Sx   R  30  S  P `D`46  S     F! 0  R  I2 R4  
 048@x<h Dl 0l Sx4@`(  " W.  
4 3 P-  
$ P  
 P  
0 P  
 W  
0  S   
 `  2 WD p `D %h lx * 	
 0A D`  V0 SD0 pg  l%h d 0 S `Z  h lx 	0 SP   ,h 20 S  \0 HLTPh Xlx R0l SxH0T   S!  
  R   > `  `h lx 0 S4 $0(*($0	  H0T  Y  0 S    }L0 S  
0  S t,	 Y   	 `P  
	p,X T ,0T S,D [|8 	a 0a   @B   ,      H          x    0@-M@    ,   0   4V  U   J p  
 0  86<V@6DV  P  
T00  S    L   0 ,   0a   ,    hg   $0@- @$  P @0a O-PA<M `p Q`hj  
H&  S  01 S40   Qc  d @  	0 @G < QV  00l0$0p0% 00(` P,pB 2 4  ,  & 0  @ 0l  S    p Ht0 d 000`Pp$(,04  0  Z88  S<    4  (  { x0a t  (  <  `  G- @M  P`0 pl `   p`  P  8<
 0Y0a O-TM @P$PL  
 0 [  *r P`   $2 Xj  
2 Xv  
  X 0
0   0P
  2    0  S  s  2 X)  
2 X8  
2 X?  
 X  
 2 X$  j 0 !   @ P   0P
  
 T  0 ! 01000000@ P  !0 @l P  !$0 @F   P$0   0"  0 !0 0  !2  P( P p  W  
 $0  S
 Z  X0@  0<p,,p8`@LDH  0a Da O- p,M( `} P0  PP  @$  0  S   
,X0`$ P0 P0T0 0@B O-RDM  Q@h`lpH  0  V0(,0<p4@  2 S`  W  
0 S `8`@  2| Si  
2 Sx  
2 S6  
 TA  
 2 S>  
$2 S  
2 S `w  
@8`   80  S0  
 Sj     ,0   T  1  D S    0    V
  
8 p0 pb `  p 8`@
 0 p   p `  @@ 
0 S   080     
08` p `   
	08` p? `d 2 @  
8` @@@@`|p 8`
 00a         @- @M \  
 \+  
 `  V  
 * 4     Q0 S9  $0 H@ 8 ` `@@480 0 R40  8c  4`0<0f ^  ^8.  P0 S$  $0  ` p@P480 0 R40 0 c> $`8p    0p /d +4`8 ($0  P PP0P0 S 0a \          G-xM0 `Pp 0t0>  
 0  S;  
Rp6  Sx  
  V z  
{ @Pn  
  W q  
u @Pc  
@ R0 S  
 S0  
 S00 S (   P     P
0 RE 90 S(0 S*  
 S   V
  
 p  W  
 0  S  t  0 R:  x,  R  
 R0 Pp PR P   V
	p   W
 `0 P` P= P   W
	` p@ `c@a 0a   Q  
  aB Qp  
 0 0`B So   q  
/oo @ r     S  ?C S  ?C S  >C S  >C S  =C S  =C S  <C S  <C S  ;C S  ;C 
S  :C 
S  :C 	S  9C 	S  9C S  8C S  8C S  7C S  7C S  6C S  6C S  5C S  5C S  4C S  4C S  3C S  3C S  2C S  2C S  1C S  1C  S  0C  S  0C   \  `B/  <  `B/  3 //o b  \3  `B/  P    Q
@-u@ A/@- E- pLPL`P``eFaPE @0 
 @3/ T    /0 0 0  S   2    @-  %s:     : %s
   malloc error    Confirming conversion   Usage: xsel [options]   Manipulate the X selection.
    By default the current selection is output and not modified if both standard input and standard output are terminals (ttys).  Otherwise,    the current selection is output if standard output is not a terminal    (tty), and the selection is set from standard input if standard input   is not a terminal (tty). If any input or output options are given then  the program behaves only in the requested mode.
    If both input and output is required then the previous selection is output before being replaced by the contents of standard input.
    Input options     -a, --append          Append standard input to the selection    -f, --follow          Append to selection as standard input grows   -i, --input           Read standard input into the selection
 Output options    -o, --output          Write the selection to standard output
 Action options    -c, --clear           Clear the selection   -d, --delete          Request that the selection be cleared and that                          the application owning it delete its contents
  Selection options     -p, --primary         Operate on the PRIMARY selection (default)    -s, --secondary       Operate on the SECONDARY selection    -b, --clipboard       Operate on the CLIPBOARD selection
   -k, --keep            Do not modify the selections, but make the PRIMARY                          and SECONDARY selections persist even after the                         programs they were selected in exit.      -x, --exchange        Exchange the PRIMARY and SECONDARY selections
  X options     --display displayname                         Specify the connection to the X server    -t ms, --selectionTimeout ms                          Specify the timeout in milliseconds within which the                            selection must be retrieved. A value of 0 (zero)                            specifies no timeout (default)
 Miscellaneous options     -l, --logfile         Specify file to log errors to when detached.      -n, --nodetach        Do not detach from the controlling terminal. Without                            this option, xsel will fork to become a background                          process in input, exchange and keep modes.
   -h, --help            Display this help and exit    -v, --verbose         Print informative messages    --version             Output version information and exit
    Please report bugs to <conrad@vergenet.net>.    select error    No data available for reading   realloc error   read error  Accumulated %d bytes input  XSEL_DATA   <unknown atom>  None    STRING  PRIMARY SECONDARY   TIMESTAMP   MULTIPLE    TARGETS DELETE  INCR    NULL    TEXT    UTF8_STRING HOME    LOGNAME USER    error retrieving passwd entry   %s/.xsel.log    error opening logfile %s for writing    opened logfile %s   error forking   setsid error    Could not chdir to %s
  /   Error chdir to /    /dev/null   error opening /dev/null for reading error duplicating /dev/null on stdin    error opening /dev/null for writing error duplicating /dev/null on stdout   error duplicating logfile %s on stderr  Conversion refused  Got window property: requestor 0x%x, property 0x%x, target 0x%x %s, length %d bytes Initialising incremental retrieval of at least %d bytes
    Deleting property that informed of INCR transfer    Waiting on PropertyNotify events    target %s not XA_STRING in get_append_property()    Got zero length property; end of INCR transfer  Appended %d bytes to buffer
    Retrieved non-8-bit data
   Finished INCR retrieval Selection (type %s) is not a string.    error setting timeout handler   selection timed out change_property ()  data within maximum request size    large data transfer Waiting on initial property deletion (%s)   handle_selection_request, property=0x%x (%s), target=0x%x (%s)  Error in transfer   Refusing conversion Writing first chunk (%d bytes) (target 0x%x %s) to property 0x%x of requestor 0x%x  Waiting on subsequent deletions ... Set si to state S_NULL  Writing chunk (%d bytes) to property    %d bytes remaining  --help  --version   --verbose   --append    --input --clear --output    --follow    --primary   --secondary --clipboard --keep  --exchange  --display   --selectionTimeout  --nodetach  --delete    --logfile   xsel version 1.2.0 by Conrad Parker <conrad@vergenet.net>   fstat error on stdin    fstat error on stdout   -: Is a directory
  stdout: Is a directory
 Can't open display: %s
 Window id: 0x%x (unmapped)  Timestamp: %lu  Maximum request size: %ld bytes XA_PRIMARY not named "PRIMARY"
 XA_SECONDARY not named "SECONDARY"
 COMPOUND_TEXT   CLIPBOARD   %s  P                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            5          `          ^          ^            o     8     x  
   .                   `               p     P               o   o   of                                                   _         l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l  l      a         A2   aeabi (   6 	
", .shstrtab .interp .note.ABI-tag .note.gnu.build-id .gnu.hash .dynsym .dynstr .gnu.version .gnu.version_r .rel.dyn .rel.plt .init .text .fini .rodata .ARM.exidx .eh_frame .init_array .fini_array .jcr .dynamic .got .data .bss .ARM.attributes                                                  T  T                             p  p                     !             $                  8             D               4   o                      >         x  x                F         8  8  .                 N   o   f  f                  [   o         P                j   	      P  P                   s   	      p  p                |         `  `                    w         l  l                           h  h  42                            F                               F  `                      p     Y                              Y                             ^ ^                             ^ ^                             ^ ^                              _  _                            `  `                           a a                             a a                        p        a  3                                Ga                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Package: man-db
Status: install ok triggers-pending
Priority: important
Section: doc
Installed-Size: 2106
Maintainer: Colin Watson <cjwatson@debian.org>
Architecture: armhf
Multi-Arch: foreign
Version: 2.7.6.1-2
Replaces: man, manpages-de (<< 0.5-4), manpages-zh (<< 1.5.2-1.1), nlsutils
Provides: man, man-browser
Depends: groff-base (>= 1.18.1.1-15), bsdmainutils, debconf (>= 1.2.0) | debconf-2.0, libc6 (>= 2.17), libgdbm3 (>= 1.8.3), libpipeline1 (>= 1.4.0), zlib1g (>= 1:1.1.4)
Pre-Depends: dpkg (>= 1.16.1~)
Suggests: groff, less, www-browser
Breaks: manpages-zh (<< 1.5.2-1.1)
Conflicts: man, suidmanager (<< 0.50)
Conffiles:
 /etc/cron.daily/man-db 66756dda467471df4f38b71a69a10393
 /etc/cron.weekly/man-db 40fa232bff2326e0f82837a360d0055f
 /etc/manpath.config 6945cded2bf5630e953a5a12aaca5232
Description: on-line manual pager
 This package provides the man command, the primary way of examining the
 on-line help files (manual pages). Other utilities provided include the
 whatis and apropos commands for searching the manual page database, the
 manpath utility for determining the manual page search path, and the
 maintenance utilities mandb, catman and zsoelim. man-db uses the groff
 suite of programs to format and display the manual pages.
Triggers-Pending: /usr/share/man
Homepage: http://man-db.nongnu.org/
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Xn6+lZEQ	&mMtmdKA9NE"}|^}oke"ZxO2S.TU$gu+]8_,gKH>#|ly+iEX'=I'cY4{2D,~X)%O7.[damuOnI!2.=-TYRPuu?rd:IR+pLI,Jt
c*5R)Y+7!)=J'}},S+(JSl,CU%JQ5|-	[R7Lh!M z# l;Iq]pLh+GUu$v D dbc^ {9v
V&<6v+6>6
Q}L|b`Zi.\)w
1SGe=8kC4Pko`hNiS@51e=$x_PH8E^67<0i$[8{KYRwt_ p#K@szSiq)uN1!NoS;PMu`k%LsPB2=zzjt_qYl-n$!lI&'MqLwJR"c.m#m A; J?CU>4^t^vsxz4:C+0\GMlC0K<97a0!	t.@30g8Dl-\]?`}2JT
hc5C\%5QDMWMy,>0c#V*P[_s(.~GoG-|2}_~Pq|,frD[c2d_>Z*I)y'xv[~+QQ6e NSSA|}YmN5`"*biZummLirF{icFt[y50"'Txnn<~w?>Y<!lO*!Hkgv0<'O$h>7znGT`xe%K	_U[lgO) .44EAaB3vSH$C\5z} 0hYO2h<$$I/79&3(Puv^KAt,5E3*kz9Yen,9lfC&bEW v>__X"":YVlQUO<0<5/'m{PRDxr,rnl_j$]v,t^6/w:\wWNZ2.s(YmvYwsTpD@Zzh/pvBZ
\:O+\dcS,Y sCj=v5@H96c"|z*MTKD*~o9t:}|XB<~{1U!lxuc3mu?o0/yg~RNU_KG	9                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            This package was originally debianized by Thom May <thom@debian.org> on
Mon, 11 Feb 2002 08:54:01 +0000, and is now maintained by Joe Nahmias
<jello@debian.org>.

It was downloaded from http://www.vergenet.net/~conrad/software/xsel/

Upstream Author: Conrad Parker <conrad@vergenet.net>

Copyright:

 Copyright (C) 2001 Conrad Parker <conrad@vergenet.net> 

 Permission to use, copy, modify, distribute, and sell this software and
 its documentation for any purpose is hereby granted without fee,
 provided that the above copyright notice appear in all copies and that
 both that copyright notice and this permission notice appear in
 supporting documentation. No representations are made about the
 suitability of this software for any purpose. It is provided "as is"
 without express or implied warranty. 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             WMs6W`r3#QNxL=Q=G$ h^ )rq4E`{xsQKwNjze);|j
+2~+cK	~b*3u'b2:OZX9yb}7K7r\9.xjrx*$/ZJUxw
yYx0X46Z7xc
<4|XUX(i%3RpV~UFn*K_2J)F*y6ccxdtSTlZ`	,JcLN#.lj!O>!oUpp@>f%V#s/k5=:NpzoE(8U\)JWT<bSCa)s-@ksT[uN`e?gBQ@D;te(GG!,5:Rd :,%A*>z<JGPBwc65ZS@g4_2De*V]zr9Kp-A\v
HKgoZtsgxh)<)q,3x&Hd ]$#!YXUM"Ajc36,xu9P8#VZ 	$@W <AA*Q=8O'UjNiU~|G@)W
IVvPnPd>YXE~c6`<t([D'nWzPmSyT\/8E*DTb}xVPxUJ}C	:OOr3B=	4E
p(b44>ozI_Z-<CY'9xWT)k}K:Lb<Ld	mmhs38-fTlUh,	\YXvGUbQwA'b;&	_l8G)zAosv3@!8d)S,
:D/az5=`WEj'H,n>gO%!C1SF wjrL*yNj *CSq|RG;$5iHf?#y f7.k'PNl@+P+lLeSI4|W_fWl0;`fx/6~JV<nVi:FkHY<1p~\W_-6jcV" {q5P8io"r Hk}tM DTaK7`ugI|;{jOzVJ~V\9^P~GA#Fm"QeNdIjli 9 ^
ID)=e&V@r>6
K-a
%JpDp[b~rU;T
W9\j|'!P-$U8}ohwoz`{Ks9B@LXB!Lo@[[(
<0RhQ4i]nu+*jG7/'?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Tr6}WLb'&^DIiM<;Jd d6q63Fq(4
y^H|	]*?J>9xV+$dp?[[",mA)kGPl|%B5*h
;
AK=yA\VuXDu:^wUZ@%p! 5}o5{oB.aY}G6	87sPUjI@@q Il;xuXZ^ovra2YrF\k[^55y'Y"HP+VCU(<(lF$yq\	Mv{NnXX^hP	 7nYND:N[f'9Kd5i^{UV |xh'Q%z<~k%x2.04},
^/nfi!`}YQ	xAvC@/`gV
~zERoS tmM#v#7f?ReJ<xh yC;rd<<I/>(K-)qDy?z[YgcX+KO	R^05(|bp
F`Z#5NXX~\4G1It4%<{3$/
a}29qBoX^.	o'%14g^p*N                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Rmk0:XS1V4q(q$#wrJY?,`r7**,GYVnWkLt8UN-9-=q"
H&f:Fm2<X?~b	dF'x2!,c<HN8(cR28GaFQ,,nCMGI<cA-	mB<fy%o^2mQZ!,	mD_Af5;Q2$r%!2!X_V*t}	3z=lu'G_!q iKB2z/4MN|^%Cm<a#sF`*4Lfv!T6hnLMfwrT	\;TS[:L_^->-A\&&                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          /.
/usr
/usr/bin
/usr/bin/xsel
/usr/share
/usr/share/man
/usr/share/man/man1
/usr/share/man/man1/xsel.1x.gz
/usr/share/doc
/usr/share/doc/xsel
/usr/share/doc/xsel/copyright
/usr/share/doc/xsel/README.gz
/usr/share/doc/xsel/changelog.Debian.gz
/usr/share/doc/xsel/changelog.gz
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Package: xsel
Status: install reinstreq unpacked
Priority: optional
Section: x11
Installed-Size: 32
Maintainer: Joe Nahmias <jello@debian.org>
Architecture: armhf
Version: 1.2.0-2
Depends: libc6 (>= 2.11), libx11-6
Description: command-line tool to access X clipboard and selection buffers
 XSel is a command-line program for getting and setting the contents of
 the X selection.  It can also append and have it follow a growing file
 (similar to tail -f).
Homepage: http://www.vergenet.net/~conrad/software/xsel/
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Package: xsel
Status: install ok unpacked
Priority: optional
Section: x11
Installed-Size: 32
Maintainer: Joe Nahmias <jello@debian.org>
Architecture: armhf
Version: 1.2.0-2
Depends: libc6 (>= 2.11), libx11-6
Description: command-line tool to access X clipboard and selection buffers
 XSel is a command-line program for getting and setting the contents of
 the X selection.  It can also append and have it follow a growing file
 (similar to tail -f).
Homepage: http://www.vergenet.net/~conrad/software/xsel/
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     07334c4f91fa94379669e921b552a97c  usr/lib/arm-linux-gnueabihf/libjemalloc.so.1
8d03548b762a4fe0ebe64d8d296a8854  usr/share/doc/libjemalloc1/README
6fa09f40eb72619e11b7181c19559a1f  usr/share/doc/libjemalloc1/changelog.Debian.gz
fb4d275e26afdaa96576ed5f37ced34a  usr/share/doc/libjemalloc1/changelog.gz
4c541cf79663513d0f58e2dbb02014ef  usr/share/doc/libjemalloc1/copyright
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           Package: libjemalloc1
Source: jemalloc
Version: 3.6.0-9.1
Architecture: armhf
Maintainer: Stig Sandbeck Mathisen <ssm@debian.org>
Installed-Size: 218
Depends: libc6 (>= 2.4)
Section: libs
Priority: extra
Homepage: http://www.canonware.com/jemalloc/
Description: general-purpose scalable concurrent malloc(3) implementation
 A library providing a malloc(3) implementation for multi-threaded processes on
 multi-processor systems.
 .
 Notable features are reduced lock contention, predictable low fragmentation,
 and introspection with heap profiling.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          libjemalloc.so.1 libjemalloc1 #MINVER#
 __free_hook@Base 3.0.0
 __malloc_hook@Base 3.0.0
 __memalign_hook@Base 3.0.0
 __realloc_hook@Base 3.0.0
 aligned_alloc@Base 3.0.0
 allocm@Base 2.1.1
 calloc@Base 2.1.1
 dallocm@Base 2.1.1
 dallocx@Base 3.5.0
 free@Base 2.1.1
 mallctl@Base 2.1.1
 mallctlbymib@Base 2.1.1
 mallctlnametomib@Base 2.1.1
 malloc@Base 2.1.1
 malloc_conf@Base 2.1.1
 malloc_message@Base 2.1.1
 malloc_stats_print@Base 2.1.1
 malloc_usable_size@Base 2.1.1
 mallocx@Base 3.5.0
 memalign@Base 2.1.1
 nallocm@Base 3.0.0
 nallocx@Base 3.5.0
 posix_memalign@Base 2.1.1
 rallocm@Base 2.1.1
 rallocx@Base 3.5.0
 realloc@Base 2.1.1
 sallocm@Base 2.1.1
 sallocx@Base 3.5.0
 valloc@Base 2.1.1
 xallocx@Base 3.5.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  libjemalloc 1 libjemalloc1
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     # Triggers added by dh_makeshlibs
activate-noawait ldconfig
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Package: libjemalloc1
Status: install reinstreq half-installed
Priority: extra
Section: libs
Architecture: armhf
Version: 3.6.0-9.1
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            jemalloc is a general purpose malloc(3) implementation that emphasizes
fragmentation avoidance and scalable concurrency support.  jemalloc first came
into use as the FreeBSD libc allocator in 2005, and since then it has found its
way into numerous applications that rely on its predictable behavior.  In 2010
jemalloc development efforts broadened to include developer support features
such as heap profiling, Valgrind integration, and extensive monitoring/tuning
hooks.  Modern jemalloc releases continue to be integrated back into FreeBSD,
and therefore versatility remains critical.  Ongoing development efforts trend
toward making jemalloc among the best allocators for a broad range of demanding
applications, and eliminating/mitigating weaknesses that have practical
repercussions for real world applications.

The COPYING file contains copyright and licensing information.

The INSTALL file contains information on how to configure, build, and install
jemalloc.

The ChangeLog file contains a brief summary of changes for each release.

URL: http://www.canonware.com/jemalloc/
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Xr8}Wti_b"7;$ZCJIH$X (y/HJ#Ef]2AO$X70<DT|FmN_8Vs(IiBN32xO$@`|1_~:- DUK\F fyfi1;\LR{u6{.c10~IFi\HVPxoI:K%"tW'`#)2LL?L_zqA(h>DIdFS! B "
QQHT":S#'oX~N$ZD4~k""-QJiA{{+%C	g8_=tvm].9 aC/^0t}:Gc,$<@9)z:blw:oW>b\pK	Ap*JtS3i2*xJ}z3~k4/k*A6tC 7sg_BPAoC$Pr6U'&%ORe\4WXBI1JFgW<z2H3QZR3'uutP,*-K
D6{RyM&$|+zak[],g
YbJX8{X*Tiz}\3hFTXR6ava5]xPakRTOpIyo*"f	?Jq:pz7,)nACQXamC:OJpiW4-$$fuP9kz9g%D$~l-NZYGl
\=_i27vBiRoD*Lx(/ej|5j#+MbSz!A7QPuh%Ce6[&7	"nP%j*V{_2_ClsF32,-Y=1mC+
Q67C,eDEjNhyj?F!
wzhC^>HF.(3*4E< 1;;F!!6zgi[6KG({NoC<7lJYf<p@?k;o	Eu:%Yk}<'L}A#Jts6g}.AGUw*D)4	+r(QPb+'d}"Hs\Ew,Rh I
,U]wTwTC+B)QA"gh E'A1(lkWHm<!NcmC\|Q~gQ}\]``[Pv$nv=5S}`O@"V z?{H}
l{;*rr|v}YmGW5}Wtlg-HVZtzZz=aF[,Ocbbz8>V_Z.EosBS}Nr=	'zB~,7b+Mk[ UkJ:wdX&l|bqIx@,d~[.]mHw2p-Fh.hNClL9}f4?s:\=)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      \oV=_bJ#i6ik;q(HbC*i[]~ %],1g,Z$iclV,6I"mM2.&Nr6gncy,L>Jf]Uk^7M,,KC1wEIvYw%c6cP'Mlkh9]sEdiyU9 $M0~m[77%m1=f^nV:=*y1y59I{q:JNN_a4`rg<+ZEEL2ZhN'}Ec,?Dk>rO'{G78yO<U:]e=<--DI(:wYY`EMSB3ZpF7?FTi+y3Y7?_]i~nU=MSkL8I3;h2~x>CMb&+G`IWf4]32<uY0Y(,fMteQ}4QlKgE@^HHz[~dHglILlFs]!klc5MWt.XmKt<*&k^zm5`b.Ye.l7kK2.$aQEEgT	/Rfe$gtnXn}27iDn5T)tME	j7|K_#6Un^xo0c<DHY&9zY7$=hDtvQX`5za/[`p}OCiUCzr}xv";^.Ci*02IcRlchAJt~WcB||1pcx!Ult<"D-^%MJo5
~mX:xh]p;l8pM%$n0*7?m72OMh)W/d]-UuhbQa1 #tIOoUG[!NtlL,V8]
YJl|L,?WK(D!XU.m25ezcE>Qgbiy }r/`2Q6$P:<bz_x2qe89wz!2==NadQ0ZjJ,G)I%X
K-h.hO]bW4-+`6bQ:{:%Z0/hP4(`bTq,rK\	CnF@9/DW-o56i^W/y%VHFX6D.nX:X\,!!5f	6L{hI>f5#.J}s-	]GkotUdII<Y2r_u"'k{bRN2n[b9`(bz5kb6{Dh0'|tqgN..o~9?>|NjR
}vB)1cAHI2%6s)&!hXot	IFcd-G@[T.!4ldNP(`O7mv-#V1-ydB-Jk[
B|[V)6>8fFW6a}1\53@J}-;uX zh5"b'	Z:MPFBx8fEI19W{_
*Na[A% dHs$zfn7<iEA0#u[n &8Gj.iyAH&E=]4qTx4B6p
"aM[tC];R?Je!?]\O/o.o.o=e7$U4%_aq"621w;[uy *<;% UGMhav-2&t.Iu?1BQ9q~gUlY~Q8~ZPaU\-xA_^z_']'03Z{?LUN8cVvNx(v6	kD+Y:sf^p1@_rADyE(9LMELDsQiMmr2+_tnxvl)Pt\9kBmtZ>l"7-rxvica	nvM%lU&1Gb_N^s VfG*,b	V:2MKnDzOXF LxhE	f{z0%u0@90g 0hEfXYP4Ao,/ kN>I	%1}" 5Sf l`3T%\pmF{OhZPvx@CmK9;~qYGQ tx9OA@61mh'2VBO|M9Z&S/Tv]$!I<`>C<An$l7F*IhlAyZ/[~}-f<Vx8VB2ewxckOd3NIDh);4k|A-s{;<\'e^)K*3R
)|Su< KgzNz\U	zn95\4q?Y+(?0;9$*m<gi@u($iE
&fpJEc6Faph@.o_|sPRS"$6fhRh"L35;2j`9ua?Eg}.cr0*8gn	MVHA<3d/H1sf	IVag0q m\DB,q
\{,m678pf3f#gI9Z9T%
q>Zk(uCgb~IVu_d6%Y	I>n2\D0p@=!5M|	_c/goN}A6x;O	p]\:] GfO:z.^m<}e878 0Yg%A07k>dGJp;)VW{}@srpJ5fw7K/F(Vs?4/ Dt7;JP 	E'Slg1KVK_'8m<D{ ]=8S"Dhqm
Y"LG.#3{c+9\#p$wi'D/,Y\P*z`TN7~g2
NlxDe$O$n9/}ZdHwixN3he"_99-UkV8
4Z9KFE=":[Q>\cH_'^D!
t(ih@PPWJQN5DE1_$ rzcM=K|9 l5i=-M
G[YJMEZ2_36P:cXx&@yAp:OsAFZ%{y|z/})J!~|t3pA)$y*`1f]A\$eq3*GeMmzhrfu&Pm*V<m9^Hh#JY	x{z:O-CR2hi9xuY\w}+uiBG\<*LT!(	gLtz%^t
h=/3F$ga98.3pC'hLeg=lp'~<s%W|rMrx|_%]|{Ps50J1|+fS_G pZ@bh<')ADGgy(
J	YIYvFHo|e%<_9R&.K%M;_~t>8Sszn'dQ7dVF4BUV9l}9cNBU96gEljY}>(+dvs##i,VHxd/v</x[zFeSlE(
q:El5@P;@Vk:e8j90k>YfL{{F\)&~
*XqPN]%xiJp^pQF>${;;HZ;,vP+'2'AH1bf&
tdOn*Hrd9k\El}j s[*d7h6l/ Ml3&gHbAD	r8V*fw>qW:AzrE2Z]`jY%pL7@mC\Y^ u:)[5SiK&oZ	8oCRa.66x#b"3p]_;il$soZI&16n*<'R"&gKG+A}8M2\Q-	-gKBjGUd298d'_g)eik!s0_g'Zy~=m
\Kc,iS,Xq%y	 .9	
'[UO:K?po>%XmiY+en6zX8A|a7#j{TYx-7PRg!siBIGUl`[D[Zw}3WRij-2S"t&P3g
ShkTg(i8y\$_1Tr<B{5PQr	(R4dZ_~sR&ZPI+Qjk' <=~ue0zG<yIE%R\@HP:z%tei7itg{#-y)gWc%qD^MGR~h&;ul3!&Vdt!2v:a;.JIY/Li	b9'9w44S#|^,<7x4L:P0pf3	Y*olOCJz1&WSe8N.'r'"Z 4w]/LTc0IZRK`XvzktC({jv:BOF5qS{Fyh/{-r>\&Dxk]~J]?Wj*NhI{2#WN,m0D_W\$Q]-EWr,"1<YYbi+<UNlEPWnFyupW\E$"zdOGb=IeHp4;=v]^IUEg=PS7]k-az~u-=ka${"3VL$)C[kyO:2CLrdy.(oP$+74Qh_9u kn~5UY+ 3quakB`wu=b2A?__`jK5Wpc'P7"s}&}9eCr~;|1![A_GL
m,!|Xv)UN'*VD5';zI\vrE|p(([z|f\XipDF7^%}l-)9rE[kGjK,K@ai]W(dLPe<#;muvS2	$N	cIs*#H#_}9.`,BF(H++T'<v?lp17>xOA2Q`AZvc(NLS|UiX&-(.>`0YX\)
kBIr5 r]ICBk 	^o@wFVjXs\lZGo;!9@s:J6d0xHOo3ce @
G$/@{]K*FTy~T"gZ!:r
f;@ft^/LT^wMak.b@"D3e:q0R{_iTcKPf|IX$sQK<qQp9a^rk} p\W.@^ {ExPVOp.9X	CaVhFER8H"*<mp D)Ok#%B+**^lJBmz;-}_:FMP)b=pRE5STuC_JH-#> nn-RCT4d
C9<3=$%LrdJN?3~]Z5E|B(%F8``X&Lq+tKe:={YW*[cwKqyiXtPX\a=RsQob!t\JeMwkH
t+h}KxyKX,O\_]9u`{4?IdGf`{j{sKa{?}vpO3WSx*9r/YouYG[O\K bfRj6HvXQPVup'Q>7\\TX}u):tU;4wRbm<GTO`pEV6i6F.O:rz{CL#@qZ4V!y_o>]gDTGdWL=(Jf)L`-72-,i-S1w nzwjxS| uwy|a5Gqoaq'1>]OEf:
~\	UKmS2z/#52{\y("8)Uvpps.R1BU$\V&0{|EqB$f +xp]'ycfi5P^dMT-T<|F7\sS}CW_^.TS^}BG@aaF*s$'chix;' NN<R9%u
mOb?1:z|x3qgog;>{rZ
|1[k}01-Nal* ~npXLB7v6z/vg_%F_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Format: http://www.debian.org/doc/packaging-manuals/copyright-format/1.0/
Upstream-Name: jemalloc
Source: http://www.canonware.com/jemalloc/

Files: *
Copyright: 2002-2011 Jason Evans <jasone@canonware.com>
           2007-2010 Mozilla Foundation
License:
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:
 1. Redistributions of source code must retain the above copyright notice(s),
    this list of conditions and the following disclaimer.
 2. Redistributions in binary form must reproduce the above copyright notice(s),
    this list of conditions and the following disclaimer in the documentation
    and/or other materials provided with the distribution.
 .
 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER(S) ``AS IS'' AND ANY EXPRESS
 OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO
 EVENT SHALL THE COPYRIGHT HOLDER(S) BE LIABLE FOR ANY DIRECT, INDIRECT,
 INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
 ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

Files: *
Copyright: 2009-2011 Facebook, Inc.
License:
 Redistribution and use in source and binary forms, with or without modification,
 are permitted provided that the following conditions are met:
 * Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this
   list of conditions and the following disclaimer in the documentation and/or
   other materials provided with the distribution.
 * Neither the name of Facebook, Inc. nor the names of its contributors may be
   used to endorse or promote products derived from this software without
   specific prior written permission.
 .
 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

Files: bin/pprof
Copyright: 1998-2007, Google Inc.
License: BSD-3-Clause

Files: bin/pprof (embedded SVGPan library)
Copyright: 2009-2010 Andrea Leofreddi <a.leofreddi@itcharm.com>
License:
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions
 are met:
 .
 1. Redistributions of source code must retain the above copyright
    notice, this list of conditions and the following disclaimer.
 .
 2. Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in
    the documentation and/or other materials provided with the
    distribution.
 .
 THIS SOFTWARE IS PROVIDED BY Andrea Leofreddi ``AS IS'' AND ANY
 EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL Andrea Leofreddi OR
 CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 .
 The views and conclusions contained in the software and documentation
 are those of the authors and should not be interpreted as
 representing official policies, either expressed or implied, of
 Andrea Leofreddi.

Files: debian/*
Copyright: 2011,2012 Stig Sandbeck Mathisen <ssm@debian.org>,
           2012 Robert Edmonds <edmonds@debian.org>
License: BSD-3-Clause

License: BSD-3-Clause
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions
 are met:
 1. Redistributions of source code must retain the above copyright
    notice, this list of conditions and the following disclaimer.
 2. Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the
    documentation and/or other materials provided with the distribution.
 3. Neither the name of Debian nor the names of its contributors
    may be used to endorse or promote products derived from this software
    without specific prior written permission.
 .
 THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
 ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
 FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
 OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
 LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
 OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 SUCH DAMAGE.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   /.
/usr
/usr/lib
/usr/lib/arm-linux-gnueabihf
/usr/lib/arm-linux-gnueabihf/libjemalloc.so.1
/usr/share
/usr/share/doc
/usr/share/doc/libjemalloc1
/usr/share/doc/libjemalloc1/README
/usr/share/doc/libjemalloc1/changelog.Debian.gz
/usr/share/doc/libjemalloc1/changelog.gz
/usr/share/doc/libjemalloc1/copyright
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Package: libjemalloc1
Status: install reinstreq unpacked
Priority: extra
Section: libs
Installed-Size: 218
Maintainer: Stig Sandbeck Mathisen <ssm@debian.org>
Architecture: armhf
Source: jemalloc
Version: 3.6.0-9.1
Depends: libc6 (>= 2.4)
Description: general-purpose scalable concurrent malloc(3) implementation
 A library providing a malloc(3) implementation for multi-threaded processes on
 multi-processor systems.
 .
 Notable features are reduced lock contention, predictable low fragmentation,
 and introspection with heap profiling.
Homepage: http://www.canonware.com/jemalloc/
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Package: libjemalloc1
Status: install ok unpacked
Priority: extra
Section: libs
Installed-Size: 218
Maintainer: Stig Sandbeck Mathisen <ssm@debian.org>
Architecture: armhf
Source: jemalloc
Version: 3.6.0-9.1
Depends: libc6 (>= 2.4)
Description: general-purpose scalable concurrent malloc(3) implementation
 A library providing a malloc(3) implementation for multi-threaded processes on
 multi-processor systems.
 .
 Notable features are reduced lock contention, predictable low fragmentation,
 and introspection with heap profiling.
Homepage: http://www.canonware.com/jemalloc/
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              8098701d1ed0bd488117e51fc78e7d98  usr/lib/arm-linux-gnueabihf/libmsgpackc.so.2.0.0
3371b8e2ca4e543d573697143d0d5b2b  usr/share/doc/libmsgpackc2/changelog.Debian.gz
dba2e6b2fcf7d3444821f36f77cc3b28  usr/share/doc/libmsgpackc2/changelog.gz
4002e711e7c8171e7a9a073dea7b42dd  usr/share/doc/libmsgpackc2/copyright
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           Package: libmsgpackc2
Source: msgpack-c
Version: 1.4.2-4
Architecture: armhf
Maintainer: Taku YASUI <tach@debian.org>
Installed-Size: 42
Depends: libc6 (>= 2.4)
Section: libs
Priority: extra
Multi-Arch: same
Homepage: https://github.com/msgpack/msgpack-c/
Description: binary-based efficient object serialization library
 MessagePack is a binary-based efficient object serialization library.
 It enables to exchange structured objects between many languages like JSON.
 But unlike JSON, it is very fast and small.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              libmsgpackc.so.2 libmsgpackc2 #MINVER#
 msgpack_object_equal@Base 1.0.0
 msgpack_object_print@Base 1.0.0
 msgpack_pack_object@Base 1.0.0
 msgpack_unpack@Base 1.0.0
 msgpack_unpack_next@Base 1.0.0
 msgpack_unpacker_data@Base 0.5.1
 msgpack_unpacker_destroy@Base 0.5.1
 msgpack_unpacker_execute@Base 0.5.1
 msgpack_unpacker_expand_buffer@Base 0.5.1
 msgpack_unpacker_flush_zone@Base 0.5.1
 msgpack_unpacker_free@Base 0.5.1
 msgpack_unpacker_init@Base 0.5.1
 msgpack_unpacker_new@Base 0.5.1
 msgpack_unpacker_next@Base 1.0.0
 msgpack_unpacker_release_zone@Base 0.5.1
 msgpack_unpacker_reset@Base 0.5.1
 msgpack_unpacker_reset_zone@Base 0.5.1
 msgpack_version@Base 0.5.1
 msgpack_version_major@Base 0.5.1
 msgpack_version_minor@Base 0.5.1
 msgpack_version_revision@Base 1.0.0
 msgpack_vrefbuffer_append_copy@Base 0.5.1
 msgpack_vrefbuffer_append_ref@Base 0.5.1
 msgpack_vrefbuffer_clear@Base 0.5.1
 msgpack_vrefbuffer_destroy@Base 0.5.1
 msgpack_vrefbuffer_init@Base 0.5.1
 msgpack_vrefbuffer_migrate@Base 0.5.1
 msgpack_zone_clear@Base 0.5.1
 msgpack_zone_destroy@Base 0.5.1
 msgpack_zone_free@Base 0.5.1
 msgpack_zone_init@Base 0.5.1
 msgpack_zone_is_empty@Base 0.5.1
 msgpack_zone_malloc_expand@Base 0.5.1
 msgpack_zone_new@Base 0.5.1
 msgpack_zone_push_finalizer_expand@Base 0.5.1
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               libmsgpackc 2 libmsgpackc2
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     # Triggers added by dh_makeshlibs
activate-noawait ldconfig
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Package: libmsgpackc2
Status: install reinstreq half-installed
Priority: extra
Section: libs
Architecture: armhf
Multi-Arch: same
Version: 1.4.2-4
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             ELF          (    h  4   DA    4    (                  `9  `9           \>  \> \>              h>  h> h>                         $   $         Qtd                          Rtd\>  \> \>                    GNU 	Cbd-n}%            @P)4 Up B)4	                                                    !   "       $   &           '   (   )   *   +   -       .   0   3   4   8       9   =   XH?.<h.sXD.P`-G[4rJ8qUXygkP)mP+7m]IqX| l6(Ajd7GBEV;|=
\*vjWw>avT<#                           	     d>       L           "                                             ^                                        e                                                                                 [               2                               /  @      ,  P    
  t!  @        $8  l       $2       `  2  L          H                 6  @        8        N  @           @                    ,       2       Y  @         8          7  L     -  <2         P7         3          7  P     3  @       a  @       ?  !         `   <     E  2  (     (  !        x  X%  ,    ,  @       ?  H      )  0       U  "      d  #  p              y  03       m  `6  `     o   5       M  @         ,2         42                	 ?  @         4  \     __gmon_start__ _fini _ITM_deregisterTMCloneTable _ITM_registerTMCloneTable __cxa_finalize _Jv_RegisterClasses msgpack_zone_malloc_expand __assert_fail __stack_chk_fail __stack_chk_guard msgpack_unpacker_init malloc msgpack_zone_new msgpack_unpacker_destroy msgpack_zone_free msgpack_unpacker_new msgpack_unpacker_free msgpack_unpacker_expand_buffer memcpy realloc msgpack_zone_push_finalizer_expand msgpack_unpacker_execute msgpack_unpacker_data msgpack_unpacker_reset_zone msgpack_zone_clear msgpack_unpacker_flush_zone msgpack_unpacker_release_zone msgpack_unpacker_reset msgpack_unpacker_next msgpack_unpack msgpack_unpack_next msgpack_pack_object msgpack_object_print fputc fwrite __fprintf_chk msgpack_object_equal memcmp msgpack_version msgpack_version_major msgpack_version_minor msgpack_version_revision msgpack_vrefbuffer_init msgpack_vrefbuffer_destroy msgpack_vrefbuffer_clear msgpack_vrefbuffer_append_ref msgpack_vrefbuffer_append_copy msgpack_vrefbuffer_migrate msgpack_zone_is_empty msgpack_zone_destroy msgpack_zone_init libc.so.6 ld-linux-armhf.so.3 _edata __bss_start __bss_start__ __bss_end__ __end__ _end libmsgpackc.so.2 GLIBC_2.4                                                                                   ii   w                 ii   w      \>    `>     @    ?   ?   ?   ?   ?   ?   t? 8  x?   |?   ?   ?   ? 	  ? 
  ? (  ?   ?   ?   ? 5  ?   ?   ?   ?   ?   ?   ? .  ? 6  ?   ? 7  ? /  ?   ? &  ?    ? ,  ? #  ?   @-\  -`2  ` X P H @ 8 0 (                       0 0   R/0    404 0  0 0C S 00/ 0  S//h1 d1 0    88    A,0A0/ 0  S//1 1 l0    L0L 0  0  S/80@-0  S  
(0 l0 0  0 ,0    0 0 8 80    0  R     0  S
@-3/@. /     0/ B  Q  R/FO-M@ 00 @    T$  0@0 T00000   
  X<  8 0 Sd   S * S   [ Qk  Qp   00  2@  \ N   P  
 ``  H``  @ 0  C   03?  S0 
 0@0 0C R  B0H S (                  } x    n  ;     k   o   SZ  S>  *00@8 `T  0P 0  [H0<0  
0kKH00`0,0x000040(0 S8pL 
  : S^  
( $0  0L R00 0  k s  0@% `  C` R                                    03?00"b   0T 8@ P0	`0?s0  S0  0T@P 8@0`PLx @  XH`  `00P  ,04@	  `<`,`	  0 0P,` PR    $0( , 00 0C   S 00  @P   ^8`( N  W(<@0H`X0 P    S0	H`X0 `P0`,@ ` ,<  Q  0  00 0C   S 00 '  P	@ ` [6o  qk  qP  0 000 C   Ry N     S0  
  VR 
0`8@00@0 S o0HX0H` L@   @ [2 Qk  Qp   00  1@  \9 N   P . 
 `` 0h
0 0@00s @? %`0 0  S0f8@0"0a0"0]  @08@ D @01  0  P $P T``P T  8@2/  R?%'  `}0"0;	0"070"03` [ov`[ 0?s0  S0 $8@0X 8@/	r ?%
`U 8@  Rr ?%  @00/ D08@3?T P0`A 0  3?P08@T `9  08@/`r %1   08@`%+  @08@  D 1?0/`% 08@3?`:z{0"?s000 0"00 03?  S0v
! 0  S0p
 ` [6oqk  qP  0 000 C   Rk  N     S0t
  V=  
 0`8@0` [ov`f 2@0@ 0@P0`  B 2@0|`@P`   0@"0o 0@20"0g  H 8@@`@  @  9  P 8    .  P
 ( 0P00! 0P
0 00$0$$ 0[   dP/        ,   QA-`!`3 @ ! pP  
  PP  

@ P  
 0 F  p`P   000000          @- @ %   ?0C/  R  S@p@- P   @P  
 PP  
 p @@- @ @G- P0` S9  
 VK  
pC @   T@'  * T0:  P%  
  00 0  SH  
 0  SQ  
l!    000@D`     @  P `      R  \@0@C T@01  :`  @@@   T@  * T0:`  P
0`@D  @ ?0C/  R  S	 @@(	 r `P   5 0 p@- @P  0 U 5000C005p@- @       Vp@-@  T@  
  0 S  
d     00?0  Q p P  ,  P   @@- @  P  

# 0P  
  0 0    000000/0 0@- `p  $M 0  P@0	  
0            P    
           0 R  $0               C- PRM@M 0 p`0 p0 V <`w   <' 0  R(    0H   (,08$ # P   U0 0  \
8PH   0  V    Y    `G-X P  `M @ 0 P@<7  
0@@@@@@@  X 000 Z     \-  
p @
 	0G   (@,@0@8@$@  P     p<' 0  R    X8@0G 0 Pp         K p @
:  P   pp    M@-<ML P `0P  040	 R   *  4  J  b  r        \@%0D S* ' $ '   % $ #  !         L	  3/4  0 R <@/X0  S  
0   3/%  S R!    S  RJ     S  R  3?2/ 0$ 00 !  %    R!   R < R  R - 03 ( )0 	 (3/X\  012/$   40-(0) 	 	 (3/X@ T   T&0  T% 3$ #a  :4?( )0 0(  3/  P 	 \3/Xp W  Wx  :" 7?( )0 0(  3/  P\@pq T
  
0    p  Pu@ W  pXp W  W`  :  7?( )0 0(  3/  P`\@pr T
0    N  PS 0    E  PJ0@ WX@ Th  T9 #*: ?( 2 0(  3/    R_     R   3?2/ 0$ ,0 p  S R]  	  3/0   3/?# ( 2 0(  3/?! ( 2 0(  3/'0) (0 0(  3/  P 	 `3/(0)0*0+0 Th  T[  :4?6- ()0 0(  3/;0)@(0 0(  3/7    R7  /.0"(0 	 (3/03   R2/10) (0 	 (3/<8<0a 0  3/H08_000a 0  3/08o000a 0  3//200/ 2/-0	  3/?7+ (2 0(  3/80* (0)@0 (  3/{9  q           4  MG-M, @ 00	 S_      )  /  1    F  N     3   " F80 <  " G; 0   G80p"  S h"  GL" G4" ," G"3 " <0 @ "  [ 8`  V  ]  { 8  X(  } ! G<`0a P    VH	p0 	 0    P V<`0	 0P   0 	  0     Xp
`0 
 0    0 	 ~ 0 0P    X            x    
  d
  	  MC-$M< X0@  S  
  $C/	 S5  6      r      6     _  H `0 RdL 7o& Q P   H0`  S  S  
0L@d`P p`      "@  P
 X H `0 @oHp`0 W  W
pL@d`rP (      0@0`  P
         P
 WL d0 R6 QhP ok{Gk   y   /4   / / /
 Q
3A- @ H ` PP  
H0 P(   pP	  
  0`p  0    p@- P  @  T p@0p@- P    P  
 @  T0    0  p@-` 0M S P  
   `     @Cqrr  P  
p0p    0A- S @Pp0%  *0 R`!`1 f  P"  
 0`   0  E A   0   P  
   S  
  A`PP     G- P` 9 PH  
 p  pG 0 R 0 0  A@!!0 R3   S  :-   S*   R0A 
  P'  
 @
    0 p p        0  S0  P  5050 5  0  	   0p@- S `P  *@ S  :   S@   U0  0P  @DP  0 0 p@@A- ` @ @DpQHPR  P0P  Pp    0 R  
  /0 0  S0   Co/p@- P@0 T  
 043/0 T z  @w  Tpp@- P@0 T  
 043/0 T @` @  T    @_ 0   S0  @  `0p @p@- @ Pd  Pp 0   0 P 000 pp@- ` S @P  
` N PP
  
 0 P `  0000 p @& p 0P/@-@. @@-template_execute    ../include/msgpack/unpack_template.h    len >= *off  true    false   nil %llu    %lli    %f  (ext: %i)   ,   =>  #<UNKNOWN %i %llu>  1.4.2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     (                   f          8     \>          `>       o     |       
              h?                          H                o   o|  o   o
  o                                           h>                                                                                            @ A,   aeabi "   6 	
"c143c6fdaf62dab1b964c1f62d876efca99e7d.debug    e .shstrtab .note.gnu.build-id .gnu.hash .dynsym .dynstr .gnu.version .gnu.version_r .rel.dyn .rel.plt .init .text .fini .rodata .eh_frame .init_array .fini_array .jcr .dynamic .got .data .bss .ARM.attributes .gnu_debuglink                                                        $                     o       t               (                           0         |  |                   8   o   
  
  ~                E   o   |  |  @                T   	          H                ]   	   B                      f                               a             p                l         h  h  H*                 r         8  8                    x         8  8                             \9  \9                             \> \>                             `> `>                             d> d>                             h> h>                           h? h?                             @  @                             @ @                         p        @  -                                1@  4                                e@                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Wr6}WL^|#taN'n;+IO($@)j3%]%{Xnb8{Xa~GHciV3T 0rT*;Xi5o_\LAI05 qkZqWZP#W`J)CB $J<rpP=]]*uh.8nAi4&<ZT\ZZ~oMys uS`4W@p 8[KaP`G#D+7i@KESP	)2UXpmRf0ysi`9H8Aeynjn6RnRx6
b2/FcY/$%4r%+Q_7
RS0Br8sNKJNr5m1\J-Vl/-A-n[6Syf]!0W	 LAf#d6s2j<(<.BF;<TdCHd&92K|N/BrUt	,CB%xBqFw2%Q~;GRMxp|"r.dfZUh4G>qPX]Ro'>6u'=V1mA ]b_M^^<(o1q[R$$7J3%U~&[dIbD*Sp,kyr@Bg_ evkEJ4i,t`!0n-?MPNxK^c9#S!	Hpw$|co</nJ+	vw
|UN
"~\/xrf{OR-'c87Mq}yKo}2}w	-C7IS8/rx:!`_zvk0j+\.$>`dggV|Y/=FG# q6f12btWJv1^;=%D'w.k^+#+WGlxL(u7="KeI32g8'v}kOx)a%`tGsVw70FGyl'Lp{ *Qd
F! cC>"xV^2EU4IzH{8                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Zs]$Ku<(T<&vh8RW %&ej{@
~ww}o$62/T
w=!^8kbO''f<9Gb%WYa%aI$R9;3wEt/O*e*'p5U	E%$,r."P2lV2,z$!d{D<>N%E~uIT/y-E.J!i.e!N.O<_fW?/uqr|T}51P'uqg,ZgB-\X<D.h;KU/T8G=QT|l^n;} $|+gBq]zG)y_"R%J%BS{
|b.*S "5DgW??dT"WGZ0uvJARgDCcG;+:zm$=6KAM+u'q|[ B~}/'@@(ejzG03H:zK^@FfU=Jy*h !WDb2K'U,EC|Fg_0m*Jr';Jt#O.VV"jLe4N{L<u .Jr0)2eb|tPt(X9bI8*0_
2&oj5Dk8e)>}-I^bQ\
*#:dp)Pe**_(C2YL$7GwM:<J0'BL3)2^hwQ\Th%IT$S.JoB|\?f0s}e6[`Yk`EWr!s\8{.:C<c*$84Cz<uKVWbb-#@V$oR]"ir[]:Xj>eXe5`$,7\8p"-o/"Rcqzss\UJrOgTxr-"TkY04Lu;	y4+	g.[,
YxQ w?qgIy(z|"HKyFu:yfzz?!4`@+DUQf+ E#(mqvJ?+9[yB|F|YY!E1bF~cj1V`isGrRz"^n%@,rPT!	qKXg.8^5VTnV(7,
,?HJUXY$)A:Ra%TXtpy#<WbU	AOrUiSJIaM-|Ix`{S>Z<|oD 7uv"uc\QyvVM,i($a&^JT.Cn7PJk7o<?@1(?xq[ed`ox5s\+#^~\ych<K@!tWk0M}FcIM8^N[22l>.c~:
XJ||<}l|X.P}T*DJZ-iBRgq H\ncEYS "Z!{ Q2n6.KD w%oG'M#T>V|`&,=(kVFDAxx$C}}X0w>,%VJ>rYNdMiVkQ
SAZ&&F
626)IeX"6PG5+/~w>s#k.*O^`~8z{~yvGx:o`JEQOv?:]F6F#b3!Jl.I6?^ 1%<pcpUVV=M`q >GDhB{irWJR[gyc>1G >M6<Y}G>YyrPgK j$J%Lzg(bi	f\!QqA
%\!BT)!u*8}Q{-j'y4Z=v^3vO4Mqv
&i_~(0|E[on\{ \Ij j@.uts@}nHE636w<y@\V`>Psk>Pbd9c'wZ1O{!#VOGFq%C~VRGmR$ I<w"4#PD^_x6tdnkLaR$zFrb,eI~8p$	I.\b@tYkW9!B	-2#cdvXdGH<w,fHhh xBO96J3ZGL(` 
:!
B=J[!e?{"G$L9J]'|;W.X	|<q~tgA.w.y%D[LO6eQ\tCrspeX
~kRx{.Bw3;-sti xgtB.+k~8ny*Z+cW?etO+In+}Q[tTi:jV`}-8*8'xUxigO:;i$cit$%J&gD:cN/-+y2u H{}=.RmzIwQ}_CKBds*i&<k9Wg/%/cxge
Vl7rB	Qw&Q(\AS=x^lVe]%C}d9AzKKMIm ,BfL04HB)X6>tV%sjk65fifZ8`x,*4lLSS}sjzQ!,g4`=%vmTyprvx,ippo4M/DK`lv;6L58n~6akz
m:(;q6y}65{~yWLCl#SqC~ooqqu}{y[tZy}dV?
rR=IYfy!}~X"X	R-5h[[tj>5
T=:A8UP|G5	''o$!J7-&.j~qqiq;
J
k2,,L~4?q'                                                                                                                                                                Format: https://www.debian.org/doc/packaging-manuals/copyright-format/1.0/
Upstream-Name: msgpack-c
Upstream-Contact: FURUHASHI Sadayuki
Source: https://github.com/msgpack/msgpack-c

Files: *
Copyright: 2008-2015 FURUHASHI Sadayuki
           2008-2015 KONDO Takatoshi
           2015 MIZUKI Hirata
           2005,2008-2014 Rene Rivera
           2014 Franz Detro
           2014 Microsoft Corporation
           2014 Jessica Hamilton
           2002-2011 Paul Mensonides
           2011,2013-2014 Edward Diener
           2001 Housemarque Oy
           2013 Vladimir Volodko
License: Boost-1

Files: debian/*
Copyright: 2010 Taku YASUI <tach@debian.org>
           2016 James McCoy <jamessan@debian.org>
License: GPL-3

Files: ac/*
Copyright: 1996-2015 Free Software Foundation, Inc.
License: GPL-2+

Files: ac/install-sh
Copyright: 1994 X Consortium
License: MIT/X11

License: Boost-1
 Boost Software License - Version 1.0 - August 17th, 2003
 .
 Permission is hereby granted, free of charge, to any person or organization
 obtaining a copy of the software and accompanying documentation covered by
 this license (the "Software") to use, reproduce, display, distribute,
 execute, and transmit the Software, and to prepare derivative works of the
 Software, and to permit third-parties to whom the Software is furnished to
 do so, all subject to the following:
 .
 The copyright notices in the Software and this entire statement, including
 the above license grant, this restriction and the following disclaimer,
 must be included in all copies of the Software, in whole or in part, and
 all derivative works of the Software, unless such copies or derivative
 works are solely in the form of machine-executable object code generated by
 a source language processor.
 .
 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO EVENT
 SHALL THE COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE
 FOR ANY DAMAGES OR OTHER LIABILITY, WHETHER IN CONTRACT, TORT OR OTHERWISE,
 ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
 DEALINGS IN THE SOFTWARE.

License: GPL-3
 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License version 3 as
 published by the Free Software Foundation.
 .
 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.
 .
 You should have received a copy of the GNU General Public License
 along with this program.  If not, see <http://www.gnu.org/licenses/>.
 .
 On Debian systems, the complete text of the GNU General Public License
 version 3 can be found in `/usr/share/common-licenses/GPL-3'.

License: GPL-2+
 This program is free software; you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation; either version 2 of the License, or
 (at your option) any later version.
 .
 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.
 .
 You should have received a copy of the GNU General Public License along
 with this program; if not, write to the Free Software Foundation, Inc.,
 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
 .
 On Debian systems, the complete text of the GNU General Public License
 version 2 can be found in `/usr/share/common-licenses/GPL-2'.

License: MIT/X11
 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to
 deal in the Software without restriction, including without limitation the
 rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 sell copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:
 .
 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.
 .
 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 X CONSORTIUM BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN
 AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNEC-
 TION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 .
 Except as contained in this notice, the name of the X Consortium shall not
 be used in advertising or otherwise to promote the sale, use or other deal-
 ings in this Software without prior written authorization from the X Consor-
 tium.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              /.
/usr
/usr/lib
/usr/lib/arm-linux-gnueabihf
/usr/lib/arm-linux-gnueabihf/libmsgpackc.so.2.0.0
/usr/share
/usr/share/doc
/usr/share/doc/libmsgpackc2
/usr/share/doc/libmsgpackc2/changelog.Debian.gz
/usr/share/doc/libmsgpackc2/changelog.gz
/usr/share/doc/libmsgpackc2/copyright
/usr/lib/arm-linux-gnueabihf/libmsgpackc.so.2
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Package: libmsgpackc2
Status: install reinstreq unpacked
Priority: extra
Section: libs
Installed-Size: 42
Maintainer: Taku YASUI <tach@debian.org>
Architecture: armhf
Multi-Arch: same
Source: msgpack-c
Version: 1.4.2-4
Depends: libc6 (>= 2.4)
Description: binary-based efficient object serialization library
 MessagePack is a binary-based efficient object serialization library.
 It enables to exchange structured objects between many languages like JSON.
 But unlike JSON, it is very fast and small.
Homepage: https://github.com/msgpack/msgpack-c/
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           Package: libmsgpackc2
Status: install ok unpacked
Priority: extra
Section: libs
Installed-Size: 42
Maintainer: Taku YASUI <tach@debian.org>
Architecture: armhf
Multi-Arch: same
Source: msgpack-c
Version: 1.4.2-4
Depends: libc6 (>= 2.4)
Description: binary-based efficient object serialization library
 MessagePack is a binary-based efficient object serialization library.
 It enables to exchange structured objects between many languages like JSON.
 But unlike JSON, it is very fast and small.
Homepage: https://github.com/msgpack/msgpack-c/
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  7fd951731d6ba7b65e16aa4c00375eac  usr/lib/arm-linux-gnueabihf/libunibilium.so.0.3.0
12956a5d589c6b45f5aa50a6816aa842  usr/share/doc/libunibilium0/changelog.Debian.gz
c13f992bb1b935c89f195d69ea50a315  usr/share/doc/libunibilium0/changelog.gz
b824f17a3fb824cfa6c4d864db35c73a  usr/share/doc/libunibilium0/copyright
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Package: libunibilium0
Source: unibilium
Version: 1.2.0-1
Architecture: armhf
Maintainer: James McCoy <jamessan@debian.org>
Installed-Size: 67
Depends: libc6 (>= 2.4)
Section: libs
Priority: extra
Multi-Arch: same
Homepage: https://github.com/mauke/unibilium
Description: simple, self-contained terminfo library
 Unibilium is a very basic terminfo library. It doesn't depend on curses or any
 other library. It also doesn't use global variables, so it should be
 thread-safe.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    libunibilium.so.0 libunibilium0 #MINVER#
 unibi_add_ext_bool@Base 1.0
 unibi_add_ext_num@Base 1.0
 unibi_add_ext_str@Base 1.0
 unibi_count_ext_bool@Base 1.0
 unibi_count_ext_num@Base 1.0
 unibi_count_ext_str@Base 1.0
 unibi_del_ext_bool@Base 1.0
 unibi_del_ext_num@Base 1.0
 unibi_del_ext_str@Base 1.0
 unibi_destroy@Base 1.0
 unibi_dummy@Base 1.0
 unibi_dump@Base 1.0
 unibi_format@Base 1.1
 unibi_from_env@Base 1.0
 unibi_from_fd@Base 1.0
 unibi_from_file@Base 1.0
 unibi_from_fp@Base 1.0
 unibi_from_mem@Base 1.0
 unibi_from_term@Base 1.0
 unibi_get_aliases@Base 1.0
 unibi_get_bool@Base 1.0
 unibi_get_ext_bool@Base 1.0
 unibi_get_ext_bool_name@Base 1.0
 unibi_get_ext_num@Base 1.0
 unibi_get_ext_num_name@Base 1.0
 unibi_get_ext_str@Base 1.0
 unibi_get_ext_str_name@Base 1.0
 unibi_get_name@Base 1.0
 unibi_get_num@Base 1.0
 unibi_get_str@Base 1.0
 unibi_name_bool@Base 1.0
 unibi_name_num@Base 1.0
 unibi_name_str@Base 1.0
 unibi_num_from_var@Base 1.2
 unibi_run@Base 1.1
 unibi_set_aliases@Base 1.0
 unibi_set_bool@Base 1.0
 unibi_set_ext_bool@Base 1.0
 unibi_set_ext_bool_name@Base 1.0
 unibi_set_ext_num@Base 1.0
 unibi_set_ext_num_name@Base 1.0
 unibi_set_ext_str@Base 1.0
 unibi_set_ext_str_name@Base 1.0
 unibi_set_name@Base 1.0
 unibi_set_num@Base 1.0
 unibi_set_str@Base 1.0
 unibi_short_name_bool@Base 1.0
 unibi_short_name_num@Base 1.0
 unibi_short_name_str@Base 1.0
 unibi_str_from_var@Base 1.2
 unibi_terminfo_dirs@Base 1.0
 unibi_var_from_num@Base 1.2
 unibi_var_from_str@Base 1.2
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    libunibilium 0 libunibilium0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   # Triggers added by dh_makeshlibs
activate-noawait ldconfig
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    " Vim syntax file
" Language:	xmath (a simulation tool)
" Maintainer:	Charles E. Campbell <NdrOchipS@PcampbellAfamily.Mbiz>
" Last Change:	Sep 11, 2006
" Version:	7
" URL:	http://www.drchip.org/astronaut/vim/index.html#SYNTAX_XMATH

" For version 5.x: Clear all syntax items
" For version 6.x: Quit when a syntax file was already loaded
if version < 600
  syntax clear
elseif exists("b:current_syntax")
  finish
endif

" parenthesis sanity checker
syn region xmathZone	matchgroup=Delimiter start="(" matchgroup=Delimiter end=")" transparent contains=ALLBUT,xmathError,xmathBraceError,xmathCurlyError
syn region xmathZone	matchgroup=Delimiter start="{" matchgroup=Delimiter end="}" transparent contains=ALLBUT,xmathError,xmathBraceError,xmathParenError
syn region xmathZone	matchgroup=Delimiter start="\[" matchgroup=Delimiter end="]" transparent contains=ALLBUT,xmathError,xmathCurlyError,xmathParenError
syn match  xmathError	"[)\]}]"
syn match  xmathBraceError	"[)}]"	contained
syn match  xmathCurlyError	"[)\]]"	contained
syn match  xmathParenError	"[\]}]"	contained
syn match  xmathComma	"[,;:]"
syn match  xmathComma	"\.\.\.$"

" A bunch of useful xmath keywords
syn case ignore
syn keyword xmathFuncCmd	function	endfunction	command	endcommand
syn keyword xmathStatement	abort	beep	debug	default	define
syn keyword xmathStatement	execute	exit	pause	return	undefine
syn keyword xmathConditional	if	else	elseif	endif
syn keyword xmathRepeat	while	for	endwhile	endfor
syn keyword xmathCmd	anigraph	deletedatastore	keep	renamedatastore
syn keyword xmathCmd	autocode	deletestd	linkhyper	renamestd
syn keyword xmathCmd	build	deletesuperblock	linksim	renamesuperblock
syn keyword xmathCmd	comment	deletetransition	listusertype	save
syn keyword xmathCmd	copydatastore	deleteusertype	load	sbadisplay
syn keyword xmathCmd	copystd	detailmodel	lock	set
syn keyword xmathCmd	copysuperblock	display	minmax_display	setsbdefault
syn keyword xmathCmd	createblock	documentit	modifyblock	show
syn keyword xmathCmd	createbubble	editcatalog	modifybubble	showlicense
syn keyword xmathCmd	createconnection	erase	modifystd	showsbdefault
syn keyword xmathCmd	creatertf	expandsuperbubble	modifysuperblock	stop
syn keyword xmathCmd	createstd	for	modifytransition	stopcosim
syn keyword xmathCmd	createsuperblock	go	modifyusertype	syntax
syn keyword xmathCmd	createsuperbubble	goto	new	unalias
syn keyword xmathCmd	createtransition	hardcopy	next	unlock
syn keyword xmathCmd	createusertype	help	polargraph	usertype
syn keyword xmathCmd	delete	hyperbuild	print	whatis
syn keyword xmathCmd	deleteblock	if	printmodel	while
syn keyword xmathCmd	deletebubble	ifilter	quit	who
syn keyword xmathCmd	deleteconnection	ipcwc	remove	xgraph

syn keyword xmathFunc	abcd	eye	irea	querystdoptions
syn keyword xmathFunc	abs	eyepattern	is	querysuperblock
syn keyword xmathFunc	acos	feedback	ISID	querysuperblockopt
syn keyword xmathFunc	acosh	fft	ISID	Models	querytransition
syn keyword xmathFunc	adconversion	fftpdm	kronecker	querytransitionopt
syn keyword xmathFunc	afeedback	filter	length	qz
syn keyword xmathFunc	all	find	limit	rampinvar
syn keyword xmathFunc	ambiguity	firparks	lin	random
syn keyword xmathFunc	amdemod	firremez	lin30	randpdm
syn keyword xmathFunc	analytic	firwind	linearfm	randpert
syn keyword xmathFunc	analyze	fmdemod	linfnorm	randsys
syn keyword xmathFunc	any	forwdiff	lintodb	rank
syn keyword xmathFunc	append	fprintf	list	rayleigh
syn keyword xmathFunc	argn	frac	log	rcepstrum
syn keyword xmathFunc	argv	fracred	log10	rcond
syn keyword xmathFunc	arma	freq	logm	rdintegrate
syn keyword xmathFunc	arma2ss	freqcircle	lognormal	read
syn keyword xmathFunc	armax	freqcont	logspace	real
syn keyword xmathFunc	ascii	frequencyhop	lowpass	rectify
syn keyword xmathFunc	asin	fsesti	lpopt	redschur
syn keyword xmathFunc	asinh	fslqgcomp	lqgcomp	reflect
syn keyword xmathFunc	atan	fsregu	lqgltr	regulator
syn keyword xmathFunc	atan2	fwls	ls	residue
syn keyword xmathFunc	atanh	gabor	ls2unc	riccati
syn keyword xmathFunc	attach_ac100	garb	ls2var	riccati_eig
syn keyword xmathFunc	backdiff	gaussian	lsjoin	riccati_schur
syn keyword xmathFunc	balance	gcexp	lu	ricean
syn keyword xmathFunc	balmoore	gcos	lyapunov	rifd
syn keyword xmathFunc	bandpass	gdfileselection	makecontinuous	rlinfo
syn keyword xmathFunc	bandstop	gdmessage	makematrix	rlocus
syn keyword xmathFunc	bj	gdselection	makepoly	rms
syn keyword xmathFunc	blknorm	genconv	margin	rootlocus
syn keyword xmathFunc	bode	get	markoff	roots
syn keyword xmathFunc	bpm	get_info30	matchedpz	round
syn keyword xmathFunc	bpm2inn	get_inn	max	rref
syn keyword xmathFunc	bpmjoin	gfdm	maxlike	rve_get
syn keyword xmathFunc	bpmsplit	gfsk	mean	rve_info
syn keyword xmathFunc	bst	gfskernel	mergeseg	rve_reset
syn keyword xmathFunc	buttconstr	gfunction	min	rve_update
syn keyword xmathFunc	butterworth	ggauss	minimal	samplehold
syn keyword xmathFunc	cancel	giv	mkpert	schur
syn keyword xmathFunc	canform	giv2var	mkphase	sdf
syn keyword xmathFunc	ccepstrum	givjoin	mma	sds
syn keyword xmathFunc	char	gpsk	mmaget	sdtrsp
syn keyword xmathFunc	chebconstr	gpulse	mmaput	sec
syn keyword xmathFunc	chebyshev	gqam	mod	sech
syn keyword xmathFunc	check	gqpsk	modal	siginterp
syn keyword xmathFunc	cholesky	gramp	modalstate	sign
syn keyword xmathFunc	chop	gsawtooth	modcarrier	sim
syn keyword xmathFunc	circonv	gsigmoid	mreduce	sim30
syn keyword xmathFunc	circorr	gsin	mtxplt	simin
syn keyword xmathFunc	clock	gsinc	mu	simin30
syn keyword xmathFunc	clocus	gsqpsk	mulhank	simout
syn keyword xmathFunc	clsys	gsquarewave	multipath	simout30
syn keyword xmathFunc	coherence	gstep	musynfit	simtransform
syn keyword xmathFunc	colorind	GuiDialogCreate	mxstr2xmstr	sin
syn keyword xmathFunc	combinepf	GuiDialogDestroy	mxstring2xmstring	singriccati
syn keyword xmathFunc	commentof	GuiFlush	names	sinh
syn keyword xmathFunc	compare	GuiGetValue	nichols	sinm
syn keyword xmathFunc	complementaryerf	GuiManage	noisefilt	size
syn keyword xmathFunc	complexenvelope	GuiPlot	none	smargin
syn keyword xmathFunc	complexfreqshift	GuiPlotGet	norm	sns2sys
syn keyword xmathFunc	concatseg	GuiSetValue	numden	sort
syn keyword xmathFunc	condition	GuiShellCreate	nyquist	spectrad
syn keyword xmathFunc	conj	GuiShellDeiconify	obscf	spectrum
syn keyword xmathFunc	conmap	GuiShellDestroy	observable	spline
syn keyword xmathFunc	connect	GuiShellIconify	oe	sprintf
syn keyword xmathFunc	conpdm	GuiShellLower	ones	sqrt
syn keyword xmathFunc	constellation	GuiShellRaise	ophank	sqrtm
syn keyword xmathFunc	consys	GuiShellRealize	optimize	sresidualize
syn keyword xmathFunc	controllable	GuiShellUnrealize	optscale	ss2arma
syn keyword xmathFunc	convolve	GuiTimer	orderfilt	sst
syn keyword xmathFunc	correlate	GuiToolCreate	orderstate	ssv
syn keyword xmathFunc	cos	GuiToolDestroy	orth	stable
syn keyword xmathFunc	cosh	GuiToolExist	oscmd	stair
syn keyword xmathFunc	cosm	GuiUnmanage	oscope	starp
syn keyword xmathFunc	cot	GuiWidgetExist	osscale	step
syn keyword xmathFunc	coth	h2norm	padcrop	stepinvar
syn keyword xmathFunc	covariance	h2syn	partialsum	string
syn keyword xmathFunc	csc	hadamard	pdm	stringex
syn keyword xmathFunc	csch	hankelsv	pdmslice	substr
syn keyword xmathFunc	csum	hessenberg	pem	subsys
syn keyword xmathFunc	ctrcf	highpass	perfplots	sum
syn keyword xmathFunc	ctrlplot	hilbert	period	svd
syn keyword xmathFunc	daug	hilberttransform	pfscale	svplot
syn keyword xmathFunc	dbtolin	hinfcontr	phaseshift	sweep
syn keyword xmathFunc	dct	hinfnorm	pinv	symbolmap
syn keyword xmathFunc	decimate	hinfsyn	plot	sys2sns
syn keyword xmathFunc	defFreqRange	histogram	plot30	sysic
syn keyword xmathFunc	defTimeRange	idfreq	pmdemod	Sysid
syn keyword xmathFunc	delay	idimpulse	poisson	system
syn keyword xmathFunc	delsubstr	idsim	poissonimpulse	tan
syn keyword xmathFunc	det	ifft	poleplace	tanh
syn keyword xmathFunc	detrend	imag	poles	taper
syn keyword xmathFunc	dht	impinvar	polezero	tfid
syn keyword xmathFunc	diagonal	impplot	poltrend	toeplitz
syn keyword xmathFunc	differentiate	impulse	polyfit	trace
syn keyword xmathFunc	directsequence	index	polynomial	tril
syn keyword xmathFunc	discretize	indexlist	polyval	trim
syn keyword xmathFunc	divide	initial	polyvalm	trim30
syn keyword xmathFunc	domain	initmodel	prbs	triu
syn keyword xmathFunc	dst	initx0	product	trsp
syn keyword xmathFunc	eig	inn2bpm	psd	truncate
syn keyword xmathFunc	ellipconstr	inn2pe	put_inn	tustin
syn keyword xmathFunc	elliptic	inn2unc	qpopt	uniform
syn keyword xmathFunc	erf	insertseg	qr	val
syn keyword xmathFunc	error	int	quantize	variance
syn keyword xmathFunc	estimator	integrate	queryblock	videolines
syn keyword xmathFunc	etfe	integratedump	queryblockoptions	wcbode
syn keyword xmathFunc	exist	interp	querybubble	wcgain
syn keyword xmathFunc	exp	interpolate	querybubbleoptionswindow
syn keyword xmathFunc	expm	inv	querycatalog	wtbalance
syn keyword xmathFunc	extractchan	invhilbert	queryconnection	zeros
syn keyword xmathFunc	extractseg	iqmix	querystd

syn case match

" Labels (supports xmath's goto)
syn match   xmathLabel	 "^\s*<[a-zA-Z_][a-zA-Z0-9]*>"

" String and Character constants
" Highlight special characters (those which have a backslash) differently
syn match   xmathSpecial	contained "\\\d\d\d\|\\."
syn region  xmathString	start=+"+  skip=+\\\\\|\\"+  end=+"+ contains=xmathSpecial,@Spell
syn match   xmathCharacter	"'[^\\]'"
syn match   xmathSpecialChar	"'\\.'"

syn match   xmathNumber	"-\=\<\d\+L\=\>\|0[xX][0-9a-fA-F]\+\>"

" Comments:
" xmath supports #...  (like Unix shells)
"       and      #{ ... }# comment blocks
syn cluster xmathCommentGroup	contains=xmathString,xmathTodo,@Spell
syn keyword xmathTodo contained	COMBAK	DEBUG	FIXME	Todo	TODO	XXX
syn match   xmathComment	"#.*$"		contains=@xmathCommentGroup
syn region  xmathCommentBlock	start="#{" end="}#"	contains=@xmathCommentGroup

" synchronizing
syn sync match xmathSyncComment	grouphere xmathCommentBlock "#{"
syn sync match xmathSyncComment	groupthere NONE "}#"

" Define the default highlighting.
" For version 5.7 and earlier: only when not done already
" For version 5.8 and later: only when an item doesn't have highlighting yet
if version >= 508 || !exists("did_xmath_syntax_inits")
  if version < 508
    let did_xmath_syntax_inits = 1
    command -nargs=+ HiLink hi link <args>
  else
    command -nargs=+ HiLink hi def link <args>
  endif

  HiLink xmathBraceError	xmathError
  HiLink xmathCmd	xmathStatement
  HiLink xmathCommentBlock	xmathComment
  HiLink xmathCurlyError	xmathError
  HiLink xmathFuncCmd	xmathStatement
  HiLink xmathParenError	xmathError

  " The default methods for highlighting.  Can be overridden later
  HiLink xmathCharacter	Character
  HiLink xmathComma	Delimiter
  HiLink xmathComment	Comment
  HiLink xmathCommentBlock	Comment
  HiLink xmathConditional	Conditional
  HiLink xmathError	Error
  HiLink xmathFunc	Function
  HiLink xmathLabel	PreProc
  HiLink xmathNumber	Number
  HiLink xmathRepeat	Repeat
  HiLink xmathSpecial	Type
  HiLink xmathSpecialChar	SpecialChar
  HiLink xmathStatement	Statement
  HiLink xmathString	String
  HiLink xmathTodo	Todo

  delcommand HiLink
endif

let b:current_syntax = "xmath"

" vim: ts=17
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             " Vim syntax file
" Language:	XML
" Maintainer:	Johannes Zellner <johannes@zellner.org>
"		Author and previous maintainer:
"		Paul Siegmann <pauls@euronet.nl>
" Last Change:	2013 Jun 07
" Filenames:	*.xml
" $Id: xml.vim,v 1.3 2006/04/11 21:32:00 vimboss Exp $

" CONFIGURATION:
"   syntax folding can be turned on by
"
"      let g:xml_syntax_folding = 1
"
"   before the syntax file gets loaded (e.g. in ~/.vimrc).
"   This might slow down syntax highlighting significantly,
"   especially for large files.
"
" CREDITS:
"   The original version was derived by Paul Siegmann from
"   Claudio Fleiner's html.vim.
"
" REFERENCES:
"   [1] http://www.w3.org/TR/2000/REC-xml-20001006
"   [2] http://www.w3.org/XML/1998/06/xmlspec-report-19980910.htm
"
"   as <hirauchi@kiwi.ne.jp> pointed out according to reference [1]
"
"   2.3 Common Syntactic Constructs
"   [4]    NameChar    ::=    Letter | Digit | '.' | '-' | '_' | ':' | CombiningChar | Extender
"   [5]    Name        ::=    (Letter | '_' | ':') (NameChar)*
"
" NOTE:
"   1) empty tag delimiters "/>" inside attribute values (strings)
"      confuse syntax highlighting.
"   2) for large files, folding can be pretty slow, especially when
"      loading a file the first time and viewoptions contains 'folds'
"      so that folds of previous sessions are applied.
"      Don't use 'foldmethod=syntax' in this case.


" Quit when a syntax file was already loaded
if exists("b:current_syntax")
    finish
endif

let s:xml_cpo_save = &cpo
set cpo&vim

syn case match

" mark illegal characters
syn match xmlError "[<&]"

" strings (inside tags) aka VALUES
"
" EXAMPLE:
"
" <tag foo.attribute = "value">
"                      ^^^^^^^
syn region  xmlString contained start=+"+ end=+"+ contains=xmlEntity,@Spell display
syn region  xmlString contained start=+'+ end=+'+ contains=xmlEntity,@Spell display


" punctuation (within attributes) e.g. <tag xml:foo.attribute ...>
"                                              ^   ^
" syn match   xmlAttribPunct +[-:._]+ contained display
syn match   xmlAttribPunct +[:.]+ contained display

" no highlighting for xmlEqual (xmlEqual has no highlighting group)
syn match   xmlEqual +=+ display


" attribute, everything before the '='
"
" PROVIDES: @xmlAttribHook
"
" EXAMPLE:
"
" <tag foo.attribute = "value">
"      ^^^^^^^^^^^^^
"
syn match   xmlAttrib
    \ +[-'"<]\@1<!\<[a-zA-Z:_][-.0-9a-zA-Z:_]*\>\%(['">]\@!\|$\)+
    \ contained
    \ contains=xmlAttribPunct,@xmlAttribHook
    \ display


" namespace spec
"
" PROVIDES: @xmlNamespaceHook
"
" EXAMPLE:
"
" <xsl:for-each select = "lola">
"  ^^^
"
if exists("g:xml_namespace_transparent")
syn match   xmlNamespace
    \ +\(<\|</\)\@2<=[^ /!?<>"':]\+[:]\@=+
    \ contained
    \ contains=@xmlNamespaceHook
    \ transparent
    \ display
else
syn match   xmlNamespace
    \ +\(<\|</\)\@2<=[^ /!?<>"':]\+[:]\@=+
    \ contained
    \ contains=@xmlNamespaceHook
    \ display
endif


" tag name
"
" PROVIDES: @xmlTagHook
"
" EXAMPLE:
"
" <tag foo.attribute = "value">
"  ^^^
"
syn match   xmlTagName
    \ +<\@1<=[^ /!?<>"']\++
    \ contained
    \ contains=xmlNamespace,xmlAttribPunct,@xmlTagHook
    \ display


if exists('g:xml_syntax_folding')

    " start tag
    " use matchgroup=xmlTag to skip over the leading '<'
    "
    " PROVIDES: @xmlStartTagHook
    "
    " EXAMPLE:
    "
    " <tag id="whoops">
    " s^^^^^^^^^^^^^^^e
    "
    syn region   xmlTag
	\ matchgroup=xmlTag start=+<[^ /!?<>"']\@=+
	\ matchgroup=xmlTag end=+>+
	\ contained
	\ contains=xmlError,xmlTagName,xmlAttrib,xmlEqual,xmlString,@xmlStartTagHook


    " highlight the end tag
    "
    " PROVIDES: @xmlTagHook
    " (should we provide a separate @xmlEndTagHook ?)
    "
    " EXAMPLE:
    "
    " </tag>
    " ^^^^^^
    "
    syn match   xmlEndTag
	\ +</[^ /!?<>"']\+>+
	\ contained
	\ contains=xmlNamespace,xmlAttribPunct,@xmlTagHook


    " tag elements with syntax-folding.
    " NOTE: NO HIGHLIGHTING -- highlighting is done by contained elements
    "
    " PROVIDES: @xmlRegionHook
    "
    " EXAMPLE:
    "
    " <tag id="whoops">
    "   <!-- comment -->
    "   <another.tag></another.tag>
    "   <empty.tag/>
    "   some data
    " </tag>
    "
    syn region   xmlRegion
	\ start=+<\z([^ /!?<>"']\+\)+
	\ skip=+<!--\_.\{-}-->+
	\ end=+</\z1\_\s\{-}>+
	\ matchgroup=xmlEndTag end=+/>+
	\ fold
	\ contains=xmlTag,xmlEndTag,xmlCdata,xmlRegion,xmlComment,xmlEntity,xmlProcessing,@xmlRegionHook,@Spell
	\ keepend
	\ extend

else

    " no syntax folding:
    " - contained attribute removed
    " - xmlRegion not defined
    "
    syn region   xmlTag
	\ matchgroup=xmlTag start=+<[^ /!?<>"']\@=+
	\ matchgroup=xmlTag end=+>+
	\ contains=xmlError,xmlTagName,xmlAttrib,xmlEqual,xmlString,@xmlStartTagHook

    syn match   xmlEndTag
	\ +</[^ /!?<>"']\+>+
	\ contains=xmlNamespace,xmlAttribPunct,@xmlTagHook

endif


" &entities; compare with dtd
syn match   xmlEntity                 "&[^; \t]*;" contains=xmlEntityPunct
syn match   xmlEntityPunct  contained "[&.;]"

if exists('g:xml_syntax_folding')

    " The real comments (this implements the comments as defined by xml,
    " but not all xml pages actually conform to it. Errors are flagged.
    syn region  xmlComment
	\ start=+<!+
	\ end=+>+
	\ contains=xmlCommentStart,xmlCommentError
	\ extend
	\ fold

else

    " no syntax folding:
    " - fold attribute removed
    "
    syn region  xmlComment
	\ start=+<!+
	\ end=+>+
	\ contains=xmlCommentStart,xmlCommentError
	\ extend

endif

syn match xmlCommentStart   contained "<!" nextgroup=xmlCommentPart
syn keyword xmlTodo         contained TODO FIXME XXX
syn match   xmlCommentError contained "[^><!]"
syn region  xmlCommentPart
    \ start=+--+
    \ end=+--+
    \ contained
    \ contains=xmlTodo,@xmlCommentHook,@Spell


" CData sections
"
" PROVIDES: @xmlCdataHook
"
syn region    xmlCdata
    \ start=+<!\[CDATA\[+
    \ end=+]]>+
    \ contains=xmlCdataStart,xmlCdataEnd,@xmlCdataHook,@Spell
    \ keepend
    \ extend

" using the following line instead leads to corrupt folding at CDATA regions
" syn match    xmlCdata      +<!\[CDATA\[\_.\{-}]]>+  contains=xmlCdataStart,xmlCdataEnd,@xmlCdataHook
syn match    xmlCdataStart +<!\[CDATA\[+  contained contains=xmlCdataCdata
syn keyword  xmlCdataCdata CDATA          contained
syn match    xmlCdataEnd   +]]>+          contained


" Processing instructions
" This allows "?>" inside strings -- good idea?
syn region  xmlProcessing matchgroup=xmlProcessingDelim start="<?" end="?>" contains=xmlAttrib,xmlEqual,xmlString


if exists('g:xml_syntax_folding')

    " DTD -- we use dtd.vim here
    syn region  xmlDocType matchgroup=xmlDocTypeDecl
	\ start="<!DOCTYPE"he=s+2,rs=s+2 end=">"
	\ fold
	\ contains=xmlDocTypeKeyword,xmlInlineDTD,xmlString
else

    " no syntax folding:
    " - fold attribute removed
    "
    syn region  xmlDocType matchgroup=xmlDocTypeDecl
	\ start="<!DOCTYPE"he=s+2,rs=s+2 end=">"
	\ contains=xmlDocTypeKeyword,xmlInlineDTD,xmlString

endif

syn keyword xmlDocTypeKeyword contained DOCTYPE PUBLIC SYSTEM
syn region  xmlInlineDTD contained matchgroup=xmlDocTypeDecl start="\[" end="]" contains=@xmlDTD
syn include @xmlDTD <sfile>:p:h/dtd.vim
unlet b:current_syntax


" synchronizing
" TODO !!! to be improved !!!

syn sync match xmlSyncDT grouphere  xmlDocType +\_.\(<!DOCTYPE\)\@=+
" syn sync match xmlSyncDT groupthere  NONE       +]>+

if exists('g:xml_syntax_folding')
    syn sync match xmlSync grouphere   xmlRegion  +\_.\(<[^ /!?<>"']\+\)\@=+
    " syn sync match xmlSync grouphere  xmlRegion "<[^ /!?<>"']*>"
    syn sync match xmlSync groupthere  xmlRegion  +</[^ /!?<>"']\+>+
endif

syn sync minlines=100


" The default highlighting.
hi def link xmlTodo		Todo
hi def link xmlTag		Function
hi def link xmlTagName		Function
hi def link xmlEndTag		Identifier
if !exists("g:xml_namespace_transparent")
    hi def link xmlNamespace	Tag
endif
hi def link xmlEntity		Statement
hi def link xmlEntityPunct	Type

hi def link xmlAttribPunct	Comment
hi def link xmlAttrib		Type

hi def link xmlString		String
hi def link xmlComment		Comment
hi def link xmlCommentStart	xmlComment
hi def link xmlCommentPart	Comment
hi def link xmlCommentError	Error
hi def link xmlError		Error

hi def link xmlProcessingDelim	Comment
hi def link xmlProcessing	Type

hi def link xmlCdata		String
hi def link xmlCdataCdata	Statement
hi def link xmlCdataStart	Type
hi def link xmlCdataEnd		Type

hi def link xmlDocTypeDecl	Function
hi def link xmlDocTypeKeyword	Statement
hi def link xmlInlineDTD	Function

let b:current_syntax = "xml"

let &cpo = s:xml_cpo_save
unlet s:xml_cpo_save

" vim: ts=8
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               " Vim syntax file
" Language:         xmodmap(1) definition file
" Maintainer:       Nikolai Weibull <now@bitwi.se>
" Latest Revision:  2006-04-19

if exists("b:current_syntax")
  finish
endif

let s:cpo_save = &cpo
set cpo&vim

syn keyword xmodmapTodo       contained TODO FIXME XXX NOTE

syn region  xmodmapComment    display oneline start='^!' end='$'
                              \ contains=xmodmapTodo,@Spell

syn case ignore
syn match   xmodmapInt        display '\<\d\+\>'
syn match   xmodmapHex        display '\<0x\x\+\>'
syn match   xmodmapOctal      display '\<0\o\+\>'
syn match   xmodmapOctalError display '\<0\o*[89]\d*'
syn case match

syn match   xmodmapKeySym     display '\<[A-Za-z]\>'

" #include <X11/keysymdef.h>
syn keyword xmodmapKeySym     XK_VoidSymbol XK_BackSpace XK_Tab XK_Linefeed
                              \ XK_Clear XK_Return XK_Pause XK_Scroll_Lock
                              \ XK_Sys_Req XK_Escape XK_Delete XK_Multi_key
                              \ XK_Codeinput XK_SingleCandidate
                              \ XK_MultipleCandidate XK_PreviousCandidate
                              \ XK_Kanji XK_Muhenkan XK_Henkan_Mode
                              \ XK_Henkan XK_Romaji XK_Hiragana XK_Katakana
                              \ XK_Hiragana_Katakana XK_Zenkaku XK_Hankaku
                              \ XK_Zenkaku_Hankaku XK_Touroku XK_Massyo
                              \ XK_Kana_Lock XK_Kana_Shift XK_Eisu_Shift
                              \ XK_Eisu_toggle XK_Kanji_Bangou XK_Zen_Koho
                              \ XK_Mae_Koho XK_Home XK_Left XK_Up XK_Right
                              \ XK_Down XK_Prior XK_Page_Up XK_Next
                              \ XK_Page_Down XK_End XK_Begin XK_Select
                              \ XK_Print XK_Execute XK_Insert XK_Undo XK_Redo
                              \ XK_Menu XK_Find XK_Cancel XK_Help XK_Break
                              \ XK_Mode_switch XK_script_switch XK_Num_Lock
                              \ XK_KP_Space XK_KP_Tab XK_KP_Enter XK_KP_F1
                              \ XK_KP_F2 XK_KP_F3 XK_KP_F4 XK_KP_Home
                              \ XK_KP_Left XK_KP_Up XK_KP_Right XK_KP_Down
                              \ XK_KP_Prior XK_KP_Page_Up XK_KP_Next
                              \ XK_KP_Page_Down XK_KP_End XK_KP_Begin
                              \ XK_KP_Insert XK_KP_Delete XK_KP_Equal
                              \ XK_KP_Multiply XK_KP_Add XK_KP_Separator
                              \ XK_KP_Subtract XK_KP_Decimal XK_KP_Divide
                              \ XK_KP_0 XK_KP_1 XK_KP_2 XK_KP_3 XK_KP_4
                              \ XK_KP_5 XK_KP_6 XK_KP_7 XK_KP_8 XK_KP_9 XK_F1
                              \ XK_F2 XK_F3 XK_F4 XK_F5 XK_F6 XK_F7 XK_F8
                              \ XK_F9 XK_F10 XK_F11 XK_L1 XK_F12 XK_L2 XK_F13
                              \ XK_L3 XK_F14 XK_L4 XK_F15 XK_L5 XK_F16 XK_L6
                              \ XK_F17 XK_L7 XK_F18 XK_L8 XK_F19 XK_L9 XK_F20
                              \ XK_L10 XK_F21 XK_R1 XK_F22 XK_R2 XK_F23
                              \ XK_R3 XK_F24 XK_R4 XK_F25 XK_R5 XK_F26
                              \ XK_R6 XK_F27 XK_R7 XK_F28 XK_R8 XK_F29
                              \ XK_R9 XK_F30 XK_R10 XK_F31 XK_R11 XK_F32
                              \ XK_R12 XK_F33 XK_R13 XK_F34 XK_R14 XK_F35
                              \ XK_R15 XK_Shift_L XK_Shift_R XK_Control_L
                              \ XK_Control_R XK_Caps_Lock XK_Shift_Lock
                              \ XK_Meta_L XK_Meta_R XK_Alt_L XK_Alt_R
                              \ XK_Super_L XK_Super_R XK_Hyper_L XK_Hyper_R
                              \ XK_dead_hook XK_dead_horn XK_3270_Duplicate
                              \ XK_3270_FieldMark XK_3270_Right2 XK_3270_Left2
                              \ XK_3270_BackTab XK_3270_EraseEOF
                              \ XK_3270_EraseInput XK_3270_Reset
                              \ XK_3270_Quit XK_3270_PA1 XK_3270_PA2
                              \ XK_3270_PA3 XK_3270_Test XK_3270_Attn
                              \ XK_3270_CursorBlink XK_3270_AltCursor
                              \ XK_3270_KeyClick XK_3270_Jump
                              \ XK_3270_Ident XK_3270_Rule XK_3270_Copy
                              \ XK_3270_Play XK_3270_Setup XK_3270_Record
                              \ XK_3270_ChangeScreen XK_3270_DeleteWord
                              \ XK_3270_ExSelect XK_3270_CursorSelect
                              \ XK_3270_PrintScreen XK_3270_Enter XK_space
                              \ XK_exclam XK_quotedbl XK_numbersign XK_dollar
                              \ XK_percent XK_ampersand XK_apostrophe
                              \ XK_quoteright XK_parenleft XK_parenright
                              \ XK_asterisk XK_plus XK_comma XK_minus
                              \ XK_period XK_slash XK_0 XK_1 XK_2 XK_3
                              \ XK_4 XK_5 XK_6 XK_7 XK_8 XK_9 XK_colon
                              \ XK_semicolon XK_less XK_equal XK_greater
                              \ XK_question XK_at XK_A XK_B XK_C XK_D XK_E
                              \ XK_F XK_G XK_H XK_I XK_J XK_K XK_L XK_M XK_N
                              \ XK_O XK_P XK_Q XK_R XK_S XK_T XK_U XK_V XK_W
                              \ XK_X XK_Y XK_Z XK_bracketleft XK_backslash
                              \ XK_bracketright XK_asciicircum XK_underscore
                              \ XK_grave XK_quoteleft XK_a XK_b XK_c XK_d
                              \ XK_e XK_f XK_g XK_h XK_i XK_j XK_k XK_l
                              \ XK_m XK_n XK_o XK_p XK_q XK_r XK_s XK_t XK_u
                              \ XK_v XK_w XK_x XK_y XK_z XK_braceleft XK_bar
                              \ XK_braceright XK_asciitilde XK_nobreakspace
                              \ XK_exclamdown XK_cent XK_sterling XK_currency
                              \ XK_yen XK_brokenbar XK_section XK_diaeresis
                              \ XK_copyright XK_ordfeminine XK_guillemotleft
                              \ XK_notsign XK_hyphen XK_registered XK_macron
                              \ XK_degree XK_plusminus XK_twosuperior
                              \ XK_threesuperior XK_acute XK_mu XK_paragraph
                              \ XK_periodcentered XK_cedilla XK_onesuperior
                              \ XK_masculine XK_guillemotright XK_onequarter
                              \ XK_onehalf XK_threequarters XK_questiondown
                              \ XK_Agrave XK_Aacute XK_Acircumflex XK_Atilde
                              \ XK_Adiaeresis XK_Aring XK_AE XK_Ccedilla
                              \ XK_Egrave XK_Eacute XK_Ecircumflex
                              \ XK_Ediaeresis XK_Igrave XK_Iacute
                              \ XK_Icircumflex XK_Idiaeresis XK_ETH XK_Eth
                              \ XK_Ntilde XK_Ograve XK_Oacute XK_Ocircumflex
                              \ XK_Otilde XK_Odiaeresis XK_multiply
                              \ XK_Ooblique XK_Ugrave XK_Uacute XK_Ucircumflex
                              \ XK_Udiaeresis XK_Yacute XK_THORN XK_Thorn
                              \ XK_ssharp XK_agrave XK_aacute XK_acircumflex
                              \ XK_atilde XK_adiaeresis XK_aring XK_ae
                              \ XK_ccedilla XK_egrave XK_eacute XK_ecircumflex
                              \ XK_ediaeresis XK_igrave XK_iacute
                              \ XK_icircumflex XK_idiaeresis XK_eth XK_ntilde
                              \ XK_ograve XK_oacute XK_ocircumflex XK_otilde
                              \ XK_odiaeresis XK_division XK_oslash XK_ugrave
                              \ XK_uacute XK_ucircumflex XK_udiaeresis
                              \ XK_yacute XK_thorn XK_ydiaeresis XK_Aogonek
                              \ XK_breve XK_Lstroke XK_Lcaron XK_Sacute
                              \ XK_Scaron XK_Scedilla XK_Tcaron XK_Zacute
                              \ XK_Zcaron XK_Zabovedot XK_aogonek XK_ogonek
                              \ XK_lstroke XK_lcaron XK_sacute XK_caron
                              \ XK_scaron XK_scedilla XK_tcaron XK_zacute
                              \ XK_doubleacute XK_zcaron XK_zabovedot
                              \ XK_Racute XK_Abreve XK_Lacute XK_Cacute
                              \ XK_Ccaron XK_Eogonek XK_Ecaron XK_Dcaron
                              \ XK_Dstroke XK_Nacute XK_Ncaron XK_Odoubleacute
                              \ XK_Rcaron XK_Uring XK_Udoubleacute
                              \ XK_Tcedilla XK_racute XK_abreve XK_lacute
                              \ XK_cacute XK_ccaron XK_eogonek XK_ecaron
                              \ XK_dcaron XK_dstroke XK_nacute XK_ncaron
                              \ XK_odoubleacute XK_udoubleacute XK_rcaron
                              \ XK_uring XK_tcedilla XK_abovedot XK_Hstroke
                              \ XK_Hcircumflex XK_Iabovedot XK_Gbreve
                              \ XK_Jcircumflex XK_hstroke XK_hcircumflex
                              \ XK_idotless XK_gbreve XK_jcircumflex
                              \ XK_Cabovedot XK_Ccircumflex XK_Gabovedot
                              \ XK_Gcircumflex XK_Ubreve XK_Scircumflex
                              \ XK_cabovedot XK_ccircumflex XK_gabovedot
                              \ XK_gcircumflex XK_ubreve XK_scircumflex XK_kra
                              \ XK_kappa XK_Rcedilla XK_Itilde XK_Lcedilla
                              \ XK_Emacron XK_Gcedilla XK_Tslash XK_rcedilla
                              \ XK_itilde XK_lcedilla XK_emacron XK_gcedilla
                              \ XK_tslash XK_ENG XK_eng XK_Amacron XK_Iogonek
                              \ XK_Eabovedot XK_Imacron XK_Ncedilla XK_Omacron
                              \ XK_Kcedilla XK_Uogonek XK_Utilde XK_Umacron
                              \ XK_amacron XK_iogonek XK_eabovedot XK_imacron
                              \ XK_ncedilla XK_omacron XK_kcedilla XK_uogonek
                              \ XK_utilde XK_umacron XK_Babovedot XK_babovedot
                              \ XK_Dabovedot XK_Wgrave XK_Wacute XK_dabovedot
                              \ XK_Ygrave XK_Fabovedot XK_fabovedot
                              \ XK_Mabovedot XK_mabovedot XK_Pabovedot
                              \ XK_wgrave XK_pabovedot XK_wacute XK_Sabovedot
                              \ XK_ygrave XK_Wdiaeresis XK_wdiaeresis
                              \ XK_sabovedot XK_Wcircumflex XK_Tabovedot
                              \ XK_Ycircumflex XK_wcircumflex
                              \ XK_tabovedot XK_ycircumflex XK_OE XK_oe
                              \ XK_Ydiaeresis XK_overline XK_kana_fullstop
                              \ XK_kana_openingbracket XK_kana_closingbracket
                              \ XK_kana_comma XK_kana_conjunctive
                              \ XK_kana_middledot XK_kana_WO XK_kana_a
                              \ XK_kana_i XK_kana_u XK_kana_e XK_kana_o
                              \ XK_kana_ya XK_kana_yu XK_kana_yo
                              \ XK_kana_tsu XK_kana_tu XK_prolongedsound
                              \ XK_kana_A XK_kana_I XK_kana_U XK_kana_E
                              \ XK_kana_O XK_kana_KA XK_kana_KI XK_kana_KU
                              \ XK_kana_KE XK_kana_KO XK_kana_SA XK_kana_SHI
                              \ XK_kana_SU XK_kana_SE XK_kana_SO XK_kana_TA
                              \ XK_kana_CHI XK_kana_TI XK_kana_TSU
                              \ XK_kana_TU XK_kana_TE XK_kana_TO XK_kana_NA
                              \ XK_kana_NI XK_kana_NU XK_kana_NE XK_kana_NO
                              \ XK_kana_HA XK_kana_HI XK_kana_FU XK_kana_HU
                              \ XK_kana_HE XK_kana_HO XK_kana_MA XK_kana_MI
                              \ XK_kana_MU XK_kana_ME XK_kana_MO XK_kana_YA
                              \ XK_kana_YU XK_kana_YO XK_kana_RA XK_kana_RI
                              \ XK_kana_RU XK_kana_RE XK_kana_RO XK_kana_WA
                              \ XK_kana_N XK_voicedsound XK_semivoicedsound
                              \ XK_kana_switch XK_Farsi_0 XK_Farsi_1
                              \ XK_Farsi_2 XK_Farsi_3 XK_Farsi_4 XK_Farsi_5
                              \ XK_Farsi_6 XK_Farsi_7 XK_Farsi_8 XK_Farsi_9
                              \ XK_Arabic_percent XK_Arabic_superscript_alef
                              \ XK_Arabic_tteh XK_Arabic_peh XK_Arabic_tcheh
                              \ XK_Arabic_ddal XK_Arabic_rreh XK_Arabic_comma
                              \ XK_Arabic_fullstop XK_Arabic_0 XK_Arabic_1
                              \ XK_Arabic_2 XK_Arabic_3 XK_Arabic_4
                              \ XK_Arabic_5 XK_Arabic_6 XK_Arabic_7
                              \ XK_Arabic_8 XK_Arabic_9 XK_Arabic_semicolon
                              \ XK_Arabic_question_mark XK_Arabic_hamza
                              \ XK_Arabic_maddaonalef XK_Arabic_hamzaonalef
                              \ XK_Arabic_hamzaonwaw XK_Arabic_hamzaunderalef
                              \ XK_Arabic_hamzaonyeh XK_Arabic_alef
                              \ XK_Arabic_beh XK_Arabic_tehmarbuta
                              \ XK_Arabic_teh XK_Arabic_theh XK_Arabic_jeem
                              \ XK_Arabic_hah XK_Arabic_khah XK_Arabic_dal
                              \ XK_Arabic_thal XK_Arabic_ra XK_Arabic_zain
                              \ XK_Arabic_seen XK_Arabic_sheen
                              \ XK_Arabic_sad XK_Arabic_dad XK_Arabic_tah
                              \ XK_Arabic_zah XK_Arabic_ain XK_Arabic_ghain
                              \ XK_Arabic_tatweel XK_Arabic_feh XK_Arabic_qaf
                              \ XK_Arabic_kaf XK_Arabic_lam XK_Arabic_meem
                              \ XK_Arabic_noon XK_Arabic_ha XK_Arabic_heh
                              \ XK_Arabic_waw XK_Arabic_alefmaksura
                              \ XK_Arabic_yeh XK_Arabic_fathatan
                              \ XK_Arabic_dammatan XK_Arabic_kasratan
                              \ XK_Arabic_fatha XK_Arabic_damma
                              \ XK_Arabic_kasra XK_Arabic_shadda
                              \ XK_Arabic_sukun XK_Arabic_madda_above
                              \ XK_Arabic_hamza_above XK_Arabic_hamza_below
                              \ XK_Arabic_jeh XK_Arabic_veh XK_Arabic_keheh
                              \ XK_Arabic_gaf XK_Arabic_noon_ghunna
                              \ XK_Arabic_heh_doachashmee XK_Farsi_yeh
                              \ XK_Arabic_yeh_baree XK_Arabic_heh_goal
                              \ XK_Arabic_switch XK_Cyrillic_GHE_bar
                              \ XK_Cyrillic_ghe_bar XK_Cyrillic_ZHE_descender
                              \ XK_Cyrillic_zhe_descender
                              \ XK_Cyrillic_KA_descender
                              \ XK_Cyrillic_ka_descender
                              \ XK_Cyrillic_KA_vertstroke
                              \ XK_Cyrillic_ka_vertstroke
                              \ XK_Cyrillic_EN_descender
                              \ XK_Cyrillic_en_descender
                              \ XK_Cyrillic_U_straight XK_Cyrillic_u_straight
                              \ XK_Cyrillic_U_straight_bar
                              \ XK_Cyrillic_u_straight_bar
                              \ XK_Cyrillic_HA_descender
                              \ XK_Cyrillic_ha_descender
                              \ XK_Cyrillic_CHE_descender
                              \ XK_Cyrillic_che_descender
                              \ XK_Cyrillic_CHE_vertstroke
                              \ XK_Cyrillic_che_vertstroke XK_Cyrillic_SHHA
                              \ XK_Cyrillic_shha XK_Cyrillic_SCHWA
                              \ XK_Cyrillic_schwa XK_Cyrillic_I_macron
                              \ XK_Cyrillic_i_macron XK_Cyrillic_O_bar
                              \ XK_Cyrillic_o_bar XK_Cyrillic_U_macron
                              \ XK_Cyrillic_u_macron XK_Serbian_dje
                              \ XK_Macedonia_gje XK_Cyrillic_io
                              \ XK_Ukrainian_ie XK_Ukranian_je
                              \ XK_Macedonia_dse XK_Ukrainian_i XK_Ukranian_i
                              \ XK_Ukrainian_yi XK_Ukranian_yi XK_Cyrillic_je
                              \ XK_Serbian_je XK_Cyrillic_lje XK_Serbian_lje
                              \ XK_Cyrillic_nje XK_Serbian_nje XK_Serbian_tshe
                              \ XK_Macedonia_kje XK_Ukrainian_ghe_with_upturn
                              \ XK_Byelorussian_shortu XK_Cyrillic_dzhe
                              \ XK_Serbian_dze XK_numerosign
                              \ XK_Serbian_DJE XK_Macedonia_GJE
                              \ XK_Cyrillic_IO XK_Ukrainian_IE XK_Ukranian_JE
                              \ XK_Macedonia_DSE XK_Ukrainian_I XK_Ukranian_I
                              \ XK_Ukrainian_YI XK_Ukranian_YI XK_Cyrillic_JE
                              \ XK_Serbian_JE XK_Cyrillic_LJE XK_Serbian_LJE
                              \ XK_Cyrillic_NJE XK_Serbian_NJE XK_Serbian_TSHE
                              \ XK_Macedonia_KJE XK_Ukrainian_GHE_WITH_UPTURN
                              \ XK_Byelorussian_SHORTU XK_Cyrillic_DZHE
                              \ XK_Serbian_DZE XK_Cyrillic_yu
                              \ XK_Cyrillic_a XK_Cyrillic_be XK_Cyrillic_tse
                              \ XK_Cyrillic_de XK_Cyrillic_ie XK_Cyrillic_ef
                              \ XK_Cyrillic_ghe XK_Cyrillic_ha XK_Cyrillic_i
                              \ XK_Cyrillic_shorti XK_Cyrillic_ka
                              \ XK_Cyrillic_el XK_Cyrillic_em XK_Cyrillic_en
                              \ XK_Cyrillic_o XK_Cyrillic_pe XK_Cyrillic_ya
                              \ XK_Cyrillic_er XK_Cyrillic_es XK_Cyrillic_te
                              \ XK_Cyrillic_u XK_Cyrillic_zhe XK_Cyrillic_ve
                              \ XK_Cyrillic_softsign XK_Cyrillic_yeru
                              \ XK_Cyrillic_ze XK_Cyrillic_sha XK_Cyrillic_e
                              \ XK_Cyrillic_shcha XK_Cyrillic_che
                              \ XK_Cyrillic_hardsign XK_Cyrillic_YU
                              \ XK_Cyrillic_A XK_Cyrillic_BE XK_Cyrillic_TSE
                              \ XK_Cyrillic_DE XK_Cyrillic_IE XK_Cyrillic_EF
                              \ XK_Cyrillic_GHE XK_Cyrillic_HA XK_Cyrillic_I
                              \ XK_Cyrillic_SHORTI XK_Cyrillic_KA
                              \ XK_Cyrillic_EL XK_Cyrillic_EM XK_Cyrillic_EN
                              \ XK_Cyrillic_O XK_Cyrillic_PE XK_Cyrillic_YA
                              \ XK_Cyrillic_ER XK_Cyrillic_ES XK_Cyrillic_TE
                              \ XK_Cyrillic_U XK_Cyrillic_ZHE XK_Cyrillic_VE
                              \ XK_Cyrillic_SOFTSIGN XK_Cyrillic_YERU
                              \ XK_Cyrillic_ZE XK_Cyrillic_SHA XK_Cyrillic_E
                              \ XK_Cyrillic_SHCHA XK_Cyrillic_CHE
                              \ XK_Cyrillic_HARDSIGN XK_Greek_ALPHAaccent
                              \ XK_Greek_EPSILONaccent XK_Greek_ETAaccent
                              \ XK_Greek_IOTAaccent XK_Greek_IOTAdieresis
                              \ XK_Greek_OMICRONaccent XK_Greek_UPSILONaccent
                              \ XK_Greek_UPSILONdieresis
                              \ XK_Greek_OMEGAaccent XK_Greek_accentdieresis
                              \ XK_Greek_horizbar XK_Greek_alphaaccent
                              \ XK_Greek_epsilonaccent XK_Greek_etaaccent
                              \ XK_Greek_iotaaccent XK_Greek_iotadieresis
                              \ XK_Greek_iotaaccentdieresis
                              \ XK_Greek_omicronaccent XK_Greek_upsilonaccent
                              \ XK_Greek_upsilondieresis
                              \ XK_Greek_upsilonaccentdieresis
                              \ XK_Greek_omegaaccent XK_Greek_ALPHA
                              \ XK_Greek_BETA XK_Greek_GAMMA XK_Greek_DELTA
                              \ XK_Greek_EPSILON XK_Greek_ZETA XK_Greek_ETA
                              \ XK_Greek_THETA XK_Greek_IOTA XK_Greek_KAPPA
                              \ XK_Greek_LAMDA XK_Greek_LAMBDA XK_Greek_MU
                              \ XK_Greek_NU XK_Greek_XI XK_Greek_OMICRON
                              \ XK_Greek_PI XK_Greek_RHO XK_Greek_SIGMA
                              \ XK_Greek_TAU XK_Greek_UPSILON XK_Greek_PHI
                              \ XK_Greek_CHI XK_Greek_PSI XK_Greek_OMEGA
                              \ XK_Greek_alpha XK_Greek_beta XK_Greek_gamma
                              \ XK_Greek_delta XK_Greek_epsilon XK_Greek_zeta
                              \ XK_Greek_eta XK_Greek_theta XK_Greek_iota
                              \ XK_Greek_kappa XK_Greek_lamda XK_Greek_lambda
                              \ XK_Greek_mu XK_Greek_nu XK_Greek_xi
                              \ XK_Greek_omicron XK_Greek_pi XK_Greek_rho
                              \ XK_Greek_sigma XK_Greek_finalsmallsigma
                              \ XK_Greek_tau XK_Greek_upsilon XK_Greek_phi
                              \ XK_Greek_chi XK_Greek_psi XK_Greek_omega
                              \ XK_Greek_switch XK_leftradical
                              \ XK_topleftradical XK_horizconnector
                              \ XK_topintegral XK_botintegral
                              \ XK_vertconnector XK_topleftsqbracket
                              \ XK_botleftsqbracket XK_toprightsqbracket
                              \ XK_botrightsqbracket XK_topleftparens
                              \ XK_botleftparens XK_toprightparens
                              \ XK_botrightparens XK_leftmiddlecurlybrace
                              \ XK_rightmiddlecurlybrace
                              \ XK_topleftsummation XK_botleftsummation
                              \ XK_topvertsummationconnector
                              \ XK_botvertsummationconnector
                              \ XK_toprightsummation XK_botrightsummation
                              \ XK_rightmiddlesummation XK_lessthanequal
                              \ XK_notequal XK_greaterthanequal XK_integral
                              \ XK_therefore XK_variation XK_infinity
                              \ XK_nabla XK_approximate XK_similarequal
                              \ XK_ifonlyif XK_implies XK_identical XK_radical
                              \ XK_includedin XK_includes XK_intersection
                              \ XK_union XK_logicaland XK_logicalor
                              \ XK_partialderivative XK_function XK_leftarrow
                              \ XK_uparrow XK_rightarrow XK_downarrow XK_blank
                              \ XK_soliddiamond XK_checkerboard XK_ht XK_ff
                              \ XK_cr XK_lf XK_nl XK_vt XK_lowrightcorner
                              \ XK_uprightcorner XK_upleftcorner
                              \ XK_lowleftcorner XK_crossinglines
                              \ XK_horizlinescan1 XK_horizlinescan3
                              \ XK_horizlinescan5 XK_horizlinescan7
                              \ XK_horizlinescan9 XK_leftt XK_rightt XK_bott
                              \ XK_topt XK_vertbar XK_emspace XK_enspace
                              \ XK_em3space XK_em4space XK_digitspace
                              \ XK_punctspace XK_thinspace XK_hairspace
                              \ XK_emdash XK_endash XK_signifblank XK_ellipsis
                              \ XK_doubbaselinedot XK_onethird XK_twothirds
                              \ XK_onefifth XK_twofifths XK_threefifths
                              \ XK_fourfifths XK_onesixth XK_fivesixths
                              \ XK_careof XK_figdash XK_leftanglebracket
                              \ XK_decimalpoint XK_rightanglebracket
                              \ XK_marker XK_oneeighth XK_threeeighths
                              \ XK_fiveeighths XK_seveneighths XK_trademark
                              \ XK_signaturemark XK_trademarkincircle
                              \ XK_leftopentriangle XK_rightopentriangle
                              \ XK_emopencircle XK_emopenrectangle
                              \ XK_leftsinglequotemark XK_rightsinglequotemark
                              \ XK_leftdoublequotemark XK_rightdoublequotemark
                              \ XK_prescription XK_minutes XK_seconds
                              \ XK_latincross XK_hexagram XK_filledrectbullet
                              \ XK_filledlefttribullet XK_filledrighttribullet
                              \ XK_emfilledcircle XK_emfilledrect
                              \ XK_enopencircbullet XK_enopensquarebullet
                              \ XK_openrectbullet XK_opentribulletup
                              \ XK_opentribulletdown XK_openstar
                              \ XK_enfilledcircbullet XK_enfilledsqbullet
                              \ XK_filledtribulletup XK_filledtribulletdown
                              \ XK_leftpointer XK_rightpointer XK_club
                              \ XK_diamond XK_heart XK_maltesecross
                              \ XK_dagger XK_doubledagger XK_checkmark
                              \ XK_ballotcross XK_musicalsharp XK_musicalflat
                              \ XK_malesymbol XK_femalesymbol XK_telephone
                              \ XK_telephonerecorder XK_phonographcopyright
                              \ XK_caret XK_singlelowquotemark
                              \ XK_doublelowquotemark XK_cursor
                              \ XK_leftcaret XK_rightcaret XK_downcaret
                              \ XK_upcaret XK_overbar XK_downtack XK_upshoe
                              \ XK_downstile XK_underbar XK_jot XK_quad
                              \ XK_uptack XK_circle XK_upstile XK_downshoe
                              \ XK_rightshoe XK_leftshoe XK_lefttack
                              \ XK_righttack XK_hebrew_doublelowline
                              \ XK_hebrew_aleph XK_hebrew_bet XK_hebrew_beth
                              \ XK_hebrew_gimel XK_hebrew_gimmel
                              \ XK_hebrew_dalet XK_hebrew_daleth
                              \ XK_hebrew_he XK_hebrew_waw XK_hebrew_zain
                              \ XK_hebrew_zayin XK_hebrew_chet XK_hebrew_het
                              \ XK_hebrew_tet XK_hebrew_teth XK_hebrew_yod
                              \ XK_hebrew_finalkaph XK_hebrew_kaph
                              \ XK_hebrew_lamed XK_hebrew_finalmem
                              \ XK_hebrew_mem XK_hebrew_finalnun XK_hebrew_nun
                              \ XK_hebrew_samech XK_hebrew_samekh
                              \ XK_hebrew_ayin XK_hebrew_finalpe XK_hebrew_pe
                              \ XK_hebrew_finalzade XK_hebrew_finalzadi
                              \ XK_hebrew_zade XK_hebrew_zadi XK_hebrew_qoph
                              \ XK_hebrew_kuf XK_hebrew_resh XK_hebrew_shin
                              \ XK_hebrew_taw XK_hebrew_taf XK_Hebrew_switch
                              \ XK_Thai_kokai XK_Thai_khokhai XK_Thai_khokhuat
                              \ XK_Thai_khokhwai XK_Thai_khokhon
                              \ XK_Thai_khorakhang XK_Thai_ngongu
                              \ XK_Thai_chochan XK_Thai_choching
                              \ XK_Thai_chochang XK_Thai_soso XK_Thai_chochoe
                              \ XK_Thai_yoying XK_Thai_dochada XK_Thai_topatak
                              \ XK_Thai_thothan XK_Thai_thonangmontho
                              \ XK_Thai_thophuthao XK_Thai_nonen
                              \ XK_Thai_dodek XK_Thai_totao XK_Thai_thothung
                              \ XK_Thai_thothahan XK_Thai_thothong
                              \ XK_Thai_nonu XK_Thai_bobaimai XK_Thai_popla
                              \ XK_Thai_phophung XK_Thai_fofa XK_Thai_phophan
                              \ XK_Thai_fofan XK_Thai_phosamphao XK_Thai_moma
                              \ XK_Thai_yoyak XK_Thai_rorua XK_Thai_ru
                              \ XK_Thai_loling XK_Thai_lu XK_Thai_wowaen
                              \ XK_Thai_sosala XK_Thai_sorusi XK_Thai_sosua
                              \ XK_Thai_hohip XK_Thai_lochula XK_Thai_oang
                              \ XK_Thai_honokhuk XK_Thai_paiyannoi
                              \ XK_Thai_saraa XK_Thai_maihanakat
                              \ XK_Thai_saraaa XK_Thai_saraam XK_Thai_sarai
                              \ XK_Thai_saraii XK_Thai_saraue XK_Thai_sarauee
                              \ XK_Thai_sarau XK_Thai_sarauu XK_Thai_phinthu
                              \ XK_Thai_maihanakat_maitho XK_Thai_baht
                              \ XK_Thai_sarae XK_Thai_saraae XK_Thai_sarao
                              \ XK_Thai_saraaimaimuan XK_Thai_saraaimaimalai
                              \ XK_Thai_lakkhangyao XK_Thai_maiyamok
                              \ XK_Thai_maitaikhu XK_Thai_maiek XK_Thai_maitho
                              \ XK_Thai_maitri XK_Thai_maichattawa
                              \ XK_Thai_thanthakhat XK_Thai_nikhahit
                              \ XK_Thai_leksun XK_Thai_leknung XK_Thai_leksong
                              \ XK_Thai_leksam XK_Thai_leksi XK_Thai_lekha
                              \ XK_Thai_lekhok XK_Thai_lekchet XK_Thai_lekpaet
                              \ XK_Thai_lekkao XK_Hangul XK_Hangul_Start
                              \ XK_Hangul_End XK_Hangul_Hanja XK_Hangul_Jamo
                              \ XK_Hangul_Romaja XK_Hangul_Codeinput
                              \ XK_Hangul_Jeonja XK_Hangul_Banja
                              \ XK_Hangul_PreHanja XK_Hangul_PostHanja
                              \ XK_Hangul_SingleCandidate
                              \ XK_Hangul_MultipleCandidate
                              \ XK_Hangul_PreviousCandidate XK_Hangul_Special
                              \ XK_Hangul_switch XK_Hangul_Kiyeog
                              \ XK_Hangul_SsangKiyeog XK_Hangul_KiyeogSios
                              \ XK_Hangul_Nieun XK_Hangul_NieunJieuj
                              \ XK_Hangul_NieunHieuh XK_Hangul_Dikeud
                              \ XK_Hangul_SsangDikeud XK_Hangul_Rieul
                              \ XK_Hangul_RieulKiyeog XK_Hangul_RieulMieum
                              \ XK_Hangul_RieulPieub XK_Hangul_RieulSios
                              \ XK_Hangul_RieulTieut XK_Hangul_RieulPhieuf
                              \ XK_Hangul_RieulHieuh XK_Hangul_Mieum
                              \ XK_Hangul_Pieub XK_Hangul_SsangPieub
                              \ XK_Hangul_PieubSios XK_Hangul_Sios
                              \ XK_Hangul_SsangSios XK_Hangul_Ieung
                              \ XK_Hangul_Jieuj XK_Hangul_SsangJieuj
                              \ XK_Hangul_Cieuc XK_Hangul_Khieuq
                              \ XK_Hangul_Tieut XK_Hangul_Phieuf
                              \ XK_Hangul_Hieuh XK_Hangul_A XK_Hangul_AE
                              \ XK_Hangul_YA XK_Hangul_YAE XK_Hangul_EO
                              \ XK_Hangul_E XK_Hangul_YEO XK_Hangul_YE
                              \ XK_Hangul_O XK_Hangul_WA XK_Hangul_WAE
                              \ XK_Hangul_OE XK_Hangul_YO XK_Hangul_U
                              \ XK_Hangul_WEO XK_Hangul_WE XK_Hangul_WI
                              \ XK_Hangul_YU XK_Hangul_EU XK_Hangul_YI
                              \ XK_Hangul_I XK_Hangul_J_Kiyeog
                              \ XK_Hangul_J_SsangKiyeog XK_Hangul_J_KiyeogSios
                              \ XK_Hangul_J_Nieun XK_Hangul_J_NieunJieuj
                              \ XK_Hangul_J_NieunHieuh XK_Hangul_J_Dikeud
                              \ XK_Hangul_J_Rieul XK_Hangul_J_RieulKiyeog
                              \ XK_Hangul_J_RieulMieum XK_Hangul_J_RieulPieub
                              \ XK_Hangul_J_RieulSios XK_Hangul_J_RieulTieut
                              \ XK_Hangul_J_RieulPhieuf XK_Hangul_J_RieulHieuh
                              \ XK_Hangul_J_Mieum XK_Hangul_J_Pieub
                              \ XK_Hangul_J_PieubSios XK_Hangul_J_Sios
                              \ XK_Hangul_J_SsangSios XK_Hangul_J_Ieung
                              \ XK_Hangul_J_Jieuj XK_Hangul_J_Cieuc
                              \ XK_Hangul_J_Khieuq XK_Hangul_J_Tieut
                              \ XK_Hangul_J_Phieuf XK_Hangul_J_Hieuh
                              \ XK_Hangul_RieulYeorinHieuh
                              \ XK_Hangul_SunkyeongeumMieum
                              \ XK_Hangul_SunkyeongeumPieub XK_Hangul_PanSios
                              \ XK_Hangul_KkogjiDalrinIeung
                              \ XK_Hangul_SunkyeongeumPhieuf
                              \ XK_Hangul_YeorinHieuh XK_Hangul_AraeA
                              \ XK_Hangul_AraeAE XK_Hangul_J_PanSios
                              \ XK_Hangul_J_KkogjiDalrinIeung
                              \ XK_Hangul_J_YeorinHieuh XK_Korean_Won
                              \ XK_Armenian_eternity XK_Armenian_ligature_ew
                              \ XK_Armenian_full_stop XK_Armenian_verjaket
                              \ XK_Armenian_parenright XK_Armenian_parenleft
                              \ XK_Armenian_guillemotright
                              \ XK_Armenian_guillemotleft XK_Armenian_em_dash
                              \ XK_Armenian_dot XK_Armenian_mijaket
                              \ XK_Armenian_separation_mark XK_Armenian_but
                              \ XK_Armenian_comma XK_Armenian_en_dash
                              \ XK_Armenian_hyphen XK_Armenian_yentamna
                              \ XK_Armenian_ellipsis XK_Armenian_exclam
                              \ XK_Armenian_amanak XK_Armenian_accent
                              \ XK_Armenian_shesht XK_Armenian_question
                              \ XK_Armenian_paruyk XK_Armenian_AYB
                              \ XK_Armenian_ayb XK_Armenian_BEN
                              \ XK_Armenian_ben XK_Armenian_GIM
                              \ XK_Armenian_gim XK_Armenian_DA XK_Armenian_da
                              \ XK_Armenian_YECH XK_Armenian_yech
                              \ XK_Armenian_ZA XK_Armenian_za XK_Armenian_E
                              \ XK_Armenian_e XK_Armenian_AT XK_Armenian_at
                              \ XK_Armenian_TO XK_Armenian_to
                              \ XK_Armenian_ZHE XK_Armenian_zhe
                              \ XK_Armenian_INI XK_Armenian_ini
                              \ XK_Armenian_LYUN XK_Armenian_lyun
                              \ XK_Armenian_KHE XK_Armenian_khe
                              \ XK_Armenian_TSA XK_Armenian_tsa
                              \ XK_Armenian_KEN XK_Armenian_ken XK_Armenian_HO
                              \ XK_Armenian_ho XK_Armenian_DZA XK_Armenian_dza
                              \ XK_Armenian_GHAT XK_Armenian_ghat
                              \ XK_Armenian_TCHE XK_Armenian_tche
                              \ XK_Armenian_MEN XK_Armenian_men XK_Armenian_HI
                              \ XK_Armenian_hi XK_Armenian_NU XK_Armenian_nu
                              \ XK_Armenian_SHA XK_Armenian_sha XK_Armenian_VO
                              \ XK_Armenian_vo XK_Armenian_CHA XK_Armenian_cha
                              \ XK_Armenian_PE XK_Armenian_pe XK_Armenian_JE
                              \ XK_Armenian_je XK_Armenian_RA XK_Armenian_ra
                              \ XK_Armenian_SE XK_Armenian_se XK_Armenian_VEV
                              \ XK_Armenian_vev XK_Armenian_TYUN
                              \ XK_Armenian_tyun XK_Armenian_RE
                              \ XK_Armenian_re XK_Armenian_TSO
                              \ XK_Armenian_tso XK_Armenian_VYUN
                              \ XK_Armenian_vyun XK_Armenian_PYUR
                              \ XK_Armenian_pyur XK_Armenian_KE XK_Armenian_ke
                              \ XK_Armenian_O XK_Armenian_o XK_Armenian_FE
                              \ XK_Armenian_fe XK_Armenian_apostrophe
                              \ XK_Armenian_section_sign XK_Georgian_an
                              \ XK_Georgian_ban XK_Georgian_gan
                              \ XK_Georgian_don XK_Georgian_en XK_Georgian_vin
                              \ XK_Georgian_zen XK_Georgian_tan
                              \ XK_Georgian_in XK_Georgian_kan XK_Georgian_las
                              \ XK_Georgian_man XK_Georgian_nar XK_Georgian_on
                              \ XK_Georgian_par XK_Georgian_zhar
                              \ XK_Georgian_rae XK_Georgian_san
                              \ XK_Georgian_tar XK_Georgian_un
                              \ XK_Georgian_phar XK_Georgian_khar
                              \ XK_Georgian_ghan XK_Georgian_qar
                              \ XK_Georgian_shin XK_Georgian_chin
                              \ XK_Georgian_can XK_Georgian_jil
                              \ XK_Georgian_cil XK_Georgian_char
                              \ XK_Georgian_xan XK_Georgian_jhan
                              \ XK_Georgian_hae XK_Georgian_he XK_Georgian_hie
                              \ XK_Georgian_we XK_Georgian_har XK_Georgian_hoe
                              \ XK_Georgian_fi XK_Ccedillaabovedot
                              \ XK_Xabovedot XK_Qabovedot XK_IE XK_UO
                              \ XK_Zstroke XK_ccedillaabovedot XK_xabovedot
                              \ XK_qabovedot XK_ie XK_uo XK_zstroke XK_SCHWA
                              \ XK_schwa XK_Lbelowdot XK_Lstrokebelowdot
                              \ XK_lbelowdot XK_lstrokebelowdot XK_Gtilde
                              \ XK_gtilde XK_Abelowdot XK_abelowdot
                              \ XK_Ahook XK_ahook XK_Acircumflexacute
                              \ XK_acircumflexacute XK_Acircumflexgrave
                              \ XK_acircumflexgrave XK_Acircumflexhook
                              \ XK_acircumflexhook XK_Acircumflextilde
                              \ XK_acircumflextilde XK_Acircumflexbelowdot
                              \ XK_acircumflexbelowdot XK_Abreveacute
                              \ XK_abreveacute XK_Abrevegrave XK_abrevegrave
                              \ XK_Abrevehook XK_abrevehook XK_Abrevetilde
                              \ XK_abrevetilde XK_Abrevebelowdot
                              \ XK_abrevebelowdot XK_Ebelowdot XK_ebelowdot
                              \ XK_Ehook XK_ehook XK_Etilde XK_etilde
                              \ XK_Ecircumflexacute XK_ecircumflexacute
                              \ XK_Ecircumflexgrave XK_ecircumflexgrave
                              \ XK_Ecircumflexhook XK_ecircumflexhook
                              \ XK_Ecircumflextilde XK_ecircumflextilde
                              \ XK_Ecircumflexbelowdot XK_ecircumflexbelowdot
                              \ XK_Ihook XK_ihook XK_Ibelowdot XK_ibelowdot
                              \ XK_Obelowdot XK_obelowdot XK_Ohook XK_ohook
                              \ XK_Ocircumflexacute XK_ocircumflexacute
                              \ XK_Ocircumflexgrave XK_ocircumflexgrave
                              \ XK_Ocircumflexhook XK_ocircumflexhook
                              \ XK_Ocircumflextilde XK_ocircumflextilde
                              \ XK_Ocircumflexbelowdot XK_ocircumflexbelowdot
                              \ XK_Ohornacute XK_ohornacute XK_Ohorngrave
                              \ XK_ohorngrave XK_Ohornhook XK_ohornhook
                              \ XK_Ohorntilde XK_ohorntilde XK_Ohornbelowdot
                              \ XK_ohornbelowdot XK_Ubelowdot XK_ubelowdot
                              \ XK_Uhook XK_uhook XK_Uhornacute XK_uhornacute
                              \ XK_Uhorngrave XK_uhorngrave XK_Uhornhook
                              \ XK_uhornhook XK_Uhorntilde XK_uhorntilde
                              \ XK_Uhornbelowdot XK_uhornbelowdot XK_Ybelowdot
                              \ XK_ybelowdot XK_Yhook XK_yhook XK_Ytilde
                              \ XK_ytilde XK_Ohorn XK_ohorn XK_Uhorn XK_uhorn
                              \ XK_combining_tilde XK_combining_grave
                              \ XK_combining_acute XK_combining_hook
                              \ XK_combining_belowdot XK_EcuSign XK_ColonSign
                              \ XK_CruzeiroSign XK_FFrancSign XK_LiraSign
                              \ XK_MillSign XK_NairaSign XK_PesetaSign
                              \ XK_RupeeSign XK_WonSign XK_NewSheqelSign
                              \ XK_DongSign XK_EuroSign

" #include <X11/Sunkeysym.h>
syn keyword xmodmapKeySym     SunXK_Sys_Req SunXK_Print_Screen SunXK_Compose
                              \ SunXK_AltGraph SunXK_PageUp SunXK_PageDown
                              \ SunXK_Undo SunXK_Again SunXK_Find SunXK_Stop
                              \ SunXK_Props SunXK_Front SunXK_Copy SunXK_Open
                              \ SunXK_Paste SunXK_Cut SunXK_PowerSwitch
                              \ SunXK_AudioLowerVolume SunXK_AudioMute
                              \ SunXK_AudioRaiseVolume SunXK_VideoDegauss
                              \ SunXK_VideoLowerBrightness
                              \ SunXK_VideoRaiseBrightness
                              \ SunXK_PowerSwitchShift

" #include <X11/XF86keysym.h>
syn keyword xmodmapKeySym     XF86XK_ModeLock XF86XK_Standby
                              \ XF86XK_AudioLowerVolume XF86XK_AudioMute
                              \ XF86XK_AudioRaiseVolume XF86XK_AudioPlay
                              \ XF86XK_AudioStop XF86XK_AudioPrev
                              \ XF86XK_AudioNext XF86XK_HomePage
                              \ XF86XK_Mail XF86XK_Start XF86XK_Search
                              \ XF86XK_AudioRecord XF86XK_Calculator
                              \ XF86XK_Memo XF86XK_ToDoList XF86XK_Calendar
                              \ XF86XK_PowerDown XF86XK_ContrastAdjust
                              \ XF86XK_RockerUp XF86XK_RockerDown
                              \ XF86XK_RockerEnter XF86XK_Back XF86XK_Forward
                              \ XF86XK_Stop XF86XK_Refresh XF86XK_PowerOff
                              \ XF86XK_WakeUp XF86XK_Eject XF86XK_ScreenSaver
                              \ XF86XK_WWW XF86XK_Sleep XF86XK_Favorites
                              \ XF86XK_AudioPause XF86XK_AudioMedia
                              \ XF86XK_MyComputer XF86XK_VendorHome
                              \ XF86XK_LightBulb XF86XK_Shop XF86XK_History
                              \ XF86XK_OpenURL XF86XK_AddFavorite
                              \ XF86XK_HotLinks XF86XK_BrightnessAdjust
                              \ XF86XK_Finance XF86XK_Community
                              \ XF86XK_AudioRewind XF86XK_XF86BackForward
                              \ XF86XK_Launch0 XF86XK_Launch1 XF86XK_Launch2
                              \ XF86XK_Launch3 XF86XK_Launch4 XF86XK_Launch5
                              \ XF86XK_Launch6 XF86XK_Launch7 XF86XK_Launch8
                              \ XF86XK_Launch9 XF86XK_LaunchA XF86XK_LaunchB
                              \ XF86XK_LaunchC XF86XK_LaunchD XF86XK_LaunchE
                              \ XF86XK_LaunchF XF86XK_ApplicationLeft
                              \ XF86XK_ApplicationRight XF86XK_Book
                              \ XF86XK_CD XF86XK_Calculater XF86XK_Clear
                              \ XF86XK_Close XF86XK_Copy XF86XK_Cut
                              \ XF86XK_Display XF86XK_DOS XF86XK_Documents
                              \ XF86XK_Excel XF86XK_Explorer XF86XK_Game
                              \ XF86XK_Go XF86XK_iTouch XF86XK_LogOff
                              \ XF86XK_Market XF86XK_Meeting XF86XK_MenuKB
                              \ XF86XK_MenuPB XF86XK_MySites XF86XK_New
                              \ XF86XK_News XF86XK_OfficeHome XF86XK_Open
                              \ XF86XK_Option XF86XK_Paste XF86XK_Phone
                              \ XF86XK_Q XF86XK_Reply XF86XK_Reload
                              \ XF86XK_RotateWindows XF86XK_RotationPB
                              \ XF86XK_RotationKB XF86XK_Save XF86XK_ScrollUp
                              \ XF86XK_ScrollDown XF86XK_ScrollClick
                              \ XF86XK_Send XF86XK_Spell XF86XK_SplitScreen
                              \ XF86XK_Support XF86XK_TaskPane XF86XK_Terminal
                              \ XF86XK_Tools XF86XK_Travel XF86XK_UserPB
                              \ XF86XK_User1KB XF86XK_User2KB XF86XK_Video
                              \ XF86XK_WheelButton XF86XK_Word XF86XK_Xfer
                              \ XF86XK_ZoomIn XF86XK_ZoomOut XF86XK_Away
                              \ XF86XK_Messenger XF86XK_WebCam
                              \ XF86XK_MailForward XF86XK_Pictures
                              \ XF86XK_Music XF86XK_Switch_VT_1
                              \ XF86XK_Switch_VT_2 XF86XK_Switch_VT_3
                              \ XF86XK_Switch_VT_4 XF86XK_Switch_VT_5
                              \ XF86XK_Switch_VT_6 XF86XK_Switch_VT_7
                              \ XF86XK_Switch_VT_8 XF86XK_Switch_VT_9
                              \ XF86XK_Switch_VT_10 XF86XK_Switch_VT_11
                              \ XF86XK_Switch_VT_12 XF86XK_Ungrab
                              \ XF86XK_ClearGrab XF86XK_Next_VMode
                              \ XF86XK_Prev_VMode

syn keyword xmodmapKeyword    keycode keysym clear add remove pointer

hi def link xmodmapComment    Comment
hi def link xmodmapTodo       Todo
hi def link xmodmapInt        Number
hi def link xmodmapHex        Number
hi def link xmodmapOctal      Number
hi def link xmodmapOctalError Error
hi def link xmodmapKeySym     Constant
hi def link xmodmapKeyword    Keyword

let b:current_syntax = "xmodmap"

let &cpo = s:cpo_save
unlet s:cpo_save
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             " Vim syntax file
" Language:	X Pixmap
" Maintainer:	Ronald Schild <rs@scutum.de>
" Last Change:	2008 May 28
" Version:	5.4n.1

" For version 5.x: Clear all syntax items
" For version 6.x: Quit when a syntax file was already loaded
if version < 600
  syntax clear
elseif exists("b:current_syntax")
  finish
endif

syn keyword xpmType		char
syn keyword xpmStorageClass	static
syn keyword xpmTodo		TODO FIXME XXX  contained
syn region  xpmComment		start="/\*"  end="\*/"  contains=xpmTodo
syn region  xpmPixelString	start=+"+  skip=+\\\\\|\\"+  end=+"+  contains=@xpmColors

if has("gui_running")

let color  = ""
let chars  = ""
let colors = 0
let cpp    = 0
let n      = 0
let i      = 1

while i <= line("$")		" scanning all lines

   let s = matchstr(getline(i), '".\{-1,}"')
   if s != ""			" does line contain a string?

      if n == 0			" first string is the Values string

	 " get the 3rd value: colors = number of colors
	 let colors = substitute(s, '"\s*\d\+\s\+\d\+\s\+\(\d\+\).*"', '\1', '')
	 " get the 4th value: cpp = number of character per pixel
	 let cpp = substitute(s, '"\s*\d\+\s\+\d\+\s\+\d\+\s\+\(\d\+\).*"', '\1', '')
	 if cpp =~ '[^0-9]'
	    break  " if cpp is not made of digits there must be something wrong
	 endif

	 " Highlight the Values string as normal string (no pixel string).
	 " Only when there is no slash, it would terminate the pattern.
	 if s !~ '/'
	    exe 'syn match xpmValues /' . s . '/'
	 endif
	 hi link xpmValues String

	 let n = 1		" n = color index

      elseif n <= colors	" string is a color specification

	 " get chars = <cpp> length string representing the pixels
	 " (first incl. the following whitespace)
	 let chars = substitute(s, '"\(.\{'.cpp.'}\s\).*"', '\1', '')

	 " now get color, first try 'c' key if any (color visual)
	 let color = substitute(s, '".*\sc\s\+\(.\{-}\)\s*\(\(g4\=\|[ms]\)\s.*\)*\s*"', '\1', '')
	 if color == s
	    " no 'c' key, try 'g' key (grayscale with more than 4 levels)
	    let color = substitute(s, '".*\sg\s\+\(.\{-}\)\s*\(\(g4\|[ms]\)\s.*\)*\s*"', '\1', '')
	    if color == s
	       " next try: 'g4' key (4-level grayscale)
	       let color = substitute(s, '".*\sg4\s\+\(.\{-}\)\s*\([ms]\s.*\)*\s*"', '\1', '')
	       if color == s
		  " finally try 'm' key (mono visual)
		  let color = substitute(s, '".*\sm\s\+\(.\{-}\)\s*\(s\s.*\)*\s*"', '\1', '')
		  if color == s
		     let color = ""
		  endif
	       endif
	    endif
	 endif

	 " Vim cannot handle RGB codes with more than 6 hex digits
	 if color =~ '#\x\{10,}$'
	    let color = substitute(color, '\(\x\x\)\x\x', '\1', 'g')
	 elseif color =~ '#\x\{7,}$'
	    let color = substitute(color, '\(\x\x\)\x', '\1', 'g')
	 " nor with 3 digits
	 elseif color =~ '#\x\{3}$'
	    let color = substitute(color, '\(\x\)\(\x\)\(\x\)', '0\10\20\3', '')
	 endif

	 " escape meta characters in patterns
	 let s = escape(s, '/\*^$.~[]')
	 let chars = escape(chars, '/\*^$.~[]')

	 " now create syntax items
	 " highlight the color string as normal string (no pixel string)
	 exe 'syn match xpmCol'.n.'Def /'.s.'/ contains=xpmCol'.n.'inDef'
	 exe 'hi link xpmCol'.n.'Def String'

	 " but highlight the first whitespace after chars in its color
	 exe 'syn match xpmCol'.n.'inDef /"'.chars.'/hs=s+'.(cpp+1).' contained'
	 exe 'hi link xpmCol'.n.'inDef xpmColor'.n

	 " remove the following whitespace from chars
	 let chars = substitute(chars, '.$', '', '')

	 " and create the syntax item contained in the pixel strings
	 exe 'syn match xpmColor'.n.' /'.chars.'/ contained'
	 exe 'syn cluster xpmColors add=xpmColor'.n

	 " if no color or color = "None" show background
	 if color == ""  ||  substitute(color, '.*', '\L&', '') == 'none'
	    exe 'hi xpmColor'.n.' guifg=bg'
	    exe 'hi xpmColor'.n.' guibg=NONE'
	 elseif color !~ "'"
	    exe 'hi xpmColor'.n." guifg='".color."'"
	    exe 'hi xpmColor'.n." guibg='".color."'"
	 endif
	 let n = n + 1
      else
	 break		" no more color string
      endif
   endif
   let i = i + 1
endwhile

unlet color chars colors cpp n i s

endif		" has("gui_running")

" Define the default highlighting.
" For version 5.7 and earlier: only when not done already
" For version 5.8 and later: only when an item doesn't have highlighting yet
if version >= 508 || !exists("did_xpm_syntax_inits")
  if version < 508
    let did_xpm_syntax_inits = 1
    command -nargs=+ HiLink hi link <args>
  else
    command -nargs=+ HiLink hi def link <args>
  endif

  HiLink xpmType		Type
  HiLink xpmStorageClass	StorageClass
  HiLink xpmTodo		Todo
  HiLink xpmComment		Comment
  HiLink xpmPixelString	String

  delcommand HiLink
endif

let b:current_syntax = "xpm"

" vim: ts=8:sw=3:noet:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 " Vim syntax file
" Language:	X Pixmap v2
" Maintainer:	Steve Wall (hitched97@velnet.com)
" Last Change:	2012 Jun 01
" 		(Dominique Pelle added @Spell)
" Version:	5.8
"
" Made from xpm.vim by Ronald Schild <rs@scutum.de>

" For version 5.x: Clear all syntax items
" For version 6.x: Quit when a syntax file was already loaded
if version < 600
  syntax clear
elseif exists("b:current_syntax")
  finish
endif

let s:cpo_save = &cpo
set cpo&vim

syn region  xpm2PixelString	start="^"  end="$"  contains=@xpm2Colors
syn keyword xpm2Todo		TODO FIXME XXX  contained
syn match   xpm2Comment		"\!.*$"  contains=@Spell,xpm2Todo


if version < 508
  command -nargs=+ HiLink hi link <args>
  command -nargs=+ Hi hi <args>
else
  command -nargs=+ HiLink hi def link <args>
  command -nargs=+ Hi hi def <args>
endif

if has("gui_running")

  let color  = ""
  let chars  = ""
  let colors = 0
  let cpp    = 0
  let n      = 0
  let i      = 1

  while i <= line("$")		" scanning all lines

    let s = getline(i)
    if match(s,"\!.*$") != -1
      let s = matchstr(s, "^[^\!]*")
    endif
    if s != ""			" does line contain a string?

      if n == 0			" first string is the Values string

	" get the 3rd value: colors = number of colors
	let colors = substitute(s, '\s*\d\+\s\+\d\+\s\+\(\d\+\).*', '\1', '')
	" get the 4th value: cpp = number of character per pixel
	let cpp = substitute(s, '\s*\d\+\s\+\d\+\s\+\d\+\s\+\(\d\+\).*', '\1', '')
	if cpp =~ '[^0-9]'
	  break  " if cpp is not made of digits there must be something wrong
	endif

	" Highlight the Values string as normal string (no pixel string).
	" Only when there is no slash, it would terminate the pattern.
	if s !~ '/'
	  exe 'syn match xpm2Values /' . s . '/'
	endif
	HiLink xpm2Values Statement

	let n = 1			" n = color index

      elseif n <= colors		" string is a color specification

	" get chars = <cpp> length string representing the pixels
	" (first incl. the following whitespace)
	let chars = substitute(s, '\(.\{'.cpp.'}\s\+\).*', '\1', '')

	" now get color, first try 'c' key if any (color visual)
	let color = substitute(s, '.*\sc\s\+\(.\{-}\)\s*\(\(g4\=\|[ms]\)\s.*\)*\s*', '\1', '')
	if color == s
	  " no 'c' key, try 'g' key (grayscale with more than 4 levels)
	  let color = substitute(s, '.*\sg\s\+\(.\{-}\)\s*\(\(g4\|[ms]\)\s.*\)*\s*', '\1', '')
	  if color == s
	    " next try: 'g4' key (4-level grayscale)
	    let color = substitute(s, '.*\sg4\s\+\(.\{-}\)\s*\([ms]\s.*\)*\s*', '\1', '')
	    if color == s
	      " finally try 'm' key (mono visual)
	      let color = substitute(s, '.*\sm\s\+\(.\{-}\)\s*\(s\s.*\)*\s*', '\1', '')
	      if color == s
		let color = ""
	      endif
	    endif
	  endif
	endif

	" Vim cannot handle RGB codes with more than 6 hex digits
	if color =~ '#\x\{10,}$'
	  let color = substitute(color, '\(\x\x\)\x\x', '\1', 'g')
	elseif color =~ '#\x\{7,}$'
	  let color = substitute(color, '\(\x\x\)\x', '\1', 'g')
	" nor with 3 digits
	elseif color =~ '#\x\{3}$'
	  let color = substitute(color, '\(\x\)\(\x\)\(\x\)', '0\10\20\3', '')
	endif

	" escape meta characters in patterns
	let s = escape(s, '/\*^$.~[]')
	let chars = escape(chars, '/\*^$.~[]')

	" change whitespace to "\s\+"
	let s = substitute(s, "[ \t][ \t]*", "\\\\s\\\\+", "g")
	let chars = substitute(chars, "[ \t][ \t]*", "\\\\s\\\\+", "g")

	" now create syntax items
	" highlight the color string as normal string (no pixel string)
	exe 'syn match xpm2Col'.n.'Def /'.s.'/ contains=xpm2Col'.n.'inDef'
	exe 'HiLink xpm2Col'.n.'Def Constant'

	" but highlight the first whitespace after chars in its color
	exe 'syn match xpm2Col'.n.'inDef /^'.chars.'/hs=s+'.(cpp).' contained'
	exe 'HiLink xpm2Col'.n.'inDef xpm2Color'.n

	" remove the following whitespace from chars
	let chars = substitute(chars, '\\s\\+$', '', '')

	" and create the syntax item contained in the pixel strings
	exe 'syn match xpm2Color'.n.' /'.chars.'/ contained'
	exe 'syn cluster xpm2Colors add=xpm2Color'.n

	" if no color or color = "None" show background
	if color == ""  ||  substitute(color, '.*', '\L&', '') == 'none'
	  exe 'Hi xpm2Color'.n.' guifg=bg guibg=NONE'
	elseif color !~ "'"
	  exe 'Hi xpm2Color'.n." guifg='".color."' guibg='".color."'"
	endif
	let n = n + 1
      else
	break			" no more color string
      endif
    endif
    let i = i + 1
  endwhile

  unlet color chars colors cpp n i s

endif		" has("gui_running")

" Define the default highlighting.
" For version 5.7 and earlier: only when not done already
" For version 5.8 and later: only when an item doesn't have highlighting yet
if version >= 508 || !exists("did_xpm2_syntax_inits")
  if version < 508
    let did_xpm2_syntax_inits = 1
  endif

  " The default highlighting.
  HiLink xpm2Type		Type
  HiLink xpm2StorageClass	StorageClass
  HiLink xpm2Todo		Todo
  HiLink xpm2Comment		Comment
  HiLink xpm2PixelString	String
endif
delcommand HiLink
delcommand Hi

let b:current_syntax = "xpm2"

let &cpo = s:cpo_save
unlet s:cpo_save
" vim: ts=8:sw=2:noet:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     " Vim syntax file
" Language:	XQuery
" Author: Ren Neumann <necoro@necoro.eu>
" Author: Steve Spigarelli <http://spig.net/>
" Original Author:	Jean-Marc Vanel <http://jmvanel.free.fr/>
" Last Change:	mar jui 12 18:04:05 CEST 2005
" Filenames:	*.xq
" URL:		http://jmvanel.free.fr/vim/xquery.vim

" REFERENCES:
"   [1] http://www.w3.org/TR/xquery/

" Quit when a syntax file was already loaded
if exists("b:current_syntax")
    finish
endif

" - is allowed in keywords
setlocal iskeyword+=-

runtime syntax/xml.vim

syn case match

" From XQuery grammar:
syn keyword xqStatement ancestor ancestor-or-self and as ascending at attribute base-uri boundary-space by case cast castable child collation construction declare default descendant descendant-or-self descending div document element else empty encoding eq every except external following following-sibling for function ge greatest gt idiv if import in inherit-namespaces instance intersect is le least let lt mod module namespace ne no of or order ordered ordering parent preceding preceding-sibling preserve return satisfies schema self some stable strip then to treat typeswitch union unordered validate variable version where xmlspace xquery yes

" TODO contains clashes with vim keyword
syn	keyword	xqFunction abs adjust-date-to-timezone adjust-date-to-timezone adjust-dateTime-to-timezone adjust-dateTime-to-timezone adjust-time-to-timezone adjust-time-to-timezone avg base-uri base-uri boolean ceiling codepoint-equal codepoints-to-string collection collection compare concat count current-date current-dateTime current-time data dateTime day-from-date day-from-dateTime days-from-duration deep-equal deep-equal default-collation distinct-values distinct-values doc doc-available document-uri empty ends-with ends-with error error error error escape-uri exactly-one exists false floor hours-from-dateTime hours-from-duration hours-from-time id id idref idref implicit-timezone in-scope-prefixes index-of index-of insert-before lang lang last local-name local-name local-name-from-QName lower-case matches matches max max min min minutes-from-dateTime minutes-from-duration minutes-from-time month-from-date month-from-dateTime months-from-duration name name namespace-uri namespace-uri namespace-uri-for-prefix namespace-uri-from-QName nilled node-name normalize-space normalize-space normalize-unicode normalize-unicode not number number one-or-more position prefix-from-QName QName remove replace replace resolve-QName resolve-uri resolve-uri reverse root root round round-half-to-even round-half-to-even seconds-from-dateTime seconds-from-duration seconds-from-time starts-with starts-with static-base-uri string string string-join string-length string-length string-to-codepoints subsequence subsequence substring substring substring-after substring-after substring-before substring-before sum sum timezone-from-date timezone-from-dateTime timezone-from-time tokenize tokenize trace translate true unordered upper-case year-from-date year-from-dateTime years-from-duration zero-or-one

syn keyword xqOperator add-dayTimeDuration-to-date add-dayTimeDuration-to-dateTime add-dayTimeDuration-to-time add-dayTimeDurations add-yearMonthDuration-to-date add-yearMonthDuration-to-dateTime add-yearMonthDurations base64Binary-equal boolean-equal boolean-greater-than boolean-less-than concatenate date-equal date-greater-than date-less-than dateTime-equal dateTime-greater-than dateTime-less-than dayTimeDuration-equal dayTimeDuration-greater-than dayTimeDuration-less-than divide-dayTimeDuration divide-dayTimeDuration-by-dayTimeDuration divide-yearMonthDuration divide-yearMonthDuration-by-yearMonthDuration except gDay-equal gMonth-equal gMonthDay-equal gYear-equal gYearMonth-equal hexBinary-equal intersect is-same-node multiply-dayTimeDuration multiply-yearMonthDuration node-after node-before NOTATION-equal numeric-add numeric-divide numeric-equal numeric-greater-than numeric-integer-divide numeric-less-than numeric-mod numeric-multiply numeric-subtract numeric-unary-minus numeric-unary-plus QName-equal subtract-dates-yielding-dayTimeDuration subtract-dateTimes-yielding-dayTimeDuration subtract-dayTimeDuration-from-date subtract-dayTimeDuration-from-dateTime subtract-dayTimeDuration-from-time subtract-dayTimeDurations subtract-times subtract-yearMonthDuration-from-date subtract-yearMonthDuration-from-dateTime subtract-yearMonthDurations time-equal time-greater-than time-less-than to union yearMonthDuration-equal yearMonthDuration-greater-than yearMonthDuration-less-than

syn match xqType "xs:\(\|Datatype\|primitive\|string\|boolean\|float\|double\|decimal\|duration\|dateTime\|time\|date\|gYearMonth\|gYear\|gMonthDay\|gDay\|gMonth\|hexBinary\|base64Binary\|anyURI\|QName\|NOTATION\|\|normalizedString\|token\|language\|IDREFS\|ENTITIES\|NMTOKEN\|NMTOKENS\|Name\|NCName\|ID\|IDREF\|ENTITY\|integer\|nonPositiveInteger\|negativeInteger\|long\|int\|short\|byte\|nonNegativeInteger\|unsignedLong\|unsignedInt\|unsignedShort\|unsignedByte\|positiveInteger\)"


" From XPath grammar:
syn keyword xqXPath some every in in satisfies if then else to div idiv mod union intersect except instance of treat castable cast eq ne lt le gt ge is child descendant attribute self descendant-or-self following-sibling following namespace parent ancestor preceding-sibling preceding ancestor-or-self void item node document-node text comment processing-instruction attribute schema-attribute schema-element

" eXist extensions
syn	match xqExist "&="

" XQdoc
syn	match	XQdoc contained "@\(param\|return\|author\)\>" 

" floating point number, with dot, optional exponent
syn match xqFloat   "\d\+\.\d*\(e[-+]\=\d\+\)\=[fl]\="
" floating point number, starting with a dot, optional exponent
syn match xqFloat   "\.\d\+\(e[-+]\=\d\+\)\=[fl]\=\>"
" floating point number, without dot, with exponent
syn match xqFloat   "\d\+e[-+]\=\d\+[fl]\=\>"
syn match xqNumber  "0x\x\+\(u\=l\{0,2}\|ll\=u\)\>"
syn match xqNumber  "\<\d\+\>"

syn region xqString  start=+\z(['"]\)+ skip=+\\.+ end=+\z1+
syn region xqComment start='(:' excludenl end=':)' contains=XQdoc

syn match xqVariable "$\<[a-zA-Z:_][-.0-9a-zA-Z0-9:_]*\>"
syn match xqSeparator ",\|;"
syn region xqCode transparent contained start='{' excludenl end='}' contains=xqFunction,xqCode,xmlRegionBis,xqComment,xqStatement,xmlString,xqSeparator,xqNumber,xqVariable,xqString keepend extend

syn region xmlRegionBis start=+<\z([^ /!?<>"']\+\)+ skip=+<!--\_.\{-}-->+ end=+</\z1\_\s\{-}>+ end=+/>+ fold contains=xmlTag,xmlEndTag,xmlCdata,xmlRegionBis,xmlComment,xmlEntity,xmlProcessing,xqCode keepend extend

hi def link xqNumber    Number
hi def link xqFloat     Number
hi def link xqString    String
hi def link xqVariable  Identifier
hi def link xqComment   Comment
hi def link xqSeparator Operator
hi def link xqStatement Statement
hi def link xqFunction  Function
hi def link xqOperator  Operator
hi def link xqType      Type
hi def link xqXPath     Operator
hi def link XQdoc       Special
hi def link xqExist     Operator

" override the xml highlighting
"hi link xmlTag      Structure
"hi link xmlTagName  Structure
"hi link xmlEndTag   Structure

let b:current_syntax = "xquery"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         " Vim syntax file
" Language:	XSD (XML Schema)
" Maintainer:	Johannes Zellner <johannes@zellner.org>
" Last Change:	Tue, 27 Apr 2004 14:54:59 CEST
" Filenames:	*.xsd
" $Id: xsd.vim,v 1.1 2004/06/13 18:20:48 vimboss Exp $

" REFERENCES:
"   [1] http://www.w3.org/TR/xmlschema-0
"

" Quit when a syntax file was already loaded
if exists("b:current_syntax")
    finish
endif

runtime syntax/xml.vim

syn cluster xmlTagHook add=xsdElement
syn case match

syn match xsdElement '\%(xsd:\)\@<=all'
syn match xsdElement '\%(xsd:\)\@<=annotation'
syn match xsdElement '\%(xsd:\)\@<=any'
syn match xsdElement '\%(xsd:\)\@<=anyAttribute'
syn match xsdElement '\%(xsd:\)\@<=appInfo'
syn match xsdElement '\%(xsd:\)\@<=attribute'
syn match xsdElement '\%(xsd:\)\@<=attributeGroup'
syn match xsdElement '\%(xsd:\)\@<=choice'
syn match xsdElement '\%(xsd:\)\@<=complexContent'
syn match xsdElement '\%(xsd:\)\@<=complexType'
syn match xsdElement '\%(xsd:\)\@<=documentation'
syn match xsdElement '\%(xsd:\)\@<=element'
syn match xsdElement '\%(xsd:\)\@<=enumeration'
syn match xsdElement '\%(xsd:\)\@<=extension'
syn match xsdElement '\%(xsd:\)\@<=field'
syn match xsdElement '\%(xsd:\)\@<=group'
syn match xsdElement '\%(xsd:\)\@<=import'
syn match xsdElement '\%(xsd:\)\@<=include'
syn match xsdElement '\%(xsd:\)\@<=key'
syn match xsdElement '\%(xsd:\)\@<=keyref'
syn match xsdElement '\%(xsd:\)\@<=length'
syn match xsdElement '\%(xsd:\)\@<=list'
syn match xsdElement '\%(xsd:\)\@<=maxInclusive'
syn match xsdElement '\%(xsd:\)\@<=maxLength'
syn match xsdElement '\%(xsd:\)\@<=minInclusive'
syn match xsdElement '\%(xsd:\)\@<=minLength'
syn match xsdElement '\%(xsd:\)\@<=pattern'
syn match xsdElement '\%(xsd:\)\@<=redefine'
syn match xsdElement '\%(xsd:\)\@<=restriction'
syn match xsdElement '\%(xsd:\)\@<=schema'
syn match xsdElement '\%(xsd:\)\@<=selector'
syn match xsdElement '\%(xsd:\)\@<=sequence'
syn match xsdElement '\%(xsd:\)\@<=simpleContent'
syn match xsdElement '\%(xsd:\)\@<=simpleType'
syn match xsdElement '\%(xsd:\)\@<=union'
syn match xsdElement '\%(xsd:\)\@<=unique'

hi def link xsdElement Statement

" vim: ts=8
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   " Vim syntax file
" Language:	XSLT
" Maintainer:	Johannes Zellner <johannes@zellner.org>
" Last Change:	Sun, 28 Oct 2001 21:22:24 +0100
" Filenames:	*.xsl
" $Id: xslt.vim,v 1.1 2004/06/13 15:52:10 vimboss Exp $

" REFERENCES:
"   [1] http://www.w3.org/TR/xslt
"

" Quit when a syntax file was already loaded
if exists("b:current_syntax")
    finish
endif

runtime syntax/xml.vim

syn cluster xmlTagHook add=xslElement
syn case match

syn match xslElement '\%(xsl:\)\@<=apply-imports'
syn match xslElement '\%(xsl:\)\@<=apply-templates'
syn match xslElement '\%(xsl:\)\@<=attribute'
syn match xslElement '\%(xsl:\)\@<=attribute-set'
syn match xslElement '\%(xsl:\)\@<=call-template'
syn match xslElement '\%(xsl:\)\@<=choose'
syn match xslElement '\%(xsl:\)\@<=comment'
syn match xslElement '\%(xsl:\)\@<=copy'
syn match xslElement '\%(xsl:\)\@<=copy-of'
syn match xslElement '\%(xsl:\)\@<=decimal-format'
syn match xslElement '\%(xsl:\)\@<=document'
syn match xslElement '\%(xsl:\)\@<=element'
syn match xslElement '\%(xsl:\)\@<=fallback'
syn match xslElement '\%(xsl:\)\@<=for-each'
syn match xslElement '\%(xsl:\)\@<=if'
syn match xslElement '\%(xsl:\)\@<=include'
syn match xslElement '\%(xsl:\)\@<=import'
syn match xslElement '\%(xsl:\)\@<=key'
syn match xslElement '\%(xsl:\)\@<=message'
syn match xslElement '\%(xsl:\)\@<=namespace-alias'
syn match xslElement '\%(xsl:\)\@<=number'
syn match xslElement '\%(xsl:\)\@<=otherwise'
syn match xslElement '\%(xsl:\)\@<=output'
syn match xslElement '\%(xsl:\)\@<=param'
syn match xslElement '\%(xsl:\)\@<=processing-instruction'
syn match xslElement '\%(xsl:\)\@<=preserve-space'
syn match xslElement '\%(xsl:\)\@<=script'
syn match xslElement '\%(xsl:\)\@<=sort'
syn match xslElement '\%(xsl:\)\@<=strip-space'
syn match xslElement '\%(xsl:\)\@<=stylesheet'
syn match xslElement '\%(xsl:\)\@<=template'
syn match xslElement '\%(xsl:\)\@<=transform'
syn match xslElement '\%(xsl:\)\@<=text'
syn match xslElement '\%(xsl:\)\@<=value-of'
syn match xslElement '\%(xsl:\)\@<=variable'
syn match xslElement '\%(xsl:\)\@<=when'
syn match xslElement '\%(xsl:\)\@<=with-param'

hi def link xslElement Statement

" vim: ts=8
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          " Vim syntax file
" Language:		bin using xxd
" Maintainer:	Charles E. Campbell <NdrOchipS@PcampbellAfamily.Mbiz>
" Last Change:	Oct 23, 2014
" Version:		8
" Notes:		use :help xxd   to see how to invoke it
" URL:	http://www.drchip.org/astronaut/vim/index.html#SYNTAX_XXD

" For version 5.x: Clear all syntax items
" For version 6.x: Quit when a syntax file was already loaded
if version < 600
  syntax clear
elseif exists("b:current_syntax")
  finish
endif

syn match xxdAddress			"^[0-9a-f]\+:"		contains=xxdSep
syn match xxdSep	contained	":"
syn match xxdAscii				"  .\{,16\}\r\=$"hs=s+2	contains=xxdDot
syn match xxdDot	contained	"[.\r]"

" Define the default highlighting.
" For version 5.7 and earlier: only when not done already
" For version 5.8 and later: only when an item doesn't have highlighting yet
if version >= 508 || !exists("did_xxd_syntax_inits")
  if version < 508
    let did_xxd_syntax_inits = 1
    command -nargs=+ HiLink hi link <args>
  else
    command -nargs=+ HiLink hi def link <args>
  endif

 HiLink xxdAddress	Constant
 HiLink xxdSep		Identifier
 HiLink xxdAscii	Statement

 delcommand HiLink
endif

let b:current_syntax = "xxd"

" vim: ts=4
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           " Vim syntax file
" Language:	Yacc
" Maintainer:	Charles E. Campbell <NdrOchipS@PcampbellAfamily.Mbiz>
" Last Change:	Apr 02, 2015
" Version:	13
" URL:	http://mysite.verizon.net/astronaut/vim/index.html#vimlinks_syntax
"
" Options: {{{1
"   g:yacc_uses_cpp : if this variable exists, then C++ is loaded rather than C

" ---------------------------------------------------------------------
" this version of syntax/yacc.vim requires 6.0 or later
if version < 600
 finish
endif
if exists("b:current_syntax")
 syntax clear
endif

" ---------------------------------------------------------------------
"  Folding Support {{{1
if has("folding")
 com! -nargs=+ SynFold	<args> fold
else
 com! -nargs=+ SynFold	<args>
endif

" ---------------------------------------------------------------------
" Read the C syntax to start with {{{1
" Read the C/C++ syntax to start with
let s:Cpath= fnameescape(expand("<sfile>:p:h").(exists("g:yacc_uses_cpp")? "/cpp.vim" : "/c.vim"))
if !filereadable(s:Cpath)
 for s:Cpath in split(globpath(&rtp,(exists("g:yacc_uses_cpp")? "syntax/cpp.vim" : "syntax/c.vim")),"\n")
  if filereadable(fnameescape(s:Cpath))
   let s:Cpath= fnameescape(s:Cpath)
   break
  endif
 endfor
endif
exe "syn include @yaccCode ".s:Cpath

" ---------------------------------------------------------------------
"  Yacc Clusters: {{{1
syn cluster yaccInitCluster	contains=yaccKey,yaccKeyActn,yaccBrkt,yaccType,yaccString,yaccUnionStart,yaccHeader2,yaccComment,yaccDefines,yaccParseParam,yaccParseOption
syn cluster yaccRulesCluster	contains=yaccNonterminal,yaccString

" ---------------------------------------------------------------------
"  Yacc Sections: {{{1
SynFold syn	region	yaccInit	start='.'ms=s-1,rs=s-1	matchgroup=yaccSectionSep	end='^%%$'me=e-2,re=e-2	contains=@yaccInitCluster	nextgroup=yaccRules	skipwhite skipempty contained
SynFold syn	region	yaccInit2      start='\%^.'ms=s-1,rs=s-1	matchgroup=yaccSectionSep	end='^%%$'me=e-2,re=e-2	contains=@yaccInitCluster	nextgroup=yaccRules	skipwhite skipempty
SynFold syn	region	yaccHeader2	matchgroup=yaccSep	start="^\s*\zs%{"	end="^\s*%}"		contains=@yaccCode	nextgroup=yaccInit	skipwhite skipempty contained
SynFold syn	region	yaccHeader	matchgroup=yaccSep	start="^\s*\zs%{"	end="^\s*%}"		contains=@yaccCode	nextgroup=yaccInit	skipwhite skipempty
SynFold syn	region	yaccRules	matchgroup=yaccSectionSep	start='^%%$'		end='^%%$'me=e-2,re=e-2	contains=@yaccRulesCluster	nextgroup=yaccEndCode	skipwhite skipempty contained
SynFold syn	region	yaccEndCode	matchgroup=yaccSectionSep	start='^%%$'		end='\%$'		contains=@yaccCode	contained

" ---------------------------------------------------------------------
" Yacc Commands: {{{1
syn	match	yaccDefines	'^%define\s\+.*$'
syn	match	yaccParseParam	'%\(parse\|lex\)-param\>'		skipwhite	nextgroup=yaccParseParamStr
syn	match	yaccParseOption '%\%(api\.pure\|pure-parser\|locations\|error-verbose\)\>'
syn	region	yaccParseParamStr	contained matchgroup=Delimiter	start='{'	end='}'	contains=cStructure

syn	match	yaccDelim	"[:|]"	contained
syn	match	yaccOper	"@\d\+"	contained

syn	match	yaccKey	"^\s*%\(token\|type\|left\|right\|start\|ident\|nonassoc\)\>"	contained
syn	match	yaccKey	"\s%\(prec\|expect\)\>"	contained
syn	match	yaccKey	"\$\(<[a-zA-Z_][a-zA-Z_0-9]*>\)\=[\$0-9]\+"	contained
syn	keyword	yaccKeyActn	yyerrok yyclearin	contained

syn	match	yaccUnionStart	"^%union"	skipwhite skipnl nextgroup=yaccUnion	contained
SynFold syn	region	yaccUnion	matchgroup=yaccCurly start="{" matchgroup=yaccCurly end="}" contains=@yaccCode	contained
syn	match	yaccBrkt	"[<>]"	contained
syn	match	yaccType	"<[a-zA-Z_][a-zA-Z0-9_]*>"	contains=yaccBrkt	contained

SynFold syn	region	yaccNonterminal	start="^\s*\a\w*\ze\_s*\(/\*\_.\{-}\*/\)\=\_s*:"	matchgroup=yaccDelim end=";"	matchgroup=yaccSectionSep end='^%%$'me=e-2,re=e-2 contains=yaccAction,yaccDelim,yaccString,yaccComment	contained
syn	region	yaccComment	start="/\*"	end="\*/"
syn	match	yaccString	"'[^']*'"	contained


" ---------------------------------------------------------------------
" I'd really like to highlight just the outer {}.  Any suggestions??? {{{1
syn	match	yaccCurlyError	"[{}]"
SynFold syn	region	yaccAction	matchgroup=yaccCurly start="{" end="}" 	contains=@yaccCode,yaccVar		contained
syn	match	yaccVar	'\$\d\+\|\$\$\|\$<\I\i*>\$\|\$<\I\i*>\d\+'	containedin=cParen,cPreProc,cMulti	contained

" ---------------------------------------------------------------------
" Yacc synchronization: {{{1
syn sync fromstart

" ---------------------------------------------------------------------
" Define the default highlighting. {{{1
if !exists("did_yacc_syn_inits")
  hi def link yaccBrkt	yaccStmt
  hi def link yaccComment	Comment
  hi def link yaccCurly	Delimiter
  hi def link yaccCurlyError	Error
  hi def link yaccDefines	cDefine
  hi def link yaccDelim	Delimiter
  hi def link yaccKeyActn	Special
  hi def link yaccKey	yaccStmt
  hi def link yaccNonterminal	Function
  hi def link yaccOper	yaccStmt
  hi def link yaccParseOption	cDefine
  hi def link yaccParseParam	yaccParseOption
  hi def link yaccSectionSep	Todo
  hi def link yaccSep	Delimiter
  hi def link yaccStmt	Statement
  hi def link yaccString	String
  hi def link yaccType	Type
  hi def link yaccUnionStart	yaccKey
  hi def link yaccVar	Special
endif

" ---------------------------------------------------------------------
"  Cleanup: {{{1
delcommand SynFold
let b:current_syntax = "yacc"

" ---------------------------------------------------------------------
"  Modelines: {{{1
" vim: ts=15 fdm=marker
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             " Vim syntax file
" Language:         YAML (YAML Ain't Markup Language) 1.2
" Maintainer:       Nikolai Pavlov <zyx.vim@gmail.com>
" First author:     Nikolai Weibull <now@bitwi.se>
" Latest Revision:  2015-03-28

if exists('b:current_syntax')
    finish
endif

let s:cpo_save = &cpo
set cpo&vim

" Choose the schema to use
" TODO: Validate schema
if !exists('b:yaml_schema')
  if exists('g:yaml_schema')
    let b:yaml_schema = g:yaml_schema
  else
    let b:yaml_schema = 'core'
  endif
endif

let s:ns_char = '\%([\n\r\uFEFF \t]\@!\p\)'
let s:ns_word_char = '[[:alnum:]_\-]'
let s:ns_uri_char  = '\%(%\x\x\|'.s:ns_word_char.'\|[#/;?:@&=+$,.!~*''()[\]]\)'
let s:ns_tag_char  = '\%(%\x\x\|'.s:ns_word_char.'\|[#/;?:@&=+$.~*''()]\)'
let s:c_ns_anchor_char = '\%([\n\r\uFEFF \t,[\]{}]\@!\p\)'
let s:c_indicator      = '[\-?:,[\]{}#&*!|>''"%@`]'
let s:c_flow_indicator = '[,[\]{}]'

let s:ns_char_without_c_indicator = substitute(s:ns_char, '\v\C[\zs', '\=s:c_indicator[1:-2]', '')

let s:_collection = '[^\@!\(\%(\\\.\|\[^\\\]]\)\+\)]'
let s:_neg_collection = '[^\(\%(\\\.\|\[^\\\]]\)\+\)]'
function s:SimplifyToAssumeAllPrintable(p)
    return substitute(a:p, '\V\C\\%('.s:_collection.'\\@!\\p\\)', '[^\1]', '')
endfunction
let s:ns_char = s:SimplifyToAssumeAllPrintable(s:ns_char)
let s:ns_char_without_c_indicator = s:SimplifyToAssumeAllPrintable(s:ns_char_without_c_indicator)
let s:c_ns_anchor_char = s:SimplifyToAssumeAllPrintable(s:c_ns_anchor_char)

function s:SimplifyAdjacentCollections(p)
    return substitute(a:p, '\V\C'.s:_collection.'\\|'.s:_collection, '[\1\2]', 'g')
endfunction
let s:ns_uri_char = s:SimplifyAdjacentCollections(s:ns_uri_char)
let s:ns_tag_char = s:SimplifyAdjacentCollections(s:ns_tag_char)

let s:c_verbatim_tag = '!<'.s:ns_uri_char.'\+>'
let s:c_named_tag_handle     = '!'.s:ns_word_char.'\+!'
let s:c_secondary_tag_handle = '!!'
let s:c_primary_tag_handle   = '!'
let s:c_tag_handle = '\%('.s:c_named_tag_handle.
            \         '\|'.s:c_secondary_tag_handle.
            \         '\|'.s:c_primary_tag_handle.'\)'
let s:c_ns_shorthand_tag = s:c_tag_handle . s:ns_tag_char.'\+'
let s:c_non_specific_tag = '!'
let s:c_ns_tag_property = s:c_verbatim_tag.
            \        '\|'.s:c_ns_shorthand_tag.
            \        '\|'.s:c_non_specific_tag

let s:c_ns_anchor_name = s:c_ns_anchor_char.'\+'
let s:c_ns_anchor_property =  '&'.s:c_ns_anchor_name
let s:c_ns_alias_node      = '\*'.s:c_ns_anchor_name

let s:ns_directive_name = s:ns_char.'\+'

let s:ns_local_tag_prefix  = '!'.s:ns_uri_char.'*'
let s:ns_global_tag_prefix = s:ns_tag_char.s:ns_uri_char.'*'
let s:ns_tag_prefix = s:ns_local_tag_prefix.
            \    '\|'.s:ns_global_tag_prefix

let s:ns_plain_safe_out = s:ns_char
let s:ns_plain_safe_in  = '\%('.s:c_flow_indicator.'\@!'.s:ns_char.'\)'

let s:ns_plain_safe_in = substitute(s:ns_plain_safe_in, '\V\C\\%('.s:_collection.'\\@!'.s:_neg_collection.'\\)', '[^\1\2]', '')
let s:ns_plain_safe_in_without_colhash = substitute(s:ns_plain_safe_in, '\V\C'.s:_neg_collection, '[^\1:#]', '')
let s:ns_plain_safe_out_without_colhash = substitute(s:ns_plain_safe_out, '\V\C'.s:_neg_collection, '[^\1:#]', '')

let s:ns_plain_first_in  = '\%('.s:ns_char_without_c_indicator.'\|[?:\-]\%('.s:ns_plain_safe_in.'\)\@=\)'
let s:ns_plain_first_out = '\%('.s:ns_char_without_c_indicator.'\|[?:\-]\%('.s:ns_plain_safe_out.'\)\@=\)'

let s:ns_plain_char_in  = '\%('.s:ns_char.'#\|:'.s:ns_plain_safe_in.'\|'.s:ns_plain_safe_in_without_colhash.'\)'
let s:ns_plain_char_out = '\%('.s:ns_char.'#\|:'.s:ns_plain_safe_out.'\|'.s:ns_plain_safe_out_without_colhash.'\)'

let s:ns_plain_out = s:ns_plain_first_out . s:ns_plain_char_out.'*'
let s:ns_plain_in  = s:ns_plain_first_in  . s:ns_plain_char_in.'*'


syn keyword yamlTodo            contained TODO FIXME XXX NOTE

syn region  yamlComment         display oneline start='\%\(^\|\s\)#' end='$'
            \                   contains=yamlTodo

execute 'syn region yamlDirective oneline start='.string('^\ze%'.s:ns_directive_name.'\s\+').' '.
            \                            'end="$" '.
            \                            'contains=yamlTAGDirective,'.
            \                                     'yamlYAMLDirective,'.
            \                                     'yamlReservedDirective '.
            \                            'keepend'

syn match yamlTAGDirective '%TAG\s\+' contained nextgroup=yamlTagHandle
execute 'syn match yamlTagHandle contained nextgroup=yamlTagPrefix '.string(s:c_tag_handle.'\s\+')
execute 'syn match yamlTagPrefix contained nextgroup=yamlComment ' . string(s:ns_tag_prefix)

syn match yamlYAMLDirective '%YAML\s\+'  contained nextgroup=yamlYAMLVersion
syn match yamlYAMLVersion   '\d\+\.\d\+' contained nextgroup=yamlComment

execute 'syn match yamlReservedDirective contained nextgroup=yamlComment '.
            \string('%\%(\%(TAG\|YAML\)\s\)\@!'.s:ns_directive_name)

syn region yamlFlowString matchgroup=yamlFlowStringDelimiter start='"' skip='\\"' end='"'
            \ contains=yamlEscape
            \ nextgroup=yamlKeyValueDelimiter
syn region yamlFlowString matchgroup=yamlFlowStringDelimiter start="'" skip="''"  end="'"
            \ contains=yamlSingleEscape
            \ nextgroup=yamlKeyValueDelimiter
syn match  yamlEscape contained '\\\%([\\"abefnrtv\^0_ NLP\n]\|x\x\x\|u\x\{4}\|U\x\{8}\)'
syn match  yamlSingleEscape contained "''"

syn match yamlBlockScalarHeader contained '\s\+\zs[|>]\%([+-]\=[1-9]\|[1-9]\=[+-]\)\='

syn cluster yamlConstant contains=yamlBool,yamlNull

syn cluster yamlFlow contains=yamlFlowString,yamlFlowMapping,yamlFlowCollection
syn cluster yamlFlow      add=yamlFlowMappingKey,yamlFlowMappingMerge
syn cluster yamlFlow      add=@yamlConstant,yamlPlainScalar,yamlFloat
syn cluster yamlFlow      add=yamlTimestamp,yamlInteger,yamlMappingKeyStart
syn cluster yamlFlow      add=yamlComment
syn region yamlFlowMapping    matchgroup=yamlFlowIndicator start='{' end='}' contains=@yamlFlow
syn region yamlFlowCollection matchgroup=yamlFlowIndicator start='\[' end='\]' contains=@yamlFlow

execute 'syn match yamlPlainScalar /'.s:ns_plain_out.'/'
execute 'syn match yamlPlainScalar contained /'.s:ns_plain_in.'/'

syn match yamlMappingKeyStart '?\ze\s'
syn match yamlMappingKeyStart '?' contained

execute 'syn match yamlFlowMappingKey /\%#=1'.s:ns_plain_in.'\%(\s\+'.s:ns_plain_in.'\)*\ze\s*:/ contained '.
            \'nextgroup=yamlKeyValueDelimiter'
syn match yamlFlowMappingMerge /<<\ze\s*:/ contained nextgroup=yamlKeyValueDelimiter

syn match yamlBlockCollectionItemStart '^\s*\zs-\%(\s\+-\)*\s' nextgroup=yamlBlockMappingKey,yamlBlockMappingMerge
" Use the old regexp engine, the NFA engine doesn't like all the \@ items.
execute 'syn match yamlBlockMappingKey /\%#=1^\s*\zs'.s:ns_plain_out.'\%(\s\+'.s:ns_plain_out.'\)*\ze\s*:\%(\s\|$\)/ '.
            \'nextgroup=yamlKeyValueDelimiter'
execute 'syn match yamlBlockMappingKey /\%#=1\s*\zs'.s:ns_plain_out.'\%(\s\+'.s:ns_plain_out.'\)*\ze\s*:\%(\s\|$\)/ contained '.
            \'nextgroup=yamlKeyValueDelimiter'
syn match yamlBlockMappingMerge /^\s*\zs<<\ze:\%(\s\|$\)/ nextgroup=yamlKeyValueDelimiter
syn match yamlBlockMappingMerge /<<\ze\s*:\%(\s\|$\)/ nextgroup=yamlKeyValueDelimiter contained

syn match   yamlKeyValueDelimiter /\s*:/ contained
syn match   yamlKeyValueDelimiter /\s*:/ contained

syn cluster yamlScalarWithSpecials contains=yamlPlainScalar,yamlBlockMappingKey,yamlFlowMappingKey

let s:_bounder = s:SimplifyToAssumeAllPrintable('\%([[\]{}, \t]\@!\p\)')
if b:yaml_schema is# 'json'
    syn keyword yamlNull null contained containedin=@yamlScalarWithSpecials
    syn keyword yamlBool true false
    exe 'syn match   yamlInteger /'.s:_bounder.'\@1<!\%(0\|-\=[1-9][0-9]*\)'.s:_bounder.'\@!/ contained containedin=@yamlScalarWithSpecials'
    exe 'syn match   yamlFloat   /'.s:_bounder.'\@1<!\%(-\=[1-9][0-9]*\%(\.[0-9]*\)\=\(e[-+]\=[0-9]\+\)\=\|0\|-\=\.inf\|\.nan\)'.s:_bounder.'\@!/ contained containedin=@yamlScalarWithSpecials'
elseif b:yaml_schema is# 'core'
    syn keyword yamlNull null Null NULL contained containedin=@yamlScalarWithSpecials
    syn keyword yamlBool true True TRUE false False FALSE contained containedin=@yamlScalarWithSpecials
    exe 'syn match   yamlNull /'.s:_bounder.'\@1<!\~'.s:_bounder.'\@!/ contained containedin=@yamlScalarWithSpecials'
    exe 'syn match   yamlInteger /'.s:_bounder.'\@1<!\%([+-]\=\%(0\%(b[0-1_]\+\|[0-7_]\+\|x[0-9a-fA-F_]\+\)\=\|\%([1-9][0-9_]*\%(:[0-5]\=\d\)\+\)\)\|[1-9][0-9_]*\)'.s:_bounder.'\@!/ contained containedin=@yamlScalarWithSpecials'
    exe 'syn match   yamlFloat /'.s:_bounder.'\@1<!\%([+-]\=\%(\%(\d[0-9_]*\)\.[0-9_]*\%([eE][+-]\=\d\+\)\=\|\.[0-9_]\+\%([eE][-+]\=[0-9]\+\)\=\|\d[0-9_]*\%(:[0-5]\=\d\)\+\.[0-9_]*\|\.\%(inf\|Inf\|INF\)\)\|\%(\.\%(nan\|NaN\|NAN\)\)\)'.s:_bounder.'\@!/ contained containedin=@yamlScalarWithSpecials'
elseif b:yaml_schema is# 'pyyaml'
    syn keyword yamlNull null Null NULL contained containedin=@yamlScalarWithSpecials
    syn keyword yamlBool true True TRUE false False FALSE yes Yes YES no No NO on On ON off Off OFF contained containedin=@yamlScalarWithSpecials
    exe 'syn match   yamlNull /'.s:_bounder.'\@1<!\~'.s:_bounder.'\@!/ contained containedin=@yamlScalarWithSpecials'
    exe 'syn match  yamlFloat /'.s:_bounder.'\@1<!\%(\v[-+]?%(\d[0-9_]*)\.[0-9_]*%([eE][-+]\d+)?|\.[0-9_]+%([eE][-+]\d+)?|[-+]?\d[0-9_]*%(\:[0-5]?\d)+\.[0-9_]*|[-+]?\.%(inf|Inf|INF)|\.%(nan|NaN|NAN)\m\)'.s:_bounder.'\@!/ contained containedin=@yamlScalarWithSpecials'
    exe 'syn match  yamlInteger /'.s:_bounder.'\@1<!\%(\v[-+]?0b[0-1_]+|[-+]?0[0-7_]+|[-+]?%(0|[1-9][0-9_]*)|[-+]?0x[0-9a-fA-F_]+|[-+]?[1-9][0-9_]*%(:[0-5]?\d)+\m\)'.s:_bounder.'\@!/ contained containedin=@yamlScalarWithSpecials'
    exe 'syn match  yamlTimestamp /'.s:_bounder.'\@1<!\%(\v\d\d\d\d\-\d\d\-\d\d|\d\d\d\d \-\d\d? \-\d\d?%([Tt]|[ \t]+)\d\d?\:\d\d \:\d\d %(\.\d*)?%([ \t]*%(Z|[-+]\d\d?%(\:\d\d)?))?\m\)'.s:_bounder.'\@!/ contained containedin=@yamlScalarWithSpecials'
elseif b:yaml_schema is# 'failsafe'
    " Nothing
endif
unlet s:_bounder


execute 'syn match yamlNodeTag '.string(s:c_ns_tag_property)
execute 'syn match yamlAnchor  '.string(s:c_ns_anchor_property)
execute 'syn match yamlAlias   '.string(s:c_ns_alias_node)

syn match yamlDocumentStart '^---\ze\%(\s\|$\)'
syn match yamlDocumentEnd   '^\.\.\.\ze\%(\s\|$\)'

hi def link yamlTodo                     Todo
hi def link yamlComment                  Comment

hi def link yamlDocumentStart            PreProc
hi def link yamlDocumentEnd              PreProc

hi def link yamlDirectiveName            Keyword

hi def link yamlTAGDirective             yamlDirectiveName
hi def link yamlTagHandle                String
hi def link yamlTagPrefix                String

hi def link yamlYAMLDirective            yamlDirectiveName
hi def link yamlReservedDirective        Error
hi def link yamlYAMLVersion              Number

hi def link yamlString                   String
hi def link yamlFlowString               yamlString
hi def link yamlFlowStringDelimiter      yamlString
hi def link yamlEscape                   SpecialChar
hi def link yamlSingleEscape             SpecialChar

hi def link yamlBlockCollectionItemStart Label
hi def link yamlBlockMappingKey          Identifier
hi def link yamlBlockMappingMerge        Special

hi def link yamlFlowMappingKey           Identifier
hi def link yamlFlowMappingMerge         Special

hi def link yamlMappingKeyStart          Special
hi def link yamlFlowIndicator            Special
hi def link yamlKeyValueDelimiter        Special

hi def link yamlConstant                 Constant

hi def link yamlNull                     yamlConstant
hi def link yamlBool                     yamlConstant

hi def link yamlAnchor                   Type
hi def link yamlAlias                    Type
hi def link yamlNodeTag                  Type

hi def link yamlInteger                  Number
hi def link yamlFloat                    Float
hi def link yamlTimestamp                Number

let b:current_syntax = "yaml"

unlet s:ns_word_char s:ns_uri_char s:c_verbatim_tag s:c_named_tag_handle s:c_secondary_tag_handle s:c_primary_tag_handle s:c_tag_handle s:ns_tag_char s:c_ns_shorthand_tag s:c_non_specific_tag s:c_ns_tag_property s:c_ns_anchor_char s:c_ns_anchor_name s:c_ns_anchor_property s:c_ns_alias_node s:ns_char s:ns_directive_name s:ns_local_tag_prefix s:ns_global_tag_prefix s:ns_tag_prefix s:c_indicator s:ns_plain_safe_out s:c_flow_indicator s:ns_plain_safe_in s:ns_plain_first_in s:ns_plain_first_out s:ns_plain_char_in s:ns_plain_char_out s:ns_plain_out s:ns_plain_in s:ns_char_without_c_indicator s:ns_plain_safe_in_without_colhash s:ns_plain_safe_out_without_colhash
unlet s:_collection s:_neg_collection
delfunction s:SimplifyAdjacentCollections
delfunction s:SimplifyToAssumeAllPrintable

let &cpo = s:cpo_save
unlet s:cpo_save
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                " Vim syntax file
" Language:	Z80 assembler asz80
" Maintainer:	Milan Pikula <www@fornax.elf.stuba.sk>
" Last Change:	2003 May 11

" For version 5.x: Clear all syntax items
" For version 6.x: Quit when a syntax file was already loaded
if version < 600
  syntax clear
elseif exists("b:current_syntax")
  finish
endif

syn case ignore

" Common Z80 Assembly instructions
syn keyword z8aInstruction adc add and bit ccf cp cpd cpdr cpi cpir cpl
syn keyword z8aInstruction daa di djnz ei exx halt im in
syn keyword z8aInstruction ind ini indr inir jp jr ld ldd lddr ldi ldir
syn keyword z8aInstruction neg nop or otdr otir out outd outi
syn keyword z8aInstruction res rl rla rlc rlca rld
syn keyword z8aInstruction rr rra rrc rrca rrd sbc scf set sla sra
syn keyword z8aInstruction srl sub xor
" syn keyword z8aInstruction push pop call ret reti retn inc dec ex rst

" Any other stuff
syn match z8aIdentifier		"[a-z_][a-z0-9_]*"

" Instructions changing stack
syn keyword z8aSpecInst push pop call ret reti retn rst
syn match z8aInstruction "\<inc\>"
syn match z8aInstruction "\<dec\>"
syn match z8aInstruction "\<ex\>"
syn match z8aSpecInst "\<inc\s\+sp\>"me=s+3
syn match z8aSpecInst "\<dec\s\+sp\>"me=s+3
syn match z8aSpecInst "\<ex\s\+(\s*sp\s*)\s*,\s*hl\>"me=s+2

"Labels
syn match z8aLabel		"[a-z_][a-z0-9_]*:"
syn match z8aSpecialLabel	"[a-z_][a-z0-9_]*::"

" PreProcessor commands
syn match z8aPreProc	"\.org"
syn match z8aPreProc	"\.globl"
syn match z8aPreProc	"\.db"
syn match z8aPreProc	"\.dw"
syn match z8aPreProc	"\.ds"
syn match z8aPreProc	"\.byte"
syn match z8aPreProc	"\.word"
syn match z8aPreProc	"\.blkb"
syn match z8aPreProc	"\.blkw"
syn match z8aPreProc	"\.ascii"
syn match z8aPreProc	"\.asciz"
syn match z8aPreProc	"\.module"
syn match z8aPreProc	"\.title"
syn match z8aPreProc	"\.sbttl"
syn match z8aPreProc	"\.even"
syn match z8aPreProc	"\.odd"
syn match z8aPreProc	"\.area"
syn match z8aPreProc	"\.page"
syn match z8aPreProc	"\.setdp"
syn match z8aPreProc	"\.radix"
syn match z8aInclude	"\.include"
syn match z8aPreCondit	"\.if"
syn match z8aPreCondit	"\.else"
syn match z8aPreCondit	"\.endif"

" Common strings
syn match z8aString		"\".*\""
syn match z8aString		"\'.*\'"

" Numbers
syn match z8aNumber		"[0-9]\+"
syn match z8aNumber		"0[xXhH][0-9a-fA-F]\+"
syn match z8aNumber		"0[bB][0-1]*"
syn match z8aNumber		"0[oO\@qQ][0-7]\+"
syn match z8aNumber		"0[dD][0-9]\+"

" Character constant
syn match z8aString		"\#\'."hs=s+1

" Comments
syn match z8aComment		";.*"

syn case match

" Define the default highlighting.
" For version 5.7 and earlier: only when not done already
" For version 5.8 and later: only when an item doesn't have highlighting yet
if version >= 508 || !exists("did_z8a_syntax_inits")
  if version < 508
    let did_z8a_syntax_inits = 1
    command -nargs=+ HiLink hi link <args>
  else
    command -nargs=+ HiLink hi def link <args>
  endif

  HiLink z8aSection		Special
  HiLink z8aLabel		Label
  HiLink z8aSpecialLabel	Label
  HiLink z8aComment		Comment
  HiLink z8aInstruction	Statement
  HiLink z8aSpecInst		Statement
  HiLink z8aInclude		Include
  HiLink z8aPreCondit		PreCondit
  HiLink z8aPreProc		PreProc
  HiLink z8aNumber		Number
  HiLink z8aString		String

  delcommand HiLink
endif

let b:current_syntax = "z8a"
" vim: ts=8
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   " Vim syntax file
" Language:	Zimbu
" Maintainer:	Bram Moolenaar
" Last Change:	2014 Nov 23

if exists("b:current_syntax")
  finish
endif

syn include @Ccode syntax/c.vim

syn keyword zimbuTodo		TODO FIXME XXX contained
syn match   zimbuNoBar          "|" contained
syn match   zimbuParam  	"|[^| ]\+|" contained contains=zimbuNoBar
syn match   zimbuNoBacktick     "`" contained
syn match   zimbuCode  		"`[^`]\+`" contained contains=zimbuNoBacktick
syn match   zimbuComment	"#.*$" contains=zimbuTodo,zimbuParam,zimbuCode,@Spell
syn match   zimbuComment	"/\*.\{-}\*/" contains=zimbuTodo,zimbuParam,zimbuCode,@Spell

syn match   zimbuChar	"'\\\=.'"

syn keyword zimbuBasicType	bool status
syn keyword zimbuBasicType	int1 int2 int3 int4 int5 int6 int7
syn keyword zimbuBasicType	int9 int10 int11 int12 int13 int14 int15
syn keyword zimbuBasicType	int int8 int16 int32 int64 bigInt
syn keyword zimbuBasicType	nat nat8 byte nat16 nat32 nat64 bigNat
syn keyword zimbuBasicType	nat1 nat2 nat3 nat4 nat5 nat6 nat7
syn keyword zimbuBasicType	nat9 nat10 nat11 nat12 nat13 nat14 nat15
syn keyword zimbuBasicType	float float32 float64 float80 float128
syn keyword zimbuBasicType	fixed1 fixed2 fixed3 fixed4 fixed5 fixed6
syn keyword zimbuBasicType	fixed7 fixed8 fixed9 fixed10 fixed11 fixed12
syn keyword zimbuBasicType	fixed13 fixed14 fixed15

syn keyword zimbuCompType	string varString
syn keyword zimbuCompType	byteString varByteString
syn keyword zimbuCompType	tuple array list dict dictList set callback
syn keyword zimbuCompType	sortedList multiDict multiDictList multiSet
syn keyword zimbuCompType	complex complex32 complex64 complex80 complex128
syn keyword zimbuCompType	proc func def thread evalThread lock cond pipe

syn keyword zimbuType   VAR dyn type USE GET
syn match zimbuType	"IO.File"
syn match zimbuType	"IO.Stat"

syn keyword zimbuStatement IF ELSE ELSEIF IFNIL WHILE REPEAT FOR IN TO STEP
syn keyword zimbuStatement DO UNTIL SWITCH WITH
syn keyword zimbuStatement TRY CATCH FINALLY
syn keyword zimbuStatement GENERATE_IF GENERATE_ELSE GENERATE_ELSEIF
syn keyword zimbuStatement GENERATE_ERROR
syn keyword zimbuStatement BUILD_IF BUILD_ELSE BUILD_ELSEIF
syn keyword zimbuStatement CASE DEFAULT FINAL ABSTRACT VIRTUAL DEFINE REPLACE
syn keyword zimbuStatement IMPLEMENTS EXTENDS PARENT LOCAL
syn keyword zimbuStatement PART ALIAS TYPE CONNECT WRAP
syn keyword zimbuStatement BREAK CONTINUE PROCEED
syn keyword zimbuStatement RETURN EXIT THROW DEFER
syn keyword zimbuStatement IMPORT AS OPTIONS MAIN
syn keyword zimbuStatement INTERFACE PIECE INCLUDE MODULE ENUM BITS
syn keyword zimbuStatement SHARED STATIC
syn keyword zimbuStatement LAMBDA
syn match zimbuStatement "\<\(FUNC\|PROC\|DEF\)\>"
syn match zimbuStatement "\<CLASS\>"
syn match zimbuStatement "}"

syn match zimbuAttribute "@backtrace=no\>"
syn match zimbuAttribute "@backtrace=yes\>"
syn match zimbuAttribute "@abstract\>"
syn match zimbuAttribute "@earlyInit\>"
syn match zimbuAttribute "@default\>"
syn match zimbuAttribute "@define\>"
syn match zimbuAttribute "@replace\>"
syn match zimbuAttribute "@final\>"
syn match zimbuAttribute "@primitive\>"
syn match zimbuAttribute "@notOnExit\>"

syn match zimbuAttribute "@private\>"
syn match zimbuAttribute "@protected\>"
syn match zimbuAttribute "@public\>"
syn match zimbuAttribute "@local\>"
syn match zimbuAttribute "@file\>"
syn match zimbuAttribute "@directory\>"
syn match zimbuAttribute "@read=private\>"
syn match zimbuAttribute "@read=protected\>"
syn match zimbuAttribute "@read=public\>"
syn match zimbuAttribute "@read=file\>"
syn match zimbuAttribute "@read=directory\>"
syn match zimbuAttribute "@items=private\>"
syn match zimbuAttribute "@items=protected\>"
syn match zimbuAttribute "@items=public\>"
syn match zimbuAttribute "@items=file\>"
syn match zimbuAttribute "@items=directory\>"

syn keyword zimbuMethod NEW EQUAL COPY COMPARE SIZE GET SET INIT EARLYINIT

syn keyword zimbuOperator IS ISNOT ISA ISNOTA

syn keyword zimbuModule  ARG CHECK E GC IO LOG PROTO SYS HTTP ZC ZWT T TIME THREAD

syn match zimbuImport  "\.\zsPROTO"
syn match zimbuImport  "\.\zsCHEADER"

"syn match zimbuString  +"\([^"\\]\|\\.\)*\("\|$\)+ contains=zimbuStringExpr
syn region zimbuString  start=+"+  skip=+[^"\\]\|\\.+ end=+"\|$+ contains=zimbuStringExpr
syn match zimbuString  +R"\([^"]\|""\)*\("\|$\)+
syn region zimbuLongString  start=+''"+ end=+"''+
syn match zimbuStringExpr +\\([^)]*)+hs=s+2,he=e-1 contained contains=zimbuString,zimbuParenPairOuter
syn region zimbuParenPairOuter  start=+(+ms=s+1  end=+)+me=e-1 contained contains=zimbuString,zimbuParenPair
syn region zimbuParenPair  start=+(+  end=+)+ contained contains=zimbuString,zimbuParenPair

syn keyword zimbuFixed  TRUE FALSE NIL THIS THISTYPE FAIL OK
syn keyword zimbuError  NULL

" trailing whitespace
syn match   zimbuSpaceError   display excludenl "\S\s\+$"ms=s+1
" mixed tabs and spaces
syn match   zimbuSpaceError   display " \+\t"
syn match   zimbuSpaceError   display "\t\+ "

syn match zimbuUses contained "\<uses([a-zA-Z_ ,]*)"
syn match zimbuBlockgc contained "blockgc"
syn match zimbuBlockComment contained " #.*"

syn region zimbuCregion matchgroup=zimbuCblock start="^>>>" end="^<<<.*" contains=@Ccode,zimbuUses,zimbuBlockgc,zimbuBlockComment keepend

" Assume long strings and C regions don't take more than 200 lines.
syn sync minlines=200

" When we find the start of a long string, without a # or " before it, we are
" sure to be inside a long string.
syn sync match zimbuLongStringSync grouphere zimbuLongString +^[^"#]*''\"+

hi def link zimbuBasicType	Type
hi def link zimbuCompType	Type
hi def link zimbuType		Type
hi def link zimbuStatement	Statement
hi def link zimbuOperator	Statement
hi def link zimbuMethod		PreProc
hi def link zimbuModule		PreProc
hi def link zimbuImport		PreProc
hi def link zimbuUses		PreProc
hi def link zimbuBlockgc	PreProc
hi def link zimbuAttribute	PreProc
hi def link zimbuString		Constant
hi def link zimbuLongString	Special
hi def link zimbuChar		Constant
hi def link zimbuFixed		Constant
hi def link zimbuComment	Comment
hi def link zimbuCommentStart	zimbuComment
hi def link zimbuBlockComment	Comment
hi def link zimbuCblock		Comment
hi def link zimbuTodo		Todo
hi def link zimbuParam		Constant
hi def link zimbuCode		Statement
hi def link zimbuNoBar		Ignore
hi def link zimbuNoBacktick	Ignore
hi def link zimbuSpaceError	Error
hi def link zimbuError		Error

let b:current_syntax = "zimbu"

" vim: ts=8
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  " Vim syntax file
" Language:             Zsh shell script
" Maintainer:           Christian Brabandt <cb@256bit.org>
" Previous Maintainer:  Nikolai Weibull <now@bitwi.se>
" Latest Revision:      2016-02-15
" License:              Vim (see :h license)
" Repository:		https://github.com/chrisbra/vim-zsh

if exists("b:current_syntax")
  finish
endif

let s:cpo_save = &cpo
set cpo&vim

if v:version > 704 || (v:version == 704 && has("patch1142"))
    syn iskeyword @,48-57,_,192-255,#,-
else
    setlocal iskeyword+=-
endif
if get(g:, 'zsh_fold_enable', 0)
    setlocal foldmethod=syntax
endif

syn keyword zshTodo             contained TODO FIXME XXX NOTE

syn region  zshComment          oneline start='\%(^\|\s*\)#' end='$'
                                \ contains=zshTodo,@Spell fold

syn region  zshComment          start='^\s*#' end='^\%(\s*#\)\@!'
                                \ contains=zshTodo,@Spell fold

syn match   zshPreProc          '^\%1l#\%(!\|compdef\|autoload\).*$'

syn match   zshQuoted           '\\.'
syn region  zshString           matchgroup=zshStringDelimiter start=+"+ end=+"+
                                \ contains=zshQuoted,@zshDerefs,@zshSubst fold
syn region  zshString           matchgroup=zshStringDelimiter start=+'+ end=+'+ fold
" XXX: This should probably be more precise, but Zsh seems a bit confused about it itself
syn region  zshPOSIXString      matchgroup=zshStringDelimiter start=+\$'+
                                \ end=+'+ contains=zshQuoted
syn match   zshJobSpec          '%\(\d\+\|?\=\w\+\|[%+-]\)'

syn keyword zshPrecommand       noglob nocorrect exec command builtin - time

syn keyword zshDelimiter        do done end

syn keyword zshConditional      if then elif else fi case in esac select

syn keyword zshRepeat           while until repeat

syn keyword zshRepeat           for foreach nextgroup=zshVariable skipwhite

syn keyword zshException        always

syn keyword zshKeyword          function nextgroup=zshKSHFunction skipwhite

syn match   zshKSHFunction      contained '\w\S\+'
syn match   zshFunction         '^\s*\k\+\ze\s*()'

syn match   zshOperator         '||\|&&\|;\|&!\='

syn match   zshRedir            '\d\=\(<\|<>\|<<<\|<&\s*[0-9p-]\=\)'
syn match   zshRedir            '\d\=\(>\|>>\|>&\s*[0-9p-]\=\|&>\|>>&\|&>>\)[|!]\='
syn match   zshRedir            '|&\='

syn region  zshHereDoc          matchgroup=zshRedir
                                \ start='<\@<!<<\s*\z([^<]\S*\)'
                                \ end='^\z1\>'
                                \ contains=@zshSubst
syn region  zshHereDoc          matchgroup=zshRedir
                                \ start='<\@<!<<\s*\\\z(\S\+\)'
                                \ end='^\z1\>'
                                \ contains=@zshSubst
syn region  zshHereDoc          matchgroup=zshRedir
                                \ start='<\@<!<<-\s*\\\=\z(\S\+\)'
                                \ end='^\s*\z1\>'
                                \ contains=@zshSubst
syn region  zshHereDoc          matchgroup=zshRedir
                                \ start=+<\@<!<<\s*\(["']\)\z(\S\+\)\1+
                                \ end='^\z1\>'
syn region  zshHereDoc          matchgroup=zshRedir
                                \ start=+<\@<!<<-\s*\(["']\)\z(\S\+\)\1+
                                \ end='^\s*\z1\>'

syn match   zshVariable         '\<\h\w*' contained

syn match   zshVariableDef      '\<\h\w*\ze+\=='
" XXX: how safe is this?
syn region  zshVariableDef      oneline
                                \ start='\$\@<!\<\h\w*\[' end='\]\ze+\=='
                                \ contains=@zshSubst

syn cluster zshDerefs           contains=zshShortDeref,zshLongDeref,zshDeref

if !exists("g:zsh_syntax_variables")
  let s:zsh_syntax_variables = 'all'
else
  let s:zsh_syntax_variables = g:zsh_syntax_variables
endif

if s:zsh_syntax_variables =~ 'short\|all'
  syn match zshShortDeref       '\$[!#$*@?_-]\w\@!'
  syn match zshShortDeref       '\$[=^~]*[#+]*\d\+\>'
endif

if s:zsh_syntax_variables =~ 'long\|all'
  syn match zshLongDeref        '\$\%(ARGC\|argv\|status\|pipestatus\|CPUTYPE\|EGID\|EUID\|ERRNO\|GID\|HOST\|LINENO\|LOGNAME\)'
  syn match zshLongDeref        '\$\%(MACHTYPE\|OLDPWD OPTARG\|OPTIND\|OSTYPE\|PPID\|PWD\|RANDOM\|SECONDS\|SHLVL\|signals\)'
  syn match zshLongDeref        '\$\%(TRY_BLOCK_ERROR\|TTY\|TTYIDLE\|UID\|USERNAME\|VENDOR\|ZSH_NAME\|ZSH_VERSION\|REPLY\|reply\|TERM\)'
endif

if s:zsh_syntax_variables =~ 'all'
  syn match zshDeref            '\$[=^~]*[#+]*\h\w*\>'
else
  syn match zshDeref            transparent contains=NONE '\$[=^~]*[#+]*\h\w*\>'
endif

syn match   zshCommands         '\%(^\|\s\)[.:]\ze\s'
syn keyword zshCommands         alias autoload bg bindkey break bye cap cd
                                \ chdir clone comparguments compcall compctl
                                \ compdescribe compfiles compgroups compquote
                                \ comptags comptry compvalues continue dirs
                                \ disable disown echo echotc echoti emulate
                                \ enable eval exec exit export false fc fg
                                \ functions getcap getln getopts hash history
                                \ jobs kill let limit log logout popd print
                                \ printf pushd pushln pwd r read readonly
                                \ rehash return sched set setcap setopt shift
                                \ source stat suspend test times trap true
                                \ ttyctl type ulimit umask unalias unfunction
                                \ unhash unlimit unset unsetopt vared wait
                                \ whence where which zcompile zformat zftp zle
                                \ zmodload zparseopts zprof zpty zregexparse
                                \ zsocket zstyle ztcp

" Options, generated by: echo ${(j:\n:)options[(I)*]} | sort
" Create a list of option names from zsh source dir:
"     #!/bin/zsh
"    topdir=/path/to/zsh-xxx
"    grep '^pindex([A-Za-z_]*)$' $topdir/Src/Doc/Zsh/optionsyo |
"    while read opt
"    do
"        echo ${${(L)opt#pindex\(}%\)}
"    done

syn case ignore
syn keyword zshOptions          aliases allexport all_export alwayslastprompt
                                \ always_last_prompt always_lastprompt alwaystoend always_to_end appendcreate
                                \ append_create appendhistory append_history autocd auto_cd autocontinue
                                \ auto_continue autolist auto_list
                                \ automenu auto_menu autonamedirs auto_name_dirs
                                \ autoparamkeys auto_param_keys autoparamslash
                                \ auto_param_slash autopushd auto_pushd autoremoveslash
                                \ auto_remove_slash autoresume auto_resume badpattern bad_pattern
                                \ banghist bang_hist bareglobqual bare_glob_qual
                                \ bashautolist bash_auto_list bashrematch bash_rematch
                                \ beep bgnice bg_nice braceccl brace_ccl braceexpand brace_expand
                                \ bsdecho bsd_echo caseglob case_glob casematch case_match
                                \ cbases c_bases cdablevars cdable_vars cd_able_vars chasedots chase_dots
                                \ chaselinks chase_links checkjobs check_jobs
                                \ clobber combiningchars combining_chars completealiases
                                \ complete_aliases completeinword complete_in_word
                                \ continueonerror continue_on_error correct
                                \ correctall correct_all cprecedences c_precedences
                                \ cshjunkiehistory csh_junkie_history cshjunkieloops
                                \ csh_junkie_loops cshjunkiequotes csh_junkie_quotes
                                \ csh_nullcmd csh_null_cmd cshnullcmd csh_null_cmd cshnullglob csh_null_glob
                                \ debugbeforecmd debug_before_cmd dotglob dot_glob dvorak
                                \ emacs equals errexit err_exit errreturn err_return evallineno
                                \ eval_lineno exec extendedglob extended_glob extendedhistory
                                \ extended_history flowcontrol flow_control forcefloat
                                \ force_float functionargzero function_argzero function_arg_zero glob globalexport
                                \ global_export globalrcs global_rcs globassign glob_assign
                                \ globcomplete glob_complete globdots glob_dots glob_subst
                                \ globsubst globstarshort glob_star_short hashall hash_all hashcmds
                                \ hash_cmds hashdirs hash_dirs hashexecutablesonly hash_executables_only
                                \ hashlistall hash_list_all histallowclobber hist_allow_clobber histappend
                                \ hist_append histbeep hist_beep hist_expand hist_expire_dups_first
                                \ histexpand histexpiredupsfirst histfcntllock hist_fcntl_lock
                                \ histfindnodups hist_find_no_dups histignorealldups
                                \ hist_ignore_all_dups histignoredups hist_ignore_dups
                                \ histignorespace hist_ignore_space histlexwords hist_lex_words
                                \ histnofunctions hist_no_functions histnostore hist_no_store
                                \ histreduceblanks hist_reduce_blanks histsavebycopy
                                \ hist_save_by_copy histsavenodups hist_save_no_dups
                                \ histsubstpattern hist_subst_pattern histverify hist_verify
                                \ hup ignorebraces ignore_braces ignoreclosebraces ignore_close_braces
                                \ ignoreeof ignore_eof incappendhistory inc_append_history
                                \ incappendhistorytime inc_append_history_time interactive
                                \ interactivecomments interactive_comments ksharrays ksh_arrays
                                \ kshautoload ksh_autoload kshglob ksh_glob kshoptionprint
                                \ ksh_option_print kshtypeset ksh_typeset kshzerosubscript
                                \ ksh_zero_subscript listambiguous list_ambiguous listbeep
                                \ list_beep listpacked list_packed listrowsfirst list_rows_first
                                \ listtypes list_types localloops local_loops localoptions
                                \ local_options localpatterns local_patterns localtraps
                                \ local_traps log login longlistjobs long_list_jobs magicequalsubst
                                \ magic_equal_subst mailwarn mail_warn mail_warning mark_dirs
                                \ mailwarning markdirs menucomplete menu_complete monitor
                                \ multibyte multi_byte multifuncdef multi_func_def multios
                                \ multi_os nomatch no_match notify nullglob null_glob numericglobsort
                                \ numeric_glob_sort octalzeroes octal_zeroes onecmd one_cmd
                                \ overstrike over_strike pathdirs path_dirs pathscript
                                \ path_script physical pipefail pipe_fail posixaliases
                                \ posix_aliases posixargzero posix_arg_zero posix_argzero posixbuiltins 
                                \ posix_builtins posixcd posix_cd posixidentifiers posix_identifiers
                                \ posixjobs posix_jobs posixstrings posix_strings posixtraps
                                \ posix_traps printeightbit print_eight_bit printexitvalue
                                \ print_exit_value privileged promptbang prompt_bang promptcr
                                \ prompt_cr promptpercent prompt_percent promptsp prompt_sp
                                \ promptsubst prompt_subst promptvars prompt_vars pushdignoredups
                                \ pushd_ignore_dups pushdminus pushd_minus pushdsilent pushd_silent
                                \ pushdtohome pushd_to_home rcexpandparam rc_expandparam rc_expand_param rcquotes
                                \ rc_quotes rcs recexact rec_exact rematchpcre re_match_pcre rematch_pcre
                                \ restricted rmstarsilent rm_star_silent rmstarwait rm_star_wait
                                \ sharehistory share_history shfileexpansion sh_file_expansion
                                \ shglob sh_glob shinstdin shin_stdin shnullcmd sh_nullcmd
                                \ shoptionletters sh_option_letters shortloops short_loops shwordsplit
                                \ sh_word_split singlecommand single_command singlelinezle single_line_zle
                                \ sourcetrace source_trace stdin sunkeyboardhack sun_keyboard_hack
                                \ trackall track_all transientrprompt transient_rprompt
                                \ trapsasync traps_async typesetsilent type_set_silent typeset_silent unset verbose vi
                                \ warncreateglobal warn_create_global xtrace zle

syn keyword zshOptions          noaliases no_aliases noallexport no_allexport noall_export no_all_export noalwayslastprompt no_alwayslastprompt
                                \ noalways_lastprompt no_always_lastprompt no_always_last_prompt noalwaystoend no_alwaystoend noalways_to_end no_always_to_end
                                \ noappendcreate no_appendcreate no_append_create noappendhistory no_appendhistory noappend_history no_append_history noautocd
                                \ no_autocd no_auto_cd noautocontinue no_autocontinue noauto_continue no_auto_continue noautolist no_autolist noauto_list
                                \ no_auto_list noautomenu no_automenu noauto_menu no_auto_menu noautonamedirs no_autonamedirs noauto_name_dirs
                                \ no_auto_name_dirs noautoparamkeys no_autoparamkeys noauto_param_keys no_auto_param_keys noautoparamslash no_autoparamslash
                                \ noauto_param_slash no_auto_param_slash noautopushd no_autopushd noauto_pushd no_auto_pushd noautoremoveslash no_autoremoveslash
                                \ noauto_remove_slash no_auto_remove_slash noautoresume no_autoresume noauto_resume no_auto_resume nobadpattern no_badpattern no_bad_pattern
                                \ nobanghist no_banghist nobang_hist no_bang_hist nobareglobqual no_bareglobqual nobare_glob_qual no_bare_glob_qual
                                \ nobashautolist no_bashautolist nobash_auto_list no_bash_auto_list nobashrematch no_bashrematch nobash_rematch no_bash_rematch
                                \ nobeep no_beep nobgnice no_bgnice no_bg_nice nobraceccl no_braceccl nobrace_ccl no_brace_ccl nobraceexpand no_braceexpand nobrace_expand no_brace_expand
                                \ nobsdecho no_bsdecho nobsd_echo no_bsd_echo nocaseglob no_caseglob nocase_glob no_case_glob nocasematch no_casematch nocase_match no_case_match
                                \ nocbases no_cbases no_c_bases nocdablevars no_cdablevars no_cdable_vars nocd_able_vars no_cd_able_vars nochasedots no_chasedots nochase_dots no_chase_dots
                                \ nochaselinks no_chaselinks nochase_links no_chase_links nocheckjobs no_checkjobs nocheck_jobs no_check_jobs
                                \ noclobber no_clobber nocombiningchars no_combiningchars nocombining_chars no_combining_chars nocompletealiases no_completealiases
                                \ nocomplete_aliases no_complete_aliases nocompleteinword no_completeinword nocomplete_in_word no_complete_in_word
                                \ nocontinueonerror no_continueonerror nocontinue_on_error no_continue_on_error nocorrect no_correct
                                \ nocorrectall no_correctall nocorrect_all no_correct_all nocprecedences no_cprecedences noc_precedences no_c_precedences
                                \ nocshjunkiehistory no_cshjunkiehistory nocsh_junkie_history no_csh_junkie_history nocshjunkieloops no_cshjunkieloops
                                \ nocsh_junkie_loops no_csh_junkie_loops nocshjunkiequotes no_cshjunkiequotes nocsh_junkie_quotes no_csh_junkie_quotes
                                \ nocshnullcmd no_cshnullcmd no_csh_nullcmd nocsh_null_cmd no_csh_null_cmd nocshnullglob no_cshnullglob nocsh_null_glob no_csh_null_glob
                                \ nodebugbeforecmd no_debugbeforecmd nodebug_before_cmd no_debug_before_cmd nodotglob no_dotglob nodot_glob no_dot_glob nodvorak no_dvorak
                                \ noemacs no_emacs noequals no_equals noerrexit no_errexit noerr_exit no_err_exit noerrreturn no_errreturn noerr_return no_err_return noevallineno no_evallineno
                                \ noeval_lineno no_eval_lineno noexec no_exec noextendedglob no_extendedglob noextended_glob no_extended_glob noextendedhistory no_extendedhistory
                                \ noextended_history no_extended_history noflowcontrol no_flowcontrol noflow_control no_flow_control noforcefloat no_forcefloat
                                \ noforce_float no_force_float nofunctionargzero no_functionargzero nofunction_arg_zero no_function_argzero no_function_arg_zero noglob no_glob noglobalexport no_globalexport
                                \ noglobal_export no_global_export noglobalrcs no_globalrcs noglobal_rcs no_global_rcs noglobassign no_globassign noglob_assign no_glob_assign
                                \ noglobcomplete no_globcomplete noglob_complete no_glob_complete noglobdots no_globdots noglob_dots no_glob_dots
                                \ noglobstarshort no_glob_star_short noglob_subst no_glob_subst
                                \ noglobsubst no_globsubst nohashall no_hashall nohash_all no_hash_all nohashcmds no_hashcmds nohash_cmds no_hash_cmds nohashdirs no_hashdirs
                                \ nohash_dirs no_hash_dirs nohashexecutablesonly no_hashexecutablesonly nohash_executables_only no_hash_executables_only nohashlistall no_hashlistall
                                \ nohash_list_all no_hash_list_all nohistallowclobber no_histallowclobber nohist_allow_clobber no_hist_allow_clobber nohistappend no_histappend
                                \ nohist_append no_hist_append nohistbeep no_histbeep nohist_beep no_hist_beep nohist_expand no_hist_expand nohist_expire_dups_first no_hist_expire_dups_first
                                \ nohistexpand no_histexpand nohistexpiredupsfirst no_histexpiredupsfirst nohistfcntllock no_histfcntllock nohist_fcntl_lock no_hist_fcntl_lock
                                \ nohistfindnodups no_histfindnodups nohist_find_no_dups no_hist_find_no_dups nohistignorealldups no_histignorealldups
                                \ nohist_ignore_all_dups no_hist_ignore_all_dups nohistignoredups no_histignoredups nohist_ignore_dups no_hist_ignore_dups
                                \ nohistignorespace no_histignorespace nohist_ignore_space no_hist_ignore_space nohistlexwords no_histlexwords nohist_lex_words no_hist_lex_words
                                \ nohistnofunctions no_histnofunctions nohist_no_functions no_hist_no_functions nohistnostore no_histnostore nohist_no_store no_hist_no_store
                                \ nohistreduceblanks no_histreduceblanks nohist_reduce_blanks no_hist_reduce_blanks nohistsavebycopy no_histsavebycopy
                                \ nohist_save_by_copy no_hist_save_by_copy nohistsavenodups no_histsavenodups nohist_save_no_dups no_hist_save_no_dups
                                \ nohistsubstpattern no_histsubstpattern nohist_subst_pattern no_hist_subst_pattern nohistverify no_histverify nohist_verify no_hist_verify
                                \ nohup no_hup noignorebraces no_ignorebraces noignore_braces no_ignore_braces noignoreclosebraces no_ignoreclosebraces noignore_close_braces no_ignore_close_braces
                                \ noignoreeof no_ignoreeof noignore_eof no_ignore_eof noincappendhistory no_incappendhistory noinc_append_history no_inc_append_history
                                \ noincappendhistorytime no_incappendhistorytime noinc_append_history_time no_inc_append_history_time nointeractive no_interactive
                                \ nointeractivecomments no_interactivecomments nointeractive_comments no_interactive_comments noksharrays no_ksharrays noksh_arrays no_ksh_arrays
                                \ nokshautoload no_kshautoload noksh_autoload no_ksh_autoload nokshglob no_kshglob noksh_glob no_ksh_glob nokshoptionprint no_kshoptionprint
                                \ noksh_option_print no_ksh_option_print nokshtypeset no_kshtypeset noksh_typeset no_ksh_typeset nokshzerosubscript no_kshzerosubscript
                                \ noksh_zero_subscript no_ksh_zero_subscript nolistambiguous no_listambiguous nolist_ambiguous no_list_ambiguous nolistbeep no_listbeep
                                \ nolist_beep no_list_beep nolistpacked no_listpacked nolist_packed no_list_packed nolistrowsfirst no_listrowsfirst nolist_rows_first no_list_rows_first
                                \ nolisttypes no_listtypes nolist_types no_list_types nolocalloops no_localloops nolocal_loops no_local_loops nolocaloptions no_localoptions
                                \ nolocal_options no_local_options nolocalpatterns no_localpatterns nolocal_patterns no_local_patterns nolocaltraps no_localtraps
                                \ nolocal_traps no_local_traps nolog no_log nologin no_login nolonglistjobs no_longlistjobs nolong_list_jobs no_long_list_jobs nomagicequalsubst no_magicequalsubst
                                \ nomagic_equal_subst no_magic_equal_subst nomailwarn no_mailwarn nomail_warn no_mail_warn nomail_warning no_mail_warning nomark_dirs no_mark_dirs
                                \ nomailwarning no_mailwarning nomarkdirs no_markdirs nomenucomplete no_menucomplete nomenu_complete no_menu_complete nomonitor no_monitor
                                \ nomultibyte no_multibyte nomulti_byte no_multi_byte nomultifuncdef no_multifuncdef nomulti_func_def no_multi_func_def nomultios no_multios
                                \ nomulti_os no_multi_os nonomatch no_nomatch nono_match no_no_match nonotify no_notify nonullglob no_nullglob nonull_glob no_null_glob nonumericglobsort no_numericglobsort
                                \ nonumeric_glob_sort no_numeric_glob_sort nooctalzeroes no_octalzeroes nooctal_zeroes no_octal_zeroes noonecmd no_onecmd noone_cmd no_one_cmd
                                \ nooverstrike no_overstrike noover_strike no_over_strike nopathdirs no_pathdirs nopath_dirs no_path_dirs nopathscript no_pathscript
                                \ nopath_script no_path_script nophysical no_physical nopipefail no_pipefail nopipe_fail no_pipe_fail noposixaliases no_posixaliases
                                \ noposix_aliases no_posix_aliases noposixargzero no_posixargzero no_posix_argzero noposix_arg_zero no_posix_arg_zero noposixbuiltins no_posixbuiltins 
                                \ noposix_builtins no_posix_builtins noposixcd no_posixcd noposix_cd no_posix_cd noposixidentifiers no_posixidentifiers noposix_identifiers no_posix_identifiers
                                \ noposixjobs no_posixjobs noposix_jobs no_posix_jobs noposixstrings no_posixstrings noposix_strings no_posix_strings noposixtraps no_posixtraps
                                \ noposix_traps no_posix_traps noprinteightbit no_printeightbit noprint_eight_bit no_print_eight_bit noprintexitvalue no_printexitvalue
                                \ noprint_exit_value no_print_exit_value noprivileged no_privileged nopromptbang no_promptbang noprompt_bang no_prompt_bang nopromptcr no_promptcr
                                \ noprompt_cr no_prompt_cr nopromptpercent no_promptpercent noprompt_percent no_prompt_percent nopromptsp no_promptsp noprompt_sp no_prompt_sp
                                \ nopromptsubst no_promptsubst noprompt_subst no_prompt_subst nopromptvars no_promptvars noprompt_vars no_prompt_vars nopushdignoredups no_pushdignoredups
                                \ nopushd_ignore_dups no_pushd_ignore_dups nopushdminus no_pushdminus nopushd_minus no_pushd_minus nopushdsilent no_pushdsilent nopushd_silent no_pushd_silent
                                \ nopushdtohome no_pushdtohome nopushd_to_home no_pushd_to_home norcexpandparam no_rcexpandparam norc_expandparam no_rc_expandparam no_rc_expand_param norcquotes no_rcquotes
                                \ norc_quotes no_rc_quotes norcs no_rcs norecexact no_recexact norec_exact no_rec_exact norematchpcre no_rematchpcre nore_match_pcre no_re_match_pcre no_rematch_pcre
                                \ norestricted no_restricted normstarsilent no_rmstarsilent norm_star_silent no_rm_star_silent normstarwait no_rmstarwait norm_star_wait no_rm_star_wait
                                \ nosharehistory no_sharehistory noshare_history no_share_history noshfileexpansion no_shfileexpansion nosh_file_expansion no_sh_file_expansion
                                \ noshglob no_shglob nosh_glob no_sh_glob noshinstdin no_shinstdin noshin_stdin no_shin_stdin noshnullcmd no_shnullcmd nosh_nullcmd no_sh_nullcmd
                                \ noshoptionletters no_shoptionletters nosh_option_letters no_sh_option_letters noshortloops no_shortloops noshort_loops no_short_loops noshwordsplit no_shwordsplit
                                \ nosh_word_split no_sh_word_split nosinglecommand no_singlecommand nosingle_command no_single_command nosinglelinezle no_singlelinezle nosingle_line_zle no_single_line_zle
                                \ nosourcetrace no_sourcetrace nosource_trace no_source_trace nostdin no_stdin nosunkeyboardhack no_sunkeyboardhack nosun_keyboard_hack no_sun_keyboard_hack
                                \ notrackall no_trackall notrack_all no_track_all notransientrprompt no_transientrprompt notransient_rprompt no_transient_rprompt
                                \ notrapsasync no_trapsasync notrapasync no_trapasync no_traps_async notypesetsilent no_typesetsilent notype_set_silent no_type_set_silent no_typeset_silent \nounset no_unset
                                \ noverbose no_verbose novi no_vi nowarncreateglobal no_warncreateglobal nowarn_create_global no_warn_create_global noxtrace no_xtrace nozle no_zle
syn case match

syn keyword zshTypes            float integer local typeset declare private

" XXX: this may be too much
" syn match   zshSwitches         '\s\zs--\=[a-zA-Z0-9-]\+'

syn match   zshNumber           '[+-]\=\<\d\+\>'
syn match   zshNumber           '[+-]\=\<0x\x\+\>'
syn match   zshNumber           '[+-]\=\<0\o\+\>'
syn match   zshNumber           '[+-]\=\d\+#[-+]\=\w\+\>'
syn match   zshNumber           '[+-]\=\d\+\.\d\+\>'

" TODO: $[...] is the same as $((...)), so add that as well.
syn cluster zshSubst            contains=zshSubst,zshOldSubst,zshMathSubst
syn region  zshSubst            matchgroup=zshSubstDelim transparent
                                \ start='\$(' skip='\\)' end=')' contains=TOP fold
syn region  zshParentheses      transparent start='(' skip='\\)' end=')' fold
syn region  zshMathSubst        matchgroup=zshSubstDelim transparent
                                \ start='\$((' skip='\\)'
                                \ matchgroup=zshSubstDelim end='))'
                                \ contains=zshParentheses,@zshSubst,zshNumber,
                                \ @zshDerefs,zshString keepend fold
syn region  zshBrackets         contained transparent start='{' skip='\\}'
                                \ end='}' fold
syn region  zshBrackets         transparent start='{' skip='\\}'
                                \ end='}' contains=TOP fold
syn region  zshSubst            matchgroup=zshSubstDelim start='\${' skip='\\}'
                                \ end='}' contains=@zshSubst,zshBrackets,zshQuoted,zshString fold
syn region  zshOldSubst         matchgroup=zshSubstDelim start=+`+ skip=+\\`+
                                \ end=+`+ contains=TOP,zshOldSubst fold

syn sync    minlines=50 maxlines=90
syn sync    match zshHereDocSync    grouphere   NONE '<<-\=\s*\%(\\\=\S\+\|\(["']\)\S\+\1\)'
syn sync    match zshHereDocEndSync groupthere  NONE '^\s*EO\a\+\>'

hi def link zshTodo             Todo
hi def link zshComment          Comment
hi def link zshPreProc          PreProc
hi def link zshQuoted           SpecialChar
hi def link zshString           String
hi def link zshStringDelimiter  zshString
hi def link zshPOSIXString      zshString
hi def link zshJobSpec          Special
hi def link zshPrecommand       Special
hi def link zshDelimiter        Keyword
hi def link zshConditional      Conditional
hi def link zshException        Exception
hi def link zshRepeat           Repeat
hi def link zshKeyword          Keyword
hi def link zshFunction         None
hi def link zshKSHFunction      zshFunction
hi def link zshHereDoc          String
hi def link zshOperator         None
hi def link zshRedir            Operator
hi def link zshVariable         None
hi def link zshVariableDef      zshVariable
hi def link zshDereferencing    PreProc
if s:zsh_syntax_variables =~ 'short\|all'
  hi def link zshShortDeref     zshDereferencing
else
  hi def link zshShortDeref     None
endif
if s:zsh_syntax_variables =~ 'long\|all'
  hi def link zshLongDeref      zshDereferencing
else
  hi def link zshLongDeref      None
endif
if s:zsh_syntax_variables =~ 'all'
  hi def link zshDeref          zshDereferencing
else
  hi def link zshDeref          None
endif
hi def link zshCommands         Keyword
hi def link zshOptions          Constant
hi def link zshTypes            Type
hi def link zshSwitches         Special
hi def link zshNumber           Number
hi def link zshSubst            PreProc
hi def link zshMathSubst        zshSubst
hi def link zshOldSubst         zshSubst
hi def link zshSubstDelim       zshSubst

let b:current_syntax = "zsh"

let &cpo = s:cpo_save
unlet s:cpo_save
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Package: neovim-runtime
Status: install reinstreq unpacked
Priority: extra
Section: editors
Installed-Size: 15759
Maintainer: Debian Vim Maintainers <pkg-vim-maintainers@lists.alioth.debian.org>
Architecture: all
Multi-Arch: foreign
Source: neovim
Version: 0.1.7-3
Replaces: neovim (<< 0.1.1-2~)
Breaks: neovim (<< 0.1.1-2~)
Description: heavily refactored vim fork (runtime files)
 Neovim is a fork of Vim focused on modern code and features, rather than
 running in legacy environments.
 .
 This package contains the architecture independent runtime files used by
 neovim.  Examples of such files are: documentation, rules for
 language-specific highlighting and indentation, color schemes, and standard
 plugins.
Homepage: https://neovim.io/
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Package: neovim-runtime
Status: install ok unpacked
Priority: extra
Section: editors
Installed-Size: 15759
Maintainer: Debian Vim Maintainers <pkg-vim-maintainers@lists.alioth.debian.org>
Architecture: all
Multi-Arch: foreign
Source: neovim
Version: 0.1.7-3
Replaces: neovim (<< 0.1.1-2~)
Breaks: neovim (<< 0.1.1-2~)
Description: heavily refactored vim fork (runtime files)
 Neovim is a fork of Vim focused on modern code and features, rather than
 running in legacy environments.
 .
 This package contains the architecture independent runtime files used by
 neovim.  Examples of such files are: documentation, rules for
 language-specific highlighting and indentation, color schemes, and standard
 plugins.
Homepage: https://neovim.io/
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Package: neovim
Status: install reinstreq half-installed
Priority: extra
Section: editors
Architecture: armhf
Version: 0.1.7-3
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 